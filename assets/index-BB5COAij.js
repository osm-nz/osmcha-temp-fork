(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))T(S);new MutationObserver(S=>{for(const A of S)if(A.type==="childList")for(const w of A.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&T(w)}).observe(document,{childList:!0,subtree:!0});function y(S){const A={};return S.integrity&&(A.integrity=S.integrity),S.referrerPolicy&&(A.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?A.credentials="include":S.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function T(S){if(S.ep)return;S.ep=!0;const A=y(S);fetch(S.href,A)}})();var s7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v7(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function Iy(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var g=f.default;if(typeof g=="function"){var y=function T(){var S=!1;try{S=this instanceof T}catch{}return S?Reflect.construct(g,arguments,this.constructor):g.apply(this,arguments)};y.prototype=g.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(f).forEach(function(T){var S=Object.getOwnPropertyDescriptor(f,T);Object.defineProperty(y,T,S.get?S:{enumerable:!0,get:function(){return f[T]}})}),y}var t9={exports:{}},l6={};var wd;function Ny(){if(wd)return l6;wd=1;var f=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function y(T,S,A){var w=null;if(A!==void 0&&(w=""+A),S.key!==void 0&&(w=""+S.key),"key"in S){A={};for(var o in S)o!=="key"&&(A[o]=S[o])}else A=S;return S=A.ref,{$$typeof:f,type:T,key:w,ref:S!==void 0?S:null,props:A}}return l6.Fragment=g,l6.jsx=y,l6.jsxs=y,l6}var Sd;function Dy(){return Sd||(Sd=1,t9.exports=Ny()),t9.exports}var Vt=Dy(),r9={exports:{}},qr={};var Td;function Oy(){if(Td)return qr;Td=1;var f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.iterator;function U(Ie){return Ie===null||typeof Ie!="object"?null:(Ie=O&&Ie[O]||Ie["@@iterator"],typeof Ie=="function"?Ie:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,F={};function q(Ie,rt,dt){this.props=Ie,this.context=rt,this.refs=F,this.updater=dt||G}q.prototype.isReactComponent={},q.prototype.setState=function(Ie,rt){if(typeof Ie!="object"&&typeof Ie!="function"&&Ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ie,rt,"setState")},q.prototype.forceUpdate=function(Ie){this.updater.enqueueForceUpdate(this,Ie,"forceUpdate")};function V(){}V.prototype=q.prototype;function H(Ie,rt,dt){this.props=Ie,this.context=rt,this.refs=F,this.updater=dt||G}var X=H.prototype=new V;X.constructor=H,j(X,q.prototype),X.isPureReactComponent=!0;var fe=Array.isArray;function ae(){}var he={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function ee(Ie,rt,dt){var $e=dt.ref;return{$$typeof:f,type:Ie,key:rt,ref:$e!==void 0?$e:null,props:dt}}function Pe(Ie,rt){return ee(Ie.type,rt,Ie.props)}function we(Ie){return typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===f}function Fe(Ie){var rt={"=":"=0",":":"=2"};return"$"+Ie.replace(/[=:]/g,function(dt){return rt[dt]})}var et=/\/+/g;function Ke(Ie,rt){return typeof Ie=="object"&&Ie!==null&&Ie.key!=null?Fe(""+Ie.key):rt.toString(36)}function _t(Ie){switch(Ie.status){case"fulfilled":return Ie.value;case"rejected":throw Ie.reason;default:switch(typeof Ie.status=="string"?Ie.then(ae,ae):(Ie.status="pending",Ie.then(function(rt){Ie.status==="pending"&&(Ie.status="fulfilled",Ie.value=rt)},function(rt){Ie.status==="pending"&&(Ie.status="rejected",Ie.reason=rt)})),Ie.status){case"fulfilled":return Ie.value;case"rejected":throw Ie.reason}}throw Ie}function Ne(Ie,rt,dt,$e,ft){var mt=typeof Ie;(mt==="undefined"||mt==="boolean")&&(Ie=null);var me=!1;if(Ie===null)me=!0;else switch(mt){case"bigint":case"string":case"number":me=!0;break;case"object":switch(Ie.$$typeof){case f:case g:me=!0;break;case z:return me=Ie._init,Ne(me(Ie._payload),rt,dt,$e,ft)}}if(me)return ft=ft(Ie),me=$e===""?"."+Ke(Ie,0):$e,fe(ft)?(dt="",me!=null&&(dt=me.replace(et,"$&/")+"/"),Ne(ft,rt,dt,"",function(qe){return qe})):ft!=null&&(we(ft)&&(ft=Pe(ft,dt+(ft.key==null||Ie&&Ie.key===ft.key?"":(""+ft.key).replace(et,"$&/")+"/")+me)),rt.push(ft)),1;me=0;var ue=$e===""?".":$e+":";if(fe(Ie))for(var ut=0;ut<Ie.length;ut++)$e=Ie[ut],mt=ue+Ke($e,ut),me+=Ne($e,rt,dt,mt,ft);else if(ut=U(Ie),typeof ut=="function")for(Ie=ut.call(Ie),ut=0;!($e=Ie.next()).done;)$e=$e.value,mt=ue+Ke($e,ut++),me+=Ne($e,rt,dt,mt,ft);else if(mt==="object"){if(typeof Ie.then=="function")return Ne(_t(Ie),rt,dt,$e,ft);throw rt=String(Ie),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(Ie).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return me}function Te(Ie,rt,dt){if(Ie==null)return Ie;var $e=[],ft=0;return Ne(Ie,$e,"","",function(mt){return rt.call(dt,mt,ft++)}),$e}function lt(Ie){if(Ie._status===-1){var rt=Ie._result;rt=rt(),rt.then(function(dt){(Ie._status===0||Ie._status===-1)&&(Ie._status=1,Ie._result=dt)},function(dt){(Ie._status===0||Ie._status===-1)&&(Ie._status=2,Ie._result=dt)}),Ie._status===-1&&(Ie._status=0,Ie._result=rt)}if(Ie._status===1)return Ie._result.default;throw Ie._result}var Ze=typeof reportError=="function"?reportError:function(Ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ie=="object"&&Ie!==null&&typeof Ie.message=="string"?String(Ie.message):String(Ie),error:Ie});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ie);return}console.error(Ie)},Ct={map:Te,forEach:function(Ie,rt,dt){Te(Ie,function(){rt.apply(this,arguments)},dt)},count:function(Ie){var rt=0;return Te(Ie,function(){rt++}),rt},toArray:function(Ie){return Te(Ie,function(rt){return rt})||[]},only:function(Ie){if(!we(Ie))throw Error("React.Children.only expected to receive a single React element child.");return Ie}};return qr.Activity=C,qr.Children=Ct,qr.Component=q,qr.Fragment=y,qr.Profiler=S,qr.PureComponent=H,qr.StrictMode=T,qr.Suspense=P,qr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,qr.__COMPILER_RUNTIME={__proto__:null,c:function(Ie){return he.H.useMemoCache(Ie)}},qr.cache=function(Ie){return function(){return Ie.apply(null,arguments)}},qr.cacheSignal=function(){return null},qr.cloneElement=function(Ie,rt,dt){if(Ie==null)throw Error("The argument must be a React element, but you passed "+Ie+".");var $e=j({},Ie.props),ft=Ie.key;if(rt!=null)for(mt in rt.key!==void 0&&(ft=""+rt.key),rt)!xe.call(rt,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&rt.ref===void 0||($e[mt]=rt[mt]);var mt=arguments.length-2;if(mt===1)$e.children=dt;else if(1<mt){for(var me=Array(mt),ue=0;ue<mt;ue++)me[ue]=arguments[ue+2];$e.children=me}return ee(Ie.type,ft,$e)},qr.createContext=function(Ie){return Ie={$$typeof:w,_currentValue:Ie,_currentValue2:Ie,_threadCount:0,Provider:null,Consumer:null},Ie.Provider=Ie,Ie.Consumer={$$typeof:A,_context:Ie},Ie},qr.createElement=function(Ie,rt,dt){var $e,ft={},mt=null;if(rt!=null)for($e in rt.key!==void 0&&(mt=""+rt.key),rt)xe.call(rt,$e)&&$e!=="key"&&$e!=="__self"&&$e!=="__source"&&(ft[$e]=rt[$e]);var me=arguments.length-2;if(me===1)ft.children=dt;else if(1<me){for(var ue=Array(me),ut=0;ut<me;ut++)ue[ut]=arguments[ut+2];ft.children=ue}if(Ie&&Ie.defaultProps)for($e in me=Ie.defaultProps,me)ft[$e]===void 0&&(ft[$e]=me[$e]);return ee(Ie,mt,ft)},qr.createRef=function(){return{current:null}},qr.forwardRef=function(Ie){return{$$typeof:o,render:Ie}},qr.isValidElement=we,qr.lazy=function(Ie){return{$$typeof:z,_payload:{_status:-1,_result:Ie},_init:lt}},qr.memo=function(Ie,rt){return{$$typeof:N,type:Ie,compare:rt===void 0?null:rt}},qr.startTransition=function(Ie){var rt=he.T,dt={};he.T=dt;try{var $e=Ie(),ft=he.S;ft!==null&&ft(dt,$e),typeof $e=="object"&&$e!==null&&typeof $e.then=="function"&&$e.then(ae,Ze)}catch(mt){Ze(mt)}finally{rt!==null&&dt.types!==null&&(rt.types=dt.types),he.T=rt}},qr.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},qr.use=function(Ie){return he.H.use(Ie)},qr.useActionState=function(Ie,rt,dt){return he.H.useActionState(Ie,rt,dt)},qr.useCallback=function(Ie,rt){return he.H.useCallback(Ie,rt)},qr.useContext=function(Ie){return he.H.useContext(Ie)},qr.useDebugValue=function(){},qr.useDeferredValue=function(Ie,rt){return he.H.useDeferredValue(Ie,rt)},qr.useEffect=function(Ie,rt){return he.H.useEffect(Ie,rt)},qr.useEffectEvent=function(Ie){return he.H.useEffectEvent(Ie)},qr.useId=function(){return he.H.useId()},qr.useImperativeHandle=function(Ie,rt,dt){return he.H.useImperativeHandle(Ie,rt,dt)},qr.useInsertionEffect=function(Ie,rt){return he.H.useInsertionEffect(Ie,rt)},qr.useLayoutEffect=function(Ie,rt){return he.H.useLayoutEffect(Ie,rt)},qr.useMemo=function(Ie,rt){return he.H.useMemo(Ie,rt)},qr.useOptimistic=function(Ie,rt){return he.H.useOptimistic(Ie,rt)},qr.useReducer=function(Ie,rt,dt){return he.H.useReducer(Ie,rt,dt)},qr.useRef=function(Ie){return he.H.useRef(Ie)},qr.useState=function(Ie){return he.H.useState(Ie)},qr.useSyncExternalStore=function(Ie,rt,dt){return he.H.useSyncExternalStore(Ie,rt,dt)},qr.useTransition=function(){return he.H.useTransition()},qr.version="19.2.3",qr}var Ad;function b7(){return Ad||(Ad=1,r9.exports=Oy()),r9.exports}var je=b7(),n9={exports:{}},u6={},i9={exports:{}},a9={};var Ed;function Fy(){return Ed||(Ed=1,(function(f){function g(Ne,Te){var lt=Ne.length;Ne.push(Te);e:for(;0<lt;){var Ze=lt-1>>>1,Ct=Ne[Ze];if(0<S(Ct,Te))Ne[Ze]=Te,Ne[lt]=Ct,lt=Ze;else break e}}function y(Ne){return Ne.length===0?null:Ne[0]}function T(Ne){if(Ne.length===0)return null;var Te=Ne[0],lt=Ne.pop();if(lt!==Te){Ne[0]=lt;e:for(var Ze=0,Ct=Ne.length,Ie=Ct>>>1;Ze<Ie;){var rt=2*(Ze+1)-1,dt=Ne[rt],$e=rt+1,ft=Ne[$e];if(0>S(dt,lt))$e<Ct&&0>S(ft,dt)?(Ne[Ze]=ft,Ne[$e]=lt,Ze=$e):(Ne[Ze]=dt,Ne[rt]=lt,Ze=rt);else if($e<Ct&&0>S(ft,lt))Ne[Ze]=ft,Ne[$e]=lt,Ze=$e;else break e}}return Te}function S(Ne,Te){var lt=Ne.sortIndex-Te.sortIndex;return lt!==0?lt:Ne.id-Te.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;f.unstable_now=function(){return A.now()}}else{var w=Date,o=w.now();f.unstable_now=function(){return w.now()-o}}var P=[],N=[],z=1,C=null,O=3,U=!1,G=!1,j=!1,F=!1,q=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(Ne){for(var Te=y(N);Te!==null;){if(Te.callback===null)T(N);else if(Te.startTime<=Ne)T(N),Te.sortIndex=Te.expirationTime,g(P,Te);else break;Te=y(N)}}function fe(Ne){if(j=!1,X(Ne),!G)if(y(P)!==null)G=!0,ae||(ae=!0,Fe());else{var Te=y(N);Te!==null&&_t(fe,Te.startTime-Ne)}}var ae=!1,he=-1,xe=5,ee=-1;function Pe(){return F?!0:!(f.unstable_now()-ee<xe)}function we(){if(F=!1,ae){var Ne=f.unstable_now();ee=Ne;var Te=!0;try{e:{G=!1,j&&(j=!1,V(he),he=-1),U=!0;var lt=O;try{t:{for(X(Ne),C=y(P);C!==null&&!(C.expirationTime>Ne&&Pe());){var Ze=C.callback;if(typeof Ze=="function"){C.callback=null,O=C.priorityLevel;var Ct=Ze(C.expirationTime<=Ne);if(Ne=f.unstable_now(),typeof Ct=="function"){C.callback=Ct,X(Ne),Te=!0;break t}C===y(P)&&T(P),X(Ne)}else T(P);C=y(P)}if(C!==null)Te=!0;else{var Ie=y(N);Ie!==null&&_t(fe,Ie.startTime-Ne),Te=!1}}break e}finally{C=null,O=lt,U=!1}Te=void 0}}finally{Te?Fe():ae=!1}}}var Fe;if(typeof H=="function")Fe=function(){H(we)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Ke=et.port2;et.port1.onmessage=we,Fe=function(){Ke.postMessage(null)}}else Fe=function(){q(we,0)};function _t(Ne,Te){he=q(function(){Ne(f.unstable_now())},Te)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(Ne){Ne.callback=null},f.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<Ne?Math.floor(1e3/Ne):5},f.unstable_getCurrentPriorityLevel=function(){return O},f.unstable_next=function(Ne){switch(O){case 1:case 2:case 3:var Te=3;break;default:Te=O}var lt=O;O=Te;try{return Ne()}finally{O=lt}},f.unstable_requestPaint=function(){F=!0},f.unstable_runWithPriority=function(Ne,Te){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var lt=O;O=Ne;try{return Te()}finally{O=lt}},f.unstable_scheduleCallback=function(Ne,Te,lt){var Ze=f.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ze+lt:Ze):lt=Ze,Ne){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=lt+Ct,Ne={id:z++,callback:Te,priorityLevel:Ne,startTime:lt,expirationTime:Ct,sortIndex:-1},lt>Ze?(Ne.sortIndex=lt,g(N,Ne),y(P)===null&&Ne===y(N)&&(j?(V(he),he=-1):j=!0,_t(fe,lt-Ze))):(Ne.sortIndex=Ct,g(P,Ne),G||U||(G=!0,ae||(ae=!0,Fe()))),Ne},f.unstable_shouldYield=Pe,f.unstable_wrapCallback=function(Ne){var Te=O;return function(){var lt=O;O=Te;try{return Ne.apply(this,arguments)}finally{O=lt}}}})(a9)),a9}var Md;function ky(){return Md||(Md=1,i9.exports=Fy()),i9.exports}var o9={exports:{}},wo={};var Cd;function zy(){if(Cd)return wo;Cd=1;var f=b7();function g(P){var N="https://react.dev/errors/"+P;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)N+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+P+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var T={d:{f:y,r:function(){throw Error(g(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},S=Symbol.for("react.portal");function A(P,N,z){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:C==null?null:""+C,children:P,containerInfo:N,implementation:z}}var w=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(P,N){if(P==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return wo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,wo.createPortal=function(P,N){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(g(299));return A(P,N,null,z)},wo.flushSync=function(P){var N=w.T,z=T.p;try{if(w.T=null,T.p=2,P)return P()}finally{w.T=N,T.p=z,T.d.f()}},wo.preconnect=function(P,N){typeof P=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,T.d.C(P,N))},wo.prefetchDNS=function(P){typeof P=="string"&&T.d.D(P)},wo.preinit=function(P,N){if(typeof P=="string"&&N&&typeof N.as=="string"){var z=N.as,C=o(z,N.crossOrigin),O=typeof N.integrity=="string"?N.integrity:void 0,U=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;z==="style"?T.d.S(P,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:C,integrity:O,fetchPriority:U}):z==="script"&&T.d.X(P,{crossOrigin:C,integrity:O,fetchPriority:U,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},wo.preinitModule=function(P,N){if(typeof P=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var z=o(N.as,N.crossOrigin);T.d.M(P,{crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&T.d.M(P)},wo.preload=function(P,N){if(typeof P=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var z=N.as,C=o(z,N.crossOrigin);T.d.L(P,z,{crossOrigin:C,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},wo.preloadModule=function(P,N){if(typeof P=="string")if(N){var z=o(N.as,N.crossOrigin);T.d.m(P,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else T.d.m(P)},wo.requestFormReset=function(P){T.d.r(P)},wo.unstable_batchedUpdates=function(P,N){return P(N)},wo.useFormState=function(P,N,z){return w.H.useFormState(P,N,z)},wo.useFormStatus=function(){return w.H.useHostTransitionStatus()},wo.version="19.2.3",wo}var Pd;function By(){if(Pd)return o9.exports;Pd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(g){console.error(g)}}return f(),o9.exports=zy(),o9.exports}var Rd;function Ly(){if(Rd)return u6;Rd=1;var f=ky(),g=b7(),y=By();function T(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function A(i){var s=i,h=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(h=s.return),i=s.return;while(i)}return s.tag===3?h:null}function w(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function o(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function P(i){if(A(i)!==i)throw Error(T(188))}function N(i){var s=i.alternate;if(!s){if(s=A(i),s===null)throw Error(T(188));return s!==i?null:i}for(var h=i,v=s;;){var I=h.return;if(I===null)break;var B=I.alternate;if(B===null){if(v=I.return,v!==null){h=v;continue}break}if(I.child===B.child){for(B=I.child;B;){if(B===h)return P(I),i;if(B===v)return P(I),s;B=B.sibling}throw Error(T(188))}if(h.return!==v.return)h=I,v=B;else{for(var re=!1,ve=I.child;ve;){if(ve===h){re=!0,h=I,v=B;break}if(ve===v){re=!0,v=I,h=B;break}ve=ve.sibling}if(!re){for(ve=B.child;ve;){if(ve===h){re=!0,h=B,v=I;break}if(ve===v){re=!0,v=B,h=I;break}ve=ve.sibling}if(!re)throw Error(T(189))}}if(h.alternate!==v)throw Error(T(190))}if(h.tag!==3)throw Error(T(188));return h.stateNode.current===h?i:s}function z(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=z(i),s!==null)return s;i=i.sibling}return null}var C=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Pe=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Fe(i){return i===null||typeof i!="object"?null:(i=we&&i[we]||i["@@iterator"],typeof i=="function"?i:null)}var et=Symbol.for("react.client.reference");function Ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===et?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case fe:return"Suspense";case ae:return"SuspenseList";case ee:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case G:return"Portal";case H:return i.displayName||"Context";case V:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return s=i.displayName||null,s!==null?s:Ke(i.type)||"Memo";case xe:s=i._payload,i=i._init;try{return Ke(i(s))}catch{}}return null}var _t=Array.isArray,Ne=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ze=[],Ct=-1;function Ie(i){return{current:i}}function rt(i){0>Ct||(i.current=Ze[Ct],Ze[Ct]=null,Ct--)}function dt(i,s){Ct++,Ze[Ct]=i.current,i.current=s}var $e=Ie(null),ft=Ie(null),mt=Ie(null),me=Ie(null);function ue(i,s){switch(dt(mt,s),dt(ft,i),dt($e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ql(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ql(s),i=B0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt($e),dt($e,i)}function ut(){rt($e),rt(ft),rt(mt)}function qe(i){i.memoizedState!==null&&dt(me,i);var s=$e.current,h=B0(s,i.type);s!==h&&(dt(ft,i),dt($e,h))}function Et(i){ft.current===i&&(rt($e),rt(ft)),me.current===i&&(rt(me),K4._currentValue=lt)}var At,Gt;function Jt(i){if(At===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);At=s&&s[1]||"",Gt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+i+Gt}var Kt=!1;function cr(i,s){if(!i||Kt)return"";Kt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(s){var qt=function(){throw Error()};if(Object.defineProperty(qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qt,[])}catch(Rt){var Mt=Rt}Reflect.construct(i,[],qt)}else{try{qt.call()}catch(Rt){Mt=Rt}i.call(qt.prototype)}}else{try{throw Error()}catch(Rt){Mt=Rt}(qt=i())&&typeof qt.catch=="function"&&qt.catch(function(){})}}catch(Rt){if(Rt&&Mt&&typeof Rt.stack=="string")return[Rt.stack,Mt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=v.DetermineComponentFrameRoot(),re=B[0],ve=B[1];if(re&&ve){var Je=re.split(`
`),Tt=ve.split(`
`);for(I=v=0;v<Je.length&&!Je[v].includes("DetermineComponentFrameRoot");)v++;for(;I<Tt.length&&!Tt[I].includes("DetermineComponentFrameRoot");)I++;if(v===Je.length||I===Tt.length)for(v=Je.length-1,I=Tt.length-1;1<=v&&0<=I&&Je[v]!==Tt[I];)I--;for(;1<=v&&0<=I;v--,I--)if(Je[v]!==Tt[I]){if(v!==1||I!==1)do if(v--,I--,0>I||Je[v]!==Tt[I]){var kt=`
`+Je[v].replace(" at new "," at ");return i.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",i.displayName)),kt}while(1<=v&&0<=I);break}}}finally{Kt=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?Jt(h):""}function tr(i,s){switch(i.tag){case 26:case 27:case 5:return Jt(i.type);case 16:return Jt("Lazy");case 13:return i.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return cr(i.type,!1);case 11:return cr(i.type.render,!1);case 1:return cr(i.type,!0);case 31:return Jt("Activity");default:return""}}function ur(i){try{var s="",h=null;do s+=tr(i,h),h=i,i=i.return;while(i);return s}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Hr=Object.prototype.hasOwnProperty,be=f.unstable_scheduleCallback,te=f.unstable_cancelCallback,ie=f.unstable_shouldYield,ke=f.unstable_requestPaint,it=f.unstable_now,It=f.unstable_getCurrentPriorityLevel,Re=f.unstable_ImmediatePriority,le=f.unstable_UserBlockingPriority,de=f.unstable_NormalPriority,ge=f.unstable_LowPriority,Ue=f.unstable_IdlePriority,De=f.log,ht=f.unstable_setDisableYieldValue,ot=null,Ye=null;function st(i){if(typeof De=="function"&&ht(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ot,i)}catch{}}var Me=Math.clz32?Math.clz32:$t,Oe=Math.log,Ot=Math.LN2;function $t(i){return i>>>=0,i===0?32:31-(Oe(i)/Ot|0)|0}var Qt=256,Xt=262144,hr=4194304;function ct(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gr(i,s,h){var v=i.pendingLanes;if(v===0)return 0;var I=0,B=i.suspendedLanes,re=i.pingedLanes;i=i.warmLanes;var ve=v&134217727;return ve!==0?(v=ve&~B,v!==0?I=ct(v):(re&=ve,re!==0?I=ct(re):h||(h=ve&~i,h!==0&&(I=ct(h))))):(ve=v&~B,ve!==0?I=ct(ve):re!==0?I=ct(re):h||(h=v&~i,h!==0&&(I=ct(h)))),I===0?0:s!==0&&s!==I&&(s&B)===0&&(B=I&-I,h=s&-s,B>=h||B===32&&(h&4194048)!==0)?s:I}function tn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function vr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var i=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),i}function Kr(i){for(var s=[],h=0;31>h;h++)s.push(i);return s}function Ur(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zr(i,s,h,v,I,B){var re=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var ve=i.entanglements,Je=i.expirationTimes,Tt=i.hiddenUpdates;for(h=re&~h;0<h;){var kt=31-Me(h),qt=1<<kt;ve[kt]=0,Je[kt]=-1;var Mt=Tt[kt];if(Mt!==null)for(Tt[kt]=null,kt=0;kt<Mt.length;kt++){var Rt=Mt[kt];Rt!==null&&(Rt.lane&=-536870913)}h&=~qt}v!==0&&Zr(i,v,0),B!==0&&I===0&&i.tag!==0&&(i.suspendedLanes|=B&~(re&~s))}function Zr(i,s,h){i.pendingLanes|=s,i.suspendedLanes&=~s;var v=31-Me(s);i.entangledLanes|=s,i.entanglements[v]=i.entanglements[v]|1073741824|h&261930}function Pr(i,s){var h=i.entangledLanes|=s;for(i=i.entanglements;h;){var v=31-Me(h),I=1<<v;I&s|i[v]&s&&(i[v]|=s),h&=~I}}function ua(i,s){var h=s&-s;return h=(h&42)!==0?1:Fi(h),(h&(i.suspendedLanes|s))!==0?0:h}function Fi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ft(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nn(){var i=Te.p;return i!==0?i:(i=window.event,i===void 0?32:Z2(i.type))}function Fn(i,s){var h=Te.p;try{return Te.p=i,s()}finally{Te.p=h}}var wi=Math.random().toString(36).slice(2),Yr="__reactFiber$"+wi,Lt="__reactProps$"+wi,dr="__reactContainer$"+wi,wr="__reactEvents$"+wi,Si="__reactListeners$"+wi,za="__reactHandles$"+wi,oi="__reactResources$"+wi,yr="__reactMarker$"+wi;function ca(i){delete i[Yr],delete i[Lt],delete i[wr],delete i[Si],delete i[za]}function lr(i){var s=i[Yr];if(s)return s;for(var h=i.parentNode;h;){if(s=h[dr]||h[Yr]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(i=W3(i);i!==null;){if(h=i[Yr])return h;i=W3(i)}return s}i=h,h=i.parentNode}return null}function Ir(i){if(i=i[Yr]||i[dr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Br(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(T(33))}function Nr(i){var s=i[oi];return s||(s=i[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _r(i){i[yr]=!0}var kn=new Set,Ar={};function kr(i,s){Ti(i,s),Ti(i+"Capture",s)}function Ti(i,s){for(Ar[i]=s,i=0;i<s.length;i++)kn.add(s[i])}var ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gs={},ro={};function wa(i){return Hr.call(ro,i)?!0:Hr.call(gs,i)?!1:ha.test(i)?ro[i]=!0:(gs[i]=!0,!1)}function Gs(i,s,h){if(wa(s))if(h===null)i.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var v=s.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+h)}}function Sa(i,s,h){if(h===null)i.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+h)}}function da(i,s,h,v){if(v===null)i.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(s,h,""+v)}}function Jr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function r2(i,s,h){var v=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var I=v.get,B=v.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return I.call(this)},set:function(re){h=""+re,B.call(this,re)}}),Object.defineProperty(i,s,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(re){h=""+re},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vo(i){if(!i._valueTracker){var s=fl(i)?"checked":"value";i._valueTracker=r2(i,s,""+i[s])}}function b1(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var h=s.getValue(),v="";return i&&(v=fl(i)?i.checked?"true":"false":i.value),i=v,i!==h?(s.setValue(i),!0):!1}function ys(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pl=/[\n"\\]/g;function Pi(i){return i.replace(pl,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vs(i,s,h,v,I,B,re,ve){i.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?i.type=re:i.removeAttribute("type"),s!=null?re==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Jr(s)):i.value!==""+Jr(s)&&(i.value=""+Jr(s)):re!=="submit"&&re!=="reset"||i.removeAttribute("value"),s!=null?qo(i,re,Jr(s)):h!=null?qo(i,re,Jr(h)):v!=null&&i.removeAttribute("value"),I==null&&B!=null&&(i.defaultChecked=!!B),I!=null&&(i.checked=I&&typeof I!="function"&&typeof I!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?i.name=""+Jr(ve):i.removeAttribute("name")}function qs(i,s,h,v,I,B,re,ve){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(i.type=B),s!=null||h!=null){if(!(B!=="submit"&&B!=="reset"||s!=null)){Vo(i);return}h=h!=null?""+Jr(h):"",s=s!=null?""+Jr(s):h,ve||s===i.value||(i.value=s),i.defaultValue=s}v=v??I,v=typeof v!="function"&&typeof v!="symbol"&&!!v,i.checked=ve?i.checked:!!v,i.defaultChecked=!!v,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(i.name=re),Vo(i)}function qo(i,s,h){s==="number"&&ys(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function tt(i,s,h,v){if(i=i.options,s){s={};for(var I=0;I<h.length;I++)s["$"+h[I]]=!0;for(h=0;h<i.length;h++)I=s.hasOwnProperty("$"+i[h].value),i[h].selected!==I&&(i[h].selected=I),I&&v&&(i[h].defaultSelected=!0)}else{for(h=""+Jr(h),s=null,I=0;I<i.length;I++){if(i[I].value===h){i[I].selected=!0,v&&(i[I].defaultSelected=!0);return}s!==null||i[I].disabled||(s=i[I])}s!==null&&(s.selected=!0)}}function M5(i,s,h){if(s!=null&&(s=""+Jr(s),s!==i.value&&(i.value=s),h==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=h!=null?""+Jr(h):""}function ml(i,s,h,v){if(s==null){if(v!=null){if(h!=null)throw Error(T(92));if(_t(v)){if(1<v.length)throw Error(T(93));v=v[0]}h=v}h==null&&(h=""),s=h}h=Jr(s),i.defaultValue=h,v=i.textContent,v===h&&v!==""&&v!==null&&(i.value=v),Vo(i)}function _s(i,s){if(s){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=s;return}}i.textContent=s}var C5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function x1(i,s,h){var v=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":v?i.setProperty(s,h):typeof h!="number"||h===0||C5.has(s)?s==="float"?i.cssFloat=h:i[s]=(""+h).trim():i[s]=h+"px"}function a4(i,s,h){if(s!=null&&typeof s!="object")throw Error(T(62));if(i=i.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||s!=null&&s.hasOwnProperty(v)||(v.indexOf("--")===0?i.setProperty(v,""):v==="float"?i.cssFloat="":i[v]="");for(var I in s)v=s[I],s.hasOwnProperty(I)&&h[I]!==v&&x1(i,I,v)}else for(var B in s)s.hasOwnProperty(B)&&x1(i,B,s[B])}function w1(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(i){return gl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Eo(){}var s3=null;function n2(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ri=null,pi=null;function Un(i){var s=Ir(i);if(s&&(i=s.stateNode)){var h=i[Lt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Vs(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Pi(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var v=h[s];if(v!==i&&v.form===i.form){var I=v[Lt]||null;if(!I)throw Error(T(90));Vs(v,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(s=0;s<h.length;s++)v=h[s],v.form===i.form&&b1(v)}break e;case"textarea":M5(i,h.value,h.defaultValue);break e;case"select":s=h.value,s!=null&&tt(i,!!h.multiple,s,!1)}}}var xr=!1;function Tn(i,s,h){if(xr)return i(s,h);xr=!0;try{var v=i(s);return v}finally{if(xr=!1,(Ri!==null||pi!==null)&&(V3(),Ri&&(s=Ri,i=pi,pi=Ri=null,Un(s),i)))for(s=0;s<i.length;s++)Un(i[s])}}function no(i,s){var h=i.stateNode;if(h===null)return null;var v=h[Lt]||null;if(v===null)return null;h=v[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(T(231,s,typeof h));return h}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Kn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{fa=!1}var Ba=null,$o=null,jn=null;function Qs(){if(jn)return jn;var i,s=$o,h=s.length,v,I="value"in Ba?Ba.value:Ba.textContent,B=I.length;for(i=0;i<h&&s[i]===I[i];i++);var re=h-i;for(v=1;v<=re&&s[h-v]===I[B-v];v++);return jn=I.slice(i,1<v?1-v:void 0)}function La(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function S1(){return!0}function pa(){return!1}function Ai(i){function s(h,v,I,B,re){this._reactName=h,this._targetInst=I,this.type=v,this.nativeEvent=B,this.target=re,this.currentTarget=null;for(var ve in i)i.hasOwnProperty(ve)&&(h=i[ve],this[ve]=h?h(B):B[ve]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?S1:pa,this.isPropagationStopped=pa,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=S1)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=S1)},persist:function(){},isPersistent:S1}),s}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i2=Ai(ma),T1=C({},ma,{view:0,detail:0}),A1=Ai(T1),_n,Hs,Gr,Cr=C({},T1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gr&&(Gr&&i.type==="mousemove"?(_n=i.screenX-Gr.screenX,Hs=i.screenY-Gr.screenY):Hs=_n=0,Gr=i),_n)},movementY:function(i){return"movementY"in i?i.movementY:Hs}}),E1=Ai(Cr),rn=C({},Cr,{dataTransfer:0}),a2=Ai(rn),io=C({},T1,{relatedTarget:0}),Zs=Ai(io),Xs=C({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),P5=Ai(Xs),o2=C({},ma,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),l3=Ai(o2),r0=C({},ma,{data:0}),u3=Ai(r0),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Gn[i])?!!s[i]:!1}function s2(){return M1}var l2=C({},T1,{key:function(i){if(i.key){var s=ga[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=La(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(i){return i.type==="keypress"?La(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?La(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Jn=Ai(l2),R5=C({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o4=Ai(R5),I5=C({},T1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),n0=Ai(I5),yl=C({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),s4=Ai(yl),_l=C({},Cr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),c3=Ai(_l),u2=C({},ma,{newState:0,oldState:0}),vl=Ai(u2),bl=[9,13,27,32],si=Kn&&"CompositionEvent"in window,xl=null;Kn&&"documentMode"in document&&(xl=document.documentMode);var wl=Kn&&"TextEvent"in window&&!xl,Sl=Kn&&(!si||xl&&8<xl&&11>=xl),Ys=" ",N5=!1;function c2(i,s){switch(i){case"keyup":return bl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D5(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function l4(i,s){switch(i){case"compositionend":return D5(s);case"keypress":return s.which!==32?null:(N5=!0,Ys);case"textInput":return i=s.data,i===Ys&&N5?null:i;default:return null}}function O5(i,s){if(Mo)return i==="compositionend"||!si&&c2(i,s)?(i=Qs(),jn=$o=Ba=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sl&&s.locale!=="ko"?null:s.data;default:return null}}var F5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u4(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!F5[i.type]:s==="textarea"}function c4(i,s,h,v){Ri?pi?pi.push(v):pi=[v]:Ri=v,s=H3(s,"onChange"),0<s.length&&(h=new i2("onChange","change",null,h,v),i.push({event:h,listeners:s}))}var C1=null,Tl=null;function k5(i){cc(i,0)}function h2(i){var s=Br(i);if(b1(s))return i}function Ws(i,s){if(i==="change")return s}var h3=!1;if(Kn){var d2;if(Kn){var Ks="oninput"in document;if(!Ks){var d3=document.createElement("div");d3.setAttribute("oninput","return;"),Ks=typeof d3.oninput=="function"}d2=Ks}else d2=!1;h3=d2&&(!document.documentMode||9<document.documentMode)}function f2(){C1&&(C1.detachEvent("onpropertychange",z5),Tl=C1=null)}function z5(i){if(i.propertyName==="value"&&h2(Tl)){var s=[];c4(s,Tl,i,n2(i)),Tn(k5,s)}}function i0(i,s,h){i==="focusin"?(f2(),C1=s,Tl=h,C1.attachEvent("onpropertychange",z5)):i==="focusout"&&f2()}function B5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return h2(Tl)}function p2(i,s){if(i==="click")return h2(s)}function L5(i,s){if(i==="input"||i==="change")return h2(s)}function f3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ta=typeof Object.is=="function"?Object.is:f3;function Js(i,s){if(Ta(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var h=Object.keys(i),v=Object.keys(s);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var I=h[v];if(!Hr.call(s,I)||!Ta(i[I],s[I]))return!1}return!0}function ao(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function m2(i,s){var h=ao(i);i=0;for(var v;h;){if(h.nodeType===3){if(v=i+h.textContent.length,i<=s&&v>=s)return{node:h,offset:s-i};i=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ao(h)}}function h4(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?h4(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function d4(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ys(i.document);s instanceof i.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)i=s.contentWindow;else break;s=ys(i.document)}return s}function g2(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var f4=Kn&&"documentMode"in document&&11>=document.documentMode,oo=null,y2=null,_2=null,p4=!1;function U5(i,s,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;p4||oo==null||oo!==ys(v)||(v=oo,"selectionStart"in v&&g2(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),_2&&Js(_2,v)||(_2=v,v=H3(y2,"onSelect"),0<v.length&&(s=new i2("onSelect","select",null,s,h),i.push({event:s,listeners:v}),s.target=oo)))}function P1(i,s){var h={};return h[i.toLowerCase()]=s.toLowerCase(),h["Webkit"+i]="webkit"+s,h["Moz"+i]="moz"+s,h}var R1={animationend:P1("Animation","AnimationEnd"),animationiteration:P1("Animation","AnimationIteration"),animationstart:P1("Animation","AnimationStart"),transitionrun:P1("Transition","TransitionRun"),transitionstart:P1("Transition","TransitionStart"),transitioncancel:P1("Transition","TransitionCancel"),transitionend:P1("Transition","TransitionEnd")},p3={},ln={};Kn&&(ln=document.createElement("div").style,"AnimationEvent"in window||(delete R1.animationend.animation,delete R1.animationiteration.animation,delete R1.animationstart.animation),"TransitionEvent"in window||delete R1.transitionend.transition);function Ho(i){if(p3[i])return p3[i];if(!R1[i])return i;var s=R1[i],h;for(h in s)if(s.hasOwnProperty(h)&&h in ln)return p3[i]=s[h];return i}var v2=Ho("animationend"),b2=Ho("animationiteration"),m4=Ho("animationstart"),I1=Ho("transitionrun"),x2=Ho("transitionstart"),Al=Ho("transitioncancel"),Ua=Ho("transitionend"),m3=new Map,g4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g4.push("scrollEnd");function ja(i,s){m3.set(i,s),kr(s,[i])}var Zo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ya=[],vs=0,N1=0;function D1(){for(var i=vs,s=N1=vs=0;s<i;){var h=ya[s];ya[s++]=null;var v=ya[s];ya[s++]=null;var I=ya[s];ya[s++]=null;var B=ya[s];if(ya[s++]=null,v!==null&&I!==null){var re=v.pending;re===null?I.next=I:(I.next=re.next,re.next=I),v.pending=I}B!==0&&g3(h,I,B)}}function w2(i,s,h,v){ya[vs++]=i,ya[vs++]=s,ya[vs++]=h,ya[vs++]=v,N1|=v,i.lanes|=v,i=i.alternate,i!==null&&(i.lanes|=v)}function e1(i,s,h,v){return w2(i,s,h,v),El(i)}function so(i,s){return w2(i,null,null,s),El(i)}function g3(i,s,h){i.lanes|=h;var v=i.alternate;v!==null&&(v.lanes|=h);for(var I=!1,B=i.return;B!==null;)B.childLanes|=h,v=B.alternate,v!==null&&(v.childLanes|=h),B.tag===22&&(i=B.stateNode,i===null||i._visibility&1||(I=!0)),i=B,B=B.return;return i.tag===3?(B=i.stateNode,I&&s!==null&&(I=31-Me(h),i=B.hiddenUpdates,v=i[I],v===null?i[I]=[s]:v.push(s),s.lane=h|536870912),B):null}function El(i){if(50<G3)throw G3=0,w0=null,Error(T(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rr={};function y4(i,s,h,v){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(i,s,h,v){return new y4(i,s,h,v)}function _4(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Va(i,s){var h=i.alternate;return h===null?(h=Ga(i.tag,s,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=s,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,s=i.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function j5(i,s){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,s=h.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function v4(i,s,h,v,I,B){var re=0;if(v=i,typeof i=="function")_4(i)&&(re=1);else if(typeof i=="string")re=Ou(i,h,$e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ee:return i=Ga(31,h,s,I),i.elementType=ee,i.lanes=B,i;case j:return t1(h.children,I,B,s);case F:re=8,I|=24;break;case q:return i=Ga(12,h,s,I|2),i.elementType=q,i.lanes=B,i;case fe:return i=Ga(13,h,s,I),i.elementType=fe,i.lanes=B,i;case ae:return i=Ga(19,h,s,I),i.elementType=ae,i.lanes=B,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:re=10;break e;case V:re=9;break e;case X:re=11;break e;case he:re=14;break e;case xe:re=16,v=null;break e}re=29,h=Error(T(130,i===null?"null":typeof i,"")),v=null}return s=Ga(re,h,s,I),s.elementType=i,s.type=v,s.lanes=B,s}function t1(i,s,h,v){return i=Ga(7,i,v,s),i.lanes=h,i}function y3(i,s,h){return i=Ga(6,i,null,s),i.lanes=h,i}function b4(i){var s=Ga(18,null,null,0);return s.stateNode=i,s}function r1(i,s,h){return s=Ga(4,i.children!==null?i.children:[],i.key,s),s.lanes=h,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ml=new WeakMap;function _a(i,s){if(typeof i=="object"&&i!==null){var h=Ml.get(i);return h!==void 0?h:(s={value:i,source:s,stack:ur(s)},Ml.set(i,s),s)}return{value:i,source:s,stack:ur(s)}}var n1=[],i1=0,O1=null,a1=0,Ni=[],ki=0,Xo=null,Yo=1,Aa="";function bs(i,s){n1[i1++]=a1,n1[i1++]=O1,O1=i,a1=s}function _3(i,s,h){Ni[ki++]=Yo,Ni[ki++]=Aa,Ni[ki++]=Xo,Xo=i;var v=Yo;i=Aa;var I=32-Me(v)-1;v&=~(1<<I),h+=1;var B=32-Me(s)+I;if(30<B){var re=I-I%5;B=(v&(1<<re)-1).toString(32),v>>=re,I-=re,Yo=1<<32-Me(s)+I|h<<I|v,Aa=B+i}else Yo=1<<B|h<<I|v,Aa=i}function F1(i){i.return!==null&&(bs(i,1),_3(i,1,0))}function Cl(i){for(;i===O1;)O1=n1[--i1],n1[i1]=null,a1=n1[--i1],n1[i1]=null;for(;i===Xo;)Xo=Ni[--ki],Ni[ki]=null,Aa=Ni[--ki],Ni[ki]=null,Yo=Ni[--ki],Ni[ki]=null}function v3(i,s){Ni[ki++]=Yo,Ni[ki++]=Aa,Ni[ki++]=Xo,Yo=s.id,Aa=s.overflow,Xo=i}var zi=null,An=null,Wr=!1,xs=null,qa=!1,Hn=Error(T(519));function Ea(i){var s=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(_a(s,i)),Hn}function Ma(i){var s=i.stateNode,h=i.type,v=i.memoizedProps;switch(s[Yr]=i,s[Lt]=v,h){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(h=0;h<Vl.length;h++)sn(Vl[h],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),qs(s,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),ml(s,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||v.suppressHydrationWarning===!0||k0(s.textContent,h)?(v.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),v.onScroll!=null&&sn("scroll",s),v.onScrollEnd!=null&&sn("scrollend",s),v.onClick!=null&&(s.onclick=Eo),s=!0):s=!1,s||Ea(i,!0)}function S2(i){for(zi=i.return;zi;)switch(zi.tag){case 5:case 31:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:zi=zi.return}}function Wo(i){if(i!==zi)return!1;if(!Wr)return S2(i),Wr=!0,!1;var s=i.tag,h;if((h=s!==3&&s!==27)&&((h=s===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Mu(i.type,i.memoizedProps)),h=!h),h&&An&&Ea(i),S2(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));An=$i(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));An=$i(i)}else s===27?(s=An,Ql(i.type)?(i=Ka,Ka=null,An=i):An=s):An=zi?Lo(i.stateNode.nextSibling):null;return!0}function Ko(){An=zi=null,Wr=!1}function Jo(){var i=xs;return i!==null&&(_o===null?_o=i:_o.push.apply(_o,i),xs=null),i}function ws(i){xs===null?xs=[i]:xs.push(i)}var Ss=Ie(null),lo=null,es=null;function Ts(i,s,h){dt(Ss,s._currentValue),s._currentValue=h}function ts(i){i._currentValue=Ss.current,rt(Ss)}function x4(i,s,h){for(;i!==null;){var v=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,v!==null&&(v.childLanes|=s)):v!==null&&(v.childLanes&s)!==s&&(v.childLanes|=s),i===h)break;i=i.return}}function w4(i,s,h,v){var I=i.child;for(I!==null&&(I.return=i);I!==null;){var B=I.dependencies;if(B!==null){var re=I.child;B=B.firstContext;e:for(;B!==null;){var ve=B;B=I;for(var Je=0;Je<s.length;Je++)if(ve.context===s[Je]){B.lanes|=h,ve=B.alternate,ve!==null&&(ve.lanes|=h),x4(B.return,h,i),v||(re=null);break e}B=ve.next}}else if(I.tag===18){if(re=I.return,re===null)throw Error(T(341));re.lanes|=h,B=re.alternate,B!==null&&(B.lanes|=h),x4(re,h,i),re=null}else re=I.child;if(re!==null)re.return=I;else for(re=I;re!==null;){if(re===i){re=null;break}if(I=re.sibling,I!==null){I.return=re.return,re=I;break}re=re.return}I=re}}function $a(i,s,h,v){i=null;for(var I=s,B=!1;I!==null;){if(!B){if((I.flags&524288)!==0)B=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var re=I.alternate;if(re===null)throw Error(T(387));if(re=re.memoizedProps,re!==null){var ve=I.type;Ta(I.pendingProps.value,re.value)||(i!==null?i.push(ve):i=[ve])}}else if(I===me.current){if(re=I.alternate,re===null)throw Error(T(387));re.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(i!==null?i.push(K4):i=[K4])}I=I.return}i!==null&&w4(s,i,h,v),s.flags|=262144}function Pl(i){for(i=i.firstContext;i!==null;){if(!Ta(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function As(i){lo=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mi(i){return S4(lo,i)}function T2(i,s){return lo===null&&As(i),S4(i,s)}function S4(i,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},es===null){if(i===null)throw Error(T(308));es=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else es=es.next=s;return h}var b3=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(h,v){i.push(v)}};this.abort=function(){s.aborted=!0,i.forEach(function(h){return h()})}},G5=f.unstable_scheduleCallback,x3=f.unstable_NormalPriority,li={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rs(){return{controller:new b3,data:new Map,refCount:0}}function Rl(i){i.refCount--,i.refCount===0&&G5(x3,function(){i.controller.abort()})}var ra=null,Qa=0,k1=0,na=null;function a0(i,s){if(ra===null){var h=ra=[];Qa=0,k1=I0(),na={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Qa++,s.then(Il,Il),s}function Il(){if(--Qa===0&&ra!==null){na!==null&&(na.status="fulfilled");var i=ra;ra=null,k1=0,na=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function A2(i,s){var h=[],v={status:"pending",value:null,reason:null,then:function(I){h.push(I)}};return i.then(function(){v.status="fulfilled",v.value=s;for(var I=0;I<h.length;I++)(0,h[I])(s)},function(I){for(v.status="rejected",v.reason=I,I=0;I<h.length;I++)(0,h[I])(void 0)}),v}var Di=Ne.S;Ne.S=function(i,s){H6=it(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&a0(i,s),Di!==null&&Di(i,s)};var Co=Ie(null);function T4(){var i=Co.current;return i!==null?i:$n.pooledCache}function A4(i,s){s===null?dt(Co,Co.current):dt(Co,s.pool)}function V5(){var i=T4();return i===null?null:{parent:li._currentValue,pool:i}}var Po=Error(T(460)),o1=Error(T(474)),Ca=Error(T(542)),rr={then:function(){}};function E2(i){return i=i.status,i==="fulfilled"||i==="rejected"}function E4(i,s,h){switch(h=i[h],h===void 0?i.push(s):h!==s&&(s.then(Eo,Eo),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,M4(i),i;default:if(typeof s.status=="string")s.then(Eo,Eo);else{if(i=$n,i!==null&&100<i.shellSuspendCounter)throw Error(T(482));i=s,i.status="pending",i.then(function(v){if(s.status==="pending"){var I=s;I.status="fulfilled",I.value=v}},function(v){if(s.status==="pending"){var I=s;I.status="rejected",I.reason=v}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,M4(i),i}throw Ro=s,Po}}function uo(i){try{var s=i._init;return s(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ro=h,Po):h}}var Ro=null;function Nl(){if(Ro===null)throw Error(T(459));var i=Ro;return Ro=null,i}function M4(i){if(i===Po||i===Ca)throw Error(T(483))}var ns=null,z1=0;function M2(i){var s=z1;return z1+=1,ns===null&&(ns=[]),E4(ns,i,s)}function is(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function C4(i,s){throw s.$$typeof===O?Error(T(525)):(i=Object.prototype.toString.call(s),Error(T(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function C2(i){function s(pt,at){if(i){var wt=pt.deletions;wt===null?(pt.deletions=[at],pt.flags|=16):wt.push(at)}}function h(pt,at){if(!i)return null;for(;at!==null;)s(pt,at),at=at.sibling;return null}function v(pt){for(var at=new Map;pt!==null;)pt.key!==null?at.set(pt.key,pt):at.set(pt.index,pt),pt=pt.sibling;return at}function I(pt,at){return pt=Va(pt,at),pt.index=0,pt.sibling=null,pt}function B(pt,at,wt){return pt.index=wt,i?(wt=pt.alternate,wt!==null?(wt=wt.index,wt<at?(pt.flags|=67108866,at):wt):(pt.flags|=67108866,at)):(pt.flags|=1048576,at)}function re(pt){return i&&pt.alternate===null&&(pt.flags|=67108866),pt}function ve(pt,at,wt,Ut){return at===null||at.tag!==6?(at=y3(wt,pt.mode,Ut),at.return=pt,at):(at=I(at,wt),at.return=pt,at)}function Je(pt,at,wt,Ut){var Sr=wt.type;return Sr===j?kt(pt,at,wt.props.children,Ut,wt.key):at!==null&&(at.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===xe&&uo(Sr)===at.type)?(at=I(at,wt.props),is(at,wt),at.return=pt,at):(at=v4(wt.type,wt.key,wt.props,null,pt.mode,Ut),is(at,wt),at.return=pt,at)}function Tt(pt,at,wt,Ut){return at===null||at.tag!==4||at.stateNode.containerInfo!==wt.containerInfo||at.stateNode.implementation!==wt.implementation?(at=r1(wt,pt.mode,Ut),at.return=pt,at):(at=I(at,wt.children||[]),at.return=pt,at)}function kt(pt,at,wt,Ut,Sr){return at===null||at.tag!==7?(at=t1(wt,pt.mode,Ut,Sr),at.return=pt,at):(at=I(at,wt),at.return=pt,at)}function qt(pt,at,wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=y3(""+at,pt.mode,wt),at.return=pt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case U:return wt=v4(at.type,at.key,at.props,null,pt.mode,wt),is(wt,at),wt.return=pt,wt;case G:return at=r1(at,pt.mode,wt),at.return=pt,at;case xe:return at=uo(at),qt(pt,at,wt)}if(_t(at)||Fe(at))return at=t1(at,pt.mode,wt,null),at.return=pt,at;if(typeof at.then=="function")return qt(pt,M2(at),wt);if(at.$$typeof===H)return qt(pt,T2(pt,at),wt);C4(pt,at)}return null}function Mt(pt,at,wt,Ut){var Sr=at!==null?at.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Sr!==null?null:ve(pt,at,""+wt,Ut);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case U:return wt.key===Sr?Je(pt,at,wt,Ut):null;case G:return wt.key===Sr?Tt(pt,at,wt,Ut):null;case xe:return wt=uo(wt),Mt(pt,at,wt,Ut)}if(_t(wt)||Fe(wt))return Sr!==null?null:kt(pt,at,wt,Ut,null);if(typeof wt.then=="function")return Mt(pt,at,M2(wt),Ut);if(wt.$$typeof===H)return Mt(pt,at,T2(pt,wt),Ut);C4(pt,wt)}return null}function Rt(pt,at,wt,Ut,Sr){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return pt=pt.get(wt)||null,ve(at,pt,""+Ut,Sr);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case U:return pt=pt.get(Ut.key===null?wt:Ut.key)||null,Je(at,pt,Ut,Sr);case G:return pt=pt.get(Ut.key===null?wt:Ut.key)||null,Tt(at,pt,Ut,Sr);case xe:return Ut=uo(Ut),Rt(pt,at,wt,Ut,Sr)}if(_t(Ut)||Fe(Ut))return pt=pt.get(wt)||null,kt(at,pt,Ut,Sr,null);if(typeof Ut.then=="function")return Rt(pt,at,wt,M2(Ut),Sr);if(Ut.$$typeof===H)return Rt(pt,at,wt,T2(at,Ut),Sr);C4(at,Ut)}return null}function fr(pt,at,wt,Ut){for(var Sr=null,xn=null,pr=at,br=at=0,nn=null;pr!==null&&br<wt.length;br++){pr.index>br?(nn=pr,pr=null):nn=pr.sibling;var gn=Mt(pt,pr,wt[br],Ut);if(gn===null){pr===null&&(pr=nn);break}i&&pr&&gn.alternate===null&&s(pt,pr),at=B(gn,at,br),xn===null?Sr=gn:xn.sibling=gn,xn=gn,pr=nn}if(br===wt.length)return h(pt,pr),Wr&&bs(pt,br),Sr;if(pr===null){for(;br<wt.length;br++)pr=qt(pt,wt[br],Ut),pr!==null&&(at=B(pr,at,br),xn===null?Sr=pr:xn.sibling=pr,xn=pr);return Wr&&bs(pt,br),Sr}for(pr=v(pr);br<wt.length;br++)nn=Rt(pr,pt,br,wt[br],Ut),nn!==null&&(i&&nn.alternate!==null&&pr.delete(nn.key===null?br:nn.key),at=B(nn,at,br),xn===null?Sr=nn:xn.sibling=nn,xn=nn);return i&&pr.forEach(function(il){return s(pt,il)}),Wr&&bs(pt,br),Sr}function Tr(pt,at,wt,Ut){if(wt==null)throw Error(T(151));for(var Sr=null,xn=null,pr=at,br=at=0,nn=null,gn=wt.next();pr!==null&&!gn.done;br++,gn=wt.next()){pr.index>br?(nn=pr,pr=null):nn=pr.sibling;var il=Mt(pt,pr,gn.value,Ut);if(il===null){pr===null&&(pr=nn);break}i&&pr&&il.alternate===null&&s(pt,pr),at=B(il,at,br),xn===null?Sr=il:xn.sibling=il,xn=il,pr=nn}if(gn.done)return h(pt,pr),Wr&&bs(pt,br),Sr;if(pr===null){for(;!gn.done;br++,gn=wt.next())gn=qt(pt,gn.value,Ut),gn!==null&&(at=B(gn,at,br),xn===null?Sr=gn:xn.sibling=gn,xn=gn);return Wr&&bs(pt,br),Sr}for(pr=v(pr);!gn.done;br++,gn=wt.next())gn=Rt(pr,pt,br,gn.value,Ut),gn!==null&&(i&&gn.alternate!==null&&pr.delete(gn.key===null?br:gn.key),at=B(gn,at,br),xn===null?Sr=gn:xn.sibling=gn,xn=gn);return i&&pr.forEach(function(i6){return s(pt,i6)}),Wr&&bs(pt,br),Sr}function On(pt,at,wt,Ut){if(typeof wt=="object"&&wt!==null&&wt.type===j&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case U:e:{for(var Sr=wt.key;at!==null;){if(at.key===Sr){if(Sr=wt.type,Sr===j){if(at.tag===7){h(pt,at.sibling),Ut=I(at,wt.props.children),Ut.return=pt,pt=Ut;break e}}else if(at.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===xe&&uo(Sr)===at.type){h(pt,at.sibling),Ut=I(at,wt.props),is(Ut,wt),Ut.return=pt,pt=Ut;break e}h(pt,at);break}else s(pt,at);at=at.sibling}wt.type===j?(Ut=t1(wt.props.children,pt.mode,Ut,wt.key),Ut.return=pt,pt=Ut):(Ut=v4(wt.type,wt.key,wt.props,null,pt.mode,Ut),is(Ut,wt),Ut.return=pt,pt=Ut)}return re(pt);case G:e:{for(Sr=wt.key;at!==null;){if(at.key===Sr)if(at.tag===4&&at.stateNode.containerInfo===wt.containerInfo&&at.stateNode.implementation===wt.implementation){h(pt,at.sibling),Ut=I(at,wt.children||[]),Ut.return=pt,pt=Ut;break e}else{h(pt,at);break}else s(pt,at);at=at.sibling}Ut=r1(wt,pt.mode,Ut),Ut.return=pt,pt=Ut}return re(pt);case xe:return wt=uo(wt),On(pt,at,wt,Ut)}if(_t(wt))return fr(pt,at,wt,Ut);if(Fe(wt)){if(Sr=Fe(wt),typeof Sr!="function")throw Error(T(150));return wt=Sr.call(wt),Tr(pt,at,wt,Ut)}if(typeof wt.then=="function")return On(pt,at,M2(wt),Ut);if(wt.$$typeof===H)return On(pt,at,T2(pt,wt),Ut);C4(pt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint"?(wt=""+wt,at!==null&&at.tag===6?(h(pt,at.sibling),Ut=I(at,wt),Ut.return=pt,pt=Ut):(h(pt,at),Ut=y3(wt,pt.mode,Ut),Ut.return=pt,pt=Ut),re(pt)):h(pt,at)}return function(pt,at,wt,Ut){try{z1=0;var Sr=On(pt,at,wt,Ut);return ns=null,Sr}catch(pr){if(pr===Po||pr===Ca)throw pr;var xn=Ga(29,pr,null,pt.mode);return xn.lanes=Ut,xn.return=pt,xn}}}var as=C2(!0),w3=C2(!1),os=!1;function P4(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function P2(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,h){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Cn&2)!==0){var I=v.pending;return I===null?s.next=s:(s.next=I.next,I.next=s),v.pending=s,s=El(i),g3(i,null,h),s}return w2(i,v,s,h),El(i)}function co(i,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194048)!==0)){var v=s.lanes;v&=i.pendingLanes,h|=v,s.lanes=h,Pr(i,h)}}function pn(i,s){var h=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var I=null,B=null;if(h=h.firstBaseUpdate,h!==null){do{var re={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};B===null?I=B=re:B=B.next=re,h=h.next}while(h!==null);B===null?I=B=s:B=B.next=s}else I=B=s;h={baseState:v.baseState,firstBaseUpdate:I,lastBaseUpdate:B,shared:v.shared,callbacks:v.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=s:i.next=s,h.lastBaseUpdate=s}var S3=!1;function Ms(){if(S3){var i=na;if(i!==null)throw i}}function s1(i,s,h,v){S3=!1;var I=i.updateQueue;os=!1;var B=I.firstBaseUpdate,re=I.lastBaseUpdate,ve=I.shared.pending;if(ve!==null){I.shared.pending=null;var Je=ve,Tt=Je.next;Je.next=null,re===null?B=Tt:re.next=Tt,re=Je;var kt=i.alternate;kt!==null&&(kt=kt.updateQueue,ve=kt.lastBaseUpdate,ve!==re&&(ve===null?kt.firstBaseUpdate=Tt:ve.next=Tt,kt.lastBaseUpdate=Je))}if(B!==null){var qt=I.baseState;re=0,kt=Tt=Je=null,ve=B;do{var Mt=ve.lane&-536870913,Rt=Mt!==ve.lane;if(Rt?(on&Mt)===Mt:(v&Mt)===Mt){Mt!==0&&Mt===k1&&(S3=!0),kt!==null&&(kt=kt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var fr=i,Tr=ve;Mt=s;var On=h;switch(Tr.tag){case 1:if(fr=Tr.payload,typeof fr=="function"){qt=fr.call(On,qt,Mt);break e}qt=fr;break e;case 3:fr.flags=fr.flags&-65537|128;case 0:if(fr=Tr.payload,Mt=typeof fr=="function"?fr.call(On,qt,Mt):fr,Mt==null)break e;qt=C({},qt,Mt);break e;case 2:os=!0}}Mt=ve.callback,Mt!==null&&(i.flags|=64,Rt&&(i.flags|=8192),Rt=I.callbacks,Rt===null?I.callbacks=[Mt]:Rt.push(Mt))}else Rt={lane:Mt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},kt===null?(Tt=kt=Rt,Je=qt):kt=kt.next=Rt,re|=Mt;if(ve=ve.next,ve===null){if(ve=I.shared.pending,ve===null)break;Rt=ve,ve=Rt.next,Rt.next=null,I.lastBaseUpdate=Rt,I.shared.pending=null}}while(!0);kt===null&&(Je=qt),I.baseState=Je,I.firstBaseUpdate=Tt,I.lastBaseUpdate=kt,B===null&&(I.shared.lanes=0),W1|=re,i.lanes=re,i.memoizedState=qt}}function R2(i,s){if(typeof i!="function")throw Error(T(191,i));i.call(s)}function R4(i,s){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)R2(h[i],s)}var B1=Ie(null),I2=Ie(0);function T3(i,s){i=Y1,dt(I2,i),dt(B1,s),Y1=i|s.baseLanes}function Ha(){dt(I2,Y1),dt(B1,B1.current)}function L1(){Y1=I2.current,rt(B1),rt(I2)}var ir=Ie(null),sr=null;function ho(i){var s=i.alternate;dt(ei,ei.current&1),dt(ir,i),sr===null&&(s===null||B1.current!==null||s.memoizedState!==null)&&(sr=i)}function Dl(i){dt(ei,ei.current),dt(ir,i),sr===null&&(sr=i)}function N2(i){i.tag===22?(dt(ei,ei.current),dt(ir,i),sr===null&&(sr=i)):ui()}function ui(){dt(ei,ei.current),dt(ir,ir.current)}function Zn(i){rt(ir),sr===i&&(sr=null),rt(ei)}var ei=Ie(0);function D2(i){for(var s=i;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Na(h)||Mi(h)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cs=0,jr=null,dn=null,Lr=null,Vn=!1,fo=!1,Io=!1,U1=0,j1=0,Ps=null,A3=0;function zn(){throw Error(T(321))}function No(i,s){if(s===null)return!1;for(var h=0;h<s.length&&h<i.length;h++)if(!Ta(i[h],s[h]))return!1;return!0}function Ol(i,s,h,v,I,B){return Cs=B,jr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ne.H=i===null||i.memoizedState===null?Mn:gi,Io=!1,B=h(v,I),Io=!1,fo&&(B=O2(s,h,v,I)),Fl(i),B}function Fl(i){Ne.H=mn;var s=dn!==null&&dn.next!==null;if(Cs=0,Lr=dn=jr=null,Vn=!1,j1=0,Ps=null,s)throw Error(T(300));i===null||Ui||(i=i.dependencies,i!==null&&Pl(i)&&(Ui=!0))}function O2(i,s,h,v){jr=i;var I=0;do{if(fo&&(Ps=null),j1=0,fo=!1,25<=I)throw Error(T(301));if(I+=1,Lr=dn=null,i.updateQueue!=null){var B=i.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}Ne.H=Ei,B=s(h,v)}while(fo);return B}function F2(){var i=Ne.H,s=i.useState()[0];return s=typeof s.then=="function"?G1(s):s,i=i.useState()[0],(dn!==null?dn.memoizedState:null)!==i&&(jr.flags|=1024),s}function k2(){var i=U1!==0;return U1=0,i}function l1(i,s,h){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h}function Rs(i){if(Vn){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Vn=!1}Cs=0,Lr=dn=jr=null,fo=!1,j1=U1=0,Ps=null}function Zi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?jr.memoizedState=Lr=i:Lr=Lr.next=i,Lr}function qn(){if(dn===null){var i=jr.alternate;i=i!==null?i.memoizedState:null}else i=dn.next;var s=Lr===null?jr.memoizedState:Lr.next;if(s!==null)Lr=s,dn=i;else{if(i===null)throw jr.alternate===null?Error(T(467)):Error(T(310));dn=i,i={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Lr===null?jr.memoizedState=Lr=i:Lr=Lr.next=i}return Lr}function ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function G1(i){var s=j1;return j1+=1,Ps===null&&(Ps=[]),i=E4(Ps,i,s),s=jr,(Lr===null?s.memoizedState:Lr.next)===null&&(s=s.alternate,Ne.H=s===null||s.memoizedState===null?Mn:gi),i}function V1(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return G1(i);if(i.$$typeof===H)return mi(i)}throw Error(T(438,String(i)))}function kl(i){var s=null,h=jr.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var v=jr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(s={data:v.data.map(function(I){return I.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=ls(),jr.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(i),v=0;v<i;v++)h[v]=Pe;return s.index++,h}function Do(i,s){return typeof s=="function"?s(i):s}function _(i){var s=qn();return t(s,dn,i)}function t(i,s,h){var v=i.queue;if(v===null)throw Error(T(311));v.lastRenderedReducer=h;var I=i.baseQueue,B=v.pending;if(B!==null){if(I!==null){var re=I.next;I.next=B.next,B.next=re}s.baseQueue=I=B,v.pending=null}if(B=i.baseState,I===null)i.memoizedState=B;else{s=I.next;var ve=re=null,Je=null,Tt=s,kt=!1;do{var qt=Tt.lane&-536870913;if(qt!==Tt.lane?(on&qt)===qt:(Cs&qt)===qt){var Mt=Tt.revertLane;if(Mt===0)Je!==null&&(Je=Je.next={lane:0,revertLane:0,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),qt===k1&&(kt=!0);else if((Cs&Mt)===Mt){Tt=Tt.next,Mt===k1&&(kt=!0);continue}else qt={lane:0,revertLane:Tt.revertLane,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},Je===null?(ve=Je=qt,re=B):Je=Je.next=qt,jr.lanes|=Mt,W1|=Mt;qt=Tt.action,Io&&h(B,qt),B=Tt.hasEagerState?Tt.eagerState:h(B,qt)}else Mt={lane:qt,revertLane:Tt.revertLane,gesture:Tt.gesture,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},Je===null?(ve=Je=Mt,re=B):Je=Je.next=Mt,jr.lanes|=qt,W1|=qt;Tt=Tt.next}while(Tt!==null&&Tt!==s);if(Je===null?re=B:Je.next=ve,!Ta(B,i.memoizedState)&&(Ui=!0,kt&&(h=na,h!==null)))throw h;i.memoizedState=B,i.baseState=re,i.baseQueue=Je,v.lastRenderedState=B}return I===null&&(v.lanes=0),[i.memoizedState,v.dispatch]}function a(i){var s=qn(),h=s.queue;if(h===null)throw Error(T(311));h.lastRenderedReducer=i;var v=h.dispatch,I=h.pending,B=s.memoizedState;if(I!==null){h.pending=null;var re=I=I.next;do B=i(B,re.action),re=re.next;while(re!==I);Ta(B,s.memoizedState)||(Ui=!0),s.memoizedState=B,s.baseQueue===null&&(s.baseState=B),h.lastRenderedState=B}return[B,v]}function u(i,s,h){var v=jr,I=qn(),B=Wr;if(B){if(h===void 0)throw Error(T(407));h=h()}else h=s();var re=!Ta((dn||I).memoizedState,h);if(re&&(I.memoizedState=h,Ui=!0),I=I.queue,bt(E.bind(null,v,I,i),[i]),I.getSnapshot!==s||re||Lr!==null&&Lr.memoizedState.tag&1){if(v.flags|=2048,Ge(9,{destroy:void 0},b.bind(null,v,I,h,s),null),$n===null)throw Error(T(349));B||(Cs&127)!==0||d(v,s,h)}return h}function d(i,s,h){i.flags|=16384,i={getSnapshot:s,value:h},s=jr.updateQueue,s===null?(s=ls(),jr.updateQueue=s,s.stores=[i]):(h=s.stores,h===null?s.stores=[i]:h.push(i))}function b(i,s,h,v){s.value=h,s.getSnapshot=v,R(s)&&k(i)}function E(i,s,h){return h(function(){R(s)&&k(i)})}function R(i){var s=i.getSnapshot;i=i.value;try{var h=s();return!Ta(i,h)}catch{return!0}}function k(i){var s=so(i,2);s!==null&&bo(s,i,2)}function $(i){var s=Zi();if(typeof i=="function"){var h=i;if(i=h(),Io){st(!0);try{h()}finally{st(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:i},s}function Z(i,s,h,v){return i.baseState=h,t(i,dn,typeof v=="function"?v:Do)}function J(i,s,h,v,I){if(Za(i))throw Error(T(485));if(i=s.action,i!==null){var B={payload:I,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){B.listeners.push(re)}};Ne.T!==null?h(!0):B.isTransition=!1,v(B),h=s.pending,h===null?(B.next=s.pending=B,K(s,B)):(B.next=h.next,s.pending=h.next=B)}}function K(i,s){var h=s.action,v=s.payload,I=i.state;if(s.isTransition){var B=Ne.T,re={};Ne.T=re;try{var ve=h(I,v),Je=Ne.S;Je!==null&&Je(re,ve),se(i,s,ve)}catch(Tt){Ae(i,s,Tt)}finally{B!==null&&re.types!==null&&(B.types=re.types),Ne.T=B}}else try{B=h(I,v),se(i,s,B)}catch(Tt){Ae(i,s,Tt)}}function se(i,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){pe(i,s,v)},function(v){return Ae(i,s,v)}):pe(i,s,h)}function pe(i,s,h){s.status="fulfilled",s.value=h,Ce(s),i.state=h,s=i.pending,s!==null&&(h=s.next,h===s?i.pending=null:(h=h.next,s.next=h,K(i,h)))}function Ae(i,s,h){var v=i.pending;if(i.pending=null,v!==null){v=v.next;do s.status="rejected",s.reason=h,Ce(s),s=s.next;while(s!==v)}i.action=null}function Ce(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ee(i,s){return s}function Be(i,s){if(Wr){var h=$n.formState;if(h!==null){e:{var v=jr;if(Wr){if(An){t:{for(var I=An,B=qa;I.nodeType!==8;){if(!B){I=null;break t}if(I=Lo(I.nextSibling),I===null){I=null;break t}}B=I.data,I=B==="F!"||B==="F"?I:null}if(I){An=Lo(I.nextSibling),v=I.data==="F!";break e}}Ea(v)}v=!1}v&&(s=h[0])}}return h=Zi(),h.memoizedState=h.baseState=s,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:s},h.queue=v,h=zl.bind(null,jr,v),v.dispatch=h,v=$(!1),B=Ra.bind(null,jr,!1,v.queue),v=Zi(),I={state:s,dispatch:null,action:i,pending:null},v.queue=I,h=J.bind(null,jr,I,B,h),I.dispatch=h,v.memoizedState=i,[s,h,!1]}function He(i){var s=qn();return ze(s,dn,i)}function ze(i,s,h){if(s=t(i,s,Ee)[0],i=_(Do)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var v=G1(s)}catch(re){throw re===Po?Ca:re}else v=s;s=qn();var I=s.queue,B=I.dispatch;return h!==s.memoizedState&&(jr.flags|=2048,Ge(9,{destroy:void 0},Qe.bind(null,I,h),null)),[v,B,i]}function Qe(i,s){i.action=s}function We(i){var s=qn(),h=dn;if(h!==null)return ze(s,h,i);qn(),s=s.memoizedState,h=qn();var v=h.queue.dispatch;return h.memoizedState=i,[s,v,!1]}function Ge(i,s,h,v){return i={tag:i,create:h,deps:v,inst:s,next:null},s=jr.updateQueue,s===null&&(s=ls(),jr.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=i.next=i:(v=h.next,h.next=i,i.next=v,s.lastEffect=i),i}function nt(){return qn().memoizedState}function xt(i,s,h,v){var I=Zi();jr.flags|=i,I.memoizedState=Ge(1|s,{destroy:void 0},h,v===void 0?null:v)}function gt(i,s,h,v){var I=qn();v=v===void 0?null:v;var B=I.memoizedState.inst;dn!==null&&v!==null&&No(v,dn.memoizedState.deps)?I.memoizedState=Ge(s,B,h,v):(jr.flags|=i,I.memoizedState=Ge(1|s,B,h,v))}function vt(i,s){xt(8390656,8,i,s)}function bt(i,s){gt(2048,8,i,s)}function Ht(i){jr.flags|=4;var s=jr.updateQueue;if(s===null)s=ls(),jr.updateQueue=s,s.events=[i];else{var h=s.events;h===null?s.events=[i]:h.push(i)}}function Zt(i){var s=qn().memoizedState;return Ht({ref:s,nextImpl:i}),function(){if((Cn&2)!==0)throw Error(T(440));return s.impl.apply(void 0,arguments)}}function zt(i,s){return gt(4,2,i,s)}function Yt(i,s){return gt(4,4,i,s)}function Er(i,s){if(typeof s=="function"){i=i();var h=s(i);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function fn(i,s,h){h=h!=null?h.concat([i]):null,gt(4,4,Er.bind(null,s,i),h)}function In(){}function En(i,s){var h=qn();s=s===void 0?null:s;var v=h.memoizedState;return s!==null&&No(s,v[1])?v[0]:(h.memoizedState=[i,s],i)}function Bn(i,s){var h=qn();s=s===void 0?null:s;var v=h.memoizedState;if(s!==null&&No(s,v[1]))return v[0];if(v=i(),Io){st(!0);try{i()}finally{st(!1)}}return h.memoizedState=[v,s],v}function vn(i,s,h){return h===void 0||(Cs&1073741824)!==0&&(on&261930)===0?i.memoizedState=s:(i.memoizedState=h,i=X6(),jr.lanes|=i,W1|=i,h)}function Xn(i,s,h,v){return Ta(h,s)?h:B1.current!==null?(i=vn(i,h,v),Ta(i,s)||(Ui=!0),i):(Cs&42)===0||(Cs&1073741824)!==0&&(on&261930)===0?(Ui=!0,i.memoizedState=h):(i=X6(),jr.lanes|=i,W1|=i,s)}function Ln(i,s,h,v,I){var B=Te.p;Te.p=B!==0&&8>B?B:8;var re=Ne.T,ve={};Ne.T=ve,Ra(i,!1,s,h);try{var Je=I(),Tt=Ne.S;if(Tt!==null&&Tt(ve,Je),Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var kt=A2(Je,v);Fo(i,s,kt,vo(i))}else Fo(i,s,v,vo(i))}catch(qt){Fo(i,s,{then:function(){},status:"rejected",reason:qt},vo())}finally{Te.p=B,re!==null&&ve.types!==null&&(re.types=ve.types),Ne.T=re}}function Bi(){}function ti(i,s,h,v){if(i.tag!==5)throw Error(T(476));var I=ri(i).queue;Ln(i,I,s,lt,h===null?Bi:function(){return Li(i),h(v)})}function ri(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:lt},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:h},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Li(i){var s=ri(i);s.next===null&&(s=i.alternate.memoizedState),Fo(i,s.next.queue,{},vo())}function us(){return mi(K4)}function cs(){return qn().memoizedState}function Oo(){return qn().memoizedState}function Pa(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var h=vo();i=ss(h);var v=Es(s,i,h);v!==null&&(bo(v,s,h),co(v,s,h)),s={cache:rs()},i.payload=s;return}s=s.return}}function q1(i,s,h){var v=vo();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Za(i)?po(s,h):(h=e1(i,s,h,v),h!==null&&(bo(h,i,v),mo(h,s,v)))}function zl(i,s,h){var v=vo();Fo(i,s,h,v)}function Fo(i,s,h,v){var I={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Za(i))po(s,I);else{var B=i.alternate;if(i.lanes===0&&(B===null||B.lanes===0)&&(B=s.lastRenderedReducer,B!==null))try{var re=s.lastRenderedState,ve=B(re,h);if(I.hasEagerState=!0,I.eagerState=ve,Ta(ve,re))return w2(i,s,I,0),$n===null&&D1(),!1}catch{}if(h=e1(i,s,I,v),h!==null)return bo(h,i,v),mo(h,s,v),!0}return!1}function Ra(i,s,h,v){if(v={lane:2,revertLane:I0(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Za(i)){if(s)throw Error(T(479))}else s=e1(i,h,v,2),s!==null&&bo(s,i,2)}function Za(i){var s=i.alternate;return i===jr||s!==null&&s===jr}function po(i,s){fo=Vn=!0;var h=i.pending;h===null?s.next=s:(s.next=h.next,h.next=s),i.pending=s}function mo(i,s,h){if((h&4194048)!==0){var v=s.lanes;v&=i.pendingLanes,h|=v,s.lanes=h,Pr(i,h)}}var mn={readContext:mi,use:V1,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};mn.useEffectEvent=zn;var Mn={readContext:mi,use:V1,useCallback:function(i,s){return Zi().memoizedState=[i,s===void 0?null:s],i},useContext:mi,useEffect:vt,useImperativeHandle:function(i,s,h){h=h!=null?h.concat([i]):null,xt(4194308,4,Er.bind(null,s,i),h)},useLayoutEffect:function(i,s){return xt(4194308,4,i,s)},useInsertionEffect:function(i,s){xt(4,2,i,s)},useMemo:function(i,s){var h=Zi();s=s===void 0?null:s;var v=i();if(Io){st(!0);try{i()}finally{st(!1)}}return h.memoizedState=[v,s],v},useReducer:function(i,s,h){var v=Zi();if(h!==void 0){var I=h(s);if(Io){st(!0);try{h(s)}finally{st(!1)}}}else I=s;return v.memoizedState=v.baseState=I,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:I},v.queue=i,i=i.dispatch=q1.bind(null,jr,i),[v.memoizedState,i]},useRef:function(i){var s=Zi();return i={current:i},s.memoizedState=i},useState:function(i){i=$(i);var s=i.queue,h=zl.bind(null,jr,s);return s.dispatch=h,[i.memoizedState,h]},useDebugValue:In,useDeferredValue:function(i,s){var h=Zi();return vn(h,i,s)},useTransition:function(){var i=$(!1);return i=Ln.bind(null,jr,i.queue,!0,!1),Zi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,h){var v=jr,I=Zi();if(Wr){if(h===void 0)throw Error(T(407));h=h()}else{if(h=s(),$n===null)throw Error(T(349));(on&127)!==0||d(v,s,h)}I.memoizedState=h;var B={value:h,getSnapshot:s};return I.queue=B,vt(E.bind(null,v,B,i),[i]),v.flags|=2048,Ge(9,{destroy:void 0},b.bind(null,v,B,h,s),null),h},useId:function(){var i=Zi(),s=$n.identifierPrefix;if(Wr){var h=Aa,v=Yo;h=(v&~(1<<32-Me(v)-1)).toString(32)+h,s="_"+s+"R_"+h,h=U1++,0<h&&(s+="H"+h.toString(32)),s+="_"}else h=A3++,s="_"+s+"r_"+h.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:us,useFormState:Be,useActionState:Be,useOptimistic:function(i){var s=Zi();s.memoizedState=s.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Ra.bind(null,jr,!0,h),h.dispatch=s,[i,s]},useMemoCache:kl,useCacheRefresh:function(){return Zi().memoizedState=Pa.bind(null,jr)},useEffectEvent:function(i){var s=Zi(),h={impl:i};return s.memoizedState=h,function(){if((Cn&2)!==0)throw Error(T(440));return h.impl.apply(void 0,arguments)}}},gi={readContext:mi,use:V1,useCallback:En,useContext:mi,useEffect:bt,useImperativeHandle:fn,useInsertionEffect:zt,useLayoutEffect:Yt,useMemo:Bn,useReducer:_,useRef:nt,useState:function(){return _(Do)},useDebugValue:In,useDeferredValue:function(i,s){var h=qn();return Xn(h,dn.memoizedState,i,s)},useTransition:function(){var i=_(Do)[0],s=qn().memoizedState;return[typeof i=="boolean"?i:G1(i),s]},useSyncExternalStore:u,useId:cs,useHostTransitionStatus:us,useFormState:He,useActionState:He,useOptimistic:function(i,s){var h=qn();return Z(h,dn,i,s)},useMemoCache:kl,useCacheRefresh:Oo};gi.useEffectEvent=Zt;var Ei={readContext:mi,use:V1,useCallback:En,useContext:mi,useEffect:bt,useImperativeHandle:fn,useInsertionEffect:zt,useLayoutEffect:Yt,useMemo:Bn,useReducer:a,useRef:nt,useState:function(){return a(Do)},useDebugValue:In,useDeferredValue:function(i,s){var h=qn();return dn===null?vn(h,i,s):Xn(h,dn.memoizedState,i,s)},useTransition:function(){var i=a(Do)[0],s=qn().memoizedState;return[typeof i=="boolean"?i:G1(i),s]},useSyncExternalStore:u,useId:cs,useHostTransitionStatus:us,useFormState:We,useActionState:We,useOptimistic:function(i,s){var h=qn();return dn!==null?Z(h,dn,i,s):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:kl,useCacheRefresh:Oo};Ei.useEffectEvent=Zt;function I4(i,s,h,v){s=i.memoizedState,h=h(v,s),h=h==null?s:C({},s,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var N4={enqueueSetState:function(i,s,h){i=i._reactInternals;var v=vo(),I=ss(v);I.payload=s,h!=null&&(I.callback=h),s=Es(i,I,v),s!==null&&(bo(s,i,v),co(s,i,v))},enqueueReplaceState:function(i,s,h){i=i._reactInternals;var v=vo(),I=ss(v);I.tag=1,I.payload=s,h!=null&&(I.callback=h),s=Es(i,I,v),s!==null&&(bo(s,i,v),co(s,i,v))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var h=vo(),v=ss(h);v.tag=2,s!=null&&(v.callback=s),s=Es(i,v,h),s!==null&&(bo(s,i,h),co(s,i,h))}};function u1(i,s,h,v,I,B,re){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,B,re):s.prototype&&s.prototype.isPureReactComponent?!Js(h,v)||!Js(I,B):!0}function q5(i,s,h,v){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,v),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,v),s.state!==i&&N4.enqueueReplaceState(s,s.state,null)}function c1(i,s){var h=s;if("ref"in s){h={};for(var v in s)v!=="ref"&&(h[v]=s[v])}if(i=i.defaultProps){h===s&&(h=C({},h));for(var I in i)h[I]===void 0&&(h[I]=i[I])}return h}function D4(i){Zo(i)}function Is(i){console.error(i)}function Ns(i){Zo(i)}function ko(i,s){try{var h=i.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(v){setTimeout(function(){throw v})}}function O4(i,s,h){try{var v=i.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function z2(i,s,h){return h=ss(h),h.tag=3,h.payload={element:null},h.callback=function(){ko(i,s)},h}function B2(i){return i=ss(i),i.tag=3,i}function L2(i,s,h,v){var I=h.type.getDerivedStateFromError;if(typeof I=="function"){var B=v.value;i.payload=function(){return I(B)},i.callback=function(){O4(s,h,v)}}var re=h.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(i.callback=function(){O4(s,h,v),typeof I!="function"&&(K1===null?K1=new Set([this]):K1.add(this));var ve=v.stack;this.componentDidCatch(v.value,{componentStack:ve!==null?ve:""})})}function $5(i,s,h,v,I){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(s=h.alternate,s!==null&&$a(s,h,I,!0),h=ir.current,h!==null){switch(h.tag){case 31:case 13:return sr===null?q3():h.alternate===null&&yi===0&&(yi=3),h.flags&=-257,h.flags|=65536,h.lanes=I,v===rr?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([v]):s.add(v),gu(i,v,I)),!1;case 22:return h.flags|=65536,v===rr?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([v]):h.add(v)),gu(i,v,I)),!1}throw Error(T(435,h.tag))}return gu(i,v,I),q3(),!1}if(Wr)return s=ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=I,v!==Hn&&(i=Error(T(422),{cause:v}),ws(_a(i,h)))):(v!==Hn&&(s=Error(T(423),{cause:v}),ws(_a(s,h))),i=i.current.alternate,i.flags|=65536,I&=-I,i.lanes|=I,v=_a(v,h),I=z2(i.stateNode,v,I),pn(i,I),yi!==4&&(yi=2)),!1;var B=Error(T(520),{cause:v});if(B=_a(B,h),U3===null?U3=[B]:U3.push(B),yi!==4&&(yi=2),s===null)return!0;v=_a(v,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,i=I&-I,h.lanes|=i,i=z2(h.stateNode,v,i),pn(h,i),!1;case 1:if(s=h.type,B=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(K1===null||!K1.has(B))))return h.flags|=65536,I&=-I,h.lanes|=I,I=B2(I),L2(I,i,h,v),pn(h,I),!1}h=h.return}while(h!==null);return!1}var Q5=Error(T(461)),Ui=!1;function Xi(i,s,h,v){s.child=i===null?w3(s,null,h,v):as(s,i.child,h,v)}function N6(i,s,h,v,I){h=h.render;var B=s.ref;if("ref"in v){var re={};for(var ve in v)ve!=="ref"&&(re[ve]=v[ve])}else re=v;return As(s),v=Ol(i,s,h,re,B,I),ve=k2(),i!==null&&!Ui?(l1(i,s,I),d1(i,s,I)):(Wr&&ve&&F1(s),s.flags|=1,Xi(i,s,v,I),s.child)}function H5(i,s,h,v,I){if(i===null){var B=h.type;return typeof B=="function"&&!_4(B)&&B.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=B,o0(i,s,B,v,I)):(i=v4(h.type,null,v,s,s.mode,I),i.ref=s.ref,i.return=s,s.child=i)}if(B=i.child,!C3(i,I)){var re=B.memoizedProps;if(h=h.compare,h=h!==null?h:Js,h(re,v)&&i.ref===s.ref)return d1(i,s,I)}return s.flags|=1,i=Va(B,v),i.ref=s.ref,i.return=s,s.child=i}function o0(i,s,h,v,I){if(i!==null){var B=i.memoizedProps;if(Js(B,v)&&i.ref===s.ref)if(Ui=!1,s.pendingProps=v=B,C3(i,I))(i.flags&131072)!==0&&(Ui=!0);else return s.lanes=i.lanes,d1(i,s,I)}return l0(i,s,h,v,I)}function s0(i,s,h,v){var I=v.children,B=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((s.flags&128)!==0){if(B=B!==null?B.baseLanes|h:h,i!==null){for(v=s.child=i.child,I=0;v!==null;)I=I|v.lanes|v.childLanes,v=v.sibling;v=I&~B}else v=0,s.child=null;return D6(i,s,B,h,v)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&A4(s,B!==null?B.cachePool:null),B!==null?T3(s,B):Ha(),N2(s);else return v=s.lanes=536870912,D6(i,s,B!==null?B.baseLanes|h:h,h,v)}else B!==null?(A4(s,B.cachePool),T3(s,B),ui(),s.memoizedState=null):(i!==null&&A4(s,null),Ha(),ui());return Xi(i,s,I,h),s.child}function h1(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function D6(i,s,h,v,I){var B=T4();return B=B===null?null:{parent:li._currentValue,pool:B},s.memoizedState={baseLanes:h,cachePool:B},i!==null&&A4(s,null),Ha(),N2(s),i!==null&&$a(i,s,v,!0),s.childLanes=I,null}function $1(i,s){return s=K5({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function E3(i,s,h){return as(s,i.child,null,h),i=$1(s,s.pendingProps),i.flags|=2,Zn(s),s.memoizedState=null,i}function Z5(i,s,h){var v=s.pendingProps,I=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Wr){if(v.mode==="hidden")return i=$1(s,v),s.lanes=536870912,h1(null,i);if(Dl(s),(i=An)?(i=Hl(i,qa),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Xo!==null?{id:Yo,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},h=b4(i),h.return=s,s.child=h,zi=s,An=null)):i=null,i===null)throw Ea(s);return s.lanes=536870912,null}return $1(s,v)}var B=i.memoizedState;if(B!==null){var re=B.dehydrated;if(Dl(s),I)if(s.flags&256)s.flags&=-257,s=E3(i,s,h);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(T(558));else if(Ui||$a(i,s,h,!1),I=(h&i.childLanes)!==0,Ui||I){if(v=$n,v!==null&&(re=ua(v,h),re!==0&&re!==B.retryLane))throw B.retryLane=re,so(i,re),bo(v,i,re),Q5;q3(),s=E3(i,s,h)}else i=B.treeContext,An=Lo(re.nextSibling),zi=s,Wr=!0,xs=null,qa=!1,i!==null&&v3(s,i),s=$1(s,v),s.flags|=4096;return s}return i=Va(i.child,{mode:v.mode,children:v.children}),i.ref=s.ref,s.child=i,i.return=s,i}function X5(i,s){var h=s.ref;if(h===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(T(284));(i===null||i.ref!==h)&&(s.flags|=4194816)}}function l0(i,s,h,v,I){return As(s),h=Ol(i,s,h,v,void 0,I),v=k2(),i!==null&&!Ui?(l1(i,s,I),d1(i,s,I)):(Wr&&v&&F1(s),s.flags|=1,Xi(i,s,h,I),s.child)}function O6(i,s,h,v,I,B){return As(s),s.updateQueue=null,h=O2(s,v,h,I),Fl(i),v=k2(),i!==null&&!Ui?(l1(i,s,B),d1(i,s,B)):(Wr&&v&&F1(s),s.flags|=1,Xi(i,s,h,B),s.child)}function F6(i,s,h,v,I){if(As(s),s.stateNode===null){var B=Rr,re=h.contextType;typeof re=="object"&&re!==null&&(B=mi(re)),B=new h(v,B),s.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=N4,s.stateNode=B,B._reactInternals=s,B=s.stateNode,B.props=v,B.state=s.memoizedState,B.refs={},P4(s),re=h.contextType,B.context=typeof re=="object"&&re!==null?mi(re):Rr,B.state=s.memoizedState,re=h.getDerivedStateFromProps,typeof re=="function"&&(I4(s,h,re,v),B.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(re=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),re!==B.state&&N4.enqueueReplaceState(B,B.state,null),s1(s,v,B,I),Ms(),B.state=s.memoizedState),typeof B.componentDidMount=="function"&&(s.flags|=4194308),v=!0}else if(i===null){B=s.stateNode;var ve=s.memoizedProps,Je=c1(h,ve);B.props=Je;var Tt=B.context,kt=h.contextType;re=Rr,typeof kt=="object"&&kt!==null&&(re=mi(kt));var qt=h.getDerivedStateFromProps;kt=typeof qt=="function"||typeof B.getSnapshotBeforeUpdate=="function",ve=s.pendingProps!==ve,kt||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ve||Tt!==re)&&q5(s,B,v,re),os=!1;var Mt=s.memoizedState;B.state=Mt,s1(s,v,B,I),Ms(),Tt=s.memoizedState,ve||Mt!==Tt||os?(typeof qt=="function"&&(I4(s,h,qt,v),Tt=s.memoizedState),(Je=os||u1(s,h,Je,v,Mt,Tt,re))?(kt||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=v,s.memoizedState=Tt),B.props=v,B.state=Tt,B.context=re,v=Je):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),v=!1)}else{B=s.stateNode,P2(i,s),re=s.memoizedProps,kt=c1(h,re),B.props=kt,qt=s.pendingProps,Mt=B.context,Tt=h.contextType,Je=Rr,typeof Tt=="object"&&Tt!==null&&(Je=mi(Tt)),ve=h.getDerivedStateFromProps,(Tt=typeof ve=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(re!==qt||Mt!==Je)&&q5(s,B,v,Je),os=!1,Mt=s.memoizedState,B.state=Mt,s1(s,v,B,I),Ms();var Rt=s.memoizedState;re!==qt||Mt!==Rt||os||i!==null&&i.dependencies!==null&&Pl(i.dependencies)?(typeof ve=="function"&&(I4(s,h,ve,v),Rt=s.memoizedState),(kt=os||u1(s,h,kt,v,Mt,Rt,Je)||i!==null&&i.dependencies!==null&&Pl(i.dependencies))?(Tt||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(v,Rt,Je),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(v,Rt,Je)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||re===i.memoizedProps&&Mt===i.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||re===i.memoizedProps&&Mt===i.memoizedState||(s.flags|=1024),s.memoizedProps=v,s.memoizedState=Rt),B.props=v,B.state=Rt,B.context=Je,v=kt):(typeof B.componentDidUpdate!="function"||re===i.memoizedProps&&Mt===i.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||re===i.memoizedProps&&Mt===i.memoizedState||(s.flags|=1024),v=!1)}return B=v,X5(i,s),v=(s.flags&128)!==0,B||v?(B=s.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:B.render(),s.flags|=1,i!==null&&v?(s.child=as(s,i.child,null,I),s.child=as(s,null,h,I)):Xi(i,s,h,I),s.memoizedState=B.state,i=s.child):i=d1(i,s,I),i}function k6(i,s,h,v){return Ko(),s.flags|=256,Xi(i,s,h,v),s.child}var Y5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function M3(i){return{baseLanes:i,cachePool:V5()}}function W5(i,s,h){return i=i!==null?i.childLanes&~h:0,s&&(i|=va),i}function u0(i,s,h){var v=s.pendingProps,I=!1,B=(s.flags&128)!==0,re;if((re=B)||(re=i!==null&&i.memoizedState===null?!1:(ei.current&2)!==0),re&&(I=!0,s.flags&=-129),re=(s.flags&32)!==0,s.flags&=-33,i===null){if(Wr){if(I?ho(s):ui(),(i=An)?(i=Hl(i,qa),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Xo!==null?{id:Yo,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},h=b4(i),h.return=s,s.child=h,zi=s,An=null)):i=null,i===null)throw Ea(s);return Mi(i)?s.lanes=32:s.lanes=536870912,null}var ve=v.children;return v=v.fallback,I?(ui(),I=s.mode,ve=K5({mode:"hidden",children:ve},I),v=t1(v,I,h,null),ve.return=s,v.return=s,ve.sibling=v,s.child=ve,v=s.child,v.memoizedState=M3(h),v.childLanes=W5(i,re,h),s.memoizedState=Y5,h1(null,v)):(ho(s),c0(s,ve))}var Je=i.memoizedState;if(Je!==null&&(ve=Je.dehydrated,ve!==null)){if(B)s.flags&256?(ho(s),s.flags&=-257,s=J5(i,s,h)):s.memoizedState!==null?(ui(),s.child=i.child,s.flags|=128,s=null):(ui(),ve=v.fallback,I=s.mode,v=K5({mode:"visible",children:v.children},I),ve=t1(ve,I,h,null),ve.flags|=2,v.return=s,ve.return=s,v.sibling=ve,s.child=v,as(s,i.child,null,h),v=s.child,v.memoizedState=M3(h),v.childLanes=W5(i,re,h),s.memoizedState=Y5,s=h1(null,v));else if(ho(s),Mi(ve)){if(re=ve.nextSibling&&ve.nextSibling.dataset,re)var Tt=re.dgst;re=Tt,v=Error(T(419)),v.stack="",v.digest=re,ws({value:v,source:null,stack:null}),s=J5(i,s,h)}else if(Ui||$a(i,s,h,!1),re=(h&i.childLanes)!==0,Ui||re){if(re=$n,re!==null&&(v=ua(re,h),v!==0&&v!==Je.retryLane))throw Je.retryLane=v,so(i,v),bo(re,i,v),Q5;Na(ve)||q3(),s=J5(i,s,h)}else Na(ve)?(s.flags|=192,s.child=i.child,s=null):(i=Je.treeContext,An=Lo(ve.nextSibling),zi=s,Wr=!0,xs=null,qa=!1,i!==null&&v3(s,i),s=c0(s,v.children),s.flags|=4096);return s}return I?(ui(),ve=v.fallback,I=s.mode,Je=i.child,Tt=Je.sibling,v=Va(Je,{mode:"hidden",children:v.children}),v.subtreeFlags=Je.subtreeFlags&65011712,Tt!==null?ve=Va(Tt,ve):(ve=t1(ve,I,h,null),ve.flags|=2),ve.return=s,v.return=s,v.sibling=ve,s.child=v,h1(null,v),v=s.child,ve=i.child.memoizedState,ve===null?ve=M3(h):(I=ve.cachePool,I!==null?(Je=li._currentValue,I=I.parent!==Je?{parent:Je,pool:Je}:I):I=V5(),ve={baseLanes:ve.baseLanes|h,cachePool:I}),v.memoizedState=ve,v.childLanes=W5(i,re,h),s.memoizedState=Y5,h1(i.child,v)):(ho(s),h=i.child,i=h.sibling,h=Va(h,{mode:"visible",children:v.children}),h.return=s,h.sibling=null,i!==null&&(re=s.deletions,re===null?(s.deletions=[i],s.flags|=16):re.push(i)),s.child=h,s.memoizedState=null,h)}function c0(i,s){return s=K5({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function K5(i,s){return i=Ga(22,i,null,s),i.lanes=0,i}function J5(i,s,h){return as(s,i.child,null,h),i=c0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function h0(i,s,h){i.lanes|=s;var v=i.alternate;v!==null&&(v.lanes|=s),x4(i.return,s,h)}function d0(i,s,h,v,I,B){var re=i.memoizedState;re===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:I,treeForkCount:B}:(re.isBackwards=s,re.rendering=null,re.renderingStartTime=0,re.last=v,re.tail=h,re.tailMode=I,re.treeForkCount=B)}function eu(i,s,h){var v=s.pendingProps,I=v.revealOrder,B=v.tail;v=v.children;var re=ei.current,ve=(re&2)!==0;if(ve?(re=re&1|2,s.flags|=128):re&=1,dt(ei,re),Xi(i,s,v,h),v=Wr?a1:0,!ve&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&h0(i,h,s);else if(i.tag===19)h0(i,h,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(I){case"forwards":for(h=s.child,I=null;h!==null;)i=h.alternate,i!==null&&D2(i)===null&&(I=h),h=h.sibling;h=I,h===null?(I=s.child,s.child=null):(I=h.sibling,h.sibling=null),d0(s,!1,I,h,B,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,I=s.child,s.child=null;I!==null;){if(i=I.alternate,i!==null&&D2(i)===null){s.child=I;break}i=I.sibling,I.sibling=h,h=I,I=i}d0(s,!0,h,null,B,v);break;case"together":d0(s,!1,null,null,void 0,v);break;default:s.memoizedState=null}return s.child}function d1(i,s,h){if(i!==null&&(s.dependencies=i.dependencies),W1|=s.lanes,(h&s.childLanes)===0)if(i!==null){if($a(i,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(T(153));if(s.child!==null){for(i=s.child,h=Va(i,i.pendingProps),s.child=h,h.return=s;i.sibling!==null;)i=i.sibling,h=h.sibling=Va(i,i.pendingProps),h.return=s;h.sibling=null}return s.child}function C3(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pl(i)))}function P3(i,s,h){switch(s.tag){case 3:ue(s,s.stateNode.containerInfo),Ts(s,li,i.memoizedState.cache),Ko();break;case 27:case 5:qe(s);break;case 4:ue(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dl(s),null;break;case 13:var v=s.memoizedState;if(v!==null)return v.dehydrated!==null?(ho(s),s.flags|=128,null):(h&s.child.childLanes)!==0?u0(i,s,h):(ho(s),i=d1(i,s,h),i!==null?i.sibling:null);ho(s);break;case 19:var I=(i.flags&128)!==0;if(v=(h&s.childLanes)!==0,v||($a(i,s,h,!1),v=(h&s.childLanes)!==0),I){if(v)return eu(i,s,h);s.flags|=128}if(I=s.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),dt(ei,ei.current),v)break;return null;case 22:return s.lanes=0,s0(i,s,h,s.pendingProps);case 24:Ts(s,li,i.memoizedState.cache)}return d1(i,s,h)}function Ia(i,s,h){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ui=!0;else{if(!C3(i,h)&&(s.flags&128)===0)return Ui=!1,P3(i,s,h);Ui=(i.flags&131072)!==0}else Ui=!1,Wr&&(s.flags&1048576)!==0&&_3(s,a1,s.index);switch(s.lanes=0,s.tag){case 16:e:{var v=s.pendingProps;if(i=uo(s.elementType),s.type=i,typeof i=="function")_4(i)?(v=c1(i,v),s.tag=1,s=F6(null,s,i,v,h)):(s.tag=0,s=l0(null,s,i,v,h));else{if(i!=null){var I=i.$$typeof;if(I===X){s.tag=11,s=N6(null,s,i,v,h);break e}else if(I===he){s.tag=14,s=H5(null,s,i,v,h);break e}}throw s=Ke(i)||i,Error(T(306,s,""))}}return s;case 0:return l0(i,s,s.type,s.pendingProps,h);case 1:return v=s.type,I=c1(v,s.pendingProps),F6(i,s,v,I,h);case 3:e:{if(ue(s,s.stateNode.containerInfo),i===null)throw Error(T(387));v=s.pendingProps;var B=s.memoizedState;I=B.element,P2(i,s),s1(s,v,null,h);var re=s.memoizedState;if(v=re.cache,Ts(s,li,v),v!==B.cache&&w4(s,[li],h,!0),Ms(),v=re.element,B.isDehydrated)if(B={element:v,isDehydrated:!1,cache:re.cache},s.updateQueue.baseState=B,s.memoizedState=B,s.flags&256){s=k6(i,s,v,h);break e}else if(v!==I){I=_a(Error(T(424)),s),ws(I),s=k6(i,s,v,h);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,An=Lo(i.firstChild),zi=s,Wr=!0,xs=null,qa=!0,h=w3(s,null,v,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ko(),v===I){s=d1(i,s,h);break e}Xi(i,s,v,h)}s=s.child}return s;case 26:return X5(i,s),i===null?(h=Q0(s.type,null,s.pendingProps,null))?s.memoizedState=h:Wr||(h=s.type,i=s.pendingProps,v=Y3(mt.current).createElement(h),v[Yr]=s,v[Lt]=i,Wi(v,h,i),_r(v),s.stateNode=v):s.memoizedState=Q0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return qe(s),i===null&&Wr&&(v=s.stateNode=gc(s.type,s.pendingProps,mt.current),zi=s,qa=!0,I=An,Ql(s.type)?(Ka=I,An=Lo(v.firstChild)):An=I),Xi(i,s,s.pendingProps.children,h),X5(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Wr&&((I=v=An)&&(v=ia(v,s.type,s.pendingProps,qa),v!==null?(s.stateNode=v,zi=s,An=Lo(v.firstChild),qa=!1,I=!0):I=!1),I||Ea(s)),qe(s),I=s.type,B=s.pendingProps,re=i!==null?i.memoizedProps:null,v=B.children,Mu(I,B)?v=null:re!==null&&Mu(I,re)&&(s.flags|=32),s.memoizedState!==null&&(I=Ol(i,s,F2,null,null,h),K4._currentValue=I),X5(i,s),Xi(i,s,v,h),s.child;case 6:return i===null&&Wr&&((i=h=An)&&(h=zs(h,s.pendingProps,qa),h!==null?(s.stateNode=h,zi=s,An=null,i=!0):i=!1),i||Ea(s)),null;case 13:return u0(i,s,h);case 4:return ue(s,s.stateNode.containerInfo),v=s.pendingProps,i===null?s.child=as(s,null,v,h):Xi(i,s,v,h),s.child;case 11:return N6(i,s,s.type,s.pendingProps,h);case 7:return Xi(i,s,s.pendingProps,h),s.child;case 8:return Xi(i,s,s.pendingProps.children,h),s.child;case 12:return Xi(i,s,s.pendingProps.children,h),s.child;case 10:return v=s.pendingProps,Ts(s,s.type,v.value),Xi(i,s,v.children,h),s.child;case 9:return I=s.type._context,v=s.pendingProps.children,As(s),I=mi(I),v=v(I),s.flags|=1,Xi(i,s,v,h),s.child;case 14:return H5(i,s,s.type,s.pendingProps,h);case 15:return o0(i,s,s.type,s.pendingProps,h);case 19:return eu(i,s,h);case 31:return Z5(i,s,h);case 22:return s0(i,s,h,s.pendingProps);case 24:return As(s),v=mi(li),i===null?(I=T4(),I===null&&(I=$n,B=rs(),I.pooledCache=B,B.refCount++,B!==null&&(I.pooledCacheLanes|=h),I=B),s.memoizedState={parent:v,cache:I},P4(s),Ts(s,li,I)):((i.lanes&h)!==0&&(P2(i,s),s1(s,null,null,h),Ms()),I=i.memoizedState,B=s.memoizedState,I.parent!==v?(I={parent:v,cache:v},s.memoizedState=I,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=I),Ts(s,li,v)):(v=B.cache,Ts(s,li,v),v!==I.cache&&w4(s,[li],h,!0))),Xi(i,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(T(156,s.tag))}function f1(i){i.flags|=4}function R3(i,s,h,v,I){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(I&335544128)===I)if(i.stateNode.complete)i.flags|=8192;else if(T0())i.flags|=8192;else throw Ro=rr,o1}else i.flags&=-16777217}function z6(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!e5(s))if(T0())i.flags|=8192;else throw Ro=rr,o1}function I3(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Mr():536870912,i.lanes|=s,q2|=s)}function N3(i,s){if(!Wr)switch(i.tailMode){case"hidden":s=i.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function ni(i){var s=i.alternate!==null&&i.alternate.child===i.child,h=0,v=0;if(s)for(var I=i.child;I!==null;)h|=I.lanes|I.childLanes,v|=I.subtreeFlags&65011712,v|=I.flags&65011712,I.return=i,I=I.sibling;else for(I=i.child;I!==null;)h|=I.lanes|I.childLanes,v|=I.subtreeFlags,v|=I.flags,I.return=i,I=I.sibling;return i.subtreeFlags|=v,i.childLanes=h,s}function B6(i,s,h){var v=s.pendingProps;switch(Cl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(s),null;case 1:return ni(s),null;case 3:return h=s.stateNode,v=null,i!==null&&(v=i.memoizedState.cache),s.memoizedState.cache!==v&&(s.flags|=2048),ts(li),ut(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Wo(s)?f1(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jo())),ni(s),null;case 26:var I=s.type,B=s.memoizedState;return i===null?(f1(s),B!==null?(ni(s),z6(s,B)):(ni(s),R3(s,I,null,v,h))):B?B!==i.memoizedState?(f1(s),ni(s),z6(s,B)):(ni(s),s.flags&=-16777217):(i=i.memoizedProps,i!==v&&f1(s),ni(s),R3(s,I,i,v,h)),null;case 27:if(Et(s),h=mt.current,I=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==v&&f1(s);else{if(!v){if(s.stateNode===null)throw Error(T(166));return ni(s),null}i=$e.current,Wo(s)?Ma(s):(i=gc(I,v,h),s.stateNode=i,f1(s))}return ni(s),null;case 5:if(Et(s),I=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==v&&f1(s);else{if(!v){if(s.stateNode===null)throw Error(T(166));return ni(s),null}if(B=$e.current,Wo(s))Ma(s);else{var re=Y3(mt.current);switch(B){case 1:B=re.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:B=re.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":B=re.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":B=re.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":B=re.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof v.is=="string"?re.createElement("select",{is:v.is}):re.createElement("select"),v.multiple?B.multiple=!0:v.size&&(B.size=v.size);break;default:B=typeof v.is=="string"?re.createElement(I,{is:v.is}):re.createElement(I)}}B[Yr]=s,B[Lt]=v;e:for(re=s.child;re!==null;){if(re.tag===5||re.tag===6)B.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}s.stateNode=B;e:switch(Wi(B,I,v),I){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&f1(s)}}return ni(s),R3(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,h),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==v&&f1(s);else{if(typeof v!="string"&&s.stateNode===null)throw Error(T(166));if(i=mt.current,Wo(s)){if(i=s.stateNode,h=s.memoizedProps,v=null,I=zi,I!==null)switch(I.tag){case 27:case 5:v=I.memoizedProps}i[Yr]=s,i=!!(i.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||k0(i.nodeValue,h)),i||Ea(s,!0)}else i=Y3(i).createTextNode(v),i[Yr]=s,s.stateNode=i}return ni(s),null;case 31:if(h=s.memoizedState,i===null||i.memoizedState!==null){if(v=Wo(s),h!==null){if(i===null){if(!v)throw Error(T(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(557));i[Yr]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ni(s),i=!1}else h=Jo(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(T(558))}return ni(s),null;case 13:if(v=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I=Wo(s),v!==null&&v.dehydrated!==null){if(i===null){if(!I)throw Error(T(318));if(I=s.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(T(317));I[Yr]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ni(s),I=!1}else I=Jo(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=I),I=!0;if(!I)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=h,s):(h=v!==null,i=i!==null&&i.memoizedState!==null,h&&(v=s.child,I=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(I=v.alternate.memoizedState.cachePool.pool),B=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(B=v.memoizedState.cachePool.pool),B!==I&&(v.flags|=2048)),h!==i&&h&&(s.child.flags|=8192),I3(s,s.updateQueue),ni(s),null);case 4:return ut(),i===null&&O0(s.stateNode.containerInfo),ni(s),null;case 10:return ts(s.type),ni(s),null;case 19:if(rt(ei),v=s.memoizedState,v===null)return ni(s),null;if(I=(s.flags&128)!==0,B=v.rendering,B===null)if(I)N3(v,!1);else{if(yi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(B=D2(i),B!==null){for(s.flags|=128,N3(v,!1),i=B.updateQueue,s.updateQueue=i,I3(s,i),s.subtreeFlags=0,i=h,h=s.child;h!==null;)j5(h,i),h=h.sibling;return dt(ei,ei.current&1|2),Wr&&bs(s,v.treeForkCount),s.child}i=i.sibling}v.tail!==null&&it()>j3&&(s.flags|=128,I=!0,N3(v,!1),s.lanes=4194304)}else{if(!I)if(i=D2(B),i!==null){if(s.flags|=128,I=!0,i=i.updateQueue,s.updateQueue=i,I3(s,i),N3(v,!0),v.tail===null&&v.tailMode==="hidden"&&!B.alternate&&!Wr)return ni(s),null}else 2*it()-v.renderingStartTime>j3&&h!==536870912&&(s.flags|=128,I=!0,N3(v,!1),s.lanes=4194304);v.isBackwards?(B.sibling=s.child,s.child=B):(i=v.last,i!==null?i.sibling=B:s.child=B,v.last=B)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=it(),i.sibling=null,h=ei.current,dt(ei,I?h&1|2:h&1),Wr&&bs(s,v.treeForkCount),i):(ni(s),null);case 22:case 23:return Zn(s),L1(),v=s.memoizedState!==null,i!==null?i.memoizedState!==null!==v&&(s.flags|=8192):v&&(s.flags|=8192),v?(h&536870912)!==0&&(s.flags&128)===0&&(ni(s),s.subtreeFlags&6&&(s.flags|=8192)):ni(s),h=s.updateQueue,h!==null&&I3(s,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==h&&(s.flags|=2048),i!==null&&rt(Co),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ts(li),ni(s),null;case 25:return null;case 30:return null}throw Error(T(156,s.tag))}function B7(i,s){switch(Cl(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ts(li),ut(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Et(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(T(340));Ko()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Zn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(T(340));Ko()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return rt(ei),null;case 4:return ut(),null;case 10:return ts(s.type),null;case 22:case 23:return Zn(s),L1(),i!==null&&rt(Co),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ts(li),null;case 25:return null;default:return null}}function tu(i,s){switch(Cl(s),s.tag){case 3:ts(li),ut();break;case 26:case 27:case 5:Et(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:rt(ei);break;case 10:ts(s.type);break;case 22:case 23:Zn(s),L1(),i!==null&&rt(Co);break;case 24:ts(li)}}function F4(i,s){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var I=v.next;h=I;do{if((h.tag&i)===i){v=void 0;var B=h.create,re=h.inst;v=B(),re.destroy=v}h=h.next}while(h!==I)}}catch(ve){Pn(s,s.return,ve)}}function Q1(i,s,h){try{var v=s.updateQueue,I=v!==null?v.lastEffect:null;if(I!==null){var B=I.next;v=B;do{if((v.tag&i)===i){var re=v.inst,ve=re.destroy;if(ve!==void 0){re.destroy=void 0,I=s;var Je=h,Tt=ve;try{Tt()}catch(kt){Pn(I,Je,kt)}}}v=v.next}while(v!==B)}}catch(kt){Pn(s,s.return,kt)}}function L6(i){var s=i.updateQueue;if(s!==null){var h=i.stateNode;try{R4(s,h)}catch(v){Pn(i,i.return,v)}}}function U6(i,s,h){h.props=c1(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(v){Pn(i,s,v)}}function D3(i,s){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var v=i.stateNode;break;case 30:v=i.stateNode;break;default:v=i.stateNode}typeof h=="function"?i.refCleanup=h(v):h.current=v}}catch(I){Pn(i,s,I)}}function zo(i,s){var h=i.ref,v=i.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(I){Pn(i,s,I)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(I){Pn(i,s,I)}else h.current=null}function ru(i){var s=i.type,h=i.memoizedProps,v=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(I){Pn(i,i.return,I)}}function nu(i,s,h){try{var v=i.stateNode;pc(v,i.type,h,s),v[Lt]=s}catch(I){Pn(i,i.return,I)}}function Bl(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ql(i.type)||i.tag===4}function U2(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Bl(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ql(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function f0(i,s,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,s?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,s):(s=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,s.appendChild(i),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Eo));else if(v!==4&&(v===27&&Ql(i.type)&&(h=i.stateNode,s=null),i=i.child,i!==null))for(f0(i,s,h),i=i.sibling;i!==null;)f0(i,s,h),i=i.sibling}function iu(i,s,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,s?h.insertBefore(i,s):h.appendChild(i);else if(v!==4&&(v===27&&Ql(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(iu(i,s,h),i=i.sibling;i!==null;)iu(i,s,h),i=i.sibling}function j6(i){var s=i.stateNode,h=i.memoizedProps;try{for(var v=i.type,I=s.attributes;I.length;)s.removeAttributeNode(I[0]);Wi(s,v,h),s[Yr]=i,s[Lt]=h}catch(B){Pn(i,i.return,B)}}var H1=!1,ji=!1,p0=!1,G6=typeof WeakSet=="function"?WeakSet:Set,Gi=null;function L7(i,s){if(i=i.containerInfo,X3=a5,i=d4(i),g2(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var I=v.anchorOffset,B=v.focusNode;v=v.focusOffset;try{h.nodeType,B.nodeType}catch{h=null;break e}var re=0,ve=-1,Je=-1,Tt=0,kt=0,qt=i,Mt=null;t:for(;;){for(var Rt;qt!==h||I!==0&&qt.nodeType!==3||(ve=re+I),qt!==B||v!==0&&qt.nodeType!==3||(Je=re+v),qt.nodeType===3&&(re+=qt.nodeValue.length),(Rt=qt.firstChild)!==null;)Mt=qt,qt=Rt;for(;;){if(qt===i)break t;if(Mt===h&&++Tt===I&&(ve=re),Mt===B&&++kt===v&&(Je=re),(Rt=qt.nextSibling)!==null)break;qt=Mt,Mt=qt.parentNode}qt=Rt}h=ve===-1||Je===-1?null:{start:ve,end:Je}}else h=null}h=h||{start:0,end:0}}else h=null;for(z0={focusedElem:i,selectionRange:h},a5=!1,Gi=s;Gi!==null;)if(s=Gi,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gi=i;else for(;Gi!==null;){switch(s=Gi,B=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)I=i[h],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&B!==null){i=void 0,h=s,I=B.memoizedProps,B=B.memoizedState,v=h.stateNode;try{var fr=c1(h.type,I);i=v.getSnapshotBeforeUpdate(fr,B),v.__reactInternalSnapshotBeforeUpdate=i}catch(Tr){Pn(h,h.return,Tr)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,h=i.nodeType,h===9)ks(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ks(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(T(163))}if(i=s.sibling,i!==null){i.return=s.return,Gi=i;break}Gi=s.return}}function m0(i,s,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:yo(i,h),v&4&&F4(5,h);break;case 1:if(yo(i,h),v&4)if(i=h.stateNode,s===null)try{i.componentDidMount()}catch(re){Pn(h,h.return,re)}else{var I=c1(h.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(I,s,i.__reactInternalSnapshotBeforeUpdate)}catch(re){Pn(h,h.return,re)}}v&64&&L6(h),v&512&&D3(h,h.return);break;case 3:if(yo(i,h),v&64&&(i=h.updateQueue,i!==null)){if(s=null,h.child!==null)switch(h.child.tag){case 27:case 5:s=h.child.stateNode;break;case 1:s=h.child.stateNode}try{R4(i,s)}catch(re){Pn(h,h.return,re)}}break;case 27:s===null&&v&4&&j6(h);case 26:case 5:yo(i,h),s===null&&v&4&&ru(h),v&512&&D3(h,h.return);break;case 12:yo(i,h);break;case 31:yo(i,h),v&4&&O3(i,h);break;case 13:yo(i,h),v&4&&F3(i,h),v&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=E0.bind(null,h),qi(i,h))));break;case 22:if(v=h.memoizedState!==null||H1,!v){s=s!==null&&s.memoizedState!==null||ji,I=H1;var B=ji;H1=v,(ji=s)&&!B?Z1(i,h,(h.subtreeFlags&8772)!==0):yo(i,h),H1=I,ji=B}break;case 30:break;default:yo(i,h)}}function k4(i){var s=i.alternate;s!==null&&(i.alternate=null,k4(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ca(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ci=null,un=!1;function go(i,s,h){for(h=h.child;h!==null;)g0(i,s,h),h=h.sibling}function g0(i,s,h){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ot,h)}catch{}switch(h.tag){case 26:ji||zo(h,s),go(i,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ji||zo(h,s);var v=ci,I=un;Ql(h.type)&&(ci=h.stateNode,un=!1),go(i,s,h),X4(h.stateNode),ci=v,un=I;break;case 5:ji||zo(h,s);case 6:if(v=ci,I=un,ci=null,go(i,s,h),ci=v,un=I,ci!==null)if(un)try{(ci.nodeType===9?ci.body:ci.nodeName==="HTML"?ci.ownerDocument.body:ci).removeChild(h.stateNode)}catch(B){Pn(h,s,B)}else try{ci.removeChild(h.stateNode)}catch(B){Pn(h,s,B)}break;case 18:ci!==null&&(un?(i=ci,mc(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Kl(i)):mc(ci,h.stateNode));break;case 4:v=ci,I=un,ci=h.stateNode.containerInfo,un=!0,go(i,s,h),ci=v,un=I;break;case 0:case 11:case 14:case 15:Q1(2,h,s),ji||Q1(4,h,s),go(i,s,h);break;case 1:ji||(zo(h,s),v=h.stateNode,typeof v.componentWillUnmount=="function"&&U6(h,s,v)),go(i,s,h);break;case 21:go(i,s,h);break;case 22:ji=(v=ji)||h.memoizedState!==null,go(i,s,h),ji=v;break;default:go(i,s,h)}}function O3(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Kl(i)}catch(h){Pn(s,s.return,h)}}}function F3(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kl(i)}catch(h){Pn(s,s.return,h)}}function k3(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new G6),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new G6),s;default:throw Error(T(435,i.tag))}}function z3(i,s){var h=k3(i);s.forEach(function(v){if(!h.has(v)){h.add(v);var I=G7.bind(null,i,v);v.then(I,I)}})}function Xa(i,s){var h=s.deletions;if(h!==null)for(var v=0;v<h.length;v++){var I=h[v],B=i,re=s,ve=re;e:for(;ve!==null;){switch(ve.tag){case 27:if(Ql(ve.type)){ci=ve.stateNode,un=!1;break e}break;case 5:ci=ve.stateNode,un=!1;break e;case 3:case 4:ci=ve.stateNode.containerInfo,un=!0;break e}ve=ve.return}if(ci===null)throw Error(T(160));g0(B,re,I),ci=null,un=!1,B=I.alternate,B!==null&&(B.return=null),I.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)au(s,i),s=s.sibling}var Ya=null;function au(i,s){var h=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xa(s,i),Yi(i),v&4&&(Q1(3,i,i.return),F4(3,i),Q1(5,i,i.return));break;case 1:Xa(s,i),Yi(i),v&512&&(ji||h===null||zo(h,h.return)),v&64&&H1&&(i=i.updateQueue,i!==null&&(v=i.callbacks,v!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var I=Ya;if(Xa(s,i),Yi(i),v&512&&(ji||h===null||zo(h,h.return)),v&4){var B=h!==null?h.memoizedState:null;if(v=i.memoizedState,h===null)if(v===null)if(i.stateNode===null){e:{v=i.type,h=i.memoizedProps,I=I.ownerDocument||I;t:switch(v){case"title":B=I.getElementsByTagName("title")[0],(!B||B[yr]||B[Yr]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=I.createElement(v),I.head.insertBefore(B,I.querySelector("head > title"))),Wi(B,v,h),B[Yr]=i,_r(B),v=B;break e;case"link":var re=Y0("link","href",I).get(v+(h.href||""));if(re){for(var ve=0;ve<re.length;ve++)if(B=re[ve],B.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&B.getAttribute("rel")===(h.rel==null?null:h.rel)&&B.getAttribute("title")===(h.title==null?null:h.title)&&B.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){re.splice(ve,1);break t}}B=I.createElement(v),Wi(B,v,h),I.head.appendChild(B);break;case"meta":if(re=Y0("meta","content",I).get(v+(h.content||""))){for(ve=0;ve<re.length;ve++)if(B=re[ve],B.getAttribute("content")===(h.content==null?null:""+h.content)&&B.getAttribute("name")===(h.name==null?null:h.name)&&B.getAttribute("property")===(h.property==null?null:h.property)&&B.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&B.getAttribute("charset")===(h.charSet==null?null:h.charSet)){re.splice(ve,1);break t}}B=I.createElement(v),Wi(B,v,h),I.head.appendChild(B);break;default:throw Error(T(468,v))}B[Yr]=i,_r(B),v=B}i.stateNode=v}else J3(I,i.type,i.stateNode);else i.stateNode=X0(I,v,i.memoizedProps);else B!==v?(B===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):B.count--,v===null?J3(I,i.type,i.stateNode):X0(I,v,i.memoizedProps)):v===null&&i.stateNode!==null&&nu(i,i.memoizedProps,h.memoizedProps)}break;case 27:Xa(s,i),Yi(i),v&512&&(ji||h===null||zo(h,h.return)),h!==null&&v&4&&nu(i,i.memoizedProps,h.memoizedProps);break;case 5:if(Xa(s,i),Yi(i),v&512&&(ji||h===null||zo(h,h.return)),i.flags&32){I=i.stateNode;try{_s(I,"")}catch(fr){Pn(i,i.return,fr)}}v&4&&i.stateNode!=null&&(I=i.memoizedProps,nu(i,I,h!==null?h.memoizedProps:I)),v&1024&&(p0=!0);break;case 6:if(Xa(s,i),Yi(i),v&4){if(i.stateNode===null)throw Error(T(162));v=i.memoizedProps,h=i.stateNode;try{h.nodeValue=v}catch(fr){Pn(i,i.return,fr)}}break;case 3:if(Du=null,I=Ya,Ya=Ru(s.containerInfo),Xa(s,i),Ya=I,Yi(i),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Kl(s.containerInfo)}catch(fr){Pn(i,i.return,fr)}p0&&(p0=!1,B3(i));break;case 4:v=Ya,Ya=Ru(i.stateNode.containerInfo),Xa(s,i),Yi(i),Ya=v;break;case 12:Xa(s,i),Yi(i);break;case 31:Xa(s,i),Yi(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,z3(i,v)));break;case 13:Xa(s,i),Yi(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(lu=it()),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,z3(i,v)));break;case 22:I=i.memoizedState!==null;var Je=h!==null&&h.memoizedState!==null,Tt=H1,kt=ji;if(H1=Tt||I,ji=kt||Je,Xa(s,i),ji=kt,H1=Tt,Yi(i),v&8192)e:for(s=i.stateNode,s._visibility=I?s._visibility&-2:s._visibility|1,I&&(h===null||Je||H1||ji||Ds(i)),h=null,s=i;;){if(s.tag===5||s.tag===26){if(h===null){Je=h=s;try{if(B=Je.stateNode,I)re=B.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{ve=Je.stateNode;var qt=Je.memoizedProps.style,Mt=qt!=null&&qt.hasOwnProperty("display")?qt.display:null;ve.style.display=Mt==null||typeof Mt=="boolean"?"":(""+Mt).trim()}}catch(fr){Pn(Je,Je.return,fr)}}}else if(s.tag===6){if(h===null){Je=s;try{Je.stateNode.nodeValue=I?"":Je.memoizedProps}catch(fr){Pn(Je,Je.return,fr)}}}else if(s.tag===18){if(h===null){Je=s;try{var Rt=Je.stateNode;I?Vr(Rt,!0):Vr(Je.stateNode,!1)}catch(fr){Pn(Je,Je.return,fr)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}v&4&&(v=i.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,z3(i,h))));break;case 19:Xa(s,i),Yi(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,z3(i,v)));break;case 30:break;case 21:break;default:Xa(s,i),Yi(i)}}function Yi(i){var s=i.flags;if(s&2){try{for(var h,v=i.return;v!==null;){if(Bl(v)){h=v;break}v=v.return}if(h==null)throw Error(T(160));switch(h.tag){case 27:var I=h.stateNode,B=U2(i);iu(i,B,I);break;case 5:var re=h.stateNode;h.flags&32&&(_s(re,""),h.flags&=-33);var ve=U2(i);iu(i,ve,re);break;case 3:case 4:var Je=h.stateNode.containerInfo,Tt=U2(i);f0(i,Tt,Je);break;default:throw Error(T(161))}}catch(kt){Pn(i,i.return,kt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function B3(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;B3(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function yo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m0(i,s.alternate,s),s=s.sibling}function Ds(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Q1(4,s,s.return),Ds(s);break;case 1:zo(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&U6(s,s.return,h),Ds(s);break;case 27:X4(s.stateNode);case 26:case 5:zo(s,s.return),Ds(s);break;case 22:s.memoizedState===null&&Ds(s);break;case 30:Ds(s);break;default:Ds(s)}i=i.sibling}}function Z1(i,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var v=s.alternate,I=i,B=s,re=B.flags;switch(B.tag){case 0:case 11:case 15:Z1(I,B,h),F4(4,B);break;case 1:if(Z1(I,B,h),v=B,I=v.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Tt){Pn(v,v.return,Tt)}if(v=B,I=v.updateQueue,I!==null){var ve=v.stateNode;try{var Je=I.shared.hiddenCallbacks;if(Je!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Je.length;I++)R2(Je[I],ve)}catch(Tt){Pn(v,v.return,Tt)}}h&&re&64&&L6(B),D3(B,B.return);break;case 27:j6(B);case 26:case 5:Z1(I,B,h),h&&v===null&&re&4&&ru(B),D3(B,B.return);break;case 12:Z1(I,B,h);break;case 31:Z1(I,B,h),h&&re&4&&O3(I,B);break;case 13:Z1(I,B,h),h&&re&4&&F3(I,B);break;case 22:B.memoizedState===null&&Z1(I,B,h),D3(B,B.return);break;case 30:break;default:Z1(I,B,h)}s=s.sibling}}function ou(i,s){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&Rl(h))}function X1(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Rl(i))}function Os(i,s,h,v){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y0(i,s,h,v),s=s.sibling}function y0(i,s,h,v){var I=s.flags;switch(s.tag){case 0:case 11:case 15:Os(i,s,h,v),I&2048&&F4(9,s);break;case 1:Os(i,s,h,v);break;case 3:Os(i,s,h,v),I&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Rl(i)));break;case 12:if(I&2048){Os(i,s,h,v),i=s.stateNode;try{var B=s.memoizedProps,re=B.id,ve=B.onPostCommit;typeof ve=="function"&&ve(re,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Je){Pn(s,s.return,Je)}}else Os(i,s,h,v);break;case 31:Os(i,s,h,v);break;case 13:Os(i,s,h,v);break;case 23:break;case 22:B=s.stateNode,re=s.alternate,s.memoizedState!==null?B._visibility&2?Os(i,s,h,v):j2(i,s):B._visibility&2?Os(i,s,h,v):(B._visibility|=2,p1(i,s,h,v,(s.subtreeFlags&10256)!==0||!1)),I&2048&&ou(re,s);break;case 24:Os(i,s,h,v),I&2048&&X1(s.alternate,s);break;default:Os(i,s,h,v)}}function p1(i,s,h,v,I){for(I=I&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var B=i,re=s,ve=h,Je=v,Tt=re.flags;switch(re.tag){case 0:case 11:case 15:p1(B,re,ve,Je,I),F4(8,re);break;case 23:break;case 22:var kt=re.stateNode;re.memoizedState!==null?kt._visibility&2?p1(B,re,ve,Je,I):j2(B,re):(kt._visibility|=2,p1(B,re,ve,Je,I)),I&&Tt&2048&&ou(re.alternate,re);break;case 24:p1(B,re,ve,Je,I),I&&Tt&2048&&X1(re.alternate,re);break;default:p1(B,re,ve,Je,I)}s=s.sibling}}function j2(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=i,v=s,I=v.flags;switch(v.tag){case 22:j2(h,v),I&2048&&ou(v.alternate,v);break;case 24:j2(h,v),I&2048&&X1(v.alternate,v);break;default:j2(h,v)}s=s.sibling}}var z4=8192;function G2(i,s,h){if(i.subtreeFlags&z4)for(i=i.child;i!==null;)V6(i,s,h),i=i.sibling}function V6(i,s,h){switch(i.tag){case 26:G2(i,s,h),i.flags&z4&&i.memoizedState!==null&&W0(h,Ya,i.memoizedState,i.memoizedProps);break;case 5:G2(i,s,h);break;case 3:case 4:var v=Ya;Ya=Ru(i.stateNode.containerInfo),G2(i,s,h),Ya=v;break;case 22:i.memoizedState===null&&(v=i.alternate,v!==null&&v.memoizedState!==null?(v=z4,z4=16777216,G2(i,s,h),z4=v):G2(i,s,h));break;default:G2(i,s,h)}}function q6(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function L3(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];Gi=v,B4(v,i)}q6(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$6(i),i=i.sibling}function $6(i){switch(i.tag){case 0:case 11:case 15:L3(i),i.flags&2048&&Q1(9,i,i.return);break;case 3:L3(i);break;case 12:L3(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,su(i)):L3(i);break;default:L3(i)}}function su(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];Gi=v,B4(v,i)}q6(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Q1(8,s,s.return),su(s);break;case 22:h=s.stateNode,h._visibility&2&&(h._visibility&=-3,su(s));break;default:su(s)}i=i.sibling}}function B4(i,s){for(;Gi!==null;){var h=Gi;switch(h.tag){case 0:case 11:case 15:Q1(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Rl(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Gi=v;else e:for(h=i;Gi!==null;){v=Gi;var I=v.sibling,B=v.return;if(k4(v),v===h){Gi=null;break e}if(I!==null){I.return=B,Gi=I;break e}Gi=B}}}var U7={getCacheForType:function(i){var s=mi(li),h=s.data.get(i);return h===void 0&&(h=i(),s.data.set(i,h)),h},cacheSignal:function(){return mi(li).controller.signal}},Q6=typeof WeakMap=="function"?WeakMap:Map,Cn=0,$n=null,an=null,on=0,Dn=0,Wa=null,hs=!1,Ll=!1,_0=!1,Y1=0,yi=0,W1=0,V2=0,v0=0,va=0,q2=0,U3=null,_o=null,b0=!1,lu=0,H6=0,j3=1/0,L4=null,K1=null,Vi=0,J1=null,U4=null,ds=0,x0=0,uu=null,Z6=null,G3=0,w0=null;function vo(){return(Cn&2)!==0&&on!==0?on&-on:Ne.T!==null?I0():Nn()}function X6(){if(va===0)if((on&536870912)===0||Wr){var i=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),va=i}else va=536870912;return i=ir.current,i!==null&&(i.flags|=32),va}function bo(i,s,h){(i===$n&&(Dn===2||Dn===9)||i.cancelPendingCommit!==null)&&(G4(i,0),Ul(i,on,va,!1)),Ur(i,h),((Cn&2)===0||i!==$n)&&(i===$n&&((Cn&2)===0&&(V2|=h),yi===4&&Ul(i,on,va,!1)),Fs(i))}function Oi(i,s,h){if((Cn&6)!==0)throw Error(T(327));var v=!h&&(s&127)===0&&(s&i.expiredLanes)===0||tn(i,s),I=v?V4(i,s):du(i,s,!0),B=v;do{if(I===0){Ll&&!v&&Ul(i,s,0,!1);break}else{if(h=i.current.alternate,B&&!j7(h)){I=du(i,s,!1),B=!1;continue}if(I===2){if(B=s,i.errorRecoveryDisabledLanes&B)var re=0;else re=i.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){s=re;e:{var ve=i;I=U3;var Je=ve.current.memoizedState.isDehydrated;if(Je&&(G4(ve,re).flags|=256),re=du(ve,re,!1),re!==2){if(_0&&!Je){ve.errorRecoveryDisabledLanes|=B,V2|=B,I=4;break e}B=_o,_o=I,B!==null&&(_o===null?_o=B:_o.push.apply(_o,B))}I=re}if(B=!1,I!==2)continue}}if(I===1){G4(i,0),Ul(i,s,0,!0);break}e:{switch(v=i,B=I,B){case 0:case 1:throw Error(T(345));case 4:if((s&4194048)!==s)break;case 6:Ul(v,s,va,!hs);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(T(329))}if((s&62914560)===s&&(I=lu+300-it(),10<I)){if(Ul(v,s,va,!hs),gr(v,0,!0)!==0)break e;ds=s,v.timeoutHandle=Pu(j4.bind(null,v,h,_o,L4,b0,s,va,V2,q2,hs,B,"Throttled",-0,0),I);break e}j4(v,h,_o,L4,b0,s,va,V2,q2,hs,B,null,-0,0)}}break}while(!0);Fs(i)}function j4(i,s,h,v,I,B,re,ve,Je,Tt,kt,qt,Mt,Rt){if(i.timeoutHandle=-1,qt=s.subtreeFlags,qt&8192||(qt&16785408)===16785408){qt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Eo},V6(s,B,qt);var fr=(B&62914560)===B?lu-it():(B&4194048)===B?H6-it():0;if(fr=K0(qt,fr),fr!==null){ds=B,i.cancelPendingCommit=fr(ec.bind(null,i,s,B,h,v,I,re,ve,Je,kt,qt,null,Mt,Rt)),Ul(i,B,re,!Tt);return}}ec(i,s,B,h,v,I,re,ve,Je)}function j7(i){for(var s=i;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var I=h[v],B=I.getSnapshot;I=I.value;try{if(!Ta(B(),I))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ul(i,s,h,v){s&=~v0,s&=~V2,i.suspendedLanes|=s,i.pingedLanes&=~s,v&&(i.warmLanes|=s),v=i.expirationTimes;for(var I=s;0<I;){var B=31-Me(I),re=1<<B;v[B]=-1,I&=~re}h!==0&&Zr(i,h,s)}function V3(){return(Cn&6)===0?(Bo(0),!1):!0}function cu(){if(an!==null){if(Dn===0)var i=an.return;else i=an,es=lo=null,Rs(i),ns=null,z1=0,i=an;for(;i!==null;)tu(i.alternate,i),i=i.return;an=null}}function G4(i,s){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,L0(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),ds=0,cu(),$n=i,an=h=Va(i.current,null),on=s,Dn=0,Wa=null,hs=!1,Ll=tn(i,s),_0=!1,q2=va=v0=V2=W1=yi=0,_o=U3=null,b0=!1,(s&8)!==0&&(s|=s&32);var v=i.entangledLanes;if(v!==0)for(i=i.entanglements,v&=s;0<v;){var I=31-Me(v),B=1<<I;s|=i[I],v&=~B}return Y1=s,D1(),h}function S0(i,s){jr=null,Ne.H=mn,s===Po||s===Ca?(s=Nl(),Dn=3):s===o1?(s=Nl(),Dn=4):Dn=s===Q5?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wa=s,an===null&&(yi=1,ko(i,_a(s,i.current)))}function T0(){var i=ir.current;return i===null?!0:(on&4194048)===on?sr===null:(on&62914560)===on||(on&536870912)!==0?i===sr:!1}function $2(){var i=Ne.H;return Ne.H=mn,i===null?mn:i}function hu(){var i=Ne.A;return Ne.A=U7,i}function q3(){yi=4,hs||(on&4194048)!==on&&ir.current!==null||(Ll=!0),(W1&134217727)===0&&(V2&134217727)===0||$n===null||Ul($n,on,va,!1)}function du(i,s,h){var v=Cn;Cn|=2;var I=$2(),B=hu();($n!==i||on!==s)&&(L4=null,G4(i,s)),s=!1;var re=yi;e:do try{if(Dn!==0&&an!==null){var ve=an,Je=Wa;switch(Dn){case 8:cu(),re=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(s=!0);var Tt=Dn;if(Dn=0,Wa=null,q4(i,ve,Je,Tt),h&&Ll){re=0;break e}break;default:Tt=Dn,Dn=0,Wa=null,q4(i,ve,Je,Tt)}}fu(),re=yi;break}catch(kt){S0(i,kt)}while(!0);return s&&i.shellSuspendCounter++,es=lo=null,Cn=v,Ne.H=I,Ne.A=B,an===null&&($n=null,on=0,D1()),re}function fu(){for(;an!==null;)W6(an)}function V4(i,s){var h=Cn;Cn|=2;var v=$2(),I=hu();$n!==i||on!==s?(L4=null,j3=it()+500,G4(i,s)):Ll=tn(i,s);e:do try{if(Dn!==0&&an!==null){s=an;var B=Wa;t:switch(Dn){case 1:Dn=0,Wa=null,q4(i,s,B,1);break;case 2:case 9:if(E2(B)){Dn=0,Wa=null,K6(s);break}s=function(){Dn!==2&&Dn!==9||$n!==i||(Dn=7),Fs(i)},B.then(s,s);break e;case 3:Dn=7;break e;case 4:Dn=5;break e;case 7:E2(B)?(Dn=0,Wa=null,K6(s)):(Dn=0,Wa=null,q4(i,s,B,7));break;case 5:var re=null;switch(an.tag){case 26:re=an.memoizedState;case 5:case 27:var ve=an;if(re?e5(re):ve.stateNode.complete){Dn=0,Wa=null;var Je=ve.sibling;if(Je!==null)an=Je;else{var Tt=ve.return;Tt!==null?(an=Tt,pu(Tt)):an=null}break t}}Dn=0,Wa=null,q4(i,s,B,5);break;case 6:Dn=0,Wa=null,q4(i,s,B,6);break;case 8:cu(),yi=6;break e;default:throw Error(T(462))}}Y6();break}catch(kt){S0(i,kt)}while(!0);return es=lo=null,Ne.H=v,Ne.A=I,Cn=h,an!==null?0:($n=null,on=0,D1(),yi)}function Y6(){for(;an!==null&&!ie();)W6(an)}function W6(i){var s=Ia(i.alternate,i,Y1);i.memoizedProps=i.pendingProps,s===null?pu(i):an=s}function K6(i){var s=i,h=s.alternate;switch(s.tag){case 15:case 0:s=O6(h,s,s.pendingProps,s.type,void 0,on);break;case 11:s=O6(h,s,s.pendingProps,s.type.render,s.ref,on);break;case 5:Rs(s);default:tu(h,s),s=an=j5(s,Y1),s=Ia(h,s,Y1)}i.memoizedProps=i.pendingProps,s===null?pu(i):an=s}function q4(i,s,h,v){es=lo=null,Rs(s),ns=null,z1=0;var I=s.return;try{if($5(i,I,s,h,on)){yi=1,ko(i,_a(h,i.current)),an=null;return}}catch(B){if(I!==null)throw an=I,B;yi=1,ko(i,_a(h,i.current)),an=null;return}s.flags&32768?(Wr||v===1?i=!0:Ll||(on&536870912)!==0?i=!1:(hs=i=!0,(v===2||v===9||v===3||v===6)&&(v=ir.current,v!==null&&v.tag===13&&(v.flags|=16384))),J6(s,i)):pu(s)}function pu(i){var s=i;do{if((s.flags&32768)!==0){J6(s,hs);return}i=s.return;var h=B6(s.alternate,s,Y1);if(h!==null){an=h;return}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);yi===0&&(yi=5)}function J6(i,s){do{var h=B7(i.alternate,i);if(h!==null){h.flags&=32767,an=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(i=i.sibling,i!==null)){an=i;return}an=i=h}while(i!==null);yi=6,an=null}function ec(i,s,h,v,I,B,re,ve,Je){i.cancelPendingCommit=null;do mu();while(Vi!==0);if((Cn&6)!==0)throw Error(T(327));if(s!==null){if(s===i.current)throw Error(T(177));if(B=s.lanes|s.childLanes,B|=N1,zr(i,h,B,re,ve,Je),i===$n&&(an=$n=null,on=0),U4=s,J1=i,ds=h,x0=B,uu=I,Z6=v,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oc(de,function(){return ac(),null})):(i.callbackNode=null,i.callbackPriority=0),v=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||v){v=Ne.T,Ne.T=null,I=Te.p,Te.p=2,re=Cn,Cn|=4;try{L7(i,s,h)}finally{Cn=re,Te.p=I,Ne.T=v}}Vi=1,tc(),rc(),nc()}}function tc(){if(Vi===1){Vi=0;var i=J1,s=U4,h=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||h){h=Ne.T,Ne.T=null;var v=Te.p;Te.p=2;var I=Cn;Cn|=4;try{au(s,i);var B=z0,re=d4(i.containerInfo),ve=B.focusedElem,Je=B.selectionRange;if(re!==ve&&ve&&ve.ownerDocument&&h4(ve.ownerDocument.documentElement,ve)){if(Je!==null&&g2(ve)){var Tt=Je.start,kt=Je.end;if(kt===void 0&&(kt=Tt),"selectionStart"in ve)ve.selectionStart=Tt,ve.selectionEnd=Math.min(kt,ve.value.length);else{var qt=ve.ownerDocument||document,Mt=qt&&qt.defaultView||window;if(Mt.getSelection){var Rt=Mt.getSelection(),fr=ve.textContent.length,Tr=Math.min(Je.start,fr),On=Je.end===void 0?Tr:Math.min(Je.end,fr);!Rt.extend&&Tr>On&&(re=On,On=Tr,Tr=re);var pt=m2(ve,Tr),at=m2(ve,On);if(pt&&at&&(Rt.rangeCount!==1||Rt.anchorNode!==pt.node||Rt.anchorOffset!==pt.offset||Rt.focusNode!==at.node||Rt.focusOffset!==at.offset)){var wt=qt.createRange();wt.setStart(pt.node,pt.offset),Rt.removeAllRanges(),Tr>On?(Rt.addRange(wt),Rt.extend(at.node,at.offset)):(wt.setEnd(at.node,at.offset),Rt.addRange(wt))}}}}for(qt=[],Rt=ve;Rt=Rt.parentNode;)Rt.nodeType===1&&qt.push({element:Rt,left:Rt.scrollLeft,top:Rt.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<qt.length;ve++){var Ut=qt[ve];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}a5=!!X3,z0=X3=null}finally{Cn=I,Te.p=v,Ne.T=h}}i.current=s,Vi=2}}function rc(){if(Vi===2){Vi=0;var i=J1,s=U4,h=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||h){h=Ne.T,Ne.T=null;var v=Te.p;Te.p=2;var I=Cn;Cn|=4;try{m0(i,s.alternate,s)}finally{Cn=I,Te.p=v,Ne.T=h}}Vi=3}}function nc(){if(Vi===4||Vi===3){Vi=0,ke();var i=J1,s=U4,h=ds,v=Z6;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Vi=5:(Vi=0,U4=J1=null,ic(i,i.pendingLanes));var I=i.pendingLanes;if(I===0&&(K1=null),Ft(h),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ot,s,void 0,(s.current.flags&128)===128)}catch{}if(v!==null){s=Ne.T,I=Te.p,Te.p=2,Ne.T=null;try{for(var B=i.onRecoverableError,re=0;re<v.length;re++){var ve=v[re];B(ve.value,{componentStack:ve.stack})}}finally{Ne.T=s,Te.p=I}}(ds&3)!==0&&mu(),Fs(i),I=i.pendingLanes,(h&261930)!==0&&(I&42)!==0?i===w0?G3++:(G3=0,w0=i):G3=0,Bo(0)}}function ic(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Rl(s)))}function mu(){return tc(),rc(),nc(),ac()}function ac(){if(Vi!==5)return!1;var i=J1,s=x0;x0=0;var h=Ft(ds),v=Ne.T,I=Te.p;try{Te.p=32>h?32:h,Ne.T=null,h=uu,uu=null;var B=J1,re=ds;if(Vi=0,U4=J1=null,ds=0,(Cn&6)!==0)throw Error(T(331));var ve=Cn;if(Cn|=4,$6(B.current),y0(B,B.current,re,h),Cn=ve,Bo(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ot,B)}catch{}return!0}finally{Te.p=I,Ne.T=v,ic(i,s)}}function A0(i,s,h){s=_a(h,s),s=z2(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(Ur(i,2),Fs(i))}function Pn(i,s,h){if(i.tag===3)A0(i,i,h);else for(;s!==null;){if(s.tag===3){A0(s,i,h);break}else if(s.tag===1){var v=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(K1===null||!K1.has(v))){i=_a(h,i),h=B2(2),v=Es(s,h,2),v!==null&&(L2(h,v,s,i),Ur(v,2),Fs(v));break}}s=s.return}}function gu(i,s,h){var v=i.pingCache;if(v===null){v=i.pingCache=new Q6;var I=new Set;v.set(s,I)}else I=v.get(s),I===void 0&&(I=new Set,v.set(s,I));I.has(h)||(_0=!0,I.add(h),i=jl.bind(null,i,s,h),s.then(i,i))}function jl(i,s,h){var v=i.pingCache;v!==null&&v.delete(s),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,$n===i&&(on&h)===h&&(yi===4||yi===3&&(on&62914560)===on&&300>it()-lu?(Cn&2)===0&&G4(i,0):v0|=h,q2===on&&(q2=0)),Fs(i)}function $3(i,s){s===0&&(s=Mr()),i=so(i,s),i!==null&&(Ur(i,s),Fs(i))}function E0(i){var s=i.memoizedState,h=0;s!==null&&(h=s.retryLane),$3(i,h)}function G7(i,s){var h=0;switch(i.tag){case 31:case 13:var v=i.stateNode,I=i.memoizedState;I!==null&&(h=I.retryLane);break;case 19:v=i.stateNode;break;case 22:v=i.stateNode._retryCache;break;default:throw Error(T(314))}v!==null&&v.delete(s),$3(i,h)}function oc(i,s){return be(i,s)}var yu=null,$4=null,M0=!1,_u=!1,C0=!1,el=0;function Fs(i){i!==$4&&i.next===null&&($4===null?yu=$4=i:$4=$4.next=i),_u=!0,M0||(M0=!0,R0())}function Bo(i,s){if(!C0&&_u){C0=!0;do for(var h=!1,v=yu;v!==null;){if(i!==0){var I=v.pendingLanes;if(I===0)var B=0;else{var re=v.suspendedLanes,ve=v.pingedLanes;B=(1<<31-Me(42|i)+1)-1,B&=I&~(re&~ve),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(h=!0,Q3(v,B))}else B=on,B=gr(v,v===$n?B:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(B&3)===0||tn(v,B)||(h=!0,Q3(v,B));v=v.next}while(h);C0=!1}}function Gl(){P0()}function P0(){_u=M0=!1;var i=0;el!==0&&Cu()&&(i=el);for(var s=it(),h=null,v=yu;v!==null;){var I=v.next,B=vu(v,s);B===0?(v.next=null,h===null?yu=I:h.next=I,I===null&&($4=h)):(h=v,(i!==0||(B&3)!==0)&&(_u=!0)),v=I}Vi!==0&&Vi!==5||Bo(i),el!==0&&(el=0)}function vu(i,s){for(var h=i.suspendedLanes,v=i.pingedLanes,I=i.expirationTimes,B=i.pendingLanes&-62914561;0<B;){var re=31-Me(B),ve=1<<re,Je=I[re];Je===-1?((ve&h)===0||(ve&v)!==0)&&(I[re]=vr(ve,s)):Je<=s&&(i.expiredLanes|=ve),B&=~ve}if(s=$n,h=on,h=gr(i,i===s?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v=i.callbackNode,h===0||i===s&&(Dn===2||Dn===9)||i.cancelPendingCommit!==null)return v!==null&&v!==null&&te(v),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||tn(i,h)){if(s=h&-h,s===i.callbackPriority)return s;switch(v!==null&&te(v),Ft(h)){case 2:case 8:h=le;break;case 32:h=de;break;case 268435456:h=Ue;break;default:h=de}return v=sc.bind(null,i),h=be(h,v),i.callbackPriority=s,i.callbackNode=h,s}return v!==null&&v!==null&&te(v),i.callbackPriority=2,i.callbackNode=null,2}function sc(i,s){if(Vi!==0&&Vi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(mu()&&i.callbackNode!==h)return null;var v=on;return v=gr(i,i===$n?v:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v===0?null:(Oi(i,v,s),vu(i,it()),i.callbackNode!=null&&i.callbackNode===h?sc.bind(null,i):null)}function Q3(i,s){if(mu())return null;Oi(i,s,!0)}function R0(){j0(function(){(Cn&6)!==0?be(Re,Gl):P0()})}function I0(){if(el===0){var i=k1;i===0&&(i=Qt,Qt<<=1,(Qt&261888)===0&&(Qt=256)),el=i}return el}function bu(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dr(""+i)}function xu(i,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,i.id&&h.setAttribute("form",i.id),s.parentNode.insertBefore(h,s),i=new FormData(i),h.parentNode.removeChild(h),i}function Q4(i,s,h,v,I){if(s==="submit"&&h&&h.stateNode===I){var B=bu((I[Lt]||null).action),re=v.submitter;re&&(s=(s=re[Lt]||null)?bu(s.formAction):re.getAttribute("formAction"),s!==null&&(B=s,re=null));var ve=new i2("action","action",null,v,I);i.push({event:ve,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(el!==0){var Je=re?xu(I,re):new FormData(I);ti(h,{pending:!0,data:Je,method:I.method,action:B},null,Je)}}else typeof B=="function"&&(ve.preventDefault(),Je=re?xu(I,re):new FormData(I),ti(h,{pending:!0,data:Je,method:I.method,action:B},B,Je))},currentTarget:I}]})}}for(var wu=0;wu<g4.length;wu++){var Su=g4[wu],N0=Su.toLowerCase(),lc=Su[0].toUpperCase()+Su.slice(1);ja(N0,"on"+lc)}ja(v2,"onAnimationEnd"),ja(b2,"onAnimationIteration"),ja(m4,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(I1,"onTransitionRun"),ja(x2,"onTransitionStart"),ja(Al,"onTransitionCancel"),ja(Ua,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function cc(i,s){s=(s&4)!==0;for(var h=0;h<i.length;h++){var v=i[h],I=v.event;v=v.listeners;e:{var B=void 0;if(s)for(var re=v.length-1;0<=re;re--){var ve=v[re],Je=ve.instance,Tt=ve.currentTarget;if(ve=ve.listener,Je!==B&&I.isPropagationStopped())break e;B=ve,I.currentTarget=Tt;try{B(I)}catch(kt){Zo(kt)}I.currentTarget=null,B=Je}else for(re=0;re<v.length;re++){if(ve=v[re],Je=ve.instance,Tt=ve.currentTarget,ve=ve.listener,Je!==B&&I.isPropagationStopped())break e;B=ve,I.currentTarget=Tt;try{B(I)}catch(kt){Zo(kt)}I.currentTarget=null,B=Je}}}}function sn(i,s){var h=s[wr];h===void 0&&(h=s[wr]=new Set);var v=i+"__bubble";h.has(v)||(Au(s,i,2,!1),h.add(v))}function D0(i,s,h){var v=0;s&&(v|=4),Au(h,i,v,s)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function O0(i){if(!i[Tu]){i[Tu]=!0,kn.forEach(function(h){h!=="selectionchange"&&(uc.has(h)||D0(h,!1,i),D0(h,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Tu]||(s[Tu]=!0,D0("selectionchange",!1,s))}}function Au(i,s,h,v){switch(Z2(s)){case 2:var I=o5;break;case 8:I=Tc;break;default:I=e6}h=I.bind(null,s,h,i),I=void 0,!fa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(I=!0),v?I!==void 0?i.addEventListener(s,h,{capture:!0,passive:I}):i.addEventListener(s,h,!0):I!==void 0?i.addEventListener(s,h,{passive:I}):i.addEventListener(s,h,!1)}function m1(i,s,h,v,I){var B=v;if((s&1)===0&&(s&2)===0&&v!==null)e:for(;;){if(v===null)return;var re=v.tag;if(re===3||re===4){var ve=v.stateNode.containerInfo;if(ve===I)break;if(re===4)for(re=v.return;re!==null;){var Je=re.tag;if((Je===3||Je===4)&&re.stateNode.containerInfo===I)return;re=re.return}for(;ve!==null;){if(re=lr(ve),re===null)return;if(Je=re.tag,Je===5||Je===6||Je===26||Je===27){v=B=re;continue e}ve=ve.parentNode}}v=v.return}Tn(function(){var Tt=B,kt=n2(h),qt=[];e:{var Mt=m3.get(i);if(Mt!==void 0){var Rt=i2,fr=i;switch(i){case"keypress":if(La(h)===0)break e;case"keydown":case"keyup":Rt=Jn;break;case"focusin":fr="focus",Rt=Zs;break;case"focusout":fr="blur",Rt=Zs;break;case"beforeblur":case"afterblur":Rt=Zs;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=a2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=n0;break;case v2:case b2:case m4:Rt=P5;break;case Ua:Rt=s4;break;case"scroll":case"scrollend":Rt=A1;break;case"wheel":Rt=c3;break;case"copy":case"cut":case"paste":Rt=l3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=o4;break;case"toggle":case"beforetoggle":Rt=vl}var Tr=(s&4)!==0,On=!Tr&&(i==="scroll"||i==="scrollend"),pt=Tr?Mt!==null?Mt+"Capture":null:Mt;Tr=[];for(var at=Tt,wt;at!==null;){var Ut=at;if(wt=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||wt===null||pt===null||(Ut=no(at,pt),Ut!=null&&Tr.push(H4(at,Ut,wt))),On)break;at=at.return}0<Tr.length&&(Mt=new Rt(Mt,fr,null,h,kt),qt.push({event:Mt,listeners:Tr}))}}if((s&7)===0){e:{if(Mt=i==="mouseover"||i==="pointerover",Rt=i==="mouseout"||i==="pointerout",Mt&&h!==s3&&(fr=h.relatedTarget||h.fromElement)&&(lr(fr)||fr[dr]))break e;if((Rt||Mt)&&(Mt=kt.window===kt?kt:(Mt=kt.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,Rt?(fr=h.relatedTarget||h.toElement,Rt=Tt,fr=fr?lr(fr):null,fr!==null&&(On=A(fr),Tr=fr.tag,fr!==On||Tr!==5&&Tr!==27&&Tr!==6)&&(fr=null)):(Rt=null,fr=Tt),Rt!==fr)){if(Tr=E1,Ut="onMouseLeave",pt="onMouseEnter",at="mouse",(i==="pointerout"||i==="pointerover")&&(Tr=o4,Ut="onPointerLeave",pt="onPointerEnter",at="pointer"),On=Rt==null?Mt:Br(Rt),wt=fr==null?Mt:Br(fr),Mt=new Tr(Ut,at+"leave",Rt,h,kt),Mt.target=On,Mt.relatedTarget=wt,Ut=null,lr(kt)===Tt&&(Tr=new Tr(pt,at+"enter",fr,h,kt),Tr.target=wt,Tr.relatedTarget=On,Ut=Tr),On=Ut,Rt&&fr)t:{for(Tr=hc,pt=Rt,at=fr,wt=0,Ut=pt;Ut;Ut=Tr(Ut))wt++;Ut=0;for(var Sr=at;Sr;Sr=Tr(Sr))Ut++;for(;0<wt-Ut;)pt=Tr(pt),wt--;for(;0<Ut-wt;)at=Tr(at),Ut--;for(;wt--;){if(pt===at||at!==null&&pt===at.alternate){Tr=pt;break t}pt=Tr(pt),at=Tr(at)}Tr=null}else Tr=null;Rt!==null&&F0(qt,Mt,Rt,Tr,!1),fr!==null&&On!==null&&F0(qt,On,fr,Tr,!0)}}e:{if(Mt=Tt?Br(Tt):window,Rt=Mt.nodeName&&Mt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&Mt.type==="file")var xn=Ws;else if(u4(Mt))if(h3)xn=L5;else{xn=B5;var pr=i0}else Rt=Mt.nodeName,!Rt||Rt.toLowerCase()!=="input"||Mt.type!=="checkbox"&&Mt.type!=="radio"?Tt&&w1(Tt.elementType)&&(xn=Ws):xn=p2;if(xn&&(xn=xn(i,Tt))){c4(qt,xn,h,kt);break e}pr&&pr(i,Mt,Tt),i==="focusout"&&Tt&&Mt.type==="number"&&Tt.memoizedProps.value!=null&&qo(Mt,"number",Mt.value)}switch(pr=Tt?Br(Tt):window,i){case"focusin":(u4(pr)||pr.contentEditable==="true")&&(oo=pr,y2=Tt,_2=null);break;case"focusout":_2=y2=oo=null;break;case"mousedown":p4=!0;break;case"contextmenu":case"mouseup":case"dragend":p4=!1,U5(qt,h,kt);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":U5(qt,h,kt)}var br;if(si)e:{switch(i){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Mo?c2(i,h)&&(nn="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(nn="onCompositionStart");nn&&(Sl&&h.locale!=="ko"&&(Mo||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Mo&&(br=Qs()):(Ba=kt,$o="value"in Ba?Ba.value:Ba.textContent,Mo=!0)),pr=H3(Tt,nn),0<pr.length&&(nn=new u3(nn,i,null,h,kt),qt.push({event:nn,listeners:pr}),br?nn.data=br:(br=D5(h),br!==null&&(nn.data=br)))),(br=wl?l4(i,h):O5(i,h))&&(nn=H3(Tt,"onBeforeInput"),0<nn.length&&(pr=new u3("onBeforeInput","beforeinput",null,h,kt),qt.push({event:pr,listeners:nn}),pr.data=br)),Q4(qt,i,Tt,h,kt)}cc(qt,s)})}function H4(i,s,h){return{instance:i,listener:s,currentTarget:h}}function H3(i,s){for(var h=s+"Capture",v=[];i!==null;){var I=i,B=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||B===null||(I=no(i,h),I!=null&&v.unshift(H4(i,I,B)),I=no(i,s),I!=null&&v.push(H4(i,I,B))),i.tag===3)return v;i=i.return}return[]}function hc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F0(i,s,h,v,I){for(var B=s._reactName,re=[];h!==null&&h!==v;){var ve=h,Je=ve.alternate,Tt=ve.stateNode;if(ve=ve.tag,Je!==null&&Je===v)break;ve!==5&&ve!==26&&ve!==27||Tt===null||(Je=Tt,I?(Tt=no(h,B),Tt!=null&&re.unshift(H4(h,Tt,Je))):I||(Tt=no(h,B),Tt!=null&&re.push(H4(h,Tt,Je)))),h=h.return}re.length!==0&&i.push({event:s,listeners:re})}var dc=/\r\n?/g,fc=/\u0000|\uFFFD/g;function Z3(i){return(typeof i=="string"?i:""+i).replace(dc,`
`).replace(fc,"")}function k0(i,s){return s=Z3(s),Z3(i)===s}function bn(i,s,h,v,I,B){switch(h){case"children":typeof v=="string"?s==="body"||s==="textarea"&&v===""||_s(i,v):(typeof v=="number"||typeof v=="bigint")&&s!=="body"&&_s(i,""+v);break;case"className":Sa(i,"class",v);break;case"tabIndex":Sa(i,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(i,h,v);break;case"style":a4(i,v,B);break;case"data":if(s!=="object"){Sa(i,"data",v);break}case"src":case"href":if(v===""&&(s!=="a"||h!=="href")){i.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(h);break}v=Dr(""+v),i.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(h==="formAction"?(s!=="input"&&bn(i,s,"name",I.name,I,null),bn(i,s,"formEncType",I.formEncType,I,null),bn(i,s,"formMethod",I.formMethod,I,null),bn(i,s,"formTarget",I.formTarget,I,null)):(bn(i,s,"encType",I.encType,I,null),bn(i,s,"method",I.method,I,null),bn(i,s,"target",I.target,I,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(h);break}v=Dr(""+v),i.setAttribute(h,v);break;case"onClick":v!=null&&(i.onclick=Eo);break;case"onScroll":v!=null&&sn("scroll",i);break;case"onScrollEnd":v!=null&&sn("scrollend",i);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(T(61));if(h=v.__html,h!=null){if(I.children!=null)throw Error(T(60));i.innerHTML=h}}break;case"multiple":i.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":i.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){i.removeAttribute("xlink:href");break}h=Dr(""+v),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(h,""+v):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":v===!0?i.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(h,v):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?i.setAttribute(h,v):i.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?i.removeAttribute(h):i.setAttribute(h,v);break;case"popover":sn("beforetoggle",i),sn("toggle",i),Gs(i,"popover",v);break;case"xlinkActuate":da(i,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":da(i,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":da(i,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":da(i,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":da(i,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":da(i,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":da(i,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":da(i,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":da(i,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Gs(i,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=$s.get(h)||h,Gs(i,h,v))}}function Eu(i,s,h,v,I,B){switch(h){case"style":a4(i,v,B);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(T(61));if(h=v.__html,h!=null){if(I.children!=null)throw Error(T(60));i.innerHTML=h}}break;case"children":typeof v=="string"?_s(i,v):(typeof v=="number"||typeof v=="bigint")&&_s(i,""+v);break;case"onScroll":v!=null&&sn("scroll",i);break;case"onScrollEnd":v!=null&&sn("scrollend",i);break;case"onClick":v!=null&&(i.onclick=Eo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(I=h.endsWith("Capture"),s=h.slice(2,I?h.length-7:void 0),B=i[Lt]||null,B=B!=null?B[h]:null,typeof B=="function"&&i.removeEventListener(s,B,I),typeof v=="function")){typeof B!="function"&&B!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(s,v,I);break e}h in i?i[h]=v:v===!0?i.setAttribute(h,""):Gs(i,h,v)}}}function Wi(i,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",i),sn("load",i);var v=!1,I=!1,B;for(B in h)if(h.hasOwnProperty(B)){var re=h[B];if(re!=null)switch(B){case"src":v=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,s));default:bn(i,s,B,re,h,null)}}I&&bn(i,s,"srcSet",h.srcSet,h,null),v&&bn(i,s,"src",h.src,h,null);return;case"input":sn("invalid",i);var ve=B=re=I=null,Je=null,Tt=null;for(v in h)if(h.hasOwnProperty(v)){var kt=h[v];if(kt!=null)switch(v){case"name":I=kt;break;case"type":re=kt;break;case"checked":Je=kt;break;case"defaultChecked":Tt=kt;break;case"value":B=kt;break;case"defaultValue":ve=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(T(137,s));break;default:bn(i,s,v,kt,h,null)}}qs(i,B,ve,Je,Tt,re,I,!1);return;case"select":sn("invalid",i),v=re=B=null;for(I in h)if(h.hasOwnProperty(I)&&(ve=h[I],ve!=null))switch(I){case"value":B=ve;break;case"defaultValue":re=ve;break;case"multiple":v=ve;default:bn(i,s,I,ve,h,null)}s=B,h=re,i.multiple=!!v,s!=null?tt(i,!!v,s,!1):h!=null&&tt(i,!!v,h,!0);return;case"textarea":sn("invalid",i),B=I=v=null;for(re in h)if(h.hasOwnProperty(re)&&(ve=h[re],ve!=null))switch(re){case"value":v=ve;break;case"defaultValue":I=ve;break;case"children":B=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(T(91));break;default:bn(i,s,re,ve,h,null)}ml(i,v,I,B);return;case"option":for(Je in h)h.hasOwnProperty(Je)&&(v=h[Je],v!=null)&&(Je==="selected"?i.selected=v&&typeof v!="function"&&typeof v!="symbol":bn(i,s,Je,v,h,null));return;case"dialog":sn("beforetoggle",i),sn("toggle",i),sn("cancel",i),sn("close",i);break;case"iframe":case"object":sn("load",i);break;case"video":case"audio":for(v=0;v<Vl.length;v++)sn(Vl[v],i);break;case"image":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"embed":case"source":case"link":sn("error",i),sn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Tt in h)if(h.hasOwnProperty(Tt)&&(v=h[Tt],v!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,s));default:bn(i,s,Tt,v,h,null)}return;default:if(w1(s)){for(kt in h)h.hasOwnProperty(kt)&&(v=h[kt],v!==void 0&&Eu(i,s,kt,v,h,void 0));return}}for(ve in h)h.hasOwnProperty(ve)&&(v=h[ve],v!=null&&bn(i,s,ve,v,h,null))}function pc(i,s,h,v){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,B=null,re=null,ve=null,Je=null,Tt=null,kt=null;for(Rt in h){var qt=h[Rt];if(h.hasOwnProperty(Rt)&&qt!=null)switch(Rt){case"checked":break;case"value":break;case"defaultValue":Je=qt;default:v.hasOwnProperty(Rt)||bn(i,s,Rt,null,v,qt)}}for(var Mt in v){var Rt=v[Mt];if(qt=h[Mt],v.hasOwnProperty(Mt)&&(Rt!=null||qt!=null))switch(Mt){case"type":B=Rt;break;case"name":I=Rt;break;case"checked":Tt=Rt;break;case"defaultChecked":kt=Rt;break;case"value":re=Rt;break;case"defaultValue":ve=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(T(137,s));break;default:Rt!==qt&&bn(i,s,Mt,Rt,v,qt)}}Vs(i,re,ve,Je,Tt,kt,B,I);return;case"select":Rt=re=ve=Mt=null;for(B in h)if(Je=h[B],h.hasOwnProperty(B)&&Je!=null)switch(B){case"value":break;case"multiple":Rt=Je;default:v.hasOwnProperty(B)||bn(i,s,B,null,v,Je)}for(I in v)if(B=v[I],Je=h[I],v.hasOwnProperty(I)&&(B!=null||Je!=null))switch(I){case"value":Mt=B;break;case"defaultValue":ve=B;break;case"multiple":re=B;default:B!==Je&&bn(i,s,I,B,v,Je)}s=ve,h=re,v=Rt,Mt!=null?tt(i,!!h,Mt,!1):!!v!=!!h&&(s!=null?tt(i,!!h,s,!0):tt(i,!!h,h?[]:"",!1));return;case"textarea":Rt=Mt=null;for(ve in h)if(I=h[ve],h.hasOwnProperty(ve)&&I!=null&&!v.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:bn(i,s,ve,null,v,I)}for(re in v)if(I=v[re],B=h[re],v.hasOwnProperty(re)&&(I!=null||B!=null))switch(re){case"value":Mt=I;break;case"defaultValue":Rt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(T(91));break;default:I!==B&&bn(i,s,re,I,v,B)}M5(i,Mt,Rt);return;case"option":for(var fr in h)Mt=h[fr],h.hasOwnProperty(fr)&&Mt!=null&&!v.hasOwnProperty(fr)&&(fr==="selected"?i.selected=!1:bn(i,s,fr,null,v,Mt));for(Je in v)Mt=v[Je],Rt=h[Je],v.hasOwnProperty(Je)&&Mt!==Rt&&(Mt!=null||Rt!=null)&&(Je==="selected"?i.selected=Mt&&typeof Mt!="function"&&typeof Mt!="symbol":bn(i,s,Je,Mt,v,Rt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in h)Mt=h[Tr],h.hasOwnProperty(Tr)&&Mt!=null&&!v.hasOwnProperty(Tr)&&bn(i,s,Tr,null,v,Mt);for(Tt in v)if(Mt=v[Tt],Rt=h[Tt],v.hasOwnProperty(Tt)&&Mt!==Rt&&(Mt!=null||Rt!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(T(137,s));break;default:bn(i,s,Tt,Mt,v,Rt)}return;default:if(w1(s)){for(var On in h)Mt=h[On],h.hasOwnProperty(On)&&Mt!==void 0&&!v.hasOwnProperty(On)&&Eu(i,s,On,void 0,v,Mt);for(kt in v)Mt=v[kt],Rt=h[kt],!v.hasOwnProperty(kt)||Mt===Rt||Mt===void 0&&Rt===void 0||Eu(i,s,kt,Mt,v,Rt);return}}for(var pt in h)Mt=h[pt],h.hasOwnProperty(pt)&&Mt!=null&&!v.hasOwnProperty(pt)&&bn(i,s,pt,null,v,Mt);for(qt in v)Mt=v[qt],Rt=h[qt],!v.hasOwnProperty(qt)||Mt===Rt||Mt==null&&Rt==null||bn(i,s,qt,Mt,v,Rt)}function xo(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var I=h[v],B=I.transferSize,re=I.initiatorType,ve=I.duration;if(B&&ve&&xo(re)){for(re=0,ve=I.responseEnd,v+=1;v<h.length;v++){var Je=h[v],Tt=Je.startTime;if(Tt>ve)break;var kt=Je.transferSize,qt=Je.initiatorType;kt&&xo(qt)&&(Je=Je.responseEnd,re+=kt*(Je<ve?1:(ve-Tt)/(Je-Tt)))}if(--v,s+=8*(B+re)/(I.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var X3=null,z0=null;function Y3(i){return i.nodeType===9?i:i.ownerDocument}function ql(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Mu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $l=null;function Cu(){var i=window.event;return i&&i.type==="popstate"?i===$l?!1:($l=i,!0):($l=null,!1)}var Pu=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(i){return U0.resolve(null).then(i).catch(G0)}:Pu;function G0(i){setTimeout(function(){throw i})}function Ql(i){return i==="head"}function mc(i,s){var h=s,v=0;do{var I=h.nextSibling;if(i.removeChild(h),I&&I.nodeType===8)if(h=I.data,h==="/$"||h==="/&"){if(v===0){i.removeChild(I),Kl(s);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")X4(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,X4(h);for(var B=h.firstChild;B;){var re=B.nextSibling,ve=B.nodeName;B[yr]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&B.rel.toLowerCase()==="stylesheet"||h.removeChild(B),B=re}}else h==="body"&&X4(i.ownerDocument.body);h=I}while(h);Kl(s)}function Vr(i,s){var h=i;i=0;do{var v=h.nextSibling;if(h.nodeType===1?s?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(s?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=v}while(h)}function ks(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":ks(h),ca(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function ia(i,s,h,v){for(;i.nodeType===1;){var I=h;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!v&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(v){if(!i[yr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(B=i.getAttribute("rel"),B==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(B!==I.rel||i.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||i.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||i.getAttribute("title")!==(I.title==null?null:I.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(B=i.getAttribute("src"),(B!==(I.src==null?null:I.src)||i.getAttribute("type")!==(I.type==null?null:I.type)||i.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&B&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var B=I.name==null?null:""+I.name;if(I.type==="hidden"&&i.getAttribute("name")===B)return i}else return i;if(i=Lo(i.nextSibling),i===null)break}return null}function zs(i,s,h){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=Lo(i.nextSibling),i===null))return null;return i}function Hl(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Lo(i.nextSibling),i===null))return null;return i}function Na(i){return i.data==="$?"||i.data==="$~"}function Mi(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function qi(i,s){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||h.readyState!=="loading")s();else{var v=function(){s(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),i._reactRetry=v}}function Lo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ka=null;function $i(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(s===0)return Lo(i.nextSibling);s--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||s++}i=i.nextSibling}return null}function W3(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(s===0)return i;s--}else h!=="/$"&&h!=="/&"||s++}i=i.previousSibling}return null}function gc(i,s,h){switch(s=Y3(h),i){case"html":if(i=s.documentElement,!i)throw Error(T(452));return i;case"head":if(i=s.head,!i)throw Error(T(453));return i;case"body":if(i=s.body,!i)throw Error(T(454));return i;default:throw Error(T(451))}}function X4(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ca(i)}var aa=new Map,Q2=new Set;function Ru(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var g1=Te.d;Te.d={f:yc,r:_c,D:q0,C:Da,L:Bs,m:Oa,X:Iu,S:Xl,M:$0};function yc(){var i=g1.f(),s=V3();return i||s}function _c(i){var s=Ir(i);s!==null&&s.tag===5&&s.type==="form"?Li(s):g1.r(i)}var Zl=typeof document>"u"?null:document;function V0(i,s,h){var v=Zl;if(v&&typeof s=="string"&&s){var I=Pi(s);I='link[rel="'+i+'"][href="'+I+'"]',typeof h=="string"&&(I+='[crossorigin="'+h+'"]'),Q2.has(I)||(Q2.add(I),i={rel:i,crossOrigin:h,href:s},v.querySelector(I)===null&&(s=v.createElement("link"),Wi(s,"link",i),_r(s),v.head.appendChild(s)))}}function q0(i){g1.D(i),V0("dns-prefetch",i,null)}function Da(i,s){g1.C(i,s),V0("preconnect",i,s)}function Bs(i,s,h){g1.L(i,s,h);var v=Zl;if(v&&i&&s){var I='link[rel="preload"][as="'+Pi(s)+'"]';s==="image"&&h&&h.imageSrcSet?(I+='[imagesrcset="'+Pi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(I+='[imagesizes="'+Pi(h.imageSizes)+'"]')):I+='[href="'+Pi(i)+'"]';var B=I;switch(s){case"style":B=H2(i);break;case"script":B=tl(i)}aa.has(B)||(i=C({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:i,as:s},h),aa.set(B,i),v.querySelector(I)!==null||s==="style"&&v.querySelector(Y4(B))||s==="script"&&v.querySelector(W4(B))||(s=v.createElement("link"),Wi(s,"link",i),_r(s),v.head.appendChild(s)))}}function Oa(i,s){g1.m(i,s);var h=Zl;if(h&&i){var v=s&&typeof s.as=="string"?s.as:"script",I='link[rel="modulepreload"][as="'+Pi(v)+'"][href="'+Pi(i)+'"]',B=I;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=tl(i)}if(!aa.has(B)&&(i=C({rel:"modulepreload",href:i},s),aa.set(B,i),h.querySelector(I)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(W4(B)))return}v=h.createElement("link"),Wi(v,"link",i),_r(v),h.head.appendChild(v)}}}function Xl(i,s,h){g1.S(i,s,h);var v=Zl;if(v&&i){var I=Nr(v).hoistableStyles,B=H2(i);s=s||"default";var re=I.get(B);if(!re){var ve={loading:0,preload:null};if(re=v.querySelector(Y4(B)))ve.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},h),(h=aa.get(B))&&K3(i,h);var Je=re=v.createElement("link");_r(Je),Wi(Je,"link",i),Je._p=new Promise(function(Tt,kt){Je.onload=Tt,Je.onerror=kt}),Je.addEventListener("load",function(){ve.loading|=1}),Je.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,rl(re,s,v)}re={type:"stylesheet",instance:re,count:1,state:ve},I.set(B,re)}}}function Iu(i,s){g1.X(i,s);var h=Zl;if(h&&i){var v=Nr(h).hoistableScripts,I=tl(i),B=v.get(I);B||(B=h.querySelector(W4(I)),B||(i=C({src:i,async:!0},s),(s=aa.get(I))&&Nu(i,s),B=h.createElement("script"),_r(B),Wi(B,"link",i),h.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},v.set(I,B))}}function $0(i,s){g1.M(i,s);var h=Zl;if(h&&i){var v=Nr(h).hoistableScripts,I=tl(i),B=v.get(I);B||(B=h.querySelector(W4(I)),B||(i=C({src:i,async:!0,type:"module"},s),(s=aa.get(I))&&Nu(i,s),B=h.createElement("script"),_r(B),Wi(B,"link",i),h.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},v.set(I,B))}}function Q0(i,s,h,v){var I=(I=mt.current)?Ru(I):null;if(!I)throw Error(T(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=H2(h.href),h=Nr(I).hoistableStyles,v=h.get(s),v||(v={type:"style",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=H2(h.href);var B=Nr(I).hoistableStyles,re=B.get(i);if(re||(I=I.ownerDocument||I,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(i,re),(B=I.querySelector(Y4(i)))&&!B._p&&(re.instance=B,re.state.loading=5),aa.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},aa.set(i,h),B||Z0(I,i,h,re.state))),s&&v===null)throw Error(T(528,""));return re}if(s&&v!==null)throw Error(T(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tl(h),h=Nr(I).hoistableScripts,v=h.get(s),v||(v={type:"script",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,i))}}function H2(i){return'href="'+Pi(i)+'"'}function Y4(i){return'link[rel="stylesheet"]['+i+"]"}function H0(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function Z0(i,s,h,v){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?v.loading=1:(s=i.createElement("link"),v.preload=s,s.addEventListener("load",function(){return v.loading|=1}),s.addEventListener("error",function(){return v.loading|=2}),Wi(s,"link",h),_r(s),i.head.appendChild(s))}function tl(i){return'[src="'+Pi(i)+'"]'}function W4(i){return"script[async]"+i}function X0(i,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var v=i.querySelector('style[data-href~="'+Pi(h.href)+'"]');if(v)return s.instance=v,_r(v),v;var I=C({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(i.ownerDocument||i).createElement("style"),_r(v),Wi(v,"style",I),rl(v,h.precedence,i),s.instance=v;case"stylesheet":I=H2(h.href);var B=i.querySelector(Y4(I));if(B)return s.state.loading|=4,s.instance=B,_r(B),B;v=H0(h),(I=aa.get(I))&&K3(v,I),B=(i.ownerDocument||i).createElement("link"),_r(B);var re=B;return re._p=new Promise(function(ve,Je){re.onload=ve,re.onerror=Je}),Wi(B,"link",v),s.state.loading|=4,rl(B,h.precedence,i),s.instance=B;case"script":return B=tl(h.src),(I=i.querySelector(W4(B)))?(s.instance=I,_r(I),I):(v=h,(I=aa.get(B))&&(v=C({},h),Nu(v,I)),i=i.ownerDocument||i,I=i.createElement("script"),_r(I),Wi(I,"link",v),i.head.appendChild(I),s.instance=I);case"void":return null;default:throw Error(T(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(v=s.instance,s.state.loading|=4,rl(v,h.precedence,i));return s.instance}function rl(i,s,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=v.length?v[v.length-1]:null,B=I,re=0;re<v.length;re++){var ve=v[re];if(ve.dataset.precedence===s)B=ve;else if(B!==I)break}B?B.parentNode.insertBefore(i,B.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(i,s.firstChild))}function K3(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Nu(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Du=null;function Y0(i,s,h){if(Du===null){var v=new Map,I=Du=new Map;I.set(h,v)}else I=Du,v=I.get(h),v||(v=new Map,I.set(h,v));if(v.has(i))return v;for(v.set(i,null),h=h.getElementsByTagName(i),I=0;I<h.length;I++){var B=h[I];if(!(B[yr]||B[Yr]||i==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var re=B.getAttribute(s)||"";re=i+re;var ve=v.get(re);ve?ve.push(B):v.set(re,[B])}}return v}function J3(i,s,h){i=i.ownerDocument||i,i.head.insertBefore(h,s==="title"?i.querySelector("head > title"):null)}function Ou(i,s,h){if(h===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function e5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function W0(i,s,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var I=H2(v.href),B=s.querySelector(Y4(I));if(B){s=B._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=r5.bind(i),s.then(i,i)),h.state.loading|=4,h.instance=B,_r(B);return}B=s.ownerDocument||s,v=H0(v),(I=aa.get(I))&&K3(v,I),B=B.createElement("link"),_r(B);var re=B;re._p=new Promise(function(ve,Je){re.onload=ve,re.onerror=Je}),Wi(B,"link",v),h.instance=B}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,s),(s=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=r5.bind(i),s.addEventListener("load",h),s.addEventListener("error",h))}}var t5=0;function K0(i,s){return i.stylesheets&&i.count===0&&i5(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var v=setTimeout(function(){if(i.stylesheets&&i5(i,i.stylesheets),i.unsuspend){var B=i.unsuspend;i.unsuspend=null,B()}},6e4+s);0<i.imgBytes&&t5===0&&(t5=62500*Z4());var I=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&i5(i,i.stylesheets),i.unsuspend)){var B=i.unsuspend;i.unsuspend=null,B()}},(i.imgBytes>t5?50:800)+s);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(v),clearTimeout(I)}}:null}function r5(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)i5(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var n5=null;function i5(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,n5=new Map,s.forEach(vc,i),n5=null,r5.call(i))}function vc(i,s){if(!(s.state.loading&4)){var h=n5.get(i);if(h)var v=h.get(null);else{h=new Map,n5.set(i,h);for(var I=i.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<I.length;B++){var re=I[B];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(h.set(re.dataset.precedence,re),v=re)}v&&h.set(null,v)}I=s.instance,re=I.getAttribute("data-precedence"),B=h.get(re)||v,B===v&&h.set(null,I),h.set(re,I),this.count++,v=r5.bind(this),I.addEventListener("load",v),I.addEventListener("error",v),B?B.parentNode.insertBefore(I,B.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(I,i.firstChild)),s.state.loading|=4}}var K4={$$typeof:H,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function V7(i,s,h,v,I,B,re,ve,Je){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=v,this.onUncaughtError=I,this.onCaughtError=B,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Je,this.incompleteTransitions=new Map}function J0(i,s,h,v,I,B,re,ve,Je,Tt,kt,qt){return i=new V7(i,s,h,re,Je,Tt,kt,qt,ve),s=1,B===!0&&(s|=24),B=Ga(3,null,null,s),i.current=B,B.stateNode=i,s=rs(),s.refCount++,i.pooledCache=s,s.refCount++,B.memoizedState={element:v,isDehydrated:h,cache:s},P4(B),i}function bc(i){return i?(i=Rr,i):Rr}function xc(i,s,h,v,I,B){I=bc(I),v.context===null?v.context=I:v.pendingContext=I,v=ss(s),v.payload={element:h},B=B===void 0?null:B,B!==null&&(v.callback=B),h=Es(i,v,s),h!==null&&(bo(h,i,s),co(h,i,s))}function Fu(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<s?h:s}}function ku(i,s){Fu(i,s),(i=i.alternate)&&Fu(i,s)}function wc(i){if(i.tag===13||i.tag===31){var s=so(i,67108864);s!==null&&bo(s,i,67108864),ku(i,67108864)}}function Sc(i){if(i.tag===13||i.tag===31){var s=vo();s=Fi(s);var h=so(i,s);h!==null&&bo(h,i,s),ku(i,s)}}var a5=!0;function o5(i,s,h,v){var I=Ne.T;Ne.T=null;var B=Te.p;try{Te.p=2,e6(i,s,h,v)}finally{Te.p=B,Ne.T=I}}function Tc(i,s,h,v){var I=Ne.T;Ne.T=null;var B=Te.p;try{Te.p=8,e6(i,s,h,v)}finally{Te.p=B,Ne.T=I}}function e6(i,s,h,v){if(a5){var I=s5(v);if(I===null)m1(i,s,v,J4,h),Ac(i,v);else if($7(I,i,s,h,v))v.stopPropagation();else if(Ac(i,v),s&4&&-1<q7.indexOf(i)){for(;I!==null;){var B=Ir(I);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var re=ct(B.pendingLanes);if(re!==0){var ve=B;for(ve.pendingLanes|=2,ve.entangledLanes|=2;re;){var Je=1<<31-Me(re);ve.entanglements[1]|=Je,re&=~Je}Fs(B),(Cn&6)===0&&(j3=it()+500,Bo(0))}}break;case 31:case 13:ve=so(B,2),ve!==null&&bo(ve,B,2),V3(),ku(B,2)}if(B=s5(v),B===null&&m1(i,s,v,J4,h),B===I)break;I=B}I!==null&&v.stopPropagation()}else m1(i,s,v,null,h)}}function s5(i){return i=n2(i),zu(i)}var J4=null;function zu(i){if(J4=null,i=lr(i),i!==null){var s=A(i);if(s===null)i=null;else{var h=s.tag;if(h===13){if(i=w(s),i!==null)return i;i=null}else if(h===31){if(i=o(s),i!==null)return i;i=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return J4=i,null}function Z2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Re:return 2;case le:return 8;case de:case ge:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Bu=!1,Yl=null,fs=null,Wl=null,l5=new Map,e3=new Map,nl=[],q7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ac(i,s){switch(i){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":l5.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":e3.delete(s.pointerId)}}function u5(i,s,h,v,I,B){return i===null||i.nativeEvent!==B?(i={blockedOn:s,domEventName:h,eventSystemFlags:v,nativeEvent:B,targetContainers:[I]},s!==null&&(s=Ir(s),s!==null&&wc(s)),i):(i.eventSystemFlags|=v,s=i.targetContainers,I!==null&&s.indexOf(I)===-1&&s.push(I),i)}function $7(i,s,h,v,I){switch(s){case"focusin":return Yl=u5(Yl,i,s,h,v,I),!0;case"dragenter":return fs=u5(fs,i,s,h,v,I),!0;case"mouseover":return Wl=u5(Wl,i,s,h,v,I),!0;case"pointerover":var B=I.pointerId;return l5.set(B,u5(l5.get(B)||null,i,s,h,v,I)),!0;case"gotpointercapture":return B=I.pointerId,e3.set(B,u5(e3.get(B)||null,i,s,h,v,I)),!0}return!1}function Ec(i){var s=lr(i.target);if(s!==null){var h=A(s);if(h!==null){if(s=h.tag,s===13){if(s=w(h),s!==null){i.blockedOn=s,Fn(i.priority,function(){Sc(h)});return}}else if(s===31){if(s=o(h),s!==null){i.blockedOn=s,Fn(i.priority,function(){Sc(h)});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function c5(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var h=s5(i.nativeEvent);if(h===null){h=i.nativeEvent;var v=new h.constructor(h.type,h);s3=v,h.target.dispatchEvent(v),s3=null}else return s=Ir(h),s!==null&&wc(s),i.blockedOn=h,!1;s.shift()}return!0}function Mc(i,s,h){c5(i)&&h.delete(s)}function h5(){Bu=!1,Yl!==null&&c5(Yl)&&(Yl=null),fs!==null&&c5(fs)&&(fs=null),Wl!==null&&c5(Wl)&&(Wl=null),l5.forEach(Mc),e3.forEach(Mc)}function Lu(i,s){i.blockedOn===s&&(i.blockedOn=null,Bu||(Bu=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,h5)))}var Uu=null;function Cc(i){Uu!==i&&(Uu=i,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Uu===i&&(Uu=null);for(var s=0;s<i.length;s+=3){var h=i[s],v=i[s+1],I=i[s+2];if(typeof v!="function"){if(zu(v||h)===null)continue;break}var B=Ir(h);B!==null&&(i.splice(s,3),s-=3,ti(B,{pending:!0,data:I,method:h.method,action:v},v,I))}}))}function Kl(i){function s(Je){return Lu(Je,i)}Yl!==null&&Lu(Yl,i),fs!==null&&Lu(fs,i),Wl!==null&&Lu(Wl,i),l5.forEach(s),e3.forEach(s);for(var h=0;h<nl.length;h++){var v=nl[h];v.blockedOn===i&&(v.blockedOn=null)}for(;0<nl.length&&(h=nl[0],h.blockedOn===null);)Ec(h),h.blockedOn===null&&nl.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var I=h[v],B=h[v+1],re=I[Lt]||null;if(typeof B=="function")re||Cc(h);else if(re){var ve=null;if(B&&B.hasAttribute("formAction")){if(I=B,re=B[Lt]||null)ve=re.formAction;else if(zu(I)!==null)continue}else ve=re.action;typeof ve=="function"?h[v+1]=ve:(h.splice(v,3),v-=3),Cc(h)}}}function t6(){function i(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(re){return I=re})},focusReset:"manual",scroll:"manual"})}function s(){I!==null&&(I(),I=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,I=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),I!==null&&(I(),I=null)}}}function r6(i){this._internalRoot=i}ju.prototype.render=r6.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(T(409));var h=s.current,v=vo();xc(h,v,i,s,null,null)},ju.prototype.unmount=r6.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xc(i.current,2,null,i,null,null),V3(),s[dr]=null}};function ju(i){this._internalRoot=i}ju.prototype.unstable_scheduleHydration=function(i){if(i){var s=Nn();i={blockedOn:null,target:i,priority:s};for(var h=0;h<nl.length&&s!==0&&s<nl[h].priority;h++);nl.splice(h,0,i),h===0&&Ec(i)}};var n6=g.version;if(n6!=="19.2.3")throw Error(T(527,n6,"19.2.3"));Te.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(T(188)):(i=Object.keys(i).join(","),Error(T(268,i)));return i=N(s),i=i!==null?z(i):null,i=i===null?null:i.stateNode,i};var Pc={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{ot=Gu.inject(Pc),Ye=Gu}catch{}}return u6.createRoot=function(i,s){if(!S(i))throw Error(T(299));var h=!1,v="",I=D4,B=Is,re=Ns;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onUncaughtError!==void 0&&(I=s.onUncaughtError),s.onCaughtError!==void 0&&(B=s.onCaughtError),s.onRecoverableError!==void 0&&(re=s.onRecoverableError)),s=J0(i,1,!1,null,null,h,v,null,I,B,re,t6),i[dr]=s.current,O0(i),new r6(s)},u6.hydrateRoot=function(i,s,h){if(!S(i))throw Error(T(299));var v=!1,I="",B=D4,re=Is,ve=Ns,Je=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onUncaughtError!==void 0&&(B=h.onUncaughtError),h.onCaughtError!==void 0&&(re=h.onCaughtError),h.onRecoverableError!==void 0&&(ve=h.onRecoverableError),h.formState!==void 0&&(Je=h.formState)),s=J0(i,1,!0,s,h??null,v,I,Je,B,re,ve,t6),s.context=bc(null),h=s.current,v=vo(),v=Fi(v),I=ss(v),I.callback=null,Es(h,I,v),h=v,s.current.lanes=h,Ur(s,h),Fs(s),i[dr]=s.current,O0(i),new ju(s)},u6.version="19.2.3",u6}var Id;function Uy(){if(Id)return n9.exports;Id=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(g){console.error(g)}}return f(),n9.exports=Ly(),n9.exports}var jy=Uy(),Kc={exports:{}},Gy=Kc.exports,Nd;function Vy(){return Nd||(Nd=1,(function(f,g){(function(y,T){f.exports=T()})(Gy,function(){Array.isArray||(Array.isArray=function(A){return Object.prototype.toString.call(A)==="[object Array]"});function y(A){for(var w=[],o=0,P=A.length;o<P;o++)w.indexOf(A[o])===-1&&w.push(A[o]);return w}var T={},S={"==":function(A,w){return A==w},"===":function(A,w){return A===w},"!=":function(A,w){return A!=w},"!==":function(A,w){return A!==w},">":function(A,w){return A>w},">=":function(A,w){return A>=w},"<":function(A,w,o){return o===void 0?A<w:A<w&&w<o},"<=":function(A,w,o){return o===void 0?A<=w:A<=w&&w<=o},"!!":function(A){return T.truthy(A)},"!":function(A){return!T.truthy(A)},"%":function(A,w){return A%w},log:function(A){return console.log(A),A},in:function(A,w){return!w||typeof w.indexOf>"u"?!1:w.indexOf(A)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(A,w,o){if(o<0){var P=String(A).substr(w);return P.substr(0,P.length+o)}return String(A).substr(w,o)},"+":function(){return Array.prototype.reduce.call(arguments,function(A,w){return parseFloat(A,10)+parseFloat(w,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(A,w){return parseFloat(A,10)*parseFloat(w,10)})},"-":function(A,w){return w===void 0?-A:A-w},"/":function(A,w){return A/w},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(A,w){return A.concat(w)},[])},var:function(A,w){var o=w===void 0?null:w,P=this;if(typeof A>"u"||A===""||A===null)return P;for(var N=String(A).split("."),z=0;z<N.length;z++)if(P==null||(P=P[N[z]],P===void 0))return o;return P},missing:function(){for(var A=[],w=Array.isArray(arguments[0])?arguments[0]:arguments,o=0;o<w.length;o++){var P=w[o],N=T.apply({var:P},this);(N===null||N==="")&&A.push(P)}return A},missing_some:function(A,w){var o=T.apply({missing:w},this);return w.length-o.length>=A?[]:o}};return T.is_logic=function(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)&&Object.keys(A).length===1},T.truthy=function(A){return Array.isArray(A)&&A.length===0?!1:!!A},T.get_operator=function(A){return Object.keys(A)[0]},T.get_values=function(A){return A[T.get_operator(A)]},T.apply=function(A,w){if(Array.isArray(A))return A.map(function(F){return T.apply(F,w)});if(!T.is_logic(A))return A;var o=T.get_operator(A),P=A[o],N,z,C,O,U;if(Array.isArray(P)||(P=[P]),o==="if"||o=="?:"){for(N=0;N<P.length-1;N+=2)if(T.truthy(T.apply(P[N],w)))return T.apply(P[N+1],w);return P.length===N+1?T.apply(P[N],w):null}else if(o==="and"){for(N=0;N<P.length;N+=1)if(z=T.apply(P[N],w),!T.truthy(z))return z;return z}else if(o==="or"){for(N=0;N<P.length;N+=1)if(z=T.apply(P[N],w),T.truthy(z))return z;return z}else{if(o==="filter")return O=T.apply(P[0],w),C=P[1],Array.isArray(O)?O.filter(function(F){return T.truthy(T.apply(C,F))}):[];if(o==="map")return O=T.apply(P[0],w),C=P[1],Array.isArray(O)?O.map(function(F){return T.apply(C,F)}):[];if(o==="reduce")return O=T.apply(P[0],w),C=P[1],U=typeof P[2]<"u"?T.apply(P[2],w):null,Array.isArray(O)?O.reduce(function(F,q){return T.apply(C,{current:q,accumulator:F})},U):U;if(o==="all"){if(O=T.apply(P[0],w),C=P[1],!Array.isArray(O)||!O.length)return!1;for(N=0;N<O.length;N+=1)if(!T.truthy(T.apply(C,O[N])))return!1;return!0}else if(o==="none"){if(O=T.apply(P[0],w),C=P[1],!Array.isArray(O)||!O.length)return!0;for(N=0;N<O.length;N+=1)if(T.truthy(T.apply(C,O[N])))return!1;return!0}else if(o==="some"){if(O=T.apply(P[0],w),C=P[1],!Array.isArray(O)||!O.length)return!1;for(N=0;N<O.length;N+=1)if(T.truthy(T.apply(C,O[N])))return!0;return!1}}if(P=P.map(function(F){return T.apply(F,w)}),S.hasOwnProperty(o)&&typeof S[o]=="function")return S[o].apply(w,P);if(o.indexOf(".")>0){var G=String(o).split("."),j=S;for(N=0;N<G.length;N++){if(!j.hasOwnProperty(G[N]))throw new Error("Unrecognized operation "+o+" (failed at "+G.slice(0,N+1).join(".")+")");j=j[G[N]]}return j.apply(w,P)}throw new Error("Unrecognized operation "+o)},T.uses_data=function(A){var w=[];if(T.is_logic(A)){var o=T.get_operator(A),P=A[o];Array.isArray(P)||(P=[P]),o==="var"?w.push(P[0]):P.forEach(function(N){w.push.apply(w,T.uses_data(N))})}return y(w)},T.add_operation=function(A,w){S[A]=w},T.rm_operation=function(A){delete S[A]},T.rule_like=function(A,w){if(w===A||w==="@")return!0;if(w==="number")return typeof A=="number";if(w==="string")return typeof A=="string";if(w==="array")return Array.isArray(A)&&!T.is_logic(A);if(T.is_logic(w)){if(T.is_logic(A)){var o=T.get_operator(w),P=T.get_operator(A);if(o==="@"||o===P)return T.rule_like(T.get_values(A,!1),T.get_values(w,!1))}return!1}if(Array.isArray(w))if(Array.isArray(A)){if(w.length!==A.length)return!1;for(var N=0;N<w.length;N+=1)if(!T.rule_like(A[N],w[N]))return!1;return!0}else return!1;return!1},T})})(Kc)),Kc.exports}var qy=Vy(),Dm=Symbol.for("immer-nothing"),Dd=Symbol.for("immer-draftable"),Go=Symbol.for("immer-state");function ul(f,...g){throw new Error(`[Immer] minified error nr: ${f}. Full error at: https://bit.ly/3cXEKWf`)}var Us=Object,Xu=Us.getPrototypeOf,l7="constructor",x7="prototype",oh="configurable",u7="enumerable",Jc="writable",S6="value",n4=f=>!!f&&!!f[Go];function hl(f){return f?Om(f)||S7(f)||!!f[Dd]||!!f[l7]?.[Dd]||T7(f)||A7(f):!1}var $y=Us[x7][l7].toString(),Od=new WeakMap;function Om(f){if(!f||!Ih(f))return!1;const g=Xu(f);if(g===null||g===Us[x7])return!0;const y=Us.hasOwnProperty.call(g,l7)&&g[l7];if(y===Object)return!0;if(!Zu(y))return!1;let T=Od.get(y);return T===void 0&&(T=Function.toString.call(y),Od.set(y,T)),T===$y}function w7(f,g,y=!0){M6(f)===0?(y?Reflect.ownKeys(f):Us.keys(f)).forEach(S=>{g(S,f[S],f)}):f.forEach((T,S)=>g(S,T,f))}function M6(f){const g=f[Go];return g?g.type_:S7(f)?1:T7(f)?2:A7(f)?3:0}var Fd=(f,g,y=M6(f))=>y===2?f.has(g):Us[x7].hasOwnProperty.call(f,g),sh=(f,g,y=M6(f))=>y===2?f.get(g):f[g],c7=(f,g,y,T=M6(f))=>{T===2?f.set(g,y):T===3?f.add(y):f[g]=y};function Qy(f,g){return f===g?f!==0||1/f===1/g:f!==f&&g!==g}var S7=Array.isArray,T7=f=>f instanceof Map,A7=f=>f instanceof Set,Ih=f=>typeof f=="object",Zu=f=>typeof f=="function",s9=f=>typeof f=="boolean";function Hy(f){const g=+f;return Number.isInteger(g)&&String(g)===f}var e4=f=>f.copy_||f.base_,Nh=f=>f.modified_?f.copy_:f.base_;function lh(f,g){if(T7(f))return new Map(f);if(A7(f))return new Set(f);if(S7(f))return Array[x7].slice.call(f);const y=Om(f);if(g===!0||g==="class_only"&&!y){const T=Us.getOwnPropertyDescriptors(f);delete T[Go];let S=Reflect.ownKeys(T);for(let A=0;A<S.length;A++){const w=S[A],o=T[w];o[Jc]===!1&&(o[Jc]=!0,o[oh]=!0),(o.get||o.set)&&(T[w]={[oh]:!0,[Jc]:!0,[u7]:o[u7],[S6]:f[w]})}return Us.create(Xu(f),T)}else{const T=Xu(f);if(T!==null&&y)return{...f};const S=Us.create(T);return Us.assign(S,f)}}function Dh(f,g=!1){return E7(f)||n4(f)||!hl(f)||(M6(f)>1&&Us.defineProperties(f,{set:Nc,add:Nc,clear:Nc,delete:Nc}),Us.freeze(f),g&&w7(f,(y,T)=>{Dh(T,!0)},!1)),f}function Zy(){ul(2)}var Nc={[S6]:Zy};function E7(f){return f===null||!Ih(f)?!0:Us.isFrozen(f)}var h7="MapSet",uh="Patches",kd="ArrayMethods",Fm={};function w5(f){const g=Fm[f];return g||ul(0,f),g}var zd=f=>!!Fm[f],T6,km=()=>T6,Xy=(f,g)=>({drafts_:[],parent_:f,immer_:g,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zd(h7)?w5(h7):void 0,arrayMethodsPlugin_:zd(kd)?w5(kd):void 0});function Bd(f,g){g&&(f.patchPlugin_=w5(uh),f.patches_=[],f.inversePatches_=[],f.patchListener_=g)}function ch(f){hh(f),f.drafts_.forEach(Yy),f.drafts_=null}function hh(f){f===T6&&(T6=f.parent_)}var Ld=f=>T6=Xy(T6,f);function Yy(f){const g=f[Go];g.type_===0||g.type_===1?g.revoke_():g.revoked_=!0}function Ud(f,g){g.unfinalizedDrafts_=g.drafts_.length;const y=g.drafts_[0];if(f!==void 0&&f!==y){y[Go].modified_&&(ch(g),ul(4)),hl(f)&&(f=jd(g,f));const{patchPlugin_:S}=g;S&&S.generateReplacementPatches_(y[Go].base_,f,g)}else f=jd(g,y);return Wy(g,f,!0),ch(g),g.patches_&&g.patchListener_(g.patches_,g.inversePatches_),f!==Dm?f:void 0}function jd(f,g){if(E7(g))return g;const y=g[Go];if(!y)return d7(g,f.handledSet_,f);if(!M7(y,f))return g;if(!y.modified_)return y.base_;if(!y.finalized_){const{callbacks_:T}=y;if(T)for(;T.length>0;)T.pop()(f);Lm(y,f)}return y.copy_}function Wy(f,g,y=!1){!f.parent_&&f.immer_.autoFreeze_&&f.canAutoFreeze_&&Dh(g,y)}function zm(f){f.finalized_=!0,f.scope_.unfinalizedDrafts_--}var M7=(f,g)=>f.scope_===g,Ky=[];function Bm(f,g,y,T){const S=e4(f),A=f.type_;if(T!==void 0&&sh(S,T,A)===g){c7(S,T,y,A);return}if(!f.draftLocations_){const o=f.draftLocations_=new Map;w7(S,(P,N)=>{if(n4(N)){const z=o.get(N)||[];z.push(P),o.set(N,z)}})}const w=f.draftLocations_.get(g)??Ky;for(const o of w)c7(S,o,y,A)}function Jy(f,g,y){f.callbacks_.push(function(S){const A=g;if(!A||!M7(A,S))return;S.mapSetPlugin_?.fixSetContents(A);const w=Nh(A);Bm(f,A.draft_??A,w,y),Lm(A,S)})}function Lm(f,g){if(f.modified_&&!f.finalized_&&(f.type_===3||f.type_===1&&f.allIndicesReassigned_||(f.assigned_?.size??0)>0)){const{patchPlugin_:T}=g;if(T){const S=T.getPath(f);S&&T.generatePatches_(f,S,g)}zm(f)}}function e_(f,g,y){const{scope_:T}=f;if(n4(y)){const S=y[Go];M7(S,T)&&S.callbacks_.push(function(){e7(f);const w=Nh(S);Bm(f,y,w,g)})}else hl(y)&&f.callbacks_.push(function(){const A=e4(f);f.type_===3?A.has(y)&&d7(y,T.handledSet_,T):sh(A,g,f.type_)===y&&T.drafts_.length>1&&(f.assigned_.get(g)??!1)===!0&&f.copy_&&d7(sh(f.copy_,g,f.type_),T.handledSet_,T)})}function d7(f,g,y){return!y.immer_.autoFreeze_&&y.unfinalizedDrafts_<1||n4(f)||g.has(f)||!hl(f)||E7(f)||(g.add(f),w7(f,(T,S)=>{if(n4(S)){const A=S[Go];if(M7(A,y)){const w=Nh(A);c7(f,T,w,f.type_),zm(A)}}else hl(S)&&d7(S,g,y)})),f}function t_(f,g){const y=S7(f),T={type_:y?1:0,scope_:g?g.scope_:km(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:g,base_:f,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let S=T,A=f7;y&&(S=[T],A=A6);const{revoke:w,proxy:o}=Proxy.revocable(S,A);return T.draft_=o,T.revoke_=w,[o,T]}var f7={get(f,g){if(g===Go)return f;let y=f.scope_.arrayMethodsPlugin_;const T=f.type_===1&&typeof g=="string";if(T&&y?.isArrayOperationMethod(g))return y.createMethodInterceptor(f,g);const S=e4(f);if(!Fd(S,g,f.type_))return r_(f,S,g);const A=S[g];if(f.finalized_||!hl(A)||T&&f.operationMethod&&y?.isMutatingArrayMethod(f.operationMethod)&&Hy(g))return A;if(A===l9(f.base_,g)){e7(f);const w=f.type_===1?+g:g,o=fh(f.scope_,A,f,w);return f.copy_[w]=o}return A},has(f,g){return g in e4(f)},ownKeys(f){return Reflect.ownKeys(e4(f))},set(f,g,y){const T=Um(e4(f),g);if(T?.set)return T.set.call(f.draft_,y),!0;if(!f.modified_){const S=l9(e4(f),g),A=S?.[Go];if(A&&A.base_===y)return f.copy_[g]=y,f.assigned_.set(g,!1),!0;if(Qy(y,S)&&(y!==void 0||Fd(f.base_,g,f.type_)))return!0;e7(f),dh(f)}return f.copy_[g]===y&&(y!==void 0||g in f.copy_)||Number.isNaN(y)&&Number.isNaN(f.copy_[g])||(f.copy_[g]=y,f.assigned_.set(g,!0),e_(f,g,y)),!0},deleteProperty(f,g){return e7(f),l9(f.base_,g)!==void 0||g in f.base_?(f.assigned_.set(g,!1),dh(f)):f.assigned_.delete(g),f.copy_&&delete f.copy_[g],!0},getOwnPropertyDescriptor(f,g){const y=e4(f),T=Reflect.getOwnPropertyDescriptor(y,g);return T&&{[Jc]:!0,[oh]:f.type_!==1||g!=="length",[u7]:T[u7],[S6]:y[g]}},defineProperty(){ul(11)},getPrototypeOf(f){return Xu(f.base_)},setPrototypeOf(){ul(12)}},A6={};for(let f in f7){let g=f7[f];A6[f]=function(){const y=arguments;return y[0]=y[0][0],g.apply(this,y)}}A6.deleteProperty=function(f,g){return A6.set.call(this,f,g,void 0)};A6.set=function(f,g,y){return f7.set.call(this,f[0],g,y,f[0])};function l9(f,g){const y=f[Go];return(y?e4(y):f)[g]}function r_(f,g,y){const T=Um(g,y);return T?S6 in T?T[S6]:T.get?.call(f.draft_):void 0}function Um(f,g){if(!(g in f))return;let y=Xu(f);for(;y;){const T=Object.getOwnPropertyDescriptor(y,g);if(T)return T;y=Xu(y)}}function dh(f){f.modified_||(f.modified_=!0,f.parent_&&dh(f.parent_))}function e7(f){f.copy_||(f.assigned_=new Map,f.copy_=lh(f.base_,f.scope_.immer_.useStrictShallowCopy_))}var n_=class{constructor(f){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(g,y,T)=>{if(Zu(g)&&!Zu(y)){const A=y;y=g;const w=this;return function(P=A,...N){return w.produce(P,z=>y.call(this,z,...N))}}Zu(y)||ul(6),T!==void 0&&!Zu(T)&&ul(7);let S;if(hl(g)){const A=Ld(this),w=fh(A,g,void 0);let o=!0;try{S=y(w),o=!1}finally{o?ch(A):hh(A)}return Bd(A,T),Ud(S,A)}else if(!g||!Ih(g)){if(S=y(g),S===void 0&&(S=g),S===Dm&&(S=void 0),this.autoFreeze_&&Dh(S,!0),T){const A=[],w=[];w5(uh).generateReplacementPatches_(g,S,{patches_:A,inversePatches_:w}),T(A,w)}return S}else ul(1,g)},this.produceWithPatches=(g,y)=>{if(Zu(g))return(w,...o)=>this.produceWithPatches(w,P=>g(P,...o));let T,S;return[this.produce(g,y,(w,o)=>{T=w,S=o}),T,S]},s9(f?.autoFreeze)&&this.setAutoFreeze(f.autoFreeze),s9(f?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(f.useStrictShallowCopy),s9(f?.useStrictIteration)&&this.setUseStrictIteration(f.useStrictIteration)}createDraft(f){hl(f)||ul(8),n4(f)&&(f=i_(f));const g=Ld(this),y=fh(g,f,void 0);return y[Go].isManual_=!0,hh(g),y}finishDraft(f,g){const y=f&&f[Go];(!y||!y.isManual_)&&ul(9);const{scope_:T}=y;return Bd(T,g),Ud(void 0,T)}setAutoFreeze(f){this.autoFreeze_=f}setUseStrictShallowCopy(f){this.useStrictShallowCopy_=f}setUseStrictIteration(f){this.useStrictIteration_=f}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(f,g){let y;for(y=g.length-1;y>=0;y--){const S=g[y];if(S.path.length===0&&S.op==="replace"){f=S.value;break}}y>-1&&(g=g.slice(y+1));const T=w5(uh).applyPatches_;return n4(f)?T(f,g):this.produce(f,S=>T(S,g))}};function fh(f,g,y,T){const[S,A]=T7(g)?w5(h7).proxyMap_(g,y):A7(g)?w5(h7).proxySet_(g,y):t_(g,y);return(y?.scope_??km()).drafts_.push(S),A.callbacks_=y?.callbacks_??[],A.key_=T,y&&T!==void 0?Jy(y,A,T):A.callbacks_.push(function(P){P.mapSetPlugin_?.fixSetContents(A);const{patchPlugin_:N}=P;A.modified_&&N&&N.generatePatches_(A,[],P)}),S}function i_(f){return n4(f)||ul(10,f),jm(f)}function jm(f){if(!hl(f)||E7(f))return f;const g=f[Go];let y,T=!0;if(g){if(!g.modified_)return g.base_;g.finalized_=!0,y=lh(f,g.scope_.immer_.useStrictShallowCopy_),T=g.scope_.immer_.shouldUseStrictIteration()}else y=lh(f,!0);return w7(y,(S,A)=>{c7(y,S,jm(A))},T),g&&(g.finalized_=!1),y}var a_=new n_,xa=a_.produce,Gm={"":"1/4","":"1/2","":"3/4","":"1/7","":"1/9","":"1/10","":"1/3","":"2/3","":"1/5","":"2/5","":"3/5","":"4/5","":"1/6","":"5/6","":"1/8","":"3/8","":"5/8","":"7/8","":"1/"},C7=/^(?=-?\s*\.\d|-?\s*\d)(-)?\s*((?:\d(?:[\d,_]*\d)?)*)(([eE][+-]?\d(?:[\d,_]*\d)?)?|\.\d(?:[\d,_]*\d)?([eE][+-]?\d(?:[\d,_]*\d)?)?|(\s+\d(?:[\d,_]*\d)?\s*)?\s*\/\s*\d(?:[\d,_]*\d)?)?$/,o_=new RegExp(C7.source.replace(/\$$/,"(?:\\s*[^\\.\\d\\/].*)?")),s_=new RegExp(`(${Object.keys(Gm).join("|")})`),Dc={MMM:3e3,MM:2e3,M:1e3,CM:900,DCCC:800,DCC:700,DC:600,D:500,CD:400,CCC:300,CC:200,C:100,XC:90,LXXX:80,LXX:70,LX:60,L:50,XL:40,XXX:30,XX:20,XII:12,XI:11,X:10,IX:9,VIII:8,VII:7,VI:6,V:5,IV:4,III:3,II:2,I:1},Vm={"":"I","":"II","":"III","":"IV","":"V","":"VI","":"VII","":"VIII","":"IX","":"X","":"XI","":"XII","":"L","":"C","":"D","":"M","":"I","":"II","":"III","":"IV","":"V","":"VI","":"VII","":"VIII","":"IX","":"X","":"XI","":"XII","":"L","":"C","":"D","":"M"},l_=new RegExp(`(${Object.keys(Vm).join("|")})`,"gi"),u_=/^(?=[MDCLXVI])(M{0,3})(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/i,Gd={round:3,allowTrailingInvalid:!1,romanNumerals:!1,bigIntOnOverflow:!1},c_=f=>{const g=`${f}`.replace(l_,(o,P)=>Vm[P]).toUpperCase(),y=u_.exec(g);if(!y)return NaN;const[,T,S,A,w]=y;return(Dc[T]??0)+(Dc[S]??0)+(Dc[A]??0)+(Dc[w]??0)},h_=/^\s*\//;function qm(f,g=Gd){if(typeof f=="number"||typeof f=="bigint")return f;let y=NaN;const T=`${f}`.replace(s_,(O,U)=>` ${Gm[U]}`).replace("","/").trim();if(T.length===0)return NaN;const S={...Gd,...g},A=(S.allowTrailingInvalid?o_:C7).exec(T);if(!A)return S.romanNumerals?c_(T):NaN;const[,w,o,P]=A,N=o.replace(/[,_]/g,""),z=P?.replace(/[,_]/g,"");if(!N&&z&&z.startsWith("."))y=0;else{if(S.bigIntOnOverflow){const O=BigInt(w?`-${N}`:N);if(O>BigInt(Number.MAX_SAFE_INTEGER)||O<BigInt(Number.MIN_SAFE_INTEGER))return O}y=parseInt(N)}if(!z)return w?y*-1:y;const C=S.round===!1?NaN:parseFloat(`1e${Math.floor(Math.max(0,S.round))}`);if(z.startsWith(".")||z.startsWith("e")||z.startsWith("E")){const O=parseFloat(`${y}${z}`);y=isNaN(C)?O:Math.round(O*C)/C}else if(h_.test(z)){const O=parseInt(N),U=parseInt(z.replace("/",""));y=isNaN(C)?O/U:Math.round(O*C/U)/C}else{const O=z.split("/"),[U,G]=O.map(j=>parseInt(j));y+=isNaN(C)?U/G:Math.round(U*C/G)/C}return w?y*-1:y}const P7="~",r3="------",$m=P7,d_=r3,f_=r3,Qm=P7,p_=r3,m_=r3,g_=P7,y_=r3,__=r3,di={fields:{title:"Field",placeholderName:$m,placeholderLabel:d_,placeholderGroupLabel:f_},operators:{title:"Operator",placeholderName:Qm,placeholderLabel:p_,placeholderGroupLabel:m_},values:{title:"Values",placeholderName:g_,placeholderLabel:y_,placeholderGroupLabel:__},matchMode:{title:"Match mode"},matchThreshold:{title:"Match threshold"},value:{title:"Value"},removeRule:{label:"",title:"Remove rule"},removeGroup:{label:"",title:"Remove group"},addRule:{label:"+ Rule",title:"Add rule"},addGroup:{label:"+ Group",title:"Add group"},combinators:{title:"Combinator"},notToggle:{label:"Not",title:"Invert this group"},cloneRule:{label:"",title:"Clone rule"},cloneRuleGroup:{label:"",title:"Clone group"},shiftActionUp:{label:"",title:"Shift up"},shiftActionDown:{label:"",title:"Shift down"},dragHandle:{label:"",title:"Drag handle"},lockRule:{label:"",title:"Lock rule"},lockGroup:{label:"",title:"Lock group"},lockRuleDisabled:{label:"",title:"Unlock rule"},lockGroupDisabled:{label:"",title:"Unlock group"},muteRule:{label:"",title:"Mute rule"},muteGroup:{label:"",title:"Mute group"},unmuteRule:{label:"",title:"Unmute rule"},unmuteGroup:{label:"",title:"Unmute group"},valueSourceSelector:{title:"Value source"}},Oh=",",Vd={"=":"=","!=":"!=","<":"<",">":">","<=":"<=",">=":">=",contains:"contains",beginsWith:"begins with",endsWith:"ends with",doesNotContain:"does not contain",doesNotBeginWith:"does not begin with",doesNotEndWith:"does not end with",null:"is null",notNull:"is not null",in:"in",notIn:"not in",between:"between",notBetween:"not between"},v_={and:"AND",or:"OR",xor:"XOR"},b_=[{name:"=",value:"=",label:"="},{name:"!=",value:"!=",label:"!="},{name:"<",value:"<",label:"<"},{name:">",value:">",label:">"},{name:"<=",value:"<=",label:"<="},{name:">=",value:">=",label:">="},{name:"contains",value:"contains",label:"contains"},{name:"beginsWith",value:"beginsWith",label:"begins with"},{name:"endsWith",value:"endsWith",label:"ends with"},{name:"doesNotContain",value:"doesNotContain",label:"does not contain"},{name:"doesNotBeginWith",value:"doesNotBeginWith",label:"does not begin with"},{name:"doesNotEndWith",value:"doesNotEndWith",label:"does not end with"},{name:"null",value:"null",label:"is null"},{name:"notNull",value:"notNull",label:"is not null"},{name:"in",value:"in",label:"in"},{name:"notIn",value:"notIn",label:"not in"},{name:"between",value:"between",label:"between"},{name:"notBetween",value:"notBetween",label:"not between"}],C6=[{name:"and",value:"and",label:"AND"},{name:"or",value:"or",label:"OR"}];[...C6];const qd=[{name:"all",value:"all",label:"all"},{name:"some",value:"some",label:"some"},{name:"none",value:"none",label:"none"},{name:"atLeast",value:"atLeast",label:"at least"},{name:"atMost",value:"atMost",label:"at most"},{name:"exactly",value:"exactly",label:"exactly"}],Or={queryBuilder:"queryBuilder",ruleGroup:"ruleGroup",header:"ruleGroup-header",body:"ruleGroup-body",combinators:"ruleGroup-combinators",addRule:"ruleGroup-addRule",addGroup:"ruleGroup-addGroup",cloneRule:"rule-cloneRule",cloneGroup:"ruleGroup-cloneGroup",removeGroup:"ruleGroup-remove",notToggle:"ruleGroup-notToggle",rule:"rule",fields:"rule-fields",matchMode:"rule-matchMode",matchThreshold:"rule-matchThreshold",operators:"rule-operators",value:"rule-value",removeRule:"rule-remove",betweenRules:"betweenRules",valid:"queryBuilder-valid",invalid:"queryBuilder-invalid",shiftActions:"shiftActions",dndDragging:"dndDragging",dndOver:"dndOver",dndCopy:"dndCopy",dndGroup:"dndGroup",dndDropNotAllowed:"dndDropNotAllowed",dragHandle:"queryBuilder-dragHandle",disabled:"queryBuilder-disabled",muted:"queryBuilder-muted",lockRule:"rule-lock",lockGroup:"ruleGroup-lock",muteRule:"rule-mute",muteGroup:"ruleGroup-mute",valueSource:"rule-valueSource",valueListItem:"rule-value-list-item",hasSubQuery:"rule-hasSubQuery"},x_={queryBuilder:"",ruleGroup:"",header:"",body:"",combinators:"",addRule:"",addGroup:"",cloneRule:"",cloneGroup:"",removeGroup:"",notToggle:"",rule:"",fields:"",matchMode:"",matchThreshold:"",operators:"",value:"",removeRule:"",shiftActions:"",dragHandle:"",lockRule:"",lockGroup:"",muteRule:"",muteGroup:"",muted:"",valueSource:"",actionElement:"",valueSelector:"",betweenRules:"",valid:"",invalid:"",dndDragging:"",dndOver:"",dndGroup:"",dndCopy:"",dndDropNotAllowed:"",disabled:"",valueListItem:"",branches:"",hasSubQuery:"",loading:""},Fr={rule:"rule",ruleGroup:"rule-group",inlineCombinator:"inline-combinator",addGroup:"add-group",removeGroup:"remove-group",cloneGroup:"clone-group",cloneRule:"clone-rule",addRule:"add-rule",removeRule:"remove-rule",combinators:"combinators",fields:"fields",operators:"operators",valueEditor:"value-editor",notToggle:"not-toggle",shiftActions:"shift-actions",dragHandle:"drag-handle",lockRule:"lock-rule",lockGroup:"lock-group",muteRule:"mute-rule",muteGroup:"mute-group",valueSourceSelector:"value-source-selector",matchModeEditor:"match-mode-editor"},ba={parentPathDisabled:"action aborted: parent path disabled",pathDisabled:"action aborted: path is disabled",onAddRuleFalse:"onAddRule callback returned false",onAddGroupFalse:"onAddGroup callback returned false",onGroupRuleFalse:"onGroupRule callback returned false",onGroupGroupFalse:"onGroupGroup callback returned false",onMoveRuleFalse:"onMoveRule callback returned false",onMoveGroupFalse:"onMoveGroup callback returned false",onRemoveFalse:"onRemove callback returned false",add:"rule or group added",remove:"rule or group removed",update:"rule or group updated",move:"rule or group moved",group:"rule or group grouped with another"},Hm=[],w_={addRuleToNewGroups:!1,autoSelectField:!0,autoSelectOperator:!0,autoSelectValue:!1,debugMode:!1,enableDragAndDrop:!1,enableMountQueryChange:!0,listsAsArrays:!1,resetOnFieldChange:!0,resetOnOperatorChange:!1,showCloneButtons:!1,showCombinatorsBetweenRules:!1,showLockButtons:!1,showMuteButtons:!1,showNotToggle:!1,showShiftActions:!1,suppressStandardClassnames:!1},Zm=(f,g=Oh)=>typeof f=="string"?f.split(`\\${g}`).map(y=>y.split(g)).reduce((y,T,S)=>S===0?T:[...y.slice(0,-1),`${y.at(-1)}${g}${T[0]}`,...T.slice(1)],[]):[],R7=(f,g=Oh)=>f.map(y=>`${y??""}`.replaceAll(g[0],`\\${g[0]}`)).join(g),bi=f=>typeof f=="string"?f.trim():f,yn=(f,{retainEmptyStrings:g}={})=>Array.isArray(f)?f.map(y=>bi(y)):typeof f=="string"?Zm(f,Oh).filter(g?()=>!0:y=>!/^\s*$/.test(y)).map(y=>y.trim()):typeof f=="number"?[f]:[];function Xm(f){let g,y,T="";if(typeof f=="string"||typeof f=="number")T+=f;else if(typeof f=="object")if(Array.isArray(f)){const S=f.length;for(g=0;g<S;g++)f[g]&&(y=Xm(f[g]))&&(T&&(T+=" "),T+=y)}else for(y in f)f[y]&&(T&&(T+=" "),T+=y);return T}function Rn(...f){let g=0,y,T,S="";const A=f.length;for(;g<A;g++)(y=f[g])&&(T=Xm(y))&&(S&&(S+=" "),S+=T);return S}const Sn=f=>typeof f=="string"?f.toLowerCase():f,S_=new RegExp(C7.source.replace(/^\^/,String.raw`^\s*`).replace(/\$$/,String.raw`\s*$`)),dl=f=>f===null||typeof f!="object"?!1:Object.getPrototypeOf(f)===Object.prototype,r4=f=>f==null||f==="",Qr=f=>dl(f)&&Array.isArray(f.rules),js=f=>Qr(f)&&typeof f.combinator=="string",Ju=f=>Qr(f)&&f.combinator===void 0,$d=["or","xor","and"],T_=(f,g)=>Sn(f)===g,t7=(f,g=0)=>{const y=$d[g];return f.rules.includes(y)?xa(f,T=>{let S=0;for(;S<T.rules.length-2;){if(T_(T.rules[S+1],y)){S+=2;continue}const A=T.rules.findIndex((w,o)=>o>S&&typeof w=="string"&&Sn(w)===y);if(A===-1){T.rules.splice(S,T.rules.length,t7({rules:T.rules.slice(S)},g+1));break}else T.rules.splice(S,A-S,t7({rules:T.rules.slice(S,A)},g+1))}}):g<$d.length-2?t7(f,g+1):f},t2=f=>{if(js(f))return f;const g=t7(f),y=g.rules.map(A=>typeof A=="string"||!Qr(A)?A:t2(A)),T=y.length<2?"and":y[1],S=y.filter(A=>typeof A!="string");return{...g,combinator:T,rules:S}},A_=Object.keys,Ym=Object.entries,ph=f=>dl(f)&&"name"in f&&typeof f.name=="string",mh=f=>dl(f)&&"value"in f&&typeof f.value=="string";function e2(f,g,y){return xa(T=>{const S={};let A=!!g;if(typeof T=="string")return{...g,name:T,value:T,label:y?.[T]??T};if(ph(T)&&!mh(T)?(S.value=T.name,A=!0):!ph(T)&&mh(T)&&(S.name=T.value,A=!0),A)return Object.assign({},g,T,S)})(f)}function n3(f,g,y){return Array.isArray(f)?xa(T=>{if(i3(T))for(const S of T)for(const[A,w]of S.options.entries())S.options[A]=e2(w,g,y);else for(const[S,A]of T.entries())T[S]=e2(A,g,y)})(f):[]}function Qd(f,g){return Object.fromEntries(Object.entries(f).map(([y,T])=>[y,e2(T,g)]))}const gh=f=>{const g=new Set,y=[];for(const T of f)g.has(T.value??T.name)||(g.add(T.value??T.name),y.push(T));return f.length===y.length?f:y},Wm=f=>Array.isArray(f)&&f.length>0&&dl(f[0])&&"options"in f[0]&&Array.isArray(f[0].options),I7=f=>{let g=!1;if(Array.isArray(f))for(const y of f)if(ph(y)||mh(y))g=!0;else return!1;return g},i3=(f,{allowEmpty:g=!1}={})=>{let y=!1;if(Array.isArray(f))for(const T of f)if(dl(T)&&"options"in T&&(I7(T.options)||g&&Array.isArray(T.options)&&T.options.length===0))y=!0;else return!1;return y};function xi(f,g){return(i3(f,{allowEmpty:!0})?f.flatMap(y=>y.options):f).find(y=>y.value===g||y.name===g)}function to(f){if(!Array.isArray(f)||f.length===0)return null;if(i3(f,{allowEmpty:!0})){for(const g of f)if(g.options.length>0)return g.options[0].value??g.options[0].name;return null}return f[0].value??f[0].name}const E_=f=>gh(Wm(f)?f.flatMap(g=>g.options):f),Hd=f=>{const g=new Set,y=new Set,T=[];for(const S of f)if(!g.has(S.label)){g.add(S.label);const A=[];for(const w of S.options)y.has(w.value??w.name)||(y.add(w.value??w.name),A.push(e2(w)));T.push({...S,options:A})}return T},v6=f=>{const{optionList:g,baseOption:y={},labelMap:T={},placeholder:{placeholderName:S=P7,placeholderLabel:A=r3,placeholderGroupLabel:w=r3}={},autoSelectOption:o=!0}=f,P={id:S,name:S,value:S,label:A},N=g??[P];let z;const C=Array.isArray(N)?n3(N,y,T):A_(Qd(N,y)).map(U=>({...N[U],name:U,value:U})).sort((U,G)=>U.label.localeCompare(G.label));i3(C)?z=Hd(o?C:[{label:w,options:[P]},...C]):z=gh(o?C:[P,...C]);let O={};if(Array.isArray(N))if(i3(z))for(const U of z)for(const G of U.options)O[G.value??G.name]=e2(G,y);else for(const U of z)O[U.value??U.name]=e2(U,y);else{const U=Qd(N,y);O=o?U:{...U,[S]:P}}return{defaultOption:P,optionList:z,optionsMap:O}},Zd=(f,g,y)=>{const T=e2(f),S=e2(y);return T.value===S.value?!1:typeof T.comparator=="string"?T[T.comparator]===S[T.comparator]:T.comparator?.(S,g)??!1},Km=(f,g,y)=>{if(!f.comparator){const T=S=>(S.value??S.name)!==(f.value??f.name);return i3(g)?g.map(S=>({...S,options:S.options.filter(A=>T(A))})):g.filter(S=>T(S))}return i3(g)?g.map(T=>({...T,options:T.options.filter(S=>Zd(f,y,S))})).filter(T=>T.options.length>0):g.filter(T=>Zd(f,y,T))},hn=(f,{parseNumbers:g,bigIntOnOverflow:y}={})=>{if(!g||typeof f=="bigint"||typeof f=="number")return f;if(g==="native")return Number.parseFloat(f);const T=qm(f,{allowTrailingInvalid:g==="enhanced",bigIntOnOverflow:y,romanNumerals:!1,round:!1});return typeof T=="bigint"||!Number.isNaN(T)?T:f},Xd=(f,g,y)=>xa(f,T=>{for(const[S,A]of Object.entries(g))A===!1?delete T[S]:A&&S!==A&&S in T&&(T[A]=T[S],y&&delete T[S])});function a3(f,g={}){const{ruleProcessor:y=z=>z,ruleGroupProcessor:T=z=>z,propertyMap:S={},combinatorMap:A={},operatorMap:w={},omitPath:o=!1,deleteRemappedProperties:P=!0}=g,N=z=>({...T(Xd({...z,...js(z)?{combinator:A[z.combinator]??z.combinator}:{}},S,P)),...S.rules===!1?null:{[S.rules??"rules"]:z.rules.map((C,O)=>{const U=o?null:{path:[...z.path,O]};return typeof C=="string"?A[C]??C:Qr(C)?N({...C,...U}):y(Xd({...C,...U,..."operator"in C?{operator:w[C.operator]??C.operator}:{}},S,P))})}});return N({...f,...o?null:{path:[]}})}const Yd=f=>dl(f)&&typeof f.valid=="boolean",Wn=(f,g,y)=>{if(f.muted)return!1;if(typeof g=="boolean")return g;if(Yd(g))return g.valid;if(typeof y=="function"&&!Qr(f)){const T=y(f);if(typeof T=="boolean")return T;if(Yd(T))return T.valid}return!0},Fh=({parseNumbers:f,inputType:g})=>{if(typeof f=="string"){const[y,T]=f.split("-");return T==="limited"?g==="number"?y:!1:y}return f?"strict":!1},M_=f=>{switch(Sn(f)){case"null":return"is null";case"notnull":return"is not null";case"notin":return"not in";case"notbetween":return"not between";case"contains":case"beginswith":case"endswith":return"like";case"doesnotcontain":case"doesnotbeginwith":case"doesnotendwith":return"not like";default:return f}},m5={"=":"$eq","!=":"$ne","<":"$lt","<=":"$lte",">":"$gt",">=":"$gte",in:"$in",notin:"$nin",notIn:"$nin"},Wd={"=":"equals","!=":"not","<":"lt","<=":"lte",">":"gt",">=":"gte",in:"in",notin:"notIn"},Kd={and:"&&",or:"||"},Jm=(f,g)=>({...f,rules:f.rules.map(y=>{if(typeof y=="string")return y;if(Qr(y))return Jm(y,g);const T=xi(g.fields,y.field),S=Fh({parseNumbers:g.parseNumbers,inputType:T?.inputType});if(Array.isArray(y.value))return{...y,value:y.value.map(w=>hn(w,{parseNumbers:S}))};const A=yn(y.value,{retainEmptyStrings:!0}).map(w=>hn(w,{parseNumbers:S}));if(A.every(w=>typeof w=="number")){if(A.length>1)return{...y,value:A};if(A.length===1)return{...y,value:A[0]}}return y})}),To=f=>typeof f=="string"&&f.length>0||typeof f=="number"&&!Number.isNaN(f)||typeof f!="string"&&typeof f!="number",$r=(f,g)=>!!g&&(typeof f=="number"||typeof f=="bigint"||typeof f=="string"&&S_.test(f)),C_=f=>f.length>=3,eg=(f=["",""])=>Array.isArray(f)?f:typeof f=="string"?[f,f]:f??["",""],e0=(f,{quoteFieldNamesWith:g,fieldIdentifierSeparator:y})=>{const[T,S]=eg(g);return typeof y=="string"&&y.length>0?R7(Zm(f,y).map(A=>`${T}${A}${S}`),y):`${T}${f}${S}`},Jd=["S","V","O"],P_=f=>{const g=[],y=new Set(Jd);for(const T of f.toUpperCase())if(y.has(T)&&(g.push(T),y.delete(T),y.size===0))break;for(const T of Jd)y.has(T)&&g.push(T);return g},u9={groupPrefix:"",groupPrefix_not_xor:"either zero or more than one of",groupPrefix_xor:"exactly one of",groupSuffix:"is true",groupSuffix_not:"is not true"},ef=(f,g,y)=>g.startsWith(f)&&y.every(T=>g.includes(`_${T}`)&&g.match(/_/g)?.length===y.length),Oc=(f,g,y=[])=>y.length===0?g[f]??u9[f]??"":Object.entries(g).find(([T])=>ef(f,T,y))?.[1]??Object.entries(u9).find(([T])=>ef(f,T,y))?.[1]??u9[f]??"",ms=f=>{const{mode:g,threshold:y}=f.match??{};if(!g)return null;if(!Qr(f.value))return!1;const T=Sn(g),S=T==="atleast"&&y===1?"some":T==="atmost"&&y===0?"none":T;return(S==="atleast"||S==="atmost"||S==="exactly")&&(typeof y!="number"||y<0)?!1:{mode:S,threshold:y}},tf=(f,g)=>typeof g=="bigint"?{$bigint:g.toString()}:g,tg=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?T:"";const G=[];let j="",F=!0;for(const X of O.rules){if(typeof X=="string"){j=Kd[X];continue}if(Qr(X)){const ee=C(X);ee&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(ee));continue}const[fe,ae]=N(X);if(!Wn(X,fe,ae)||X.field===A||X.operator===w||o!==void 0&&X.value===o)continue;const he=xi(y,X.field),xe=P(X,{...g,parseNumbers:S(he?.inputType),escapeQuotes:(X.valueSource??"value")==="value",fieldData:he});xe&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(xe))}const q=G.join(js(O)?` ${Kd[O.combinator]} `:" "),[V,H]=O.not||!U?[`${O.not?"!":""}(`,")"]:["",""];return q?`${V}${q}${H}`:T};return C(f,!0)},Fc=f=>f.startsWith("not")||f.startsWith("doesnot"),g5=(f,g)=>typeof f!="string"||!g?`${f}`:f.replaceAll('"','\\"'),R_=(f,g={})=>{const{escapeQuotes:y,parseNumbers:T,preserveValueOrder:S}=g,{field:A,operator:w,value:o,valueSource:P}=f,N=P==="field",z=Sn(w==="="?"==":w),C=typeof o=="number"||typeof o=="boolean"||typeof o=="bigint"||$r(o,T),O=ms(f);if(O===!1)return"";if(O){const{mode:U,threshold:G}=O,j="elem_alias",F=tg(a3(f.value,{ruleProcessor:q=>({...q,field:`${j}${q.field?`.${q.field}`:""}`})}),g);switch(U){case"all":return`${A}.all(${j}, ${F})`;case"none":case"some":return`${U==="none"?"!":""}${A}.exists(${j}, ${F})`;case"atleast":case"atmost":case"exactly":{const q=`double(${A}.size())`,V=`${A}.filter(${j}, ${F}).size()`,H=U==="atleast"?">=":U==="atmost"?"<=":"==";return G>0&&G<1?`${V} ${H} (${q} * ${G})`:`${V} ${H} ${G}`}}}switch(z){case"<":case"<=":case"==":case"!=":case">":case">=":return`${A} ${z} ${N||C?bi(o):`"${g5(o,y)}"`}`;case"contains":case"doesnotcontain":return`${Fc(z)?"!":""}${A}.contains(${N?bi(o):`"${g5(o,y)}"`})`;case"beginswith":case"doesnotbeginwith":return`${Fc(z)?"!":""}${A}.startsWith(${N?bi(o):`"${g5(o,y)}"`})`;case"endswith":case"doesnotendwith":return`${Fc(z)?"!":""}${A}.endsWith(${N?bi(o):`"${g5(o,y)}"`})`;case"null":return`${A} == null`;case"notnull":return`${A} != null`;case"in":case"notin":{const[U,G]=Fc(z)?["!(",")"]:["",""];return`${U}${A} in [${yn(o).map(j=>N||$r(j,T)?`${bi(j)}`:`"${g5(j,y)}"`).join(", ")}]${G}`}case"between":case"notbetween":{const U=yn(o);if(U.length>=2&&!r4(U[0])&&!r4(U[1])){const[G,j]=U,F=T!==!1,q=$r(G,F)?hn(G,{parseNumbers:F}):NaN,V=$r(j,F)?hn(j,{parseNumbers:F}):NaN;let H=Number.isNaN(q)?N?`${G}`:`"${g5(G,y)}"`:q,X=Number.isNaN(V)?N?`${j}`:`"${g5(j,y)}"`:V;if(!S&&H===q&&X===V&&V<q){const fe=V;X=q,H=fe}return z==="between"?`(${A} >= ${H} && ${A} <= ${X})`:`(${A} < ${H} || ${A} > ${X})`}else return""}}return""},yh={$and:[{$expr:!0}]},_h=(f,g,y)=>{const{fields:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?yh:!1;const G=`$${Sn(O.combinator)}`;let j=!1;const F=O.rules.map(q=>{if(Qr(q)){const fe=C(q);return fe?(j=!0,fe):!1}const[V,H]=N(q);if(!Wn(q,V,H)||q.field===A||q.operator===w||o!==void 0&&q.value===o)return!1;const X=xi(T,q.field);return P(q,{...g,parseNumbers:S(X?.inputType),fieldData:X},y)}).filter(Boolean);return F.length>0?F.length===1&&!j?F[0]:{[G]:F}:yh};return C(t2(f),!0)},W2=(f,g,y=!1)=>$r(f,y||typeof f=="bigint")?Number(hn(f,{parseNumbers:"strict"})):g,p7=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{parseNumbers:w,preserveValueOrder:o,context:P}=g,N=A==="field",{avoidFieldsAsKeys:z}=P??{},C=ms(f);if(C===!1)return;if(C){const{mode:U,threshold:G}=C,j={$size:{$ifNull:[`$${y}`,[]]}},F=_h(a3(S,{ruleProcessor:H=>({...H,field:H.field?`${y}.${H.field}`:y})}),{...g,ruleProcessor:p7,context:{...g.context,avoidFieldsAsKeys:!1}}),q=_h(a3(S,{ruleProcessor:H=>({...H,field:H.field?`$item.${H.field}`:"$item"})}),{...g,ruleProcessor:p7,context:{...g.context,avoidFieldsAsKeys:!0}}),V={$size:{$ifNull:[{$filter:{input:`$${y}`,as:"item",cond:{$and:[q]}}},[]]}};switch(U){case"all":return{$expr:{$eq:[V,j]}};case"none":return{$nor:[F]};case"some":return F;case"atleast":case"atmost":case"exactly":{const H=U==="atleast"?m5[">="]:U==="atmost"?m5["<="]:m5["="];return G>0&&G<1?{$expr:{[H]:[V,{$multiply:[j,G]}]}}:{$expr:{[H]:[V,G]}}}}}if(T==="="&&!N)return z?{$eq:[`$${y}`,W2(S,S,w)]}:{[y]:W2(S,S,w)};const O=Sn(T);switch(O){case"<":case"<=":case"=":case"!=":case">":case">=":{const U=m5[O];return N?{[U]:[`$${y}`,`$${S}`]}:z?{$and:[{$ne:[`$${y}`,null]},{[U]:[`$${y}`,W2(S,S,w)]}]}:{[y]:{[U]:W2(S,S,w)}}}case"contains":return N?{$where:`this.${y}.includes(this.${S})`}:z?{$regexMatch:{input:`$${y}`,regex:S}}:{[y]:{$regex:S}};case"beginswith":return N?{$where:`this.${y}.startsWith(this.${S})`}:z?{$regexMatch:{input:`$${y}`,regex:`^${S}`}}:{[y]:{$regex:`^${S}`}};case"endswith":return N?{$where:`this.${y}.endsWith(this.${S})`}:z?{$regexMatch:{input:`$${y}`,regex:`${S}$`}}:{[y]:{$regex:`${S}$`}};case"doesnotcontain":return N?{$where:`!this.${y}.includes(this.${S})`}:z?{$not:{$regexMatch:{input:`$${y}`,regex:S}}}:{[y]:{$not:{$regex:S}}};case"doesnotbeginwith":return N?{$where:`!this.${y}.startsWith(this.${S})`}:z?{$not:{$regexMatch:{input:`$${y}`,regex:`^${S}`}}}:{[y]:{$not:{$regex:`^${S}`}}};case"doesnotendwith":return N?{$where:`!this.${y}.endsWith(this.${S})`}:z?{$not:{$regexMatch:{input:`$${y}`,regex:`${S}$`}}}:{[y]:{$not:{$regex:`${S}$`}}};case"null":return z?{$eq:[`$${y}`,null]}:{[y]:null};case"notnull":return z?{$ne:[`$${y}`,null]}:{[y]:{$ne:null}};case"in":case"notin":{const U=yn(S);return N?{$where:`${O==="notin"?"!":""}[${U.map(G=>`this.${G}`).join(",")}].includes(this.${y})`}:z?O==="notin"?{$not:{[m5.in]:[`$${y}`,U.map(G=>W2(G,G,w))]}}:{[m5[O]]:[`$${y}`,U.map(G=>W2(G,G,w))]}:{[y]:{[m5[O]]:U.map(G=>W2(G,G,w))}}}case"between":case"notbetween":{const U=yn(S);if(U.length>=2&&To(U[0])&&To(U[1])){const[G,j]=U,F=W2(G,NaN,!0),q=W2(j,NaN,!0);let V=N||Number.isNaN(F)?G:F,H=N||Number.isNaN(q)?j:q;if(!o&&V===F&&H===q&&q<F){const X=q;H=F,V=X}return O==="between"?N?{$gte:[`$${y}`,`$${V}`],$lte:[`$${y}`,`$${H}`]}:z?{$and:[{$gte:[`$${y}`,V]},{$lte:[`$${y}`,H]}]}:{[y]:{$gte:V,$lte:H}}:N?{$or:[{$lt:[`$${y}`,`$${V}`]},{$gt:[`$${y}`,`$${H}`]}]}:z?{$or:[{$lt:[`$${y}`,V]},{$gt:[`$${y}`,H]}]}:{$or:[{[y]:{$lt:V}},{[y]:{$gt:H}}]}}else return""}}return""},I_=(f,g)=>{const y=p7(f,g);return y?JSON.stringify(y):""},rg=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?T:"";const G=[];let j="",F=!0;for(const X of O.rules){if(typeof X=="string"){j=X;continue}if(Qr(X)){const ee=C(X);ee&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(ee));continue}const[fe,ae]=N(X);if(!Wn(X,fe,ae)||X.field===A||X.operator===w||o!==void 0&&X.value===o)continue;const he=xi(y,X.field),xe=P(X,{...g,parseNumbers:S(he?.inputType),escapeQuotes:(X.valueSource??"value")==="value",fieldData:he});xe&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(xe))}const q=G.join(js(O)?` ${O.combinator} `:" "),[V,H]=O.not||!U?[`${O.not?"!":""}(`,")"]:["",""];return q?`${V}${q}${H}`:T};return C(f,!0)},kc=f=>f.startsWith("not")||f.startsWith("doesnot"),c9=(f,g)=>g?`!(${f})`:f,y5=(f,g)=>typeof f!="string"||!g?`${f}`:f.replaceAll("'","\\'"),N_=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{escapeQuotes:w,parseNumbers:o,preserveValueOrder:P}=g,N=A==="field",z=Sn(T==="="?"==":T),C=typeof S=="number"||typeof S=="boolean"||typeof S=="bigint"||$r(S,o),O=ms(f);if(O===!1)return"";if(O){const{mode:U,threshold:G}=O,j=rg(a3(f.value,{ruleProcessor:V=>({...V,field:V.field||"#this"})}),g),F=`${y}.size()`,q=`${y}.?[${j}].size()`;switch(U){case"all":return`${q} == ${F}`;case"none":return`${q} == 0`;case"some":return`${q} >= 1`;case"atleast":case"atmost":case"exactly":{const V=U==="atleast"?">=":U==="atmost"?"<=":"==";return G>0&&G<1?`${q} ${V} (${F} * ${G})`:`${q} ${V} ${G}`}}}switch(z){case"<":case"<=":case"==":case"!=":case">":case">=":return`${y} ${z} ${N||C?bi(S):`'${y5(S,w)}'`}`;case"contains":case"doesnotcontain":return c9(`${y} matches ${N||C?bi(S):`'${y5(S,w)}'`}`,kc(z));case"beginswith":case"doesnotbeginwith":return c9(`${y} matches ${N?`'^'.concat(${bi(S)})`:`'${typeof S=="string"&&!S.startsWith("^")||C?"^":""}${y5(S,w)}'`}`,kc(z));case"endswith":case"doesnotendwith":return c9(`${y} matches ${N?`${bi(S)}.concat('$')`:`'${y5(S,w)}${typeof S=="string"&&!S.endsWith("$")||C?"$":""}'`}`,kc(z));case"null":return`${y} == null`;case"notnull":return`${y} != null`;case"in":case"notin":{const U=kc(z)?"!":"",G=yn(S);return G.length>0?`${U}(${G.map(j=>`${y} == ${N||$r(j,o)?`${bi(j)}`:`'${y5(j,w)}'`}`).join(" or ")})`:""}case"between":case"notbetween":{const U=yn(S);if(U.length>=2&&!r4(U[0])&&!r4(U[1])){const[G,j]=U,F=o!==!1,q=$r(G,F)?hn(G,{parseNumbers:F}):NaN,V=$r(j,F)?hn(j,{parseNumbers:F}):NaN;let H=Number.isNaN(q)?N?`${G}`:`'${y5(G,w)}'`:q,X=Number.isNaN(V)?N?`${j}`:`'${y5(j,w)}'`:V;if(!P&&H===q&&X===V&&V<q){const fe=V;X=q,H=fe}return z==="between"?`(${y} >= ${H} and ${y} <= ${X})`:`(${y} < ${H} or ${y} > ${X})`}else return""}}return""},D_=(f,g,y)=>y&&typeof f=="string"?f.replaceAll(`${g}`,`${g}${g}`):f,E6=({operator:f,value:g,valueSource:y},{escapeQuotes:T,parseNumbers:S,preserveValueOrder:A,quoteFieldNamesWith:w,quoteValuesWith:o,concatOperator:P="||",fieldIdentifierSeparator:N,wrapValueWith:z=["",""],translations:C}={})=>{const O=y==="field",U=Sn(f),G=o||"'",j=X=>`${z[0]}${G}${X}${G}${z[1]}`,F=X=>D_(X,G,T),q=X=>j(F(X)),V=X=>e0(X,{quoteFieldNamesWith:w,fieldIdentifierSeparator:N}),H=(...X)=>P.toUpperCase()==="CONCAT"?`CONCAT(${X.join(", ")})`:X.join(` ${P} `);switch(U){case"null":case"notnull":return"";case"in":case"notin":{const X=yn(g);return X.length>0?`(${X.map(fe=>O?V(fe):$r(fe,S)?`${bi(fe)}`:`${q(fe)}`).join(", ")})`:""}case"between":case"notbetween":{const X=yn(g,{retainEmptyStrings:!0});if(X.length<2||!To(X[0])||!To(X[1]))return"";const[fe,ae]=X,he=$r(fe,S)?hn(fe,{parseNumbers:"strict"}):NaN,xe=$r(ae,S)?hn(ae,{parseNumbers:"strict"}):NaN,ee=Number.isNaN(he)?O?`${fe}`:fe:he,Pe=Number.isNaN(xe)?O?`${ae}`:ae:xe,we=[ee,Pe];return!A&&ee===he&&Pe===xe&&xe<he&&(we[0]=xe,we[1]=he),(O?we.map(Fe=>V(Fe)):we.every(Fe=>$r(Fe,S))?we.map(Fe=>hn(Fe,{parseNumbers:"strict"})):we.map(Fe=>q(Fe))).join(` ${C?.and??"and"} `)}case"contains":case"doesnotcontain":return O?H(j("%"),V(g),j("%")):j(`%${F(g)}%`);case"beginswith":case"doesnotbeginwith":return O?H(V(g),j("%")):j(`${F(g)}%`);case"endswith":case"doesnotendwith":return O?H(j("%"),V(g)):j(`%${F(g)}`)}return typeof g=="boolean"?g?"TRUE":"FALSE":O?V(g):$r(g,S)?`${bi(g)}`:`${q(g)}`},ng=(f,g)=>{const y=g??{},{parseNumbers:T,preserveValueOrder:S,context:A={}}=y,{columns:w,drizzleOperators:o,useRawFields:P}=A;if(!w||!o)return;const{between:N,eq:z,gt:C,gte:O,inArray:U,isNotNull:G,isNull:j,like:F,lt:q,lte:V,ne:H,notBetween:X,notInArray:fe,notLike:ae,sql:he}=o,{field:xe,operator:ee,value:Pe,valueSource:we}=f,Fe=P&&/[a-z][a-z0-9]*/i.test(xe)?he.raw(xe):w[xe],et=Sn(ee),Ke=we==="field",_t=Te=>Ke?w[Te]:Te;if(!Fe)return;const Ne=ms(f);if(Ne!==!1){if(Ne){if(y.preset!=="postgresql")return;const{mode:Te,threshold:lt}=Ne,Ze="elem_alias",Ct=ig(a3(f.value,{ruleProcessor:Ie=>({...Ie,field:Ze})}),{...y,context:{...y.context,useRawFields:!0}});switch(Te){case"all":return he`(select count(*) from unnest(${Fe}) as ${he.raw(Ze)} where ${Ct({},o)}) = array_length(${Fe}, 1)`;case"none":return he`not exists (select 1 from unnest(${Fe}) as ${he.raw(Ze)} where ${Ct({},o)})`;case"some":return he`exists (select 1 from unnest(${Fe}) as ${he.raw(Ze)} where ${Ct({},o)})`;case"atleast":case"atmost":case"exactly":{const Ie=Te==="atleast"?">=":Te==="atmost"?"<=":"=";return lt>0&&lt<1?he`(select count(*) / array_length(${Fe}, 1) from unnest(${Fe}) as ${he.raw(Ze)} where ${Ct({},o)}) ${he.raw(`${Ie} ${lt}`)}`:he`(select count(*) from unnest(${Fe}) as ${he.raw(Ze)} where ${Ct({},o)}) ${he.raw(`${Ie} ${lt}`)}`}}}switch(et){case"=":return z(Fe,_t(Pe));case"!=":return H(Fe,_t(Pe));case">":return C(Fe,_t(Pe));case"<":return q(Fe,_t(Pe));case">=":return O(Fe,_t(Pe));case"<=":return V(Fe,_t(Pe));case"beginswith":case"doesnotbeginwith":return(et==="doesnotbeginwith"?ae:F)(Fe,Ke?he`${_t(Pe)} || '%'`:`${Pe}%`);case"contains":case"doesnotcontain":return(et==="doesnotcontain"?ae:F)(Fe,Ke?he`'%' || ${_t(Pe)} || '%'`:`%${Pe}%`);case"endswith":case"doesnotendwith":return(et==="doesnotendwith"?ae:F)(Fe,Ke?he`'%' || ${_t(Pe)}`:`%${Pe}`);case"null":return j(Fe);case"notnull":return G(Fe);case"in":case"notin":{const Te=yn(Pe).map(lt=>_t(lt));return et==="notin"?fe(Fe,Te):U(Fe,Te)}case"between":case"notbetween":{const Te=yn(Pe);if(Te.length>=2&&To(Te[0])&&To(Te[1])){let[lt,Ze]=Te;const Ct=T!==!1;if(!Ke&&$r(lt,Ct)&&$r(Ze,Ct)){const Ie=hn(lt,{parseNumbers:Ct}),rt=hn(Ze,{parseNumbers:Ct});if(!S&&rt<Ie){const dt=rt;Ze=Ie,lt=dt}else lt=Ie,Ze=rt}else Ke&&(lt=_t(lt),Ze=_t(Ze));return et==="notbetween"?X(Fe,lt,Ze):N(Fe,lt,Ze)}return}default:return}}},ig=(f,g,y)=>(T,S)=>{const{fields:A,getParseNumberBoolean:w,placeholderFieldName:o,placeholderOperatorName:P,placeholderValueName:N,validateRule:z,validationMap:C}=g;if(!T||!S)return;const{and:O,not:U,or:G}=S,j=ng,F=(q,V)=>{if(!Wn(q,C[q.id??""]))return;const H=q.rules.map(fe=>{if(Qr(fe))return F(fe);const[ae,he]=z(fe);if(!Wn(fe,ae,he)||fe.field===o||fe.operator===P||N!==void 0&&fe.value===N)return;const xe=xi(A,fe.field);return j(fe,{...g,parseNumbers:w(xe?.inputType),fieldData:xe,context:{...g.context,columns:T,drizzleOperators:S}})}).filter(Boolean);if(H.length===0)return;const X=q.combinator==="or"?G(...H):O(...H);return q.not?U(X):X};return F(t2(f))},O_=(f,g)=>{const{fields:y,getParseNumberBoolean:T,placeholderFieldName:S,placeholderOperatorName:A,placeholderValueName:w,ruleProcessor:o,validateRule:P,validationMap:N}=g,z=O=>{if(!Wn(O,N[O.id??""]))return!1;const U=O.rules.map(G=>{if(Qr(G))return z(G);const[j,F]=P(G);if(!Wn(G,j,F)||G.field===S||G.operator===A||w!==void 0&&G.value===w)return!1;const q=xi(y,G.field);return o(G,{...g,parseNumbers:T(q?.inputType),fieldData:q})}).filter(Boolean);return U.length===0?!1:{bool:O.not?{must_not:/^or$/i.test(O.combinator)?{bool:{should:U}}:U}:{[/^or$/i.test(O.combinator)?"should":"must"]:U}}},C=z(t2(f));return C===!1?{}:C},ag=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?T:"";const G=[];let j="",F=!0;for(const X of O.rules){if(typeof X=="string"){j=X;continue}if(Qr(X)){const ee=C(X);ee&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(ee));continue}const[fe,ae]=N(X);if(!Wn(X,fe,ae)||X.field===A||X.operator===w||o!==void 0&&X.value===o)continue;const he=xi(y,X.field),xe=P(X,{...g,parseNumbers:S(he?.inputType),escapeQuotes:(X.valueSource??"value")==="value",fieldData:he});xe&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(xe))}const q=G.join(js(O)?` ${O.combinator} `:" "),[V,H]=O.not||!U?[`${O.not?"$not":""}(`,")"]:["",""];return q?`${V}${q}${H}`:T};return C(f,!0)},vh=(f,g)=>{const{fields:y,getParseNumberBoolean:T,placeholderFieldName:S,placeholderOperatorName:A,placeholderValueName:w,ruleProcessor:o,validateRule:P,validationMap:N}=g,z=t2(f),C=(O,U)=>{if(!Wn(O,N[O.id??""]))return!1;const G=O.rules.map(F=>{if(Qr(F))return C(F);const[q,V]=P(F);if(!Wn(F,q,V)||F.field===S||F.operator===A||w!==void 0&&F.value===w)return!1;const H=xi(y,F.field);return o(F,{...g,parseNumbers:T(H?.inputType),fieldData:H})}).filter(Boolean);if(G.length===0)return!1;const j={[O.combinator]:G};return O.not?{"!":j}:j};return C(z)},F_=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?T:"";const G=O.rules.map(X=>{if(Qr(X))return C(X);const[fe,ae]=N(X);if(!Wn(X,fe,ae)||X.field===A||X.operator===w||o!==void 0&&X.value===o)return"";const he=xi(y,X.field);return P(X,{...g,parseNumbers:S(he?.inputType),escapeQuotes:(X.valueSource??"value")==="value",fieldData:he})}).filter(Boolean),j=G.join(""),[F,q]=O.not?["(!",")"]:["",""],[V,H]=G.length>1?[`${F}(${O.combinator==="or"?"|":"&"}`,`)${q}`]:[F,q];return j?`${V}${j}${H}`:T};return C(t2(f),!0)},rf=f=>f.startsWith("{")&&f.endsWith("}"),k_=(f,g,y)=>{const{fields:T,fallbackExpression:S,getParseNumberBoolean:A,placeholderFieldName:w,placeholderOperatorName:o,placeholderValueName:P,ruleProcessor:N,validateRule:z,validationMap:C}=g,O=(G,j)=>{if(!Wn(G,C[G.id??""]))return j?S:"";const F=`"$${Sn(G.combinator)}"`;let q=!1;const V=G.rules.map(H=>{if(Qr(H)){const he=O(H);return he?(q=!0,rf(he)?he:`{${he}}`):""}const[X,fe]=z(H);if(!Wn(H,X,fe)||H.field===w||H.operator===o||P!==void 0&&H.value===P)return"";const ae=xi(T,H.field);return N(H,{...g,parseNumbers:A(ae?.inputType),fieldData:ae},y)}).filter(Boolean);return V.length>0?V.length===1&&!q?V[0]:`${F}:[${V.join(",")}]`:S},U=O(t2(f),!0);return rf(U)?U:`{${U}}`},og=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,translations:N,validateRule:z,validationMap:C}=g,O=(U,G)=>{if(!Wn(U,C[U.id??""]))return G?T:"";const j=Ju(U)&&U.rules.some(Pe=>typeof Pe=="string"&&Sn(Pe)==="xor")?t2(U):U,F=[];let q="",V=!0;for(const Pe of j.rules){if(typeof Pe=="string"){q=`, ${N[Pe]??Pe} `;continue}if(Qr(Pe)){const Ne=O(Pe,j.rules.length===1&&!(j.not||/^xor$/i.test(j.combinator??"")));Ne&&(!V&&q&&(F.push(q),q=""),V=!1,F.push(Ne));continue}const[we,Fe]=z(Pe);if(!Wn(Pe,we,Fe)||Pe.field===A||Pe.operator===w||o!==void 0&&Pe.value===o)continue;const et=(Pe.valueSource??"value")==="value",Ke=xi(y,Pe.field),_t=P(Pe,{...g,parseNumbers:S(Ke?.inputType),escapeQuotes:et,fieldData:Ke});_t&&(!V&&q&&(F.push(q),q=""),V=!1,F.push(_t))}if(F.length===0)return T;const H=Sn(j.combinator??"")==="xor",X=H?j.combinator.slice(1):j.combinator,fe=j.not||!G||H&&F.length>1,[ae,he]=["groupPrefix","groupSuffix"].map(Pe=>j.not?H?Oc(Pe,N,["not","xor"]):Oc(Pe,N,["not"]):H?Oc(Pe,N,["xor"]):Oc(Pe,N)),xe=fe?`${ae} (`.trim():"",ee=fe?`) ${he}`.trim():"";return`${xe}${F.join(js(j)?`, ${N[X]??X} `:"")}${ee}`};return O(f,!0)},sg=(f,g)=>{const{format:y,fields:T,fallbackExpression:S,getParseNumberBoolean:A,placeholderFieldName:w,placeholderOperatorName:o,placeholderValueName:P,ruleProcessor:N,validateRule:z,validationMap:C}=g,O=y==="parameterized",U=[],G={},j=new Map,F=H=>{j.has(H)||j.set(H,new Set);const X=`${H}_${j.get(H).size+1}`;return j.get(H).add(X),X},q=H=>{const[X,fe]=z(H);if(!Wn(H,X,fe)||H.field===w||H.operator===o||P!==void 0&&H.value===P)return"";const ae=xi(T,H.field),he=Object.fromEntries([...j.entries()].map(([we,Fe])=>[we,[...Fe]])),xe=N(H,{...g,parseNumbers:A(ae?.inputType),getNextNamedParam:F,fieldParamNames:he,fieldData:ae},{processedParams:U});if(!dl(xe))return"";const{sql:ee,params:Pe}=xe;if(typeof ee!="string"||!ee)return"";if(y==="parameterized"&&Array.isArray(Pe))U.push(...Pe);else if(y==="parameterized_named"&&dl(Pe)){Object.assign(G,Pe);for(const we of Object.keys(Pe))j.get(H.field)?.add(we)}return ee},V=(H,X)=>{if(!Wn(H,C[H.id??""]))return X?S:"";const fe=[];let ae="",he=!0;for(const xe of H.rules){if(typeof xe=="string"){ae=xe;continue}if(Qr(xe)){const Pe=V(xe,H.rules.length===1);Pe&&(!he&&ae&&(fe.push(ae),ae=""),he=!1,fe.push(Pe));continue}const ee=q(xe);ee&&(!he&&ae&&(fe.push(ae),ae=""),he=!1,fe.push(ee))}return fe.length===0?S:`${H.not?"NOT ":""}(${fe.join(js(H)?` ${H.combinator} `:" ")})`};return O?{sql:V(f,!0),params:U}:{sql:V(f,!0),params:G}},bh={},z_=(f,g)=>{const{fields:y,getParseNumberBoolean:T,placeholderFieldName:S,placeholderOperatorName:A,placeholderValueName:w,ruleProcessor:o,validateRule:P,validationMap:N}=g,z=(O,U)=>{if(!Wn(O,N[O.id??""]))return U?bh:void 0;const G=O.combinator.toUpperCase();let j=!1;const F=O.rules.map(q=>{if(Qr(q)){const fe=z(q);return fe?(j=!0,fe):void 0}const[V,H]=P(q);if(!Wn(q,V,H)||q.field===S||q.operator===A||w!==void 0&&q.value===w)return;const X=xi(y,q.field);return o(q,{...g,parseNumbers:T(X?.inputType),fieldData:X})}).filter(Boolean);return F.length>0?F.length===1&&!j?F[0]:{[G]:F}:bh},C=z(t2(f),!0);return f.not?{NOT:C}:C},B_=(f,g)=>{const{fields:y,getParseNumberBoolean:T,placeholderFieldName:S,placeholderOperatorName:A,placeholderValueName:w,ruleProcessor:o,validateRule:P,validationMap:N,context:z={}}=g,{sequelizeOperators:C}=z;if(!C)return;const O=(U,G)=>{if(!Wn(U,N[U.id??""]))return;const j=U.combinator.toUpperCase();let F=!1;const q=U.rules.map(H=>{if(Qr(H)){const he=O(H);return he?(F=!0,he):void 0}const[X,fe]=P(H);if(!Wn(H,X,fe)||H.field===S||H.operator===A||w!==void 0&&H.value===w)return;const ae=xi(y,H.field);return o(H,{...g,parseNumbers:T(ae?.inputType),fieldData:ae})}).filter(Boolean);if(q.length===0)return;const V=q.length===1&&!F?q[0]:{[Sn(j)==="or"?C.or:C.and]:q};return U.not?{[C.not]:V}:V};return O(t2(f))},lg=(f,g)=>{const{fields:y,fallbackExpression:T,getParseNumberBoolean:S,placeholderFieldName:A,placeholderOperatorName:w,placeholderValueName:o,ruleProcessor:P,validateRule:N,validationMap:z}=g,C=(O,U)=>{if(!Wn(O,z[O.id??""]))return U?T:"";const G=[];let j="",F=!0;for(const q of O.rules){if(typeof q=="string"){j=q;continue}if(Qr(q)){const he=C(q,O.rules.length===1);he&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(he));continue}const[V,H]=N(q);if(!Wn(q,V,H)||q.field===A||q.operator===w||o!==void 0&&q.value===o)continue;const X=(q.valueSource??"value")==="value",fe=xi(y,q.field),ae=P(q,{...g,parseNumbers:S(fe?.inputType),escapeQuotes:X,fieldData:fe});ae&&(!F&&j&&(G.push(j),j=""),F=!1,G.push(ae))}return G.length===0?T:`${O.not?"NOT ":""}(${G.join(js(O)?` ${O.combinator} `:" ")})`};return C(f,!0)},L_={"<":"lt","<=":"lte",">":"gt",">=":"gte"},zc=(f,g)=>f.startsWith("not")||f.startsWith("doesnot")?{bool:{must_not:g}}:g,h9=f=>f?.replace(/('|\\)/g,"\\$1"),U_={beginswith:"startsWith",doesnotbeginwith:"startsWith",doesnotcontain:"contains",doesnotendwith:"endsWith",endswith:"endsWith"},j_=(f,g,y)=>{const T=`doc['${f}'].value.${U_[g]??g}(doc['${y}'].value)`;return g.startsWith("d")?`!${T}`:T},c6=(f,g)=>typeof f=="boolean"?f:$r(f,g)?hn(f,{parseNumbers:g}):f,G_=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{parseNumbers:w,preserveValueOrder:o}=g,P=Sn(T);if(ms(f))return!1;if(A==="field"){if(yn(S).some(z=>typeof z!="string"))return!1;const N=h9(y);switch(P){case"=":case"!=":case">":case">=":case"<":case"<=":{const z=P==="="?"==":P,C=h9(S);return C?{bool:{filter:{script:{script:`doc['${N}'].value ${z} doc['${C}'].value`}}}}:!1}case"in":case"notin":{const z=yn(S);if(z.length>0){const C=z.map(O=>({bool:{filter:{script:{script:`doc['${N}'].value == doc['${O}'].value`}}}}));return{bool:P==="in"?{should:C}:{must_not:C}}}return!1}case"between":case"notbetween":{const z=yn(S);if(z.length>=2&&z[0]&&z[1]){const C=`doc['${N}'].value >= doc['${z[0]}'].value && doc['${N}'].value <= doc['${z[1]}'].value`;return{bool:{filter:{script:{script:P==="notbetween"?`!(${C})`:C}}}}}return!1}case"contains":case"doesnotcontain":case"beginswith":case"doesnotbeginwith":case"endswith":case"doesnotendwith":{const z=h9(S);return z?{bool:{filter:{script:{script:j_(N,P,z)}}}}:!1}}}switch(P){case"<":case"<=":case">":case">=":return{range:{[y]:{[L_[P]]:c6(S,w)}}};case"=":return{term:{[y]:c6(S,w)}};case"!=":return{bool:{must_not:{term:{[y]:c6(S,w)}}}};case"null":return{bool:{must_not:{exists:{field:y}}}};case"notnull":return{exists:{field:y}};case"in":case"notin":{const N=yn(S).map(z=>c6(z,w));if(N.length>0){const z=N.map(C=>({term:{[y]:c6(C,w)}}));return{bool:P==="in"?{should:z}:{must_not:z}}}return!1}case"between":case"notbetween":{const N=yn(S);if(N.length>=2&&To(N[0])&&To(N[1])){let[z,C]=N;const O=w!==!1;if($r(z,O)&&$r(C,O)){const U=hn(z,{parseNumbers:O}),G=hn(C,{parseNumbers:O});if(!o&&G<U){const j=G;C=U,z=j}else z=U,C=G}return zc(P,{range:{[y]:{gte:z,lte:C}}})}return!1}case"contains":case"doesnotcontain":return zc(P,{regexp:{[y]:{value:`.*${S}.*`}}});case"beginswith":case"doesnotbeginwith":return zc(P,{regexp:{[y]:{value:`${S}.*`}}});case"endswith":case"doesnotendwith":return zc(P,{regexp:{[y]:{value:`.*${S}`}}})}return!1},Bc=f=>f.startsWith("not")||f.startsWith("doesnot"),Lc=(f,g)=>`"${typeof f!="string"||!g?`${f}`:f.replaceAll('"','\\"')}"`,h6=(f,g)=>g?`$not(${f})`:f,nf=f=>`${f}`.replaceAll(/[/$()*+.?[\\\]^{|}]/g,String.raw`\$&`).replaceAll("-",String.raw`\x2d`),V_=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{escapeQuotes:w,parseNumbers:o,preserveValueOrder:P,quoteFieldNamesWith:N=["",""],fieldIdentifierSeparator:z=""}=g,C=A==="field",O=typeof S=="number"||typeof S=="boolean"||typeof S=="bigint"||$r(S,o),U=F=>e0(F,{quoteFieldNamesWith:N,fieldIdentifierSeparator:z}),G=ms(f);if(G===!1)return;if(G){const{mode:F,threshold:q}=G,V=`$count(${U(y)})`,H=`$count($filter(${U(y)}, function($v) {${ag(a3(S,{ruleProcessor:X=>({...X,field:X.field?`$v.${X.field}`:"$v"})}),g)}}))`;switch(F){case"all":return`${H} = ${V}`;case"none":return`${H} = 0`;case"some":return`${H} > 0`;case"atleast":case"atmost":case"exactly":{const X=F==="atleast"?">=":F==="atmost"?"<=":"=";return q>0&&q<1?`${H} ${X} (${V} * ${q})`:`${H} ${X} ${q}`}}}const j=Sn(T);switch(j){case"<":case"<=":case"=":case"!=":case">":case">=":return`${U(y)} ${j} ${C?U(bi(S)):O?bi(S):Lc(S,w)}`;case"contains":case"doesnotcontain":return h6(`$contains(${U(y)}, ${C?U(bi(S)):Lc(S,w)})`,Bc(j));case"beginswith":case"doesnotbeginwith":return h6(C?`$substring(${U(y)}, 0, $length(${U(bi(S))})) = ${U(bi(S))}`:`$contains(${U(y)}, /^${nf(S)}/)`,Bc(j));case"endswith":case"doesnotendwith":return h6(C?`$substring(${U(y)}, $length(${U(y)}) - $length(${U(bi(S))})) = ${U(bi(S))}`:`$contains(${U(y)}, /${nf(S)}$/)`,Bc(j));case"null":return`${U(y)} = null`;case"notnull":return`${U(y)} != null`;case"in":case"notin":{const F=yn(S);return h6(`${U(y)} in [${F.map(q=>C?`${U(bi(q))}`:$r(q,o)?`${bi(q)}`:Lc(q,w)).join(", ")}]`,Bc(j))}case"between":case"notbetween":{const F=yn(S);if(F.length<2||r4(F[0])||r4(F[1]))return"";const[q,V]=F,H=o!==!1,X=$r(q,H)?hn(q,{parseNumbers:H}):NaN,fe=$r(V,H)?hn(V,{parseNumbers:H}):NaN;let ae=Number.isNaN(X)?C?`${q}`:q:X,he=Number.isNaN(fe)?C?`${V}`:V:fe;if(!P&&ae===X&&he===fe&&fe<X){const we=fe;he=X,ae=we}const xe=$r(q,o)&&$r(V,o),ee=(we,Fe)=>C?U(we):xe?Fe:Lc(Fe,w),Pe=`${U(y)} >= ${ee(q,ae)} and ${U(y)} <= ${ee(V,he)}`;return j==="between"?`(${Pe})`:h6(Pe,!0)}}return""},q_=f=>f.replace(/^(=)$/,"$1=").replace(/^notnull$/i,"!=").replace(/^null$/i,"=="),d6=(f,g)=>f.startsWith("not")||f.startsWith("doesnot")?{"!":g}:g,xh=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{parseNumbers:w,preserveValueOrder:o}=g,P=A==="field",N={var:y},z=U=>P?{var:`${U}`}:$r(U,w)?hn(U,{parseNumbers:w}):U,C=ms(f);if(C===!1)return!1;if(C){const{mode:U,threshold:G}=C;switch(U){case"all":case"none":case"some":return{[U]:[{var:y},S.rules.length===1&&!Qr(S.rules[0])?xh(S.rules[0],g):vh(S,g)]};case"atleast":case"atmost":case"exactly":{const j=U==="atleast"?">=":U==="atmost"?"<=":"==",F={reduce:[{filter:[{var:y},S.rules.length===1&&!Qr(S.rules[0])?xh(S.rules[0],g):vh(S,g)]},{"+":[1,{var:"accumulator"}]},0]};if(G>0&&G<1){const q={reduce:[{var:y},{"+":[1,{var:"accumulator"}]},0]};return{[j]:[F,{"*":[q,G]}]}}return{[j]:[F,G]}}}}const O=Sn(T);switch(O){case"<":case"<=":case"=":case"!=":case">":case">=":return{[q_(O)]:[N,z(S)]};case"null":case"notnull":return{[`${O==="notnull"?"!":"="}=`]:[N,null]};case"in":case"notin":return d6(O,{in:[N,yn(S).map(U=>z(U))]});case"between":case"notbetween":{const U=yn(S);if(U.length>=2&&To(U[0])&&To(U[1])){let[G,j]=U;const F=w!==!1;if(!P&&$r(G,F)&&$r(j,F)){const q=hn(G,{parseNumbers:F}),V=hn(j,{parseNumbers:F});if(!o&&V<q){const H=V;j=q,G=H}else G=q,j=V}else P&&(G={var:G},j={var:j});return d6(O,{"<=":[G,N,j]})}return!1}case"contains":case"doesnotcontain":return d6(O,{in:[z(S),N]});case"beginswith":case"doesnotbeginwith":return d6(O,{startsWith:[N,z(S)]});case"endswith":case"doesnotendwith":return d6(O,{endsWith:[N,z(S)]})}return!1},_5=(f,g)=>g?`(!${f})`:`${f}`,K2=f=>`${bi(f)}`.replaceAll(/[()&|=<>~*\\/]/g,g=>`\\${g.codePointAt(0).toString(16)}`),$_=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{preserveValueOrder:w}=g,o=Sn(T);if(A==="field"||r4(S)&&o!=="null"&&o!=="notnull"||ms(f))return"";switch(o){case"=":case"!=":return _5(`(${y}=${K2(S)})`,o==="!=");case">":case">=":return`(${y}>=${K2(S)})`;case"<":case"<=":return`(${y}<=${K2(S)})`;case"contains":case"doesnotcontain":return _5(`(${y}=*${K2(S)}*)`,o==="doesnotcontain");case"beginswith":case"doesnotbeginwith":return _5(`(${y}=${K2(S)}*)`,o==="doesnotbeginwith");case"endswith":case"doesnotendwith":return _5(`(${y}=*${K2(S)})`,o==="doesnotendwith");case"null":case"notnull":return _5(`(${y}=*)`,o==="notnull");case"in":case"notin":return _5(`(|${yn(S).map(P=>`(${y}=${K2(P)})`).join("")})`,o==="notin");case"between":case"notbetween":{const P=yn(S);if(P.length<2||r4(P[0])||r4(P[1]))return"";const[N,z]=P,C=$r(N,!0)?hn(N,{parseNumbers:!0}):NaN,O=$r(z,!0)?hn(z,{parseNumbers:!0}):NaN;let U=Number.isNaN(C)?N:C,G=Number.isNaN(O)?z:O;if(!w&&U===C&&G===O&&O<C){const j=O;G=C,U=j}return _5(`(&(${y}>=${K2(U)})(${y}<=${K2(G)}))`,o==="notbetween")}}return""},Q_=(f,g,y)=>y&&typeof f=="string"?f.replaceAll(`${g}`,`${g}${g}`):f,ug=(f,g={})=>{const{escapeQuotes:y,fields:T,parseNumbers:S,quoteFieldNamesWith:A,quoteValuesWith:w,fieldIdentifierSeparator:o,translations:P}=g,N=f.valueSource==="field",z=Sn(f.operator),C=w||"'",O=X=>`${C}${X}${C}`,U=X=>Q_(X,C,y),G=X=>O(U(X)),j=X=>e0(X,{quoteFieldNamesWith:A,fieldIdentifierSeparator:o}),F=P??{},q=F.or??"or",V=F.true??"true",H=F.false??"false";switch(z){case"null":case"notnull":return"";case"between":case"notbetween":{if(!N)return E6(f,g);const X=yn(f.value,{retainEmptyStrings:!0}).slice(0,2).map(fe=>j(xi(T??[],fe)?.label??fe));return X.length<2||!To(X[0])||!To(X[1])?"":E6({...f,value:X},g)}case"in":case"notin":{const X=yn(f.value);if(X.length===0)return"";const fe=X.map(ae=>N?j(xi(T??[],ae)?.label??ae):$r(ae,S)?`${bi(ae)}`:`${G(ae)}`);return fe.length===1?fe[0]:`(${`${fe.slice(0,-1).join(", ")}${fe.length>2?",":""} ${q} ${fe.at(-1)}`})`}}return typeof f.value=="boolean"?f.value?V:H:N?j(xi(T??[],f.value)?.label??f.value):$r(f.value,S)?`${bi(f.value)}`:`${G(f.value)}`},af={"=":["is","is the same as the value in"],"!=":["is not","is not the same as the value in"],"<":["is less than","is less than the value in"],">":["is greater than","is greater than the value in"],"<=":["is less than or equal to","is less than or equal to the value in"],">=":["is greater than or equal to","is greater than or equal to the value in"],contains:["contains","contains the value in"],beginswith:["starts with","starts with the value in"],endswith:["ends with","ends with the value in"],doesnotcontain:["does not contain","does not contain the value in"],doesnotbeginwith:["does not start with","does not start with the value in"],doesnotendwith:["does not end with","does not end with the value in"],null:"is null",notnull:"is not null",in:["is one of the values","is the same as a value in"],notin:["is not one of the values","is not the same as any value in"],between:["is between","is between the values in"],notbetween:["is not between","is not between the values in"]},H_=()=>[],cg=(f,g={})=>{const{field:y,operator:T,valueSource:S="value"}=f,{getOperators:A=H_,operatorMap:w=af}=g,o=new Map(Object.entries(af));for(const[j,F]of Object.entries(w))o.set(Sn(j),F);const P=Object.fromEntries(o),N=Sn(T);var z=T;const C=yn(f.value).length===1;N==="in"&&C?z="=":N==="notin"&&C&&(z="!=");const{value:O,label:U}=xi(n3(A(y,{fieldData:g.fieldData??{name:y,value:y,label:y}})??[]),z)??{value:z,label:z},G=P[O]??P[Sn(O)]??[U,U];return typeof G=="string"?G:G[S==="field"?1:0]},Z_=(f,g)=>{const{field:y,operator:T}=f,{fieldData:S,quoteFieldNamesWith:A=["",""],fieldIdentifierSeparator:w="",quoteValuesWith:o="'",operatorProcessor:P=cg,valueProcessor:N=ug,concatOperator:z="||",wordOrder:C="SVO"}=g??{},O=e0(S?.label??y,{quoteFieldNamesWith:A,fieldIdentifierSeparator:w}),U=ms(f);if(U===!1)return"";if(U){const{mode:q,threshold:V}=U,H=og(f.value,{...g,fields:n3(S?.subproperties??[])}),X=(S?.subproperties?.length??0)>0;switch(q){case"all":return`(${X?"for ":""}every item in ${O}${X?",":""} ${H})`;case"none":return`(${X?"for ":""}no item in ${O}${X?",":""} ${H})`;case"some":return`(${X?"for ":""}at least one item in ${O}${X?",":""} ${H})`;case"atleast":case"atmost":case"exactly":{const fe=q.replace("at","at ");return V>0&&V<1?`(${X?"for ":""}${fe} ${V*100}% of the items in ${O}${X?",":""} ${H})`:`(${X?"for ":""}${fe} ${V} of the items in ${O}${X?",":""} ${H})`}}}const G=N(f,{...g,quoteFieldNamesWith:A,fieldIdentifierSeparator:w,quoteValuesWith:o,concatOperator:z}),j=Sn(T);if((j==="in"||j==="notin"||j==="between"||j==="notbetween")&&!G)return"";const F={S:O,V:P(f,g),O:G};return P_(C).map(q=>`${F[q]}`).join(" ").trim()},w6=f=>Sn(M_(f.operator)),r7=(f,g={})=>{const{quoteFieldNamesWith:y=["",""],fieldIdentifierSeparator:T="",quoteValuesWith:S="'",operatorProcessor:A=w6,valueProcessor:w=E6,concatOperator:o="||"}=g,P=G=>e0(G,{quoteFieldNamesWith:y,fieldIdentifierSeparator:T}),N=P(f.field),z=ms(f);if(z===!1)return;if(z){if(g?.preset!=="postgresql")return"";const{mode:G,threshold:j}=z,F="elem_alias",q=lg(a3(f.value,{ruleProcessor:V=>({...V,field:F})}),g);switch(G){case"all":return`(select count(*) from unnest(${N}) as ${P(F)} where ${q}) = array_length(${N}, 1)`;case"none":return`not exists (select 1 from unnest(${N}) as ${P(F)} where ${q})`;case"some":return`exists (select 1 from unnest(${N}) as ${P(F)} where ${q})`;case"atleast":case"atmost":case"exactly":{const V=G==="atleast"?">=":G==="atmost"?"<=":"=";return`(select count(*)${j>0&&j<1?` / array_length(${N}, 1)`:""} from unnest(${N}) as ${P(F)} where ${q}) ${V} ${j}`}}}const C=w(f,{...g,quoteFieldNamesWith:y,fieldIdentifierSeparator:T,quoteValuesWith:S,concatOperator:o}),O=A(f,g),U=Sn(O);return(U==="in"||U==="not in"||U==="between"||U==="not between")&&!C?"":`${N} ${O} ${C}`.trim()},of=(f,g,y)=>{const{fieldData:T,format:S,getNextNamedParam:A,parseNumbers:w,paramPrefix:o,paramsKeepPrefix:P,numberedParams:N,quoteFieldNamesWith:z=["",""],fieldIdentifierSeparator:C,concatOperator:O,operatorProcessor:U=w6,valueProcessor:G=E6}=g??{},{processedParams:j=[]}=y??{},F=S==="parameterized",q=[],V={},H=Ke=>F?{sql:Ke,params:q}:{sql:Ke,params:V},X=Ke=>e0(Ke,{quoteFieldNamesWith:z,fieldIdentifierSeparator:C}),fe=X(f.field),ae=ms(f);if(ae===!1)return;if(ae){if(g?.preset!=="postgresql")return H("");const{mode:Ke,threshold:_t}=ae,Ne="elem_alias",{sql:Te,params:lt}=sg(a3(f.value,{ruleProcessor:Ze=>({...Ze,field:Ne})}),{...g,fields:[]});switch(Array.isArray(lt)?q.push(...lt):Object.assign(V,lt),Ke){case"all":return H(`(select count(*) from unnest(${fe}) as ${X(Ne)} where ${Te}) = array_length(${fe}, 1)`);case"none":return H(`not exists (select 1 from unnest(${fe}) as ${X(Ne)} where ${Te})`);case"some":return H(`exists (select 1 from unnest(${fe}) as ${X(Ne)} where ${Te})`);case"atleast":case"atmost":case"exactly":{const Ze=Ke==="atleast"?">=":Ke==="atmost"?"<=":"=";return H(`(select count(*)${_t>0&&_t<1?` / array_length(${fe}, 1)`:""} from unnest(${fe}) as ${X(Ne)} where ${Te}) ${Ze} ${_t}`)}}}const he=G(f,{parseNumbers:w,quoteFieldNamesWith:z,concatOperator:O,fieldData:T,format:S}),xe=U(f,g),ee=Sn(xe),[Pe,we]=z;if((ee==="in"||ee==="not in"||ee==="between"||ee==="not between")&&!he)return H("");if(ee==="is null"||ee==="is not null")return H(`${Pe}${f.field}${we} ${xe}`);if(f.valueSource==="field")return H(`${Pe}${f.field}${we} ${xe} ${he}`.trim());if(ee==="in"||ee==="not in"){const Ke=yn(f.value);if(F){for(const Ne of Ke)q.push($r(Ne,w)?hn(Ne,{parseNumbers:w}):Ne);return H(`${Pe}${f.field}${we} ${xe} (${Ke.map((Ne,Te)=>N?`${o}${j.length+1+Ke.length-(Ke.length-Te)}`:"?").join(", ")})`)}const _t=[];for(const Ne of Ke){const Te=A(f.field);_t.push(`${o}${Te}`),V[`${P?o:""}${Te}`]=$r(Ne,w)?hn(Ne,{parseNumbers:w}):Ne}return H(`${Pe}${f.field}${we} ${xe} (${_t.join(", ")})`)}else if(ee==="between"||ee==="not between"){const[Ke,_t]=yn(f.value,{retainEmptyStrings:!0}).slice(0,2).map(lt=>$r(lt,w)?hn(lt,{parseNumbers:w}):lt);if(F)return q.push(Ke,_t),H(`${Pe}${f.field}${we} ${xe} ${N?`${o}${j.length+1}`:"?"} and ${N?`${o}${j.length+2}`:"?"}`);const Ne=A(f.field),Te=A(f.field);return V[`${P?o:""}${Ne}`]=Ke,V[`${P?o:""}${Te}`]=_t,H(`${Pe}${f.field}${we} ${xe} ${o}${Ne} and ${o}${Te}`)}let Fe=f.value;typeof f.value=="string"&&($r(f.value,w)?Fe=hn(f.value,{parseNumbers:w}):Fe=/^'.*'$/g.test(he)?he.replaceAll(/(^'|'$)/g,""):he);let et="";return F?q.push(Fe):(et=A(f.field),V[`${P?o:""}${et}`]=Fe),H(`${Pe}${f.field}${we} ${xe} ${F?N?`${o}${j.length+1}`:"?":`${o}${et}`}`.trim())},d9=(f,g,y)=>$r(f,!!y||typeof f=="bigint")?Number(hn(f,{parseNumbers:!!y})):g,X_=(f,g={})=>{const{field:y,operator:T,value:S,valueSource:A}=f,{parseNumbers:w,preserveValueOrder:o}=g;if(A==="field"||ms(f))return;const P=Sn(T);switch(P){case"=":return{[y]:d9(S,S,w)};case"!=":case"<":case"<=":case">":case">=":{const N=Wd[P];return{[y]:{[N]:d9(S,S,w)}}}case"contains":return{[y]:{contains:S}};case"beginswith":return{[y]:{startsWith:S}};case"endswith":return{[y]:{endsWith:S}};case"doesnotcontain":return{NOT:{[y]:{contains:S}}};case"doesnotbeginwith":return{NOT:{[y]:{startsWith:S}}};case"doesnotendwith":return{NOT:{[y]:{endsWith:S}}};case"null":return{[y]:null};case"notnull":return{[y]:{not:null}};case"in":case"notin":{const N=yn(S);return{[y]:{[Wd[P]]:N.map(z=>d9(z,z,w))}}}case"between":case"notbetween":{const N=yn(S);if(N.length>=2&&To(N[0])&&To(N[1])){const[z,C]=N,O=w!==!1,U=$r(z,O)?hn(z,{parseNumbers:w}):NaN,G=$r(C,O)?hn(C,{parseNumbers:w}):NaN;let j=Number.isNaN(U)?z:U,F=Number.isNaN(G)?C:G;if(!o&&j===U&&F===G&&G<U){const q=G;F=U,j=q}return P==="between"?{[y]:{gte:j,lte:F}}:{OR:[{[y]:{lt:j}},{[y]:{gt:F}}]}}else return""}}return""},Y_=(f,{parseNumbers:g,preserveValueOrder:y,context:T={}}={})=>{const{sequelizeOperators:S,sequelizeCol:A,sequelizeFn:w}=T;if(ms(f))return;const{field:o,operator:P,value:N,valueSource:z}=f,C=z==="field",O=Sn(P);if(!(!S||C&&(!A||!w&&["doesnotcontain","doesnotbeginwith","doesnotendwith"].includes(O))))switch(O){case"=":case"!=":case"<":case"<=":case">":case">=":{const U={"=":S.eq,"!=":S.ne,"<":S.lt,"<=":S.lte,">":S.gt,">=":S.gte}[O];return{[o]:C&&O==="="?{[S.col]:N}:{[U]:C?A(N):$r(N,g)?hn(N,{parseNumbers:"strict"}):N}}}case"contains":return{[o]:{[S.substring]:C?A(N):`${N}`}};case"beginswith":return{[o]:{[S.startsWith]:C?A(N):`${N}`}};case"endswith":return{[o]:{[S.endsWith]:C?A(N):`${N}`}};case"doesnotcontain":return{[o]:{[S.notLike]:C?w("CONCAT","%",A(N),"%"):`%${N}%`}};case"doesnotbeginwith":return{[o]:{[S.notLike]:C?w("CONCAT",A(N),"%"):`${N}%`}};case"doesnotendwith":return{[o]:{[S.notLike]:C?w("CONCAT","%",A(N)):`%${N}`}};case"null":return{[o]:{[S.is]:null}};case"notnull":return{[o]:{[S.not]:null}};case"in":case"notin":{const U=yn(N);return{[o]:{[O==="in"?S.in:S.notIn]:U.map(G=>C?A(G):$r(G,g)?hn(G,{parseNumbers:"strict"}):G)}}}case"between":case"notbetween":{const U=yn(N,{retainEmptyStrings:!0});if(U.length<2||!To(U[0])||!To(U[1]))return;const[G,j]=U,F=$r(G,g)?hn(G,{parseNumbers:"strict"}):NaN,q=$r(j,g)?hn(j,{parseNumbers:"strict"}):NaN,V=Number.isNaN(F)?G:F,H=Number.isNaN(q)?j:q,X=[V,H];return!y&&V===F&&H===q&&q<F&&(X[0]=q,X[1]=F),{[o]:{[O==="between"?S.between:S.notBetween]:C?X.map(fe=>A(fe)):X.every(fe=>$r(fe,g))?X.map(fe=>hn(fe,{parseNumbers:"strict"})):X}}}}},sf={ansi:{},sqlite:{paramsKeepPrefix:!0},oracle:{},mssql:{concatOperator:"+",quoteFieldNamesWith:["[","]"],fieldIdentifierSeparator:".",paramPrefix:"@"},mysql:{concatOperator:"CONCAT"},postgresql:{quoteFieldNamesWith:'"',numberedParams:!0,paramPrefix:"$"}},lf={cel:R_,drizzle:ng,elasticsearch:G_,json_without_ids:r7,json:r7,jsonata:V_,jsonlogic:xh,ldap:$_,mongodb_query:p7,mongodb:I_,natural_language:Z_,parameterized_named:of,parameterized:of,prisma:X_,sequelize:Y_,spel:N_,sql:r7},ps=f=>f.operator,W_={cel:ps,drizzle:ps,elasticsearch:ps,json_without_ids:ps,json:ps,jsonata:ps,jsonlogic:ps,ldap:ps,mongodb_query:ps,mongodb:ps,natural_language:cg,parameterized_named:w6,parameterized:w6,prisma:ps,sequelize:ps,spel:ps,sql:w6},uf={cel:"1 == 1",ldap:"",mongodb:'"$and":[{"$expr":true}]',natural_language:"1 is 1",spel:"1 == 1",sql:"(1 = 1)"},K_={format:"json",fields:[],quoteFieldNamesWith:["",""],fieldIdentifierSeparator:"",getOperators:()=>[],paramPrefix:":",paramsKeepPrefix:!1,numberedParams:!1,preserveValueOrder:!1,placeholderFieldName:$m,placeholderOperatorName:Qm,quoteValuesWith:"'",concatOperator:"||",preset:"ansi",wordOrder:"SVO",translations:{},operatorMap:{}},cf=new Set(["cel","drizzle","elasticsearch","jsonata","jsonlogic","ldap","mongodb_query","mongodb","prisma","sequelize","spel"]),J_=new Set(["sql","parameterized","parameterized_named","drizzle","prisma","sequelize"]);function N7(f,g={}){const y=typeof g=="string"?{format:Sn(g)}:g,T={...K_,...!y.format||J_.has(y.format)?sf[y.preset??"ansi"]??null:null,...y,...!y.format&&(Object.keys(sf).includes(y.preset??"")?{format:"sql"}:null)},S=Sn(T.format),{fallbackExpression:A,getOperators:w,operatorProcessor:o,parseNumbers:P,quoteFieldNamesWith:N,ruleGroupProcessor:z,ruleProcessor:C,validator:O,valueProcessor:U,context:G}=T,j=Fe=>typeof Fh({parseNumbers:P,inputType:Fe})=="string"?!0:typeof P=="boolean"?P:void 0,F=typeof o=="function"?o:W_[S]??ps,q=typeof U=="function"?C_(U)?Fe=>U(Fe.field,Fe.operator,Fe.value,Fe.valueSource):U:S==="natural_language"?ug:cf.has(S)?C??lf[S]:E6,V=(typeof C=="function"?C:null)??(cf.has(S)&&typeof C!="function"&&U?q:null)??lf[S]??r7,H=eg(N),X=n3(T.fields),fe=(Fe,et)=>n3(w(Fe,et)??[]),ae=A??uf[S]??uf.sql;let he={};if(typeof O=="function"){const Fe=O(f);if(typeof Fe=="boolean"){if(!Fe)return S==="parameterized"?{sql:ae,params:[]}:S==="parameterized_named"?{sql:ae,params:{}}:S==="mongodb"?`{${ae}}`:S==="mongodb_query"?yh:S==="prisma"?bh:S==="jsonlogic"?!1:S==="elasticsearch"?{}:S==="drizzle"||S==="sequelize"?void 0:ae}else he=Fe}const xe={},ee=E_(X);for(const Fe of ee)typeof Fe.validator=="function"&&(xe[Fe.value??Fe.name]=Fe.validator);const we={...T,fallbackExpression:ae,fields:X,format:S,getOperators:fe,getParseNumberBoolean:j,quoteFieldNamesWith:H,operatorProcessor:F,ruleProcessor:V,valueProcessor:q,validateRule:Fe=>{let et,Ke;if(Fe.id&&(et=he[Fe.id]),ee.length>0){const _t=ee.filter(Ne=>Ne.name===Fe.field);if(_t.length>0){const Ne=_t[0];typeof Ne.validator=="function"&&(Ke=Ne.validator)}}return[et,Ke]},validationMap:he,context:G};if(typeof z=="function")return z(f,we);switch(S){case"json":case"json_without_ids":{const Fe=P?xa(f,et=>Jm(et,we)):f;return S==="json_without_ids"?JSON.stringify(Fe,(et,Ke)=>et==="id"||et==="path"?void 0:tf(et,Ke)):JSON.stringify(Fe,tf,2)}case"sql":return lg(f,we);case"parameterized":case"parameterized_named":return sg(f,we);case"mongodb":return k_(f,we);case"mongodb_query":return _h(f,we);case"cel":return tg(f,we);case"spel":return rg(f,we);case"jsonata":return ag(f,we);case"jsonlogic":return vh(f,we);case"elasticsearch":return O_(f,we);case"natural_language":return og(f,we);case"ldap":return F_(f,we);case"prisma":return z_(f,we);case"drizzle":return ig(f,we);case"sequelize":return B_(f,we);default:return""}}const la=(f,g)=>{let y=g,T=0;for(;T<f.length&&y&&Qr(y);){const S=y.rules[f[T]];y=typeof S=="string"?null:S,T++}return T<f.length?null:y},hg=(f,g)=>{if(g.id===f)return g;for(const y of g.rules)if(typeof y!="string"){if(y.id===f)return y;if(Qr(y)){const T=hg(f,y);if(T)return T}}return null},Yu=(f,g)=>{if(g.id===f)return[];const y=g.rules.findIndex(T=>typeof T!="string"&&T.id===f);if(y>=0)return[y];for(const[T,S]of Object.entries(g.rules))if(Qr(S)){const A=Yu(f,S);if(Array.isArray(A))return[Number.parseInt(T),...A]}return null},ea=f=>f.slice(0,-1),S5=(f,g)=>f.length===g.length&&f.every((y,T)=>y===g[T]),dg=(f,g)=>{const y=[],T=ea(f),S=ea(g);let A=0;for(;A<T.length&&A<S.length&&T[A]===S[A];)y.push(S[A]),A++;return y},Qu=(f,g)=>{let y=!!g.disabled,T=g,S=0;for(;S<f.length&&!y&&Qr(T);){const A=T.rules[f[S]];dl(A)&&(Qr(A)||"field"in A&&A.field)&&(y=!!A.disabled,T=A),S++}return y},ev=f=>S5([],f.path)?"Query builder":`Rule group at path ${f.path.join("-")}`,f6=globalThis.crypto;let _1=()=>"00-0-4-2-000".replaceAll(/[^-]/g,f=>((Math.random()+Math.trunc(f))*65536>>Number.parseInt(f)).toString(16).padStart(4,"0"));if(f6){if(typeof f6.randomUUID=="function")_1=()=>f6.randomUUID();else if(typeof f6.getRandomValues=="function"){const f="89ab",g=new Uint32Array(32);_1=()=>{f6.getRandomValues(g);let y=(g[0]%16).toString(16);for(let T=1;T<32;T++)T===12?y=`${y}4`:T===16?y=`${y}${f[g[17]%4]}`:y=`${y}${(g[T]%16).toString(16)}`,(T===7||T===11||T===15||T===19)&&(y=`${y}-`);return y}}}const tv={name:"name",value:"name",matchModes:null,label:"label"},rv=(f,g)=>{const y=f?e2(f):tv;let T=y.matchModes??!1;return!T&&g&&(T=g(y.value,{fieldData:y})),T===!0?qd:T===!1?[]:I7(T)?n3(T):T?.map(S=>qd.find(A=>A.value===Sn(S))??{name:S,value:S,label:S})??[]},fg=f=>{const g=typeof f=="boolean"?f:typeof f=="object"&&f!==null?f.valid:null;return typeof g=="boolean"?g?Or.valid:Or.invalid:""},hf=[{name:"value",value:"value",label:"value"}],nv={name:"name",value:"name",valueSources:null,label:"label"},pg=(f,g,y)=>{const T=f?e2(f):nv;let S=T.valueSources??!1;return typeof S=="function"&&(S=S(g)),!S&&y&&(S=y(T.value,g,{fieldData:T})),S?I7(S)?n3(S):S.map(A=>hf.find(w=>w.value===Sn(A))??{name:A,value:A,label:A}):hf},fi=(f,g,y)=>{const T=Ym(g).map(([S,[A,w]])=>[S,A??w??y?.[f]?.[S]]).filter(S=>!!S[1]);if(T.length>0||y){const S=y?.[f]??{},A=Object.assign({},S,Object.fromEntries(T));return{[f]:A}}},en=(f,g)=>Rn(g.map(y=>Rn(y?.[f]))),iv=(...f)=>({queryBuilder:en("queryBuilder",f),ruleGroup:en("ruleGroup",f),header:en("header",f),body:en("body",f),combinators:en("combinators",f),addRule:en("addRule",f),addGroup:en("addGroup",f),cloneRule:en("cloneRule",f),cloneGroup:en("cloneGroup",f),removeGroup:en("removeGroup",f),rule:en("rule",f),fields:en("fields",f),operators:en("operators",f),value:en("value",f),removeRule:en("removeRule",f),notToggle:en("notToggle",f),shiftActions:en("shiftActions",f),dragHandle:en("dragHandle",f),lockRule:en("lockRule",f),lockGroup:en("lockGroup",f),muteRule:en("muteRule",f),muteGroup:en("muteGroup",f),muted:en("muted",f),valueSource:en("valueSource",f),actionElement:en("actionElement",f),valueSelector:en("valueSelector",f),betweenRules:en("betweenRules",f),valid:en("valid",f),invalid:en("invalid",f),dndDragging:en("dndDragging",f),dndOver:en("dndOver",f),dndCopy:en("dndCopy",f),dndGroup:en("dndGroup",f),dndDropNotAllowed:en("dndDropNotAllowed",f),disabled:en("disabled",f),valueListItem:en("valueListItem",f),matchMode:en("matchMode",f),matchThreshold:en("matchThreshold",f),branches:en("branches",f),hasSubQuery:en("hasSubQuery",f),loading:en("loading",f)}),av=(f,g)=>f===!1?!1:f?!0:g!==!1,ov=(f,g)=>f?!0:f===!1?!1:!!g,mg=(f,g,y,T)=>T?g??y:f?av(g,y):ov(g,y),sv=(f={},g={},y)=>Ym(w_).reduce((T,[S,A])=>(T[S]=mg(A,f[S],g[S],!1),T),{}),gg=(f,{idGenerator:g=_1}={})=>xa(f,y=>{y.id||(y.id=g()),ms(y)&&(y.value=D7(y.value,{idGenerator:g}))}),D7=(f,{idGenerator:g=_1}={})=>xa(f,y=>{y.id||(y.id=g()),y.rules=y.rules.map(T=>typeof T=="string"?T:Qr(T)?D7(T,{idGenerator:g}):gg(T,{idGenerator:g}))}),yg=(f,{idGenerator:g=_1}={})=>Qr(f)?D7(f,{idGenerator:g}):gg(f,{idGenerator:g}),lv=(f,{idGenerator:g=_1}={})=>structuredClone({...f,id:g()}),kh=(f,{idGenerator:g=_1}={})=>{if(!dl(f))return f;if(!Qr(f))return structuredClone({...f,id:g()});const y={...f,id:g()};return Array.isArray(y.rules)&&(y.rules=f.rules.map(T=>typeof T=="string"?T:Qr(T)?kh(T,{idGenerator:g}):lv(T,{idGenerator:g}))),y},df=(f,g,y,{combinators:T=C6,combinatorPreceding:S,idGenerator:A=_1}={})=>xa(f,w=>{const o=Array.isArray(y)?la(y,w):hg(y,w);if(!(!o||!Qr(o))){if(Ju(o)&&o.rules.length>0){const P=o.rules.at(-2);o.rules.push(S??(typeof P=="string"?P:to(T)))}o.rules.push(yg(g,{idGenerator:A}))}}),uv=(f,g,y,T,{resetOnFieldChange:S=!0,resetOnOperatorChange:A=!1,getRuleDefaultOperator:w=()=>"=",getValueSources:o=()=>["value"],getRuleDefaultValue:P=()=>"",getMatchModes:N=()=>[]}={})=>xa(f,z=>{const C=Array.isArray(T)?T:Yu(T,z);if(!C)return;if(g==="combinator"&&!js(z)){const q=la(ea(C),z).rules;C.at(-1)%2===1&&(q[C.at(-1)]=y);return}const O=la(C,z);if(!O)return;const U=Qr(O);if(O[g]===y||(g!=="valueSource"&&(O[g]=y),U))return;let G=!1,j=!1;if(g==="field"){const q=N(O.field),V=N(y);if(V.length===0)delete O.match;else{const H=O.match?.mode&&xi(V,O.match.mode)?null:to(V);H&&(O.match={mode:H,threshold:1})}(q.length>0||V.length>0)&&(S=!0)}S&&g==="field"&&(O.operator=w(y),G=!0,j=!0),A&&g==="operator"&&(G=!0,j=!0);const F=to(pg({name:O.field,value:O.field,label:""},O.operator,o));(G&&O.valueSource&&F!==O.valueSource||g==="valueSource"&&y!==O.valueSource)&&(j=!!O.valueSource||!O.valueSource&&y!==F,O.valueSource=G?F:y),j&&(O.value=P(O))}),cv=(f,g)=>{const y=Array.isArray(g)?g:Yu(g,f);return!y||y.length===0||!js(f)&&!la(y,f)?f:xa(f,T=>{const S=y.at(-1),A=la(ea(y),T);if(A&&Qr(A))if(!js(A)&&A.rules.length>1){const w=S===0?0:S-1;A.rules.splice(w,2)}else A.rules.splice(S,1)})},_g=(f,g,y)=>{if(Array.isArray(y))return y;const T=Ju(f);if(y==="up"){if(S5(g,[0]))return g;if(g.at(-1)===0){const S=ea(g);return[...ea(S),Math.max(0,S.at(-1)-(T?1:0))]}else{const S=[...ea(g),Math.max(0,g.at(-1)-(T?2:1))],A=la(S,f);return Qr(A)?[...S,A.rules.length]:[...ea(g),Math.max(0,g.at(-1)-(T?3:1))]}}else if(y==="down"){if(S5([f.rules.length-1],g))return g;if(g.at(-1)===la(ea(g),f).rules.length-1){const S=ea(g);return[...ea(S),S.at(-1)+1]}else{const S=[...ea(g),g.at(-1)+(T?2:1)];return Qr(la(S,f))?[...S,0]:[...ea(g),g.at(-1)+(T?3:2)]}}return g},hv=(f,g,y,{clone:T=!1,combinators:S=C6,idGenerator:A=_1}={})=>{const w=Array.isArray(g)?g:Yu(g,f);if(!w)return f;const o=_g(f,w,y);if(w.length===0||S5(w,o)||!la(ea(o),f))return f;const P=la(w,f);if(!P)return f;const N=T?kh(P,{idGenerator:A}):P;return xa(f,z=>{const C=Ju(z),O=la(ea(w),z),U=w.at(-1),G=C&&U>0?O.rules[U-1]:null,j=C&&U<O.rules.length-1?O.rules[U+1]:null;if(!T){const fe=C?Math.max(0,U-1):U,ae=C?2:1;O.rules.splice(fe,ae)}const F=[...o],q=dg(w,o);!T&&w.length===q.length+1&&o[q.length]>w[q.length]&&(F[q.length]-=C?2:1);const V=la(ea(F),z),H=F.at(-1),X=(...fe)=>V.rules.splice(H,0,...fe);V.rules.length===0||!C?X(N):H===0?U===0&&j?X(N,j):X(N,V.rules[1]??G??to(S)):X(G||(V.rules[H-2]??j??to(S)),N)})},dv=(f,g,y,{clone:T=!1,combinators:S=C6,idGenerator:A=_1}={})=>{const w=Array.isArray(g)?g:Yu(g,f),o=Array.isArray(y)?y:Yu(y,f);if(!w||!o)return f;const P=_g(f,w,o);if(w.length===0||S5(w,P)||!la(ea(P),f))return f;const N=la(w,f),z=la(o,f);if(!N||!z)return f;const C=T?kh(N,{idGenerator:A}):N;return xa(f,O=>{const U=Ju(O),G=la(ea(w),O),j=w.at(-1);if(!T){const X=U?Math.max(0,j-1):j,fe=U?2:1;G.rules.splice(X,fe)}const F=[...P],q=dg(w,P);!T&&w.length===q.length+1&&P[q.length]>w[q.length]&&(F[q.length]-=U?2:1);const V=la(ea(F),O),H=F.at(-1);V.rules.splice(H,1,yg(U?{rules:[z,to(S),C]}:{combinator:to(S),rules:[z,C]},{idGenerator:A}))})};function eo(f){return`Minified Redux error #${f}; visit https://redux.js.org/Errors?code=${f} for the full message or use the non-minified dev environment for full errors. `}var fv=typeof Symbol=="function"&&Symbol.observable||"@@observable",ff=fv,f9=()=>Math.random().toString(36).substring(7).split("").join("."),pv={INIT:`@@redux/INIT${f9()}`,REPLACE:`@@redux/REPLACE${f9()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f9()}`},m7=pv;function zh(f){if(typeof f!="object"||f===null)return!1;let g=f;for(;Object.getPrototypeOf(g)!==null;)g=Object.getPrototypeOf(g);return Object.getPrototypeOf(f)===g||Object.getPrototypeOf(f)===null}function vg(f,g,y){if(typeof f!="function")throw new Error(eo(2));if(typeof g=="function"&&typeof y=="function"||typeof y=="function"&&typeof arguments[3]=="function")throw new Error(eo(0));if(typeof g=="function"&&typeof y>"u"&&(y=g,g=void 0),typeof y<"u"){if(typeof y!="function")throw new Error(eo(1));return y(vg)(f,g)}let T=f,S=g,A=new Map,w=A,o=0,P=!1;function N(){w===A&&(w=new Map,A.forEach((F,q)=>{w.set(q,F)}))}function z(){if(P)throw new Error(eo(3));return S}function C(F){if(typeof F!="function")throw new Error(eo(4));if(P)throw new Error(eo(5));let q=!0;N();const V=o++;return w.set(V,F),function(){if(q){if(P)throw new Error(eo(6));q=!1,N(),w.delete(V),A=null}}}function O(F){if(!zh(F))throw new Error(eo(7));if(typeof F.type>"u")throw new Error(eo(8));if(typeof F.type!="string")throw new Error(eo(17));if(P)throw new Error(eo(9));try{P=!0,S=T(S,F)}finally{P=!1}return(A=w).forEach(V=>{V()}),F}function U(F){if(typeof F!="function")throw new Error(eo(10));T=F,O({type:m7.REPLACE})}function G(){const F=C;return{subscribe(q){if(typeof q!="object"||q===null)throw new Error(eo(11));function V(){const X=q;X.next&&X.next(z())}return V(),{unsubscribe:F(V)}},[ff](){return this}}}return O({type:m7.INIT}),{dispatch:O,subscribe:C,getState:z,replaceReducer:U,[ff]:G}}function mv(f){Object.keys(f).forEach(g=>{const y=f[g];if(typeof y(void 0,{type:m7.INIT})>"u")throw new Error(eo(12));if(typeof y(void 0,{type:m7.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(eo(13))})}function bg(f){const g=Object.keys(f),y={};for(let A=0;A<g.length;A++){const w=g[A];typeof f[w]=="function"&&(y[w]=f[w])}const T=Object.keys(y);let S;try{mv(y)}catch(A){S=A}return function(w={},o){if(S)throw S;let P=!1;const N={};for(let z=0;z<T.length;z++){const C=T[z],O=y[C],U=w[C],G=O(U,o);if(typeof G>"u")throw o&&o.type,new Error(eo(14));N[C]=G,P=P||G!==U}return P=P||T.length!==Object.keys(w).length,P?N:w}}function g7(...f){return f.length===0?g=>g:f.length===1?f[0]:f.reduce((g,y)=>(...T)=>g(y(...T)))}function gv(...f){return g=>(y,T)=>{const S=g(y,T);let A=()=>{throw new Error(eo(15))};const w={getState:S.getState,dispatch:(P,...N)=>A(P,...N)},o=f.map(P=>P(w));return A=g7(...o)(S.dispatch),{...S,dispatch:A}}}function yv(f){return zh(f)&&"type"in f&&typeof f.type=="string"}function xg(f){return({dispatch:y,getState:T})=>S=>A=>typeof A=="function"?A(y,T,f):S(A)}var _v=xg(),vv=xg,bv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?g7:g7.apply(null,arguments)};function pf(f,g){function y(...T){if(g){let S=g(...T);if(!S)throw new Error(cl(0));return{type:f,payload:S.payload,..."meta"in S&&{meta:S.meta},..."error"in S&&{error:S.error}}}return{type:f,payload:T[0]}}return y.toString=()=>`${f}`,y.type=f,y.match=T=>yv(T)&&T.type===f,y}var wg=class b6 extends Array{constructor(...g){super(...g),Object.setPrototypeOf(this,b6.prototype)}static get[Symbol.species](){return b6}concat(...g){return super.concat.apply(this,g)}prepend(...g){return g.length===1&&Array.isArray(g[0])?new b6(...g[0].concat(this)):new b6(...g.concat(this))}};function mf(f){return hl(f)?xa(f,()=>{}):f}function x6(f,g,y){return f.has(g)?f.get(g):f.set(g,y(g)).get(g)}function xv(f){return typeof f=="boolean"}var wv=()=>function(g){const{thunk:y=!0,immutableCheck:T=!0,serializableCheck:S=!0,actionCreatorCheck:A=!0}=g??{};let w=new wg;return y&&(xv(y)?w.push(_v):w.push(vv(y.extraArgument))),w},Sv="RTK_autoBatch",gf=f=>g=>{setTimeout(g,f)},Tv=(f={type:"raf"})=>g=>(...y)=>{const T=g(...y);let S=!0,A=!1,w=!1;const o=new Set,P=f.type==="tick"?queueMicrotask:f.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gf(10):f.type==="callback"?f.queueNotification:gf(f.timeout),N=()=>{w=!1,A&&(A=!1,o.forEach(z=>z()))};return Object.assign({},T,{subscribe(z){const C=()=>S&&z(),O=T.subscribe(C);return o.add(z),()=>{O(),o.delete(z)}},dispatch(z){try{return S=!z?.meta?.[Sv],A=!S,A&&(w||(w=!0,P(N))),T.dispatch(z)}finally{S=!0}}})},Av=f=>function(y){const{autoBatch:T=!0}=y??{};let S=new wg(f);return T&&S.push(Tv(typeof T=="object"?T:void 0)),S};function Ev(f){const g=wv(),{reducer:y=void 0,middleware:T,devTools:S=!0,preloadedState:A=void 0,enhancers:w=void 0}=f||{};let o;if(typeof y=="function")o=y;else if(zh(y))o=bg(y);else throw new Error(cl(1));let P;typeof T=="function"?P=T(g):P=g();let N=g7;S&&(N=bv({trace:!1,...typeof S=="object"&&S}));const z=gv(...P),C=Av(z);let O=typeof w=="function"?w(C):C();const U=N(...O);return vg(o,A,U)}function Sg(f){const g={},y=[];let T;const S={addCase(A,w){const o=typeof A=="string"?A:A.type;if(!o)throw new Error(cl(28));if(o in g)throw new Error(cl(29));return g[o]=w,S},addAsyncThunk(A,w){return w.pending&&(g[A.pending.type]=w.pending),w.rejected&&(g[A.rejected.type]=w.rejected),w.fulfilled&&(g[A.fulfilled.type]=w.fulfilled),w.settled&&y.push({matcher:A.settled,reducer:w.settled}),S},addMatcher(A,w){return y.push({matcher:A,reducer:w}),S},addDefaultCase(A){return T=A,S}};return f(S),[g,y,T]}function Mv(f){return typeof f=="function"}function Cv(f,g){let[y,T,S]=Sg(g),A;if(Mv(f))A=()=>mf(f());else{const o=mf(f);A=()=>o}function w(o=A(),P){let N=[y[P.type],...T.filter(({matcher:z})=>z(P)).map(({reducer:z})=>z)];return N.filter(z=>!!z).length===0&&(N=[S]),N.reduce((z,C)=>{if(C)if(n4(z)){const U=C(z,P);return U===void 0?z:U}else{if(hl(z))return xa(z,O=>C(O,P));{const O=C(z,P);if(O===void 0){if(z===null)return z;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}}return z},o)}return w.getInitialState=A,w}var Pv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Rv=(f=21)=>{let g="",y=f;for(;y--;)g+=Pv[Math.random()*64|0];return g},Iv=Symbol.for("rtk-slice-createasyncthunk");function Nv(f,g){return`${f}/${g}`}function Dv({creators:f}={}){const g=f?.asyncThunk?.[Iv];return function(T){const{name:S,reducerPath:A=S}=T;if(!S)throw new Error(cl(11));const w=(typeof T.reducers=="function"?T.reducers(Fv()):T.reducers)||{},o=Object.keys(w),P={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},N={addCase(H,X){const fe=typeof H=="string"?H:H.type;if(!fe)throw new Error(cl(12));if(fe in P.sliceCaseReducersByType)throw new Error(cl(13));return P.sliceCaseReducersByType[fe]=X,N},addMatcher(H,X){return P.sliceMatchers.push({matcher:H,reducer:X}),N},exposeAction(H,X){return P.actionCreators[H]=X,N},exposeCaseReducer(H,X){return P.sliceCaseReducersByName[H]=X,N}};o.forEach(H=>{const X=w[H],fe={reducerName:H,type:Nv(S,H),createNotation:typeof T.reducers=="function"};zv(X)?Lv(fe,X,N,g):kv(fe,X,N)});function z(){const[H={},X=[],fe=void 0]=typeof T.extraReducers=="function"?Sg(T.extraReducers):[T.extraReducers],ae={...H,...P.sliceCaseReducersByType};return Cv(T.initialState,he=>{for(let xe in ae)he.addCase(xe,ae[xe]);for(let xe of P.sliceMatchers)he.addMatcher(xe.matcher,xe.reducer);for(let xe of X)he.addMatcher(xe.matcher,xe.reducer);fe&&he.addDefaultCase(fe)})}const C=H=>H,O=new Map,U=new WeakMap;let G;function j(H,X){return G||(G=z()),G(H,X)}function F(){return G||(G=z()),G.getInitialState()}function q(H,X=!1){function fe(he){let xe=he[H];return typeof xe>"u"&&X&&(xe=x6(U,fe,F)),xe}function ae(he=C){const xe=x6(O,X,()=>new WeakMap);return x6(xe,he,()=>{const ee={};for(const[Pe,we]of Object.entries(T.selectors??{}))ee[Pe]=Ov(we,he,()=>x6(U,he,F),X);return ee})}return{reducerPath:H,getSelectors:ae,get selectors(){return ae(fe)},selectSlice:fe}}const V={name:S,reducer:j,actions:P.actionCreators,caseReducers:P.sliceCaseReducersByName,getInitialState:F,...q(A),injectInto(H,{reducerPath:X,...fe}={}){const ae=X??A;return H.inject({reducerPath:ae,reducer:j},fe),{...V,...q(ae,!0)}}};return V}}function Ov(f,g,y,T){function S(A,...w){let o=g(A);return typeof o>"u"&&T&&(o=y()),f(o,...w)}return S.unwrapped=f,S}var Tg=Dv();function Fv(){function f(g,y){return{_reducerDefinitionType:"asyncThunk",payloadCreator:g,...y}}return f.withTypes=()=>f,{reducer(g){return Object.assign({[g.name](...y){return g(...y)}}[g.name],{_reducerDefinitionType:"reducer"})},preparedReducer(g,y){return{_reducerDefinitionType:"reducerWithPrepare",prepare:g,reducer:y}},asyncThunk:f}}function kv({type:f,reducerName:g,createNotation:y},T,S){let A,w;if("reducer"in T){if(y&&!Bv(T))throw new Error(cl(17));A=T.reducer,w=T.prepare}else A=T;S.addCase(f,A).exposeCaseReducer(g,A).exposeAction(g,w?pf(f,w):pf(f))}function zv(f){return f._reducerDefinitionType==="asyncThunk"}function Bv(f){return f._reducerDefinitionType==="reducerWithPrepare"}function Lv({type:f,reducerName:g},y,T,S){if(!S)throw new Error(cl(18));const{payloadCreator:A,fulfilled:w,pending:o,rejected:P,settled:N,options:z}=y,C=S(f,A,z);T.exposeAction(g,C),w&&T.addCase(C.fulfilled,w),o&&T.addCase(C.pending,o),P&&T.addCase(C.rejected,P),N&&T.addMatcher(C.settled,N),T.exposeCaseReducer(g,{fulfilled:w||Uc,pending:o||Uc,rejected:P||Uc,settled:N||Uc})}function Uc(){}var Uv=f=>"reducerPath"in f&&typeof f.reducerPath=="string",jv=f=>f.flatMap(g=>Uv(g)?[[g.reducerPath,g.reducer]]:Object.entries(g)),Bh=Symbol.for("rtk-state-proxy-original"),Gv=f=>!!f&&!!f[Bh],Vv=new WeakMap,qv=(f,g,y)=>x6(Vv,f,()=>new Proxy(f,{get:(T,S,A)=>{if(S===Bh)return T;const w=Reflect.get(T,S,A);if(typeof w>"u"){const o=y[S];if(typeof o<"u")return o;const P=g[S];if(P){const N=P(void 0,{type:Rv()});if(typeof N>"u")throw new Error(cl(24));return y[S]=N,N}}return w}})),$v=f=>{if(!Gv(f))throw new Error(cl(25));return f[Bh]},Qv={},Hv=(f=Qv)=>f;function Zv(...f){const g=Object.fromEntries(jv(f)),y=()=>Object.keys(g).length?bg(g):Hv;let T=y();function S(P,N){return T(P,N)}S.withLazyLoadedSlices=()=>S;const A={},w=(P,N={})=>{const{reducerPath:z,reducer:C}=P,O=g[z];return!N.overrideExisting&&O&&O!==C||(N.overrideExisting&&O!==C&&delete A[z],g[z]=C,T=y()),S},o=Object.assign(function(N,z){return function(O,...U){return N(qv(z?z(O,...U):O,g,A),...U)}},{original:$v});return Object.assign(S,{inject:w,selector:o})}function cl(f){return`Minified Redux Toolkit error #${f}; visit https://redux-toolkit.js.org/Errors?code=${f} for the full message or use the non-minified dev environment for full errors. `}var p9={exports:{}},m9={};var yf;function Xv(){if(yf)return m9;yf=1;var f=b7();function g(P,N){return P===N&&(P!==0||1/P===1/N)||P!==P&&N!==N}var y=typeof Object.is=="function"?Object.is:g,T=f.useSyncExternalStore,S=f.useRef,A=f.useEffect,w=f.useMemo,o=f.useDebugValue;return m9.useSyncExternalStoreWithSelector=function(P,N,z,C,O){var U=S(null);if(U.current===null){var G={hasValue:!1,value:null};U.current=G}else G=U.current;U=w(function(){function F(fe){if(!q){if(q=!0,V=fe,fe=C(fe),O!==void 0&&G.hasValue){var ae=G.value;if(O(ae,fe))return H=ae}return H=fe}if(ae=H,y(V,fe))return ae;var he=C(fe);return O!==void 0&&O(ae,he)?(V=fe,ae):(V=fe,H=he)}var q=!1,V,H,X=z===void 0?null:z;return[function(){return F(N())},X===null?void 0:function(){return F(X())}]},[N,z,C,O]);var j=T(P,U[0],U[1]);return A(function(){G.hasValue=!0,G.value=j},[j]),o(j),j},m9}var _f;function Yv(){return _f||(_f=1,p9.exports=Xv()),p9.exports}var Wv=Yv();function Kv(f){f()}function Jv(){let f=null,g=null;return{clear(){f=null,g=null},notify(){Kv(()=>{let y=f;for(;y;)y.callback(),y=y.next})},get(){const y=[];let T=f;for(;T;)y.push(T),T=T.next;return y},subscribe(y){let T=!0;const S=g={callback:y,next:null,prev:g};return S.prev?S.prev.next=S:f=S,function(){!T||f===null||(T=!1,S.next?S.next.prev=S.prev:g=S.prev,S.prev?S.prev.next=S.next:f=S.next)}}}}var vf={notify(){},get:()=>[]};function eb(f,g){let y,T=vf,S=0,A=!1;function w(j){z();const F=T.subscribe(j);let q=!1;return()=>{q||(q=!0,F(),C())}}function o(){T.notify()}function P(){G.onStateChange&&G.onStateChange()}function N(){return A}function z(){S++,y||(y=f.subscribe(P),T=Jv())}function C(){S--,y&&S===0&&(y(),y=void 0,T.clear(),T=vf)}function O(){A||(A=!0,z())}function U(){A&&(A=!1,C())}const G={addNestedSub:w,notifyNestedSubs:o,handleChangeWrapper:P,isSubscribed:N,trySubscribe:O,tryUnsubscribe:U,getListeners:()=>T};return G}var tb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rb=tb(),nb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ib=nb(),ab=()=>rb||ib?je.useLayoutEffect:je.useEffect,ob=ab(),sb=Symbol.for("react-redux-context"),lb=typeof globalThis<"u"?globalThis:{};function ub(){if(!je.createContext)return{};const f=lb[sb]??=new Map;let g=f.get(je.createContext);return g||(g=je.createContext(null),f.set(je.createContext,g)),g}var o3=ub();function cb(f){const{children:g,context:y,serverState:T,store:S}=f,A=je.useMemo(()=>{const P=eb(S);return{store:S,subscription:P,getServerState:T?()=>T:void 0}},[S,T]),w=je.useMemo(()=>S.getState(),[S]);ob(()=>{const{subscription:P}=A;return P.onStateChange=P.notifyNestedSubs,P.trySubscribe(),w!==S.getState()&&P.notifyNestedSubs(),()=>{P.tryUnsubscribe(),P.onStateChange=void 0}},[A,w]);const o=y||o3;return je.createElement(o.Provider,{value:A},g)}var hb=cb;function Lh(f=o3){return function(){return je.useContext(f)}}var Ag=Lh();function Uh(f=o3){const g=f===o3?Ag:Lh(f),y=()=>{const{store:T}=g();return T};return Object.assign(y,{withTypes:()=>y}),y}var db=Uh();function fb(f=o3){const g=f===o3?db:Uh(f),y=()=>g().dispatch;return Object.assign(y,{withTypes:()=>y}),y}var pb=(f,g)=>f===g;function mb(f=o3){const g=f===o3?Ag:Lh(f),y=(T,S={})=>{const{equalityFn:A=pb}=typeof S=="function"?{equalityFn:S}:S,w=g(),{store:o,subscription:P,getServerState:N}=w;je.useRef(!0);const z=je.useCallback({[T.name](O){return T(O)}}[T.name],[T]),C=Wv.useSyncExternalStoreWithSelector(P.addNestedSub,o.getState,N||o.getState,z,A);return je.useDebugValue(C),C};return Object.assign(y,{withTypes:()=>y}),y}const ll=f=>je.createElement("button",{type:"button","data-testid":f.testID,disabled:f.disabled&&!f.disabledTranslation,className:f.className,title:f.disabledTranslation&&f.disabled?f.disabledTranslation.title:f.title,onClick:g=>f.handleOnClick(g)},f.disabledTranslation&&f.disabled?f.disabledTranslation.label:f.label),gb=je.forwardRef((f,g)=>je.createElement("span",{"data-testid":f.testID,ref:g,className:f.className,title:f.title},f.label)),yb=f=>{const{component:g,...y}=f,T=Rn(y.schema.suppressStandardClassnames||Or.betweenRules,y.schema.classNames.betweenRules);return je.createElement("div",{className:T,"data-testid":Fr.inlineCombinator},je.createElement(g,{...y,testID:Fr.combinators}))},_b={name:"",value:"",label:""},Eg=f=>["atleast","atmost","exactly"].includes(Sn(f)??""),bf=[],vb=f=>{const{match:g,options:y,title:T,className:S,disabled:A,testID:w,schema:o,selectorComponent:P=f.schema.controls.valueSelector,numericEditorComponent:N=f.schema.controls.valueEditor}=f,{thresholdNum:z,thresholdRule:C,thresholdSchema:O,handleChangeMode:U,handleChangeThreshold:G}=bb(f);return je.createElement(je.Fragment,null,je.createElement(P,{schema:o,testID:w,className:S,title:T,handleOnChange:U,disabled:A,value:g.mode,options:y,multiple:!1,listsAsArrays:!1,path:bf,level:0}),Eg(g.mode)&&je.createElement(N,{skipHook:!0,testID:w,inputType:"number",title:T,className:S,disabled:A,handleOnChange:G,field:"",operator:"",value:z,valueSource:"value",fieldData:_b,schema:O,path:bf,level:0,rule:C}))},bb=f=>{const{match:g,handleOnChange:y}=f,T=je.useMemo(()=>typeof g.threshold=="number"?Math.max(0,g.threshold):1,[g.threshold]);return{thresholdNum:T,thresholdRule:je.useMemo(()=>({field:"",operator:"=",value:T}),[T]),thresholdSchema:je.useMemo(()=>({...f.schema,parseNumbers:!0}),[f.schema]),handleChangeMode:je.useCallback(S=>{Eg(S)&&typeof g.threshold!="number"?y({...g,mode:S,threshold:1}):y({...g,mode:S})},[y,g]),handleChangeThreshold:je.useCallback(S=>{y({...g,threshold:hn(S,{parseNumbers:!0})})},[y,g])}},xb=f=>{const g=je.useId();return je.createElement("label",{"data-testid":f.testID,className:f.className,title:f.title,htmlFor:g},je.createElement("input",{id:g,type:"checkbox",onChange:y=>f.handleOnChange(y.target.checked),checked:!!f.checked,disabled:f.disabled}),f.label)},J2={errorInvalidIndependentCombinatorsProp:"QueryBuilder was rendered with a truthy independentCombinators prop. This prop is deprecated and unnecessary. Furthermore, the initial query/defaultQuery prop was of type RuleGroupType instead of type RuleGroupIC. More info: https://react-querybuilder.js.org/docs/components/querybuilder#independent-combinators",errorUnnecessaryIndependentCombinatorsProp:"QueryBuilder was rendered with the deprecated and unnecessary independentCombinators prop. To use independent combinators, make sure the query/defaultQuery prop is of type RuleGroupIC when the component mounts. More info: https://react-querybuilder.js.org/docs/components/querybuilder#independent-combinators",errorDeprecatedRuleGroupProps:"A custom RuleGroup component has rendered a standard RuleGroup component with deprecated props. The combinator, not, and rules props should not be used. Instead, the full group object should be passed as the ruleGroup prop.",errorDeprecatedRuleProps:"A custom RuleGroup component has rendered a standard Rule component with deprecated props. The field, operator, value, and valueSource props should not be used. Instead, the full rule object should be passed as the rule prop.",errorBothQueryDefaultQuery:"QueryBuilder was rendered with both query and defaultQuery props. QueryBuilder must be either controlled or uncontrolled (specify either the query prop, or the defaultQuery prop, but not both). Decide between using a controlled or uncontrolled query builder and remove one of these props. More info: https://reactjs.org/link/controlled-components",errorUncontrolledToControlled:"QueryBuilder is changing from an uncontrolled component to be controlled. This is likely caused by the query changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled query builder for the lifetime of the component. More info: https://reactjs.org/link/controlled-components",errorControlledToUncontrolled:"QueryBuilder is changing from a controlled component to be uncontrolled. This is likely caused by the query changing from defined to undefined, which should not happen. Decide between using a controlled or uncontrolled query builder for the lifetime of the component. More info: https://reactjs.org/link/controlled-components",errorEnabledDndWithoutReactDnD:"QueryBuilder was rendered with the enableDragAndDrop prop set to true, but either react-dnd was not detected or one of react-dnd-html5-backend or react-dnd-touch-backend was not detected. To enable drag-and-drop functionality, install react-dnd and one of the backend packages and wrap QueryBuilder in QueryBuilderDnD from @react-querybuilder/dnd.",errorDeprecatedDebugImport:"Importing from react-querybuilder/debug is deprecated. To enable Redux DevTools for React Query Builder's internal store, set globalThis.__RQB_DEVTOOLS__ = true."},wb={},P6=Tg({name:"queries",initialState:wb,reducers:{setQueryState:(f,{payload:{qbId:g,query:y}})=>{f[g]=y}},selectors:{getQuerySelectorById:(f,g)=>f[g]}}),Mg=je.createContext(null),Sb={[J2.errorInvalidIndependentCombinatorsProp]:!1,[J2.errorUnnecessaryIndependentCombinatorsProp]:!1,[J2.errorDeprecatedRuleGroupProps]:!1,[J2.errorDeprecatedRuleProps]:!1,[J2.errorBothQueryDefaultQuery]:!1,[J2.errorUncontrolledToControlled]:!1,[J2.errorControlledToUncontrolled]:!1,[J2.errorEnabledDndWithoutReactDnD]:!1,[J2.errorDeprecatedDebugImport]:!1},jh=Tg({name:"warnings",initialState:Sb,reducers:{rqbWarn:(f,{payload:g})=>{f[g]||(console.error(g),f[g]=!0)}}}),Cg=Zv(P6,jh).withLazyLoadedSlices(),Tb=f=>fb(f),Ab=f=>Uh(f),Eb=f=>mb(f),Mb=f=>({useRQB_INTERNAL_QueryBuilderDispatch:Tb(f),useRQB_INTERNAL_QueryBuilderStore:Ab(f),useRQB_INTERNAL_QueryBuilderSelector:Eb(f)}),g9=({payload:f,onQueryChange:g})=>y=>{y(P6.actions.setQueryState(f)),typeof g=="function"&&g(f.query)},Gh=Mb(Mg),Vh=Gh.useRQB_INTERNAL_QueryBuilderDispatch,Cb=Gh.useRQB_INTERNAL_QueryBuilderStore,Pb=Gh.useRQB_INTERNAL_QueryBuilderSelector,{rqbWarn:aT}=jh.actions,Rb={queries:P6.getInitialState(),warnings:jh.getInitialState()},Ib={reducer:Cg,preloadedState:Rb,middleware:f=>f({serializableCheck:{ignoredActions:[P6.actions.setQueryState.type],ignoredPaths:[/^queries\b.*\.rules\.\d+\.value$/]}})},Nb=f=>{const g=je.useRef({value:f,prev:null}),y=g.current.value;return f!==y&&(g.current.prev=y,g.current.value=f),g.current.prev},Db=f=>{Vh();const{queryProp:g}=f;Nb(!!g)};function qh(f,g,y){Vh()}const Pg=f=>{const{optionList:g,optionsMap:y,defaultOption:T}=je.useMemo(()=>v6({placeholder:f.translations.fields,optionList:f.fields,autoSelectOption:f.autoSelectField,baseOption:f.baseField}),[f.autoSelectField,f.baseField,f.fields,f.translations.fields]);return{fields:g,fieldMap:y,defaultField:T}},Ob=f=>{const g=Ev({...Ib,devTools:f?{name:"React Query Builder"}:!1});return g.addSlice=y=>{Cg.inject(y),g.dispatch({type:crypto.randomUUID().slice(0,8),meta:`Initializing state for slice "${y.name}"`})},g};let y9=null;function Rg(f){return y9||(y9=Ob(globalThis?.__RQB_DEVTOOLS__)),y9}const v5=f=>g=>P6.selectors.getQuerySelectorById({queries:g.queries},f),Fb=(f,g)=>{const y=je.useContext($h);return Pb(f,g)??y?.initialQuery},kb={},zb={},Bb=[],Lb={},Ub=()=>null,xf=()=>"",b5=()=>!0,jb=(...f)=>{console.log(...f)};function Gb(f,g){const{query:y,defaultQuery:T,getValueEditorSeparator:S=Ub,getRuleClassname:A=xf,getRuleGroupClassname:w=xf,onAddRule:o=b5,onAddGroup:P=b5,onMoveRule:N=b5,onMoveGroup:z=b5,onGroupRule:C=b5,onGroupGroup:O=b5,onRemove:U=b5,onQueryChange:G,showCombinatorsBetweenRules:j=!1,showNotToggle:F=!1,showShiftActions:q=!1,showCloneButtons:V=!1,showLockButtons:H=!1,showMuteButtons:X=!1,suppressStandardClassnames:fe=!1,resetOnFieldChange:ae=!0,resetOnOperatorChange:he=!1,autoSelectField:xe=!0,autoSelectOperator:ee=!0,autoSelectValue:Pe=!0,addRuleToNewGroups:we=!1,listsAsArrays:Fe=!1,parseNumbers:et=!1,disabled:Ke=!1,validator:_t,onLog:Ne=jb,idGenerator:Te,accessibleDescriptionGenerator:lt=ev}=f,{qbId:Ze,rqbContext:Ct,fields:Ie,fieldMap:rt,combinators:dt,getOperatorsMain:$e,getMatchModesMain:ft,getRuleDefaultOperator:mt,getSubQueryBuilderPropsMain:me,getValueEditorTypeMain:ue,getValueSourcesMain:ut,getValuesMain:qe,getRuleDefaultValue:Et,getInputTypeMain:At,createRule:Gt,createRuleGroup:Jt}=g,{controlClassnames:Kt,controlElements:cr,debugMode:tr,enableDragAndDrop:ur,enableMountQueryChange:Hr,translations:be}=Ct,te=!!j,ie=!!F,ke=!!q,it=!!V,It=!!H,Re=!!X,le=!!ae,de=!!he,ge=!!xe,Ue=!!ee,De=!!Pe,ht=!!we,ot=!!Fe,Ye=!!fe,st=(f.maxLevels??0)>0?Number(f.maxLevels):1/0,Me=je.useCallback((...lr)=>{tr&&Ne(...lr)},[tr,Ne]);Db({queryProp:y});const Oe=Cb(),Ot=Vh(),$t=je.useMemo(()=>v5(Ze),[Ze]),Qt=Fb($t),Xt=je.useCallback(()=>$t(Oe.getState()),[Oe,$t]),hr=je.useMemo(()=>Jt(),[Jt]),ct=y??Qt??T??hr,gr=ct.id?ct:D7(ct,{idGenerator:Te}),[tn]=je.useState(gr),vr=je.useMemo(()=>({...Ct,initialQuery:tn}),[Ct,tn]);je.useEffect(()=>{y&&!Object.is(y,Qt)&&Ot(g9({payload:{qbId:Ze,query:y},onQueryChange:void 0}))},[y,Ze,Qt,Ot]);const Mr=je.useMemo(()=>Ju(gr),[gr]),Kr=!!f.independentCombinators&&!Mr;qh("independentCombinators",Kr||!Kr&&(f.independentCombinators??"not present")!=="not present");const Ur=je.useRef(!1);je.useEffect(()=>{Ur.current||(Ur.current=!0,Ot(g9({payload:{qbId:Ze,query:gr},onQueryChange:Hr&&typeof G=="function"?G:void 0})))},[Hr,G,Ze,Ot,gr]);const zr=je.useCallback(lr=>{Ot(g9({payload:{qbId:Ze,query:lr},onQueryChange:G}))},[G,Ze,Ot]),Zr=Array.isArray(Ke)&&Ke||Bb,Pr=Ke===!0,ua=gr.disabled||Zr.some(lr=>lr.length===0),Fi=je.useCallback((lr,Ir,Br)=>{const Nr=v5(Ze)(Oe.getState());if(!Nr)return;if(Qu(Ir,Nr)||Pr){Me({qbId:Ze,type:ba.parentPathDisabled,rule:lr,parentPath:Ir,query:Nr});return}const _r=o(lr,Ir,Nr,Br);if(!_r){Me({qbId:Ze,type:ba.onAddRuleFalse,rule:lr,parentPath:Ir,query:Nr});return}const kn=_r===!0?lr:_r,Ar=df(Nr,kn,Ir,{combinators:dt,combinatorPreceding:kn.combinatorPreceding??void 0,idGenerator:Te});Me({qbId:Ze,type:ba.add,query:Nr,newQuery:Ar,newRule:kn,parentPath:Ir}),zr(Ar)},[dt,zr,Te,Me,o,Ze,Oe,Pr]),Ft=je.useCallback((lr,Ir,Br)=>{if(Ir.length>=st)return;const Nr=v5(Ze)(Oe.getState());if(!Nr)return;if(Qu(Ir,Nr)||Pr){Me({qbId:Ze,type:ba.parentPathDisabled,ruleGroup:lr,parentPath:Ir,query:Nr});return}const _r=P(lr,Ir,Nr,Br);if(!_r){Me({qbId:Ze,type:ba.onAddGroupFalse,ruleGroup:lr,parentPath:Ir,query:Nr});return}const kn=_r===!0?lr:_r,Ar=df(Nr,kn,Ir,{combinators:dt,combinatorPreceding:kn.combinatorPreceding??void 0,idGenerator:Te});Me({qbId:Ze,type:ba.add,query:Nr,newQuery:Ar,newGroup:kn,parentPath:Ir}),zr(Ar)},[dt,zr,Te,Me,st,P,Ze,Oe,Pr]),Nn=je.useCallback((lr,Ir,Br)=>{const Nr=v5(Ze)(Oe.getState());if(!Nr)return;if(Qu(Br,Nr)&&lr!=="disabled"||Pr){Me({qbId:Ze,type:ba.pathDisabled,path:Br,prop:lr,value:Ir,query:Nr});return}const _r=uv(Nr,lr,Ir,Br,{resetOnFieldChange:le,resetOnOperatorChange:de,getRuleDefaultOperator:mt,getValueSources:ut,getRuleDefaultValue:Et,getMatchModes:ft});Me({qbId:Ze,type:ba.update,query:Nr,newQuery:_r,prop:lr,value:Ir,path:Br}),zr(_r)},[zr,ft,mt,Et,ut,Me,Ze,Oe,Pr,le,de]),Fn=je.useCallback((lr,Ir)=>{const Br=v5(Ze)(Oe.getState());if(!Br)return;if(Qu(lr,Br)||Pr){Me({qbId:Ze,type:ba.pathDisabled,path:lr,query:Br});return}const Nr=la(lr,Br);if(Nr)if(U(Nr,lr,Br,Ir)){const _r=cv(Br,lr);Me({qbId:Ze,type:ba.remove,query:Br,newQuery:_r,path:lr,ruleOrGroup:Nr}),zr(_r)}else Me({qbId:Ze,type:ba.onRemoveFalse,ruleOrGroup:Nr,path:lr,query:Br})},[zr,Me,U,Ze,Oe,Pr]),wi=je.useCallback((lr,Ir,Br,Nr)=>{const _r=v5(Ze)(Oe.getState());if(!_r)return;if(Qu(lr,_r)||Pr){Me({qbId:Ze,type:ba.pathDisabled,oldPath:lr,newPath:Ir,query:_r});return}const kn=hv(_r,lr,Ir,{clone:Br,combinators:dt,idGenerator:Te}),Ar=la(lr,_r),kr=Qr(Ar),Ti=(kr?z:N)(Ar,lr,Ir,_r,kn,{clone:Br,combinators:dt},Nr);if(!Ti){Me({qbId:Ze,type:kr?ba.onMoveGroupFalse:ba.onMoveRuleFalse,ruleOrGroup:Ar,oldPath:lr,newPath:Ir,clone:Br,query:_r,nextQuery:kn});return}const ha=Qr(Ti)?Ti:kn;Me({qbId:Ze,type:ba.move,query:_r,newQuery:ha,oldPath:lr,newPath:Ir,clone:Br}),zr(ha)},[dt,zr,Te,Me,z,N,Ze,Oe,Pr]),Yr=je.useCallback((lr,Ir,Br,Nr)=>{const _r=v5(Ze)(Oe.getState());if(!_r)return;if(Qu(lr,_r)||Pr){Me({qbId:Ze,type:ba.pathDisabled,sourcePath:lr,targetPath:Ir,query:_r});return}const kn=dv(_r,lr,Ir,{clone:Br,combinators:dt,idGenerator:Te}),Ar=la(lr,_r),kr=Qr(Ar),Ti=(kr?O:C)(Ar,lr,Ir,_r,kn,{clone:Br,combinators:dt},Nr);if(!Ti){Me({qbId:Ze,type:kr?ba.onGroupGroupFalse:ba.onGroupRuleFalse,ruleOrGroup:Ar,sourcePath:lr,targetPath:Ir,clone:Br,query:_r,nextQuery:kn});return}const ha=Qr(Ti)?Ti:kn;Me({qbId:Ze,type:ba.group,query:_r,newQuery:ha,sourcePath:lr,targetPath:Ir,clone:Br}),zr(ha)},[dt,zr,Te,Me,O,C,Ze,Oe,Pr]),{validationResult:Lt,validationMap:dr}=je.useMemo(()=>{const lr=typeof _t=="function"&&gr?_t(gr):kb;return{validationResult:lr,validationMap:typeof lr=="boolean"?zb:lr}},[gr,_t]),wr=ur?"enabled":"disabled",Si=Mr||te?"enabled":"disabled",za=je.useMemo(()=>typeof gr.combinator=="string"?{combinator:gr.combinator}:Lb,[gr.combinator]),oi=je.useMemo(()=>Rn(Ye||Or.queryBuilder,Rn(Kt.queryBuilder),Pr&&Kt.disabled,typeof Lt=="boolean"&&Lt&&Kt.valid,typeof Lt=="boolean"&&!Lt&&Kt.invalid,Ye||{[Or.disabled]:Pr,[Or.valid]:typeof Lt=="boolean"&&Lt,[Or.invalid]:typeof Lt=="boolean"&&!Lt}),[Kt.disabled,Kt.invalid,Kt.queryBuilder,Kt.valid,Pr,Ye,Lt]),yr=je.useCallback(lr=>Jt(lr??Mr),[Jt,Mr]),ca=je.useMemo(()=>({addRuleToNewGroups:ht,accessibleDescriptionGenerator:lt,autoSelectField:ge,autoSelectOperator:Ue,autoSelectValue:De,classNames:Kt,combinators:dt,controls:cr,createRule:Gt,createRuleGroup:yr,disabledPaths:Zr,enableDragAndDrop:ur,fieldMap:rt,fields:Ie,dispatchQuery:zr,getQuery:Xt,getInputType:At,getOperators:$e,getMatchModes:ft,getRuleClassname:A,getRuleGroupClassname:w,getSubQueryBuilderProps:me,getValueEditorSeparator:S,getValueEditorType:ue,getValues:qe,getValueSources:ut,independentCombinators:Mr,listsAsArrays:ot,maxLevels:st,parseNumbers:et,qbId:Ze,showCloneButtons:it,showCombinatorsBetweenRules:te,showLockButtons:It,showMuteButtons:Re,showNotToggle:ie,showShiftActions:ke,suppressStandardClassnames:Ye,validationMap:dr}),[lt,ht,ge,Ue,De,dt,Kt,cr,Gt,yr,Zr,zr,ur,rt,Ie,At,$e,ft,Xt,A,w,me,S,ue,qe,ut,Mr,ot,st,et,Ze,it,te,It,Re,ie,ke,Ye,dr]);return{actions:je.useMemo(()=>({moveRule:wi,onGroupAdd:Ft,onGroupRemove:Fn,onPropChange:Nn,onRuleAdd:Fi,onRuleRemove:Fn,groupRule:Yr}),[Yr,wi,Ft,Nn,Fi,Fn]),rootGroup:gr,rootGroupDisabled:ua,queryDisabled:Pr,rqbContext:vr,schema:ca,translations:be,wrapperClassName:oi,dndEnabledAttr:wr,inlineCombinatorsAttr:Si,combinatorPropObject:za}}const wf=(f,g,y)=>{const T=to(f);if(g.operator==="between"||g.operator==="notBetween"){const S=[T,T];return y?S:R7(S.map(A=>A??""),",")}return T},Vb=f=>{const[g]=je.useState(_1),{fields:y,baseField:T,operators:S,baseOperator:A,combinators:w,baseCombinator:o,translations:P,enableMountQueryChange:N=!0,controlClassnames:z,controlElements:C,getDefaultField:O,getDefaultOperator:U,getDefaultValue:G,getMatchModes:j,getOperators:F,getSubQueryBuilderProps:q,getValueEditorType:V,getValueSources:H,getInputType:X,getValues:fe,autoSelectField:ae=!0,autoSelectOperator:he=!0,autoSelectValue:xe=!0,addRuleToNewGroups:ee=!1,enableDragAndDrop:Pe,listsAsArrays:we=!1,debugMode:Fe=!1,idGenerator:et=_1}=f,[Ke]=je.useState(f.query??f.defaultQuery),_t=rx({controlClassnames:z,controlElements:C,debugMode:Fe,enableDragAndDrop:Pe,enableMountQueryChange:N,translations:P,initialQuery:Ke,qbId:g,finalize:!0}),{translations:Ne}=_t,{fields:Te,fieldMap:lt}=Pg({fields:y,baseField:T,autoSelectField:ae,translations:Ne}),{optionList:Ze}=je.useMemo(()=>v6({optionList:w??C6,labelMap:v_,baseOption:o,autoSelectOption:!0}),[o,w]),{optionList:Ct}=je.useMemo(()=>v6({optionList:S??b_,placeholder:Ne.operators,labelMap:Vd,baseOption:A,autoSelectOption:he}),[he,A,S,Ne.operators]),Ie=je.useCallback((Et,{fieldData:At})=>v6({optionList:At?.operators??F?.(Et,{fieldData:At})??Ct,placeholder:Ne.operators,baseOption:A,labelMap:Vd,autoSelectOption:he}).optionList,[he,A,F,Ct,Ne.operators]),rt=je.useCallback(Et=>{const At=lt[Et];return At?.defaultOperator?At.defaultOperator:U?typeof U=="function"?U(Et,{fieldData:At}):U:to(Ie(Et,{fieldData:At})??[])??""},[lt,U,Ie]),dt=je.useCallback((Et,At,{fieldData:Gt})=>Gt.valueEditorType?typeof Gt.valueEditorType=="function"?Gt.valueEditorType(At):Gt.valueEditorType:V?.(Et,At,{fieldData:Gt})??"text",[V]),$e=je.useCallback((Et,At,Gt)=>pg(lt[Et],At,H),[lt,H]),ft=je.useCallback((Et,At)=>rv(lt[Et],j),[lt,j]),mt=je.useCallback((Et,At)=>q?.(Et,At)??{},[q]),me=je.useCallback((Et,At,{fieldData:Gt})=>v6({optionList:Gt?.values??fe?.(Et,At,{fieldData:Gt})??[],placeholder:Ne.values,autoSelectOption:xe}).optionList,[xe,fe,Ne.values]),ue=je.useCallback(Et=>{const At=lt[Et.field]??{};if(At?.defaultValue!==void 0&&At.defaultValue!==null)return At.defaultValue;if(G)return G(Et,{fieldData:At});let Gt="";const Jt=me(Et.field,Et.operator,{fieldData:At});if(Et.valueSource==="field"){const Kt=Km(At,Te,Et.operator);Gt=Kt.length>0?wf(Kt,Et,we):""}else if(Jt.length>0){const Kt=dt(Et.field,Et.operator,{fieldData:At});Kt==="multiselect"?Gt=we?[]:"":(Kt==="select"||Kt==="radio")&&(Gt=wf(Jt,Et,we))}else dt(Et.field,Et.operator,{fieldData:At})==="checkbox"&&(Gt=!1);return Gt},[lt,Te,G,dt,me,we]),ut=je.useCallback((Et,At,{fieldData:Gt})=>{if(X){const Jt=X(Et,At,{fieldData:Gt});if(Jt)return Jt}return"text"},[X]),qe=je.useCallback(()=>{let Et="";const At=Te;if(At?.length>0&&At[0]){const ur=to(At);ur&&(Et=ur)}if(O)if(typeof O=="function"){const ur=O(At);ur&&(Et=ur)}else Et=O;const Gt=rt(Et),Jt=to($e(Et,Gt,{fieldData:xi(At,Et)}))??"value",Kt=to(ft(Et,{fieldData:xi(At,Et)})),cr={id:et(),field:Et,operator:Gt,valueSource:Jt,value:"",...Kt?{match:{mode:Kt,threshold:1}}:null},tr=ue(cr);return{...cr,value:tr}},[Te,O,ft,rt,ue,$e,et]);return{qbId:g,rqbContext:_t,fields:Te,fieldMap:lt,combinators:Ze,getMatchModesMain:ft,getOperatorsMain:Ie,getRuleDefaultOperator:rt,getSubQueryBuilderPropsMain:mt,getValueEditorTypeMain:dt,getValueSourcesMain:$e,getValuesMain:me,getRuleDefaultValue:ue,getInputTypeMain:ut,createRule:qe,createRuleGroup:je.useCallback(Et=>Et?{id:et(),rules:ee?[qe()]:[],not:!1}:{id:et(),rules:ee?[qe()]:[],combinator:to(Ze)??"",not:!1},[ee,Ze,qe,et])}},Ig=f=>Gb(f,Vb(f)),$h=je.createContext({}),qb=je.memo(function(g){const y=Ng(g),{schema:{controls:{ruleGroupBodyElements:T,ruleGroupHeaderElements:S}}}=y,A=ta(y.addRule),w=ta(y.addGroup),o=ta(y.cloneGroup),P=ta(y.toggleLockGroup),N=ta(y.toggleMuteGroup),z=ta(y.removeGroup),C=ta(y.shiftGroupUp),O=ta(y.shiftGroupDown),U=je.useMemo(()=>({addRule:A,addGroup:w,cloneGroup:o,toggleLockGroup:P,toggleMuteGroup:N,removeGroup:z,shiftGroupUp:C,shiftGroupDown:O}),[A,w,o,P,N,z,C,O]);return je.createElement("div",{ref:y.previewRef,title:y.accessibleDescription,className:y.outerClassName,"data-testid":Fr.ruleGroup,"data-dragmonitorid":y.dragMonitorId,"data-dropmonitorid":y.dropMonitorId,"data-rule-group-id":y.id,"data-level":y.path.length,"data-path":JSON.stringify(y.path)},je.createElement("div",{ref:y.dropRef,className:y.classNames.header},je.createElement(S,{...y,...U})),je.createElement("div",{className:y.classNames.body},je.createElement(T,{...y,...U})))}),$b=je.memo(function(g){const{schema:{controls:{shiftActions:y,dragHandle:T,combinatorSelector:S,notToggle:A,addRuleAction:w,addGroupAction:o,cloneGroupAction:P,lockGroupAction:N,muteGroupAction:z,removeGroupAction:C}}}=g,O=je.useMemo(()=>({level:g.path.length,path:g.path,disabled:g.disabled,context:g.context,validation:g.validationResult,schema:g.schema}),[g.path,g.disabled,g.context,g.validationResult,g.schema]),U=je.useMemo(()=>g.schema.showShiftActions?{shiftUp:g.translations.shiftActionUp.title,shiftDown:g.translations.shiftActionDown.title}:void 0,[g.schema.showShiftActions,g.translations]),G=je.useMemo(()=>g.schema.showShiftActions?{shiftUp:g.translations.shiftActionUp.label,shiftDown:g.translations.shiftActionDown.label}:void 0,[g.schema.showShiftActions,g.translations]);return je.createElement(je.Fragment,null,g.schema.showShiftActions&&g.path.length>0&&je.createElement(y,{key:Fr.shiftActions,...O,testID:Fr.shiftActions,titles:U,labels:G,className:g.classNames.shiftActions,shiftUp:g.shiftGroupUp,shiftDown:g.shiftGroupDown,shiftUpDisabled:g.shiftUpDisabled,shiftDownDisabled:g.shiftDownDisabled,ruleOrGroup:g.ruleGroup}),g.path.length>0&&g.schema.enableDragAndDrop&&je.createElement(T,{key:Fr.dragHandle,...O,testID:Fr.dragHandle,ref:g.dragRef,title:g.translations.dragHandle.title,label:g.translations.dragHandle.label,className:g.classNames.dragHandle,ruleOrGroup:g.ruleGroup}),!g.schema.showCombinatorsBetweenRules&&!g.schema.independentCombinators&&je.createElement(S,{key:Fr.combinators,...O,testID:Fr.combinators,options:g.schema.combinators,value:g.combinator,title:g.translations.combinators.title,className:g.classNames.combinators,handleOnChange:g.onCombinatorChange,rules:g.ruleGroup.rules,ruleGroup:g.ruleGroup}),g.schema.showNotToggle&&je.createElement(A,{key:Fr.notToggle,...O,testID:Fr.notToggle,className:g.classNames.notToggle,title:g.translations.notToggle.title,label:g.translations.notToggle.label,checked:g.ruleGroup.not,handleOnChange:g.onNotToggleChange,ruleGroup:g.ruleGroup}),je.createElement(w,{key:Fr.addRule,...O,testID:Fr.addRule,label:g.translations.addRule.label,title:g.translations.addRule.title,className:g.classNames.addRule,handleOnClick:g.addRule,rules:g.ruleGroup.rules,ruleOrGroup:g.ruleGroup}),g.schema.maxLevels>g.path.length&&je.createElement(o,{key:Fr.addGroup,...O,testID:Fr.addGroup,label:g.translations.addGroup.label,title:g.translations.addGroup.title,className:g.classNames.addGroup,handleOnClick:g.addGroup,rules:g.ruleGroup.rules,ruleOrGroup:g.ruleGroup}),g.schema.showCloneButtons&&g.path.length>0&&je.createElement(P,{key:Fr.cloneGroup,...O,testID:Fr.cloneGroup,label:g.translations.cloneRuleGroup.label,title:g.translations.cloneRuleGroup.title,className:g.classNames.cloneGroup,handleOnClick:g.cloneGroup,rules:g.ruleGroup.rules,ruleOrGroup:g.ruleGroup}),g.schema.showLockButtons&&je.createElement(N,{key:Fr.lockGroup,...O,testID:Fr.lockGroup,label:g.translations.lockGroup.label,title:g.translations.lockGroup.title,className:g.classNames.lockGroup,handleOnClick:g.toggleLockGroup,rules:g.ruleGroup.rules,disabledTranslation:g.parentDisabled?void 0:g.translations.lockGroupDisabled,ruleOrGroup:g.ruleGroup}),g.schema.showMuteButtons&&je.createElement(z,{key:Fr.muteGroup,...O,testID:Fr.muteGroup,label:g.ruleGroup.muted?g.translations.unmuteGroup.label:g.translations.muteGroup.label,title:g.ruleGroup.muted?g.translations.unmuteGroup.title:g.translations.muteGroup.title,className:g.classNames.muteGroup,handleOnClick:g.toggleMuteGroup,rules:g.ruleGroup.rules,ruleOrGroup:g.ruleGroup}),g.path.length>0&&je.createElement(C,{key:Fr.removeGroup,...O,testID:Fr.removeGroup,label:g.translations.removeGroup.label,title:g.translations.removeGroup.title,className:g.classNames.removeGroup,handleOnClick:g.removeGroup,rules:g.ruleGroup.rules,ruleOrGroup:g.ruleGroup}))}),Qb=je.memo(function(g){const{schema:{controls:{combinatorSelector:y,inlineCombinator:T,ruleGroup:S,rule:A}}}=g;return je.createElement(je.Fragment,null,g.ruleGroup.rules.map((w,o,{length:P})=>{const N=g.pathsMemo[o],z=N.path,C=N.disabled||typeof w!="string"&&w.disabled,O=S5([0],z),U=g.path.length===0&&o===P-1,G=typeof w=="string"?[...z,w].join("-"):w.id;return je.createElement(je.Fragment,{key:G},o>0&&!g.schema.independentCombinators&&g.schema.showCombinatorsBetweenRules&&je.createElement(T,{key:Fr.inlineCombinator,options:g.schema.combinators,value:g.combinator,title:g.translations.combinators.title,className:g.classNames.combinators,handleOnChange:g.onCombinatorChange,rules:g.ruleGroup.rules,level:g.path.length,context:g.context,validation:g.validationResult,component:y,path:z,disabled:g.disabled,schema:g.schema,ruleGroup:g.ruleGroup}),typeof w=="string"?je.createElement(T,{key:`${Fr.inlineCombinator}-independent`,options:g.schema.combinators,value:w,title:g.translations.combinators.title,className:g.classNames.combinators,handleOnChange:j=>g.onIndependentCombinatorChange(j,o),rules:g.ruleGroup.rules,level:g.path.length,context:g.context,validation:g.validationResult,component:y,path:z,disabled:C,schema:g.schema,ruleGroup:g.ruleGroup}):Qr(w)?je.createElement(S,{key:Fr.ruleGroup,id:w.id,schema:g.schema,actions:g.actions,path:z,translations:g.translations,ruleGroup:w,rules:w.rules,combinator:js(w)?w.combinator:void 0,not:!!w.not,disabled:C,parentDisabled:g.parentDisabled||g.disabled,parentMuted:g.parentMuted||g.muted,shiftUpDisabled:O,shiftDownDisabled:U,context:g.context}):je.createElement(A,{key:Fr.rule,id:w.id,rule:w,field:w.field,operator:w.operator,value:w.value,valueSource:w.valueSource,schema:g.schema,actions:g.actions,path:z,disabled:C,parentDisabled:g.parentDisabled||g.disabled,parentMuted:g.parentMuted||g.muted,translations:g.translations,shiftUpDisabled:O,shiftDownDisabled:U,context:g.context}))}))}),Ng=f=>{const{id:g,path:y,ruleGroup:T,schema:{qbId:S,accessibleDescriptionGenerator:A,classNames:w,combinators:o,createRule:P,createRuleGroup:N,disabledPaths:z,independentCombinators:C,validationMap:O,enableDragAndDrop:U,getRuleGroupClassname:G,suppressStandardClassnames:j},actions:{onGroupAdd:F,onGroupRemove:q,onPropChange:V,onRuleAdd:H,moveRule:X},disabled:fe,parentDisabled:ae,parentMuted:he,shiftUpDisabled:xe,shiftDownDisabled:ee,combinator:Pe,rules:we,not:Fe,dropEffect:et="move",groupItems:Ke=!1,dragMonitorId:_t="",dropMonitorId:Ne="",previewRef:Te=null,dragRef:lt=null,dropRef:Ze=null,isDragging:Ct=!1,isOver:Ie=!1,dropNotAllowed:rt=!1}=f;qh();const dt=!!ae||!!fe,$e=!!he||!!T?.muted,ft=je.useMemo(()=>T&&js(T)?T.combinator:T?to(o):Pe??to(o),[Pe,o,T]),mt=je.useMemo(()=>{if(T){if(T.combinator===ft||C)return T;const Re=structuredClone(T);return Re.combinator=ft,Re}return{rules:we,not:Fe}},[ft,C,Fe,T,we]),me=je.useMemo(()=>({header:Rn(j||Or.header,w.header,Ie&&et==="copy"&&w.dndCopy,rt&&w.dndDropNotAllowed,j||{[Or.dndOver]:Ie,[Or.dndCopy]:Ie&&et==="copy",[Or.dndDropNotAllowed]:rt}),shiftActions:Rn(j||Or.shiftActions,w.shiftActions),dragHandle:Rn(j||Or.dragHandle,w.dragHandle),combinators:Rn(j||Or.combinators,w.valueSelector,w.combinators),notToggle:Rn(j||Or.notToggle,w.notToggle),addRule:Rn(j||Or.addRule,w.actionElement,w.addRule),addGroup:Rn(j||Or.addGroup,w.actionElement,w.addGroup),cloneGroup:Rn(j||Or.cloneGroup,w.actionElement,w.cloneGroup),lockGroup:Rn(j||Or.lockGroup,w.actionElement,w.lockGroup),muteGroup:Rn(j||Or.muteGroup,w.actionElement,w.muteGroup),removeGroup:Rn(j||Or.removeGroup,w.actionElement,w.removeGroup),body:Rn(j||Or.body,w.body)}),[w.actionElement,w.addGroup,w.addRule,w.body,w.cloneGroup,w.combinators,w.dndCopy,w.dndDropNotAllowed,w.dragHandle,w.header,w.lockGroup,w.muteGroup,w.notToggle,w.removeGroup,w.shiftActions,w.valueSelector,et,rt,Ie,j]),ue=je.useCallback(Re=>{dt||V("combinator",Re,y)},[dt,V,y]),ut=je.useCallback((Re,le,de)=>{dt||V("combinator",Re,[...y,le])},[dt,V,y]),qe=je.useCallback((Re,le)=>{dt||V("not",Re,y)},[dt,V,y]),Et=je.useCallback((Re,le)=>{dt||H(P(),y,le)},[P,dt,H,y]),At=je.useCallback((Re,le)=>{dt||F(N(),y,le)},[N,dt,F,y]),Gt=je.useCallback(()=>{dt||X(y,[...ea(y),y.at(-1)+1],!0)},[dt,X,y]),Jt=je.useCallback((Re,le)=>{!dt&&!xe&&X(y,"up",Re?.altKey)},[dt,X,y,xe]),Kt=je.useCallback((Re,le)=>{!dt&&!ee&&X(y,"down",Re?.altKey)},[dt,X,y,ee]),cr=je.useCallback(()=>{V("disabled",!dt,y)},[dt,V,y]),tr=je.useCallback(()=>{V("muted",!mt.muted,y)},[mt.muted,V,y]),ur=je.useCallback(()=>{dt||q(y)},[dt,q,y]),Hr=O[g??""],be=je.useMemo(()=>fg(Hr),[Hr]),te=je.useMemo(()=>C?null:xi(o,ft)?.className??"",[ft,o,C]),ie=je.useMemo(()=>G(mt),[G,mt]),ke=je.useMemo(()=>Rn(ie,te,j||Or.ruleGroup,w.ruleGroup,dt&&w.disabled,$e&&w.muted,Ct&&w.dndDragging,Ie&&Ke&&w.dndGroup,j||{[Or.disabled]:dt,[Or.muted]:$e,[Or.dndDragging]:Ct,[Or.dndGroup]:Ie&&Ke},be),[w.disabled,w.muted,w.dndDragging,w.dndGroup,w.ruleGroup,te,dt,$e,Ke,Ct,Ie,ie,j,be]),it=nx({disabled:dt,disabledPaths:z,path:y,nestedArray:mt.rules}),It=je.useMemo(()=>A({path:y,qbId:S}),[A,y,S]);return{...f,addGroup:At,addRule:Et,accessibleDescription:It,classNames:me,cloneGroup:Gt,combinator:ft,disabled:dt,dragMonitorId:_t,dragRef:lt,dropMonitorId:Ne,dropRef:Ze,isDragging:Ct,isOver:Ie,muted:$e,onCombinatorChange:ue,onGroupAdd:F,onIndependentCombinatorChange:ut,onNotToggleChange:qe,outerClassName:ke,parentDisabled:ae,pathsMemo:it,previewRef:Te,removeGroup:ur,ruleGroup:mt,shiftGroupUp:Jt,shiftGroupDown:Kt,toggleLockGroup:cr,toggleMuteGroup:tr,validationClassName:be,validationResult:Hr}},Hb=f=>je.createElement("div",{"data-testid":f.testID,className:f.className},je.createElement("button",{disabled:f.disabled||f.shiftUpDisabled,onClick:f.shiftUp,title:f.titles?.shiftUp},f.labels?.shiftUp),je.createElement("button",{disabled:f.disabled||f.shiftDownDisabled,onClick:f.shiftDown,title:f.titles?.shiftDown},f.labels?.shiftDown)),Zb=({name:f,disabled:g,checked:y,label:T,handleOnChange:S})=>{const A=je.useId();return je.createElement("label",{htmlFor:A},je.createElement("input",{id:A,type:"radio",value:f,disabled:g,checked:y,onChange:w=>S(w.target.value)}),T)},Xb=f=>{const{operator:g,value:y,handleOnChange:T,title:S,className:A,type:w="text",inputType:o,values:P=[],listsAsArrays:N,fieldData:z,disabled:C,separator:O=null,testID:U,selectorComponent:G=f.schema.controls.valueSelector,parseNumbers:j,skipHook:F,valueSource:q,...V}=f,{valueAsArray:H,multiValueHandler:X,bigIntValueHandler:fe,parseNumberMethod:ae,valueListItemClassName:he,inputTypeCoerced:xe}=Yb(f);if(g==="null"||g==="notNull")return null;const ee=z?.placeholder??"";if((g==="between"||g==="notBetween")&&(w==="select"||w==="text")){const Pe=["from","to"].map((we,Fe)=>w==="text"?je.createElement("input",{key:we,type:xe,placeholder:ee,value:H[Fe]??"",className:he,disabled:C,onChange:et=>X(et.target.value,Fe)}):je.createElement(G,{key:we,...V,schema:f.schema,className:he,handleOnChange:et=>X(et,Fe),disabled:C,value:H[Fe]??to(P),options:P,listsAsArrays:N}));return je.createElement("span",{"data-testid":U,className:A,title:S},Pe[0],O,Pe[1])}switch(w){case"select":case"multiselect":return je.createElement(G,{...V,schema:f.schema,testID:U,className:A,title:S,handleOnChange:T,disabled:C,value:y,options:P,multiple:w==="multiselect",listsAsArrays:N});case"textarea":return je.createElement("textarea",{"data-testid":U,placeholder:ee,value:y,title:S,className:A,disabled:C,onChange:Pe=>T(Pe.target.value)});case"switch":case"checkbox":return je.createElement("input",{"data-testid":U,type:"checkbox",className:A,title:S,onChange:Pe=>T(Pe.target.checked),checked:!!y,disabled:C});case"radio":return je.createElement("span",{"data-testid":U,className:A,title:S},P.map(Pe=>je.createElement(Zb,{key:Pe.name,name:Pe.name,disabled:C,checked:y===Pe.name,handleOnChange:T,label:Pe.label})))}return o==="bigint"?je.createElement("input",{"data-testid":U,type:xe,placeholder:ee,value:`${y}`,title:S,className:A,disabled:C,onChange:Pe=>fe(Pe.target.value)}):je.createElement("input",{"data-testid":U,type:xe,placeholder:ee,value:y,title:S,className:A,disabled:C,onChange:Pe=>T(hn(Pe.target.value,{parseNumbers:ae}))})},Yb=f=>{const{handleOnChange:g,inputType:y,operator:T,value:S,listsAsArrays:A,parseNumbers:w,values:o,type:P,skipHook:N,schema:{classNames:z,suppressStandardClassnames:C}}=f;je.useEffect(()=>{!N&&P!=="multiselect"&&!["between","notBetween","in","notIn"].includes(T)&&(Array.isArray(S)||y==="number"&&typeof S=="string"&&S.includes(","))&&g(yn(S,{retainEmptyStrings:!0})[0]??"")},[g,y,T,N,P,S]);const O=je.useMemo(()=>yn(S,{retainEmptyStrings:!0}),[S]),U=je.useMemo(()=>Fh({parseNumbers:w,inputType:y}),[y,w]);return{valueAsArray:O,multiValueHandler:je.useCallback((G,j)=>{const F=xa(O,q=>{q[j]=hn(G,{parseNumbers:U}),j===0&&(T==="between"||T==="notBetween")&&(q.length<2||q[1]===void 0)&&(q[1]=to(o))});g(A?F:R7(F,","))},[g,A,T,U,O,o]),bigIntValueHandler:je.useCallback(G=>{const j=hn(G,{parseNumbers:U,bigIntOnOverflow:!0});let F;try{F=BigInt(j)}catch{g(j);return}g(F)},[g,U]),parseNumberMethod:U,valueListItemClassName:Rn(C||Or.valueListItem,z?.valueListItem),inputTypeCoerced:y==="bigint"||T==="in"||T==="notIn"?"text":y||"text"}},Wb=f=>{const{multiple:g,onChange:y}=f;return je.useMemo(()=>g?T=>y(Array.from(T.target.selectedOptions).map(S=>S.value)):T=>y(T.target.value),[g,y])},Kb=f=>Wm(f)?f.map(g=>je.createElement("optgroup",{key:g.label,label:g.label},g.options.map(y=>je.createElement("option",{key:y.name,value:y.name,disabled:y.disabled},y.label)))):Array.isArray(f)?f.map(g=>je.createElement("option",{key:g.name,value:g.name,disabled:g.disabled},g.label)):null,p6=f=>{const{onChange:g,val:y}=Jb(f),T=Wb({multiple:f.multiple,onChange:g});return je.createElement("select",{"data-testid":f.testID,className:f.className,value:y,title:f.title,disabled:f.disabled,multiple:!!f.multiple,onChange:T},Kb(f.options))},Jb=f=>{const{handleOnChange:g,listsAsArrays:y=!1,multiple:T=!1,value:S}=f;return{onChange:je.useCallback(A=>{if(T){const w=yn(A);g(y?w:R7(w,","))}else g(A)},[g,y,T]),val:je.useMemo(()=>T?yn(S):S,[T,S])}},ex=({props:f})=>{const g=Ig(f),y=g.schema.controls.ruleGroup,T=$h;return je.createElement(T.Provider,{key:g.dndEnabledAttr,value:g.rqbContext},je.createElement("div",{role:"form",className:g.wrapperClassName,"data-dnd":g.dndEnabledAttr,"data-inlinecombinators":g.inlineCombinatorsAttr},je.createElement(y,{translations:g.translations,ruleGroup:g.rootGroup,rules:g.rootGroup.rules,...g.combinatorPropObject,not:!!g.rootGroup.not,schema:g.schema,actions:g.actions,id:g.rootGroup.id,path:Hm,disabled:g.rootGroupDisabled,shiftUpDisabled:!0,shiftDownDisabled:!0,parentDisabled:g.queryDisabled,context:f.context})))},n7=()=>null,tx=je.forwardRef(n7),jc={},rx=({finalize:f,...g})=>{const y=je.useContext($h),T=je.useMemo(()=>sv(g,y),[g,y,f]),S=f?y.enableDragAndDrop!==!1&&mg(!1,g.enableDragAndDrop,y.enableDragAndDrop):g.enableDragAndDrop??y.enableDragAndDrop,A=je.useMemo(()=>iv(Object.assign({},x_),y.controlClassnames,g.controlClassnames),[y.controlClassnames,g.controlClassnames,f]),w=je.useMemo(()=>({actionElement:A.actionElement,addGroup:A.addGroup,addRule:A.addRule,body:A.body,cloneGroup:A.cloneGroup,cloneRule:A.cloneRule,combinators:A.combinators,dragHandle:A.dragHandle,fields:A.fields,header:A.header,lockGroup:A.lockGroup,lockRule:A.lockRule,muteGroup:A.muteGroup,muteRule:A.muteRule,muted:A.muted,notToggle:A.notToggle,operators:A.operators,queryBuilder:A.queryBuilder,removeGroup:A.removeGroup,removeRule:A.removeRule,rule:A.rule,ruleGroup:A.ruleGroup,shiftActions:A.shiftActions,value:A.value,valueSelector:A.valueSelector,valueSource:A.valueSource,betweenRules:A.betweenRules,valid:A.valid,invalid:A.invalid,dndDragging:A.dndDragging,dndOver:A.dndOver,dndCopy:A.dndCopy,dndGroup:A.dndGroup,dndDropNotAllowed:A.dndDropNotAllowed,disabled:A.disabled,valueListItem:A.valueListItem,matchMode:A.matchMode,matchThreshold:A.matchThreshold,branches:A.branches,hasSubQuery:A.hasSubQuery,loading:A.loading}),[A.actionElement,A.addGroup,A.addRule,A.betweenRules,A.body,A.branches,A.cloneGroup,A.cloneRule,A.combinators,A.disabled,A.dndCopy,A.dndDropNotAllowed,A.dndGroup,A.dndDragging,A.dndOver,A.dragHandle,A.fields,A.hasSubQuery,A.header,A.invalid,A.loading,A.lockGroup,A.lockRule,A.muteGroup,A.muteRule,A.muted,A.matchMode,A.matchThreshold,A.notToggle,A.operators,A.queryBuilder,A.removeGroup,A.removeRule,A.rule,A.ruleGroup,A.shiftActions,A.valid,A.value,A.valueListItem,A.valueSelector,A.valueSource]),o=y.controlElements??jc,P=g.controlElements??jc,N=je.useCallback((G,j,F)=>{const q=G==="dragHandle"?tx:n7,V=(G.endsWith("Action")&&P.actionElement?P.actionElement:void 0)??(G.endsWith("Selector")&&P.valueSelector?P.valueSelector:void 0),H=(G.endsWith("Action")&&o.actionElement?o.actionElement:void 0)??(G.endsWith("Selector")&&o.valueSelector?o.valueSelector:void 0),X=j===null?q:j??V??(F===null?q:F??H);return X?{[G]:X}:{[G]:Gc[G]}},[o.actionElement,o.valueSelector,f,P.actionElement,P.valueSelector]),z=je.useMemo(()=>Object.assign({},N("addGroupAction",P.addGroupAction,o.addGroupAction),N("addRuleAction",P.addRuleAction,o.addRuleAction),N("cloneGroupAction",P.cloneGroupAction,o.cloneGroupAction),N("cloneRuleAction",P.cloneRuleAction,o.cloneRuleAction),N("combinatorSelector",P.combinatorSelector,o.combinatorSelector),N("dragHandle",P.dragHandle,o.dragHandle),N("fieldSelector",P.fieldSelector,o.fieldSelector),N("inlineCombinator",P.inlineCombinator,o.inlineCombinator),N("lockGroupAction",P.lockGroupAction,o.lockGroupAction),N("lockRuleAction",P.lockRuleAction,o.lockRuleAction),N("muteGroupAction",P.muteGroupAction,o.muteGroupAction),N("muteRuleAction",P.muteRuleAction,o.muteRuleAction),N("notToggle",P.notToggle,o.notToggle),N("operatorSelector",P.operatorSelector,o.operatorSelector),N("removeGroupAction",P.removeGroupAction,o.removeGroupAction),N("removeRuleAction",P.removeRuleAction,o.removeRuleAction),N("shiftActions",P.shiftActions,o.shiftActions),{valueEditor:P.valueEditor===null?n7:P.valueEditor??(o.valueEditor===null?n7:o.valueEditor)??Gc.valueEditor},N("valueSourceSelector",P.valueSourceSelector,o.valueSourceSelector),N("matchModeEditor",P.matchModeEditor,o.matchModeEditor),N("rule",P.rule,o.rule),N("ruleGroup",P.ruleGroup,o.ruleGroup),N("ruleGroupBodyElements",P.ruleGroupBodyElements,o.ruleGroupBodyElements),N("ruleGroupHeaderElements",P.ruleGroupHeaderElements,o.ruleGroupHeaderElements),{actionElement:P.actionElement??o.actionElement??Gc.actionElement},{valueSelector:P.valueSelector??o.valueSelector??Gc.valueSelector}),[o.actionElement,o.addGroupAction,o.addRuleAction,o.cloneGroupAction,o.cloneRuleAction,o.combinatorSelector,o.dragHandle,o.fieldSelector,o.inlineCombinator,o.lockGroupAction,o.lockRuleAction,o.muteGroupAction,o.muteRuleAction,o.matchModeEditor,o.notToggle,o.operatorSelector,o.removeGroupAction,o.removeRuleAction,o.rule,o.ruleGroup,o.ruleGroupBodyElements,o.ruleGroupHeaderElements,o.shiftActions,o.valueEditor,o.valueSelector,o.valueSourceSelector,N,f,P.actionElement,P.addGroupAction,P.addRuleAction,P.cloneGroupAction,P.cloneRuleAction,P.combinatorSelector,P.dragHandle,P.fieldSelector,P.inlineCombinator,P.lockGroupAction,P.lockRuleAction,P.muteGroupAction,P.muteRuleAction,P.matchModeEditor,P.notToggle,P.operatorSelector,P.removeGroupAction,P.removeRuleAction,P.rule,P.ruleGroup,P.ruleGroupBodyElements,P.ruleGroupHeaderElements,P.shiftActions,P.valueEditor,P.valueSelector,P.valueSourceSelector]),C=g.translations??jc,O=y.translations??jc,U=je.useMemo(()=>Object.assign({},fi("addGroup",{label:[C.addGroup?.label,O.addGroup?.label],title:[C.addGroup?.title,O.addGroup?.title]},di),fi("addRule",{label:[C.addRule?.label,O.addRule?.label],title:[C.addRule?.title,O.addRule?.title]},di),fi("cloneRule",{label:[C.cloneRule?.label,O.cloneRule?.label],title:[C.cloneRule?.title,O.cloneRule?.title]},di),fi("cloneRuleGroup",{label:[C.cloneRuleGroup?.label,O.cloneRuleGroup?.label],title:[C.cloneRuleGroup?.title,O.cloneRuleGroup?.title]},di),fi("combinators",{title:[C.combinators?.title,O.combinators?.title]},di),fi("dragHandle",{label:[C.dragHandle?.label,O.dragHandle?.label],title:[C.dragHandle?.title,O.dragHandle?.title]},di),fi("fields",{placeholderGroupLabel:[C.fields?.placeholderGroupLabel,O.fields?.placeholderGroupLabel],placeholderLabel:[C.fields?.placeholderLabel,O.fields?.placeholderLabel],placeholderName:[C.fields?.placeholderName,O.fields?.placeholderName],title:[C.fields?.title,O.fields?.title]},di),fi("lockGroup",{label:[C.lockGroup?.label,O.lockGroup?.label],title:[C.lockGroup?.title,O.lockGroup?.title]},di),fi("lockGroupDisabled",{label:[C.lockGroupDisabled?.label,O.lockGroupDisabled?.label],title:[C.lockGroupDisabled?.title,O.lockGroupDisabled?.title]},di),fi("lockRule",{label:[C.lockRule?.label,O.lockRule?.label],title:[C.lockRule?.title,O.lockRule?.title]},di),fi("lockRuleDisabled",{label:[C.lockRuleDisabled?.label,O.lockRuleDisabled?.label],title:[C.lockRuleDisabled?.title,O.lockRuleDisabled?.title]},di),fi("muteGroup",{label:[C.muteGroup?.label,O.muteGroup?.label],title:[C.muteGroup?.title,O.muteGroup?.title]},di),fi("unmuteGroup",{label:[C.unmuteGroup?.label,O.unmuteGroup?.label],title:[C.unmuteGroup?.title,O.unmuteGroup?.title]},di),fi("muteRule",{label:[C.muteRule?.label,O.muteRule?.label],title:[C.muteRule?.title,O.muteRule?.title]},di),fi("unmuteRule",{label:[C.unmuteRule?.label,O.unmuteRule?.label],title:[C.unmuteRule?.title,O.unmuteRule?.title]},di),fi("notToggle",{label:[C.notToggle?.label,O.notToggle?.label],title:[C.notToggle?.title,O.notToggle?.title]},di),fi("operators",{placeholderGroupLabel:[C.operators?.placeholderGroupLabel,O.operators?.placeholderGroupLabel],placeholderLabel:[C.operators?.placeholderLabel,O.operators?.placeholderLabel],placeholderName:[C.operators?.placeholderName,O.operators?.placeholderName],title:[C.operators?.title,O.operators?.title]},di),fi("values",{placeholderGroupLabel:[C.values?.placeholderGroupLabel,O.values?.placeholderGroupLabel],placeholderLabel:[C.values?.placeholderLabel,O.values?.placeholderLabel],placeholderName:[C.values?.placeholderName,O.values?.placeholderName],title:[C.values?.title,O.values?.title]},di),fi("removeGroup",{label:[C.removeGroup?.label,O.removeGroup?.label],title:[C.removeGroup?.title,O.removeGroup?.title]},di),fi("removeRule",{label:[C.removeRule?.label,O.removeRule?.label],title:[C.removeRule?.title,O.removeRule?.title]},di),fi("shiftActionDown",{label:[C.shiftActionDown?.label,O.shiftActionDown?.label],title:[C.shiftActionDown?.title,O.shiftActionDown?.title]},di),fi("shiftActionUp",{label:[C.shiftActionUp?.label,O.shiftActionUp?.label],title:[C.shiftActionUp?.title,O.shiftActionUp?.title]},di),fi("matchMode",{title:[C.matchMode?.title,O.matchMode?.title]},di),fi("matchThreshold",{title:[C.matchThreshold?.title,O.matchThreshold?.title]},di),fi("value",{title:[C.value?.title,O.value?.title]},di),fi("valueSourceSelector",{title:[C.valueSourceSelector?.title,O.valueSourceSelector?.title]},di)),[O.addGroup?.label,O.addGroup?.title,O.addRule?.label,O.addRule?.title,O.cloneRule?.label,O.cloneRule?.title,O.cloneRuleGroup?.label,O.cloneRuleGroup?.title,O.combinators?.title,O.dragHandle?.label,O.dragHandle?.title,O.fields?.placeholderGroupLabel,O.fields?.placeholderLabel,O.fields?.placeholderName,O.fields?.title,O.lockGroup?.label,O.lockGroup?.title,O.lockGroupDisabled?.label,O.lockGroupDisabled?.title,O.lockRule?.label,O.lockRule?.title,O.lockRuleDisabled?.label,O.lockRuleDisabled?.title,O.muteGroup?.label,O.muteGroup?.title,O.unmuteGroup?.label,O.unmuteGroup?.title,O.muteRule?.label,O.muteRule?.title,O.unmuteRule?.label,O.unmuteRule?.title,O.matchMode?.title,O.matchThreshold?.title,O.notToggle?.label,O.notToggle?.title,O.operators?.placeholderGroupLabel,O.operators?.placeholderLabel,O.operators?.placeholderName,O.operators?.title,O.removeGroup?.label,O.removeGroup?.title,O.removeRule?.label,O.removeRule?.title,O.shiftActionDown?.label,O.shiftActionDown?.title,O.shiftActionUp?.label,O.shiftActionUp?.title,O.value?.title,O.values?.placeholderGroupLabel,O.values?.placeholderLabel,O.values?.placeholderName,O.values?.title,O.valueSourceSelector?.title,f,C.addGroup?.label,C.addGroup?.title,C.addRule?.label,C.addRule?.title,C.cloneRule?.label,C.cloneRule?.title,C.cloneRuleGroup?.label,C.cloneRuleGroup?.title,C.combinators?.title,C.dragHandle?.label,C.dragHandle?.title,C.fields?.placeholderGroupLabel,C.fields?.placeholderLabel,C.fields?.placeholderName,C.fields?.title,C.lockGroup?.label,C.lockGroup?.title,C.lockGroupDisabled?.label,C.lockGroupDisabled?.title,C.lockRule?.label,C.lockRule?.title,C.lockRuleDisabled?.label,C.lockRuleDisabled?.title,C.muteGroup?.label,C.muteGroup?.title,C.unmuteGroup?.label,C.unmuteGroup?.title,C.muteRule?.label,C.muteRule?.title,C.unmuteRule?.label,C.unmuteRule?.title,C.matchMode?.title,C.matchThreshold?.title,C.notToggle?.label,C.notToggle?.title,C.operators?.placeholderGroupLabel,C.operators?.placeholderLabel,C.operators?.placeholderName,C.operators?.title,C.removeGroup?.label,C.removeGroup?.title,C.removeRule?.label,C.removeRule?.title,C.shiftActionDown?.label,C.shiftActionDown?.title,C.shiftActionUp?.label,C.shiftActionUp?.title,C.value?.title,C.values?.placeholderGroupLabel,C.values?.placeholderLabel,C.values?.placeholderName,C.values?.title,C.valueSourceSelector?.title]);return{...T,controlClassnames:w,controlElements:z,enableDragAndDrop:S,translations:U,initialQuery:g.initialQuery,qbId:g.qbId}},nx=({disabled:f,path:g,nestedArray:y,disabledPaths:T})=>{const S=y.length;return je.useMemo(()=>{const A=[];for(let w=0;w<S;w++){const o=[...g,w];A[w]={path:o,disabled:f||T.some(P=>S5(o,P))}}return A},[f,g,S,T])},ta=f=>je.useCallback((g,y)=>{g?.preventDefault(),g?.stopPropagation(),f(g,y)},[f]),ix={mode:"all"},ax=[{name:"",value:"",label:""}],ox=je.memo(function(g){const y=ux(g),T=ta(y.cloneRule),S=ta(y.toggleLockRule),A=ta(y.toggleMuteRule),w=ta(y.removeRule),o=ta(y.shiftRuleUp),P=ta(y.shiftRuleDown),N=je.useMemo(()=>({cloneRule:T,toggleLockRule:S,toggleMuteRule:A,removeRule:w,shiftRuleUp:o,shiftRuleDown:P}),[T,w,P,o,S,A]);return je.createElement("div",{ref:y.dndRef,"data-testid":Fr.rule,"data-dragmonitorid":y.dragMonitorId,"data-dropmonitorid":y.dropMonitorId,className:y.outerClassName,"data-rule-id":y.id,"data-level":y.path.length,"data-path":JSON.stringify(y.path)},y.matchModes.length>0?je.createElement(lx,{...y,...N}):je.createElement(Dg,{...y,...N}))}),Dg=je.memo(function(g){const{schema:{controls:{shiftActions:y,dragHandle:T,fieldSelector:S,matchModeEditor:A,operatorSelector:w,valueSourceSelector:o,valueEditor:P,cloneRuleAction:N,lockRuleAction:z,muteRuleAction:C,removeRuleAction:O,ruleGroupBodyElements:U,ruleGroupHeaderElements:G}},groupComponentsWrapper:j=je.Fragment}=g,F=je.useMemo(()=>({level:g.path.length,path:g.path,disabled:g.disabled,context:g.context,validation:g.validationResult,schema:g.schema,rule:g.rule}),[g.path,g.disabled,g.context,g.validationResult,g.schema,g.rule]),q=je.useMemo(()=>!(g.schema.fields.length===1&&dl(g.schema.fields[0])&&"value"in g.schema.fields[0]&&g.schema.fields[0].value===""),[g.schema.fields]),V=je.useMemo(()=>g.schema.showShiftActions?{shiftUp:g.translations.shiftActionUp.title,shiftDown:g.translations.shiftActionDown.title}:void 0,[g.schema.showShiftActions,g.translations]),H=je.useMemo(()=>g.schema.showShiftActions?{shiftUp:g.translations.shiftActionUp.label,shiftDown:g.translations.shiftActionDown.label}:void 0,[g.schema.showShiftActions,g.translations]);return je.createElement(je.Fragment,null,g.schema.showShiftActions&&je.createElement(y,{key:Fr.shiftActions,...F,testID:Fr.shiftActions,titles:V,labels:H,className:g.classNames.shiftActions,ruleOrGroup:g.rule,shiftUp:g.shiftRuleUp,shiftDown:g.shiftRuleDown,shiftUpDisabled:g.shiftUpDisabled,shiftDownDisabled:g.shiftDownDisabled}),g.schema.enableDragAndDrop&&je.createElement(T,{key:Fr.dragHandle,...F,testID:Fr.dragHandle,ref:g.dragRef,title:g.translations.dragHandle.title,label:g.translations.dragHandle.label,className:g.classNames.dragHandle,ruleOrGroup:g.rule}),q&&je.createElement(S,{key:Fr.fields,...F,testID:Fr.fields,options:g.schema.fields,title:g.translations.fields.title,value:g.rule.field,operator:g.rule.operator,className:g.classNames.fields,handleOnChange:g.onChangeField}),(g.schema.autoSelectField||g.rule.field!==g.translations.fields.placeholderName)&&(g.subQuery?je.createElement(A,{key:Fr.matchModeEditor,...F,testID:Fr.matchModeEditor,field:g.rule.field,fieldData:g.fieldData,title:g.translations.matchMode.title,options:g.matchModes,match:g.rule.match??ix,className:g.classNames.matchMode,classNames:g.classNames,handleOnChange:g.onChangeMatchMode}):je.createElement(je.Fragment,null,je.createElement(w,{key:Fr.operators,...F,testID:Fr.operators,field:g.rule.field,fieldData:g.fieldData,title:g.translations.operators.title,options:g.operators,value:g.rule.operator,className:g.classNames.operators,handleOnChange:g.onChangeOperator}),(g.schema.autoSelectOperator||g.rule.operator!==g.translations.operators.placeholderName)&&!g.hideValueControls&&je.createElement(je.Fragment,null,!["null","notnull"].includes(Sn(`${g.rule.operator}`))&&g.valueSources.length>1&&je.createElement(o,{key:Fr.valueSourceSelector,...F,testID:Fr.valueSourceSelector,field:g.rule.field,fieldData:g.fieldData,title:g.translations.valueSourceSelector.title,options:g.valueSourceOptions,value:g.rule.valueSource??"value",className:g.classNames.valueSource,handleOnChange:g.onChangeValueSource}),je.createElement(P,{key:Fr.valueEditor,...F,testID:Fr.valueEditor,field:g.rule.field,fieldData:g.fieldData,title:g.translations.value.title,operator:g.rule.operator,value:g.rule.value,valueSource:g.rule.valueSource??"value",type:g.valueEditorType,inputType:g.inputType,values:g.values,listsAsArrays:g.schema.listsAsArrays,parseNumbers:g.schema.parseNumbers,separator:g.valueEditorSeparator,className:g.classNames.value,handleOnChange:g.onChangeValue})))),g.subQuery&&je.createElement(j,{className:g.subQuery.classNames.header},je.createElement(G,g.subQuery)),g.schema.showCloneButtons&&je.createElement(N,{key:Fr.cloneRule,...F,testID:Fr.cloneRule,label:g.translations.cloneRule.label,title:g.translations.cloneRule.title,className:g.classNames.cloneRule,ruleOrGroup:g.rule,handleOnClick:g.cloneRule}),g.schema.showLockButtons&&je.createElement(z,{key:Fr.lockRule,...F,testID:Fr.lockRule,label:g.translations.lockRule.label,title:g.translations.lockRule.title,className:g.classNames.lockRule,ruleOrGroup:g.rule,handleOnClick:g.toggleLockRule,disabledTranslation:g.parentDisabled?void 0:g.translations.lockRuleDisabled}),g.schema.showMuteButtons&&je.createElement(C,{key:Fr.muteRule,...F,testID:Fr.muteRule,label:g.rule.muted?g.translations.unmuteRule.label:g.translations.muteRule.label,title:g.rule.muted?g.translations.unmuteRule.title:g.translations.muteRule.title,className:g.classNames.muteRule,ruleOrGroup:g.rule,handleOnClick:g.toggleMuteRule}),je.createElement(O,{key:Fr.removeRule,...F,testID:Fr.removeRule,label:g.translations.removeRule.label,title:g.translations.removeRule.title,className:g.classNames.removeRule,ruleOrGroup:g.rule,handleOnClick:g.removeRule}),g.subQuery&&je.createElement(j,{className:g.subQuery.classNames.body},je.createElement(U,g.subQuery)))}),sx=f=>je.createElement("div",f),lx=je.memo(function(g){const y=je.useMemo(()=>g.schema.createRuleGroup(),[g.schema]),T=Ig({...g.subQueryBuilderProps,enableDragAndDrop:!1,disabled:g.disabled,fields:g.subproperties.fields,enableMountQueryChange:!Qr(g.rule.value)||!g.rule.value.id,query:Qr(g.rule.value)?g.rule.value:y,onQueryChange:g.onChangeValue}),S=Ng({...T,ruleGroup:T.rootGroup,path:Hm,disabled:g.disabled,parentDisabled:T.queryDisabled,id:T.rootGroup.id,shiftUpDisabled:!0,shiftDownDisabled:!0}),A=ta(S.addRule),w=ta(S.addGroup),o=ta(S.cloneGroup),P=ta(S.toggleLockGroup),N=ta(S.removeGroup),z=ta(S.shiftGroupUp),C=ta(S.shiftGroupDown),O=je.useMemo(()=>({...S,addGroup:w,addRule:A,cloneGroup:o,removeGroup:N,shiftGroupDown:C,shiftGroupUp:z,toggleLockGroup:P}),[w,A,o,N,C,z,S,P]);return je.createElement(Dg,{...g,groupComponentsWrapper:g.groupComponentsWrapper??sx,subQuery:O})}),ux=f=>{const{id:g,path:y,rule:T,schema:{classNames:S,fields:A,fieldMap:w,getInputType:o,getMatchModes:P,getOperators:N,getSubQueryBuilderProps:z,getValueEditorType:C,getValueEditorSeparator:O,getValueSources:U,getValues:G,validationMap:j,enableDragAndDrop:F,getRuleClassname:q,suppressStandardClassnames:V},actions:{moveRule:H,onPropChange:X,onRuleRemove:fe},disabled:ae,parentDisabled:he,parentMuted:xe,shiftUpDisabled:ee,shiftDownDisabled:Pe,field:we,operator:Fe,value:et,valueSource:Ke,dropEffect:_t="move",groupItems:Ne=!1,dragMonitorId:Te="",dropMonitorId:lt="",dndRef:Ze=null,dragRef:Ct=null,isDragging:Ie=!1,isOver:rt=!1,dropNotAllowed:dt=!1}=f;qh();const $e=!!he||!!ae,ft=!!xe||!!T?.muted,mt=je.useMemo(()=>T??{id:g,field:we??"",operator:Fe??"",value:et,valueSource:Ke},[we,g,Fe,T,et,Ke]),me=je.useMemo(()=>({shiftActions:Rn(V||Or.shiftActions,S.shiftActions),dragHandle:Rn(V||Or.dragHandle,S.dragHandle),fields:Rn(V||Or.fields,S.valueSelector,S.fields),matchMode:Rn(V||Or.matchMode,S.valueSelector,S.matchMode),matchThreshold:Rn(V||Or.matchThreshold,S.valueSelector,S.matchThreshold),operators:Rn(V||Or.operators,S.valueSelector,S.operators),valueSource:Rn(V||Or.valueSource,S.valueSelector,S.valueSource),value:Rn(V||Or.value,S.value),cloneRule:Rn(V||Or.cloneRule,S.actionElement,S.cloneRule),lockRule:Rn(V||Or.lockRule,S.actionElement,S.lockRule),muteRule:Rn(V||Or.muteRule,S.actionElement,S.muteRule),removeRule:Rn(V||Or.removeRule,S.actionElement,S.removeRule),valueListItem:Rn(V||Or.valueListItem,S.valueListItem)}),[S.shiftActions,S.dragHandle,S.valueSelector,S.fields,S.matchMode,S.matchThreshold,S.operators,S.valueSource,S.value,S.actionElement,S.cloneRule,S.lockRule,S.muteRule,S.removeRule,S.valueListItem,V]),ue=je.useCallback(Qt=>(Xt,hr)=>{$e||X(Qt,Xt,y,hr)},[$e,X,y]),ut=je.useMemo(()=>ue("field"),[ue]),qe=je.useMemo(()=>ue("operator"),[ue]),Et=je.useMemo(()=>ue("match"),[ue]),At=je.useMemo(()=>ue("valueSource"),[ue]),Gt=je.useMemo(()=>ue("value"),[ue]),Jt=je.useCallback((Qt,Xt)=>{$e||H(y,[...ea(y),y.at(-1)+1],!0,Xt)},[$e,H,y]),Kt=je.useCallback((Qt,Xt)=>X("disabled",!$e,y,Xt),[$e,X,y]),cr=je.useCallback((Qt,Xt)=>X("muted",!mt.muted,y,Xt),[mt.muted,X,y]),tr=je.useCallback((Qt,Xt)=>{$e||fe(y)},[$e,fe,y]),ur=je.useCallback((Qt,Xt)=>{!$e&&!ee&&H(y,"up",Qt?.altKey,Xt)},[$e,H,y,ee]),Hr=je.useCallback((Qt,Xt)=>{!$e&&!Pe&&H(y,"down",Qt?.altKey,Xt)},[$e,H,y,Pe]),be=je.useMemo(()=>w?.[mt.field]??{name:mt.field,value:mt.field,label:mt.field},[w,mt.field]),te=je.useMemo(()=>be.inputType??o(mt.field,mt.operator,{fieldData:be}),[be,o,mt.field,mt.operator]),ie=je.useMemo(()=>P(mt.field,{fieldData:be}),[be,P,mt.field]),ke=je.useMemo(()=>N(mt.field,{fieldData:be}),[be,N,mt.field]),it=je.useMemo(()=>xi(ke,mt.operator),[ke,mt.operator]),It=it?.arity,Re=typeof It=="string"&&It==="unary"||typeof It=="number"&&It<2,le=je.useMemo(()=>{const Qt=U(mt.field,mt.operator,{fieldData:be});return mt.valueSource&&!xi(Qt,mt.valueSource)?[...Qt,{name:mt.valueSource,value:mt.valueSource,label:mt.valueSource}]:Qt},[be,U,mt.field,mt.operator,mt.valueSource]),de=je.useMemo(()=>le.map(({value:Qt})=>Qt),[le]),ge=je.useMemo(()=>mt.valueSource==="field"?"select":C(mt.field,mt.operator,{fieldData:be}),[be,C,mt.field,mt.operator,mt.valueSource]),Ue=je.useMemo(()=>O(mt.field,mt.operator,{fieldData:be}),[be,O,mt.field,mt.operator]),De=je.useMemo(()=>{const Qt=mt.valueSource==="field"?Km(be,A,mt.operator):G(mt.field,mt.operator,{fieldData:be});return I7(Qt)||i3(Qt)?n3(Qt):Qt},[be,A,G,mt.field,mt.operator,mt.valueSource]),ht=je.useMemo(()=>z(mt.field,{fieldData:be}),[be,z,mt.field]),ot=Pg({translations:f.translations,fields:be.subproperties??ht.fields??ax,autoSelectField:f.schema.autoSelectField||!!be.subproperties}),Ye=je.useMemo(()=>j[g??""]??(typeof be.validator=="function"?be.validator(mt):null),[be,g,mt,j]),st=je.useMemo(()=>fg(Ye),[Ye]),Me=be?.className??"",Oe=it?.className??"",Ot=ie.length>0,$t=je.useMemo(()=>Rn(q(mt,{fieldData:be}),Me,Oe,V||Or.rule,S.rule,$e&&S.disabled,ft&&S.muted,Ie&&S.dndDragging,rt&&S.dndOver,rt&&_t==="copy"&&S.dndCopy,rt&&Ne&&S.dndGroup,dt&&S.dndDropNotAllowed,Ot&&S.hasSubQuery,V||{[Or.disabled]:$e,[Or.muted]:ft,[Or.dndDragging]:Ie,[Or.dndOver]:rt,[Or.dndCopy]:rt&&_t==="copy",[Or.dndGroup]:rt&&Ne,[Or.dndDropNotAllowed]:dt,[Or.hasSubQuery]:Ot},st),[S.disabled,S.muted,S.dndCopy,S.dndDragging,S.dndGroup,S.dndOver,S.dndDropNotAllowed,S.hasSubQuery,S.rule,$e,_t,dt,ft,Me,be,q,Ne,Ot,Ie,rt,Oe,mt,V,st]);return{...f,classNames:me,cloneRule:Jt,disabled:$e,dndRef:Ze,dragMonitorId:Te,dragRef:Ct,dropMonitorId:lt,fieldData:be,generateOnChangeHandler:ue,onChangeField:ut,onChangeMatchMode:Et,onChangeOperator:qe,onChangeValueSource:At,onChangeValue:Gt,hideValueControls:Re,inputType:te,matchModes:ie,muted:ft,operators:ke,outerClassName:$t,removeRule:tr,rule:mt,shiftRuleUp:ur,shiftRuleDown:Hr,subproperties:ot,subQueryBuilderProps:ht,toggleLockRule:Kt,toggleMuteRule:cr,validationResult:Ye,valueEditorSeparator:Ue,valueEditorType:ge,values:De,valueSourceOptions:le,valueSources:de}},Gc={actionElement:ll,addGroupAction:ll,addRuleAction:ll,cloneGroupAction:ll,cloneRuleAction:ll,combinatorSelector:p6,dragHandle:gb,fieldSelector:p6,inlineCombinator:yb,lockGroupAction:ll,lockRuleAction:ll,matchModeEditor:vb,muteGroupAction:ll,muteRuleAction:ll,notToggle:xb,operatorSelector:p6,removeGroupAction:ll,removeRuleAction:ll,rule:ox,ruleGroup:qb,ruleGroupBodyElements:Qb,ruleGroupHeaderElements:$b,shiftActions:Hb,valueEditor:Xb,valueSelector:p6,valueSourceSelector:p6};Rg();const cx=f=>je.createElement(hb,{context:Mg,store:Rg()},f.children),hx=f=>je.createElement(cx,null,je.createElement(ex,{props:f}));function Vc(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _9={exports:{}},Sf;function dx(){return Sf||(Sf=1,(function(f,g){(function(y){f.exports=y()})(function(){return(function(){function y(T,S,A){function w(N,z){if(!S[N]){if(!T[N]){var C=typeof Vc=="function"&&Vc;if(!z&&C)return C(N,!0);if(o)return o(N,!0);var O=new Error("Cannot find module '"+N+"'");throw O.code="MODULE_NOT_FOUND",O}var U=S[N]={exports:{}};T[N][0].call(U.exports,function(G){var j=T[N][1][G];return w(j||G)},U,U.exports,y,T,S,A)}return S[N].exports}for(var o=typeof Vc=="function"&&Vc,P=0;P<A.length;P++)w(A[P]);return w}return y})()({1:[function(y,T,S){S.byteLength=O,S.toByteArray=G,S.fromByteArray=q;for(var A=[],w=[],o=typeof Uint8Array<"u"?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=0,z=P.length;N<z;++N)A[N]=P[N],w[P.charCodeAt(N)]=N;w[45]=62,w[95]=63;function C(V){var H=V.length;if(H%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=V.indexOf("=");X===-1&&(X=H);var fe=X===H?0:4-X%4;return[X,fe]}function O(V){var H=C(V),X=H[0],fe=H[1];return(X+fe)*3/4-fe}function U(V,H,X){return(H+X)*3/4-X}function G(V){var H,X=C(V),fe=X[0],ae=X[1],he=new o(U(V,fe,ae)),xe=0,ee=ae>0?fe-4:fe,Pe;for(Pe=0;Pe<ee;Pe+=4)H=w[V.charCodeAt(Pe)]<<18|w[V.charCodeAt(Pe+1)]<<12|w[V.charCodeAt(Pe+2)]<<6|w[V.charCodeAt(Pe+3)],he[xe++]=H>>16&255,he[xe++]=H>>8&255,he[xe++]=H&255;return ae===2&&(H=w[V.charCodeAt(Pe)]<<2|w[V.charCodeAt(Pe+1)]>>4,he[xe++]=H&255),ae===1&&(H=w[V.charCodeAt(Pe)]<<10|w[V.charCodeAt(Pe+1)]<<4|w[V.charCodeAt(Pe+2)]>>2,he[xe++]=H>>8&255,he[xe++]=H&255),he}function j(V){return A[V>>18&63]+A[V>>12&63]+A[V>>6&63]+A[V&63]}function F(V,H,X){for(var fe,ae=[],he=H;he<X;he+=3)fe=(V[he]<<16&16711680)+(V[he+1]<<8&65280)+(V[he+2]&255),ae.push(j(fe));return ae.join("")}function q(V){for(var H,X=V.length,fe=X%3,ae=[],he=16383,xe=0,ee=X-fe;xe<ee;xe+=he)ae.push(F(V,xe,xe+he>ee?ee:xe+he));return fe===1?(H=V[X-1],ae.push(A[H>>2]+A[H<<4&63]+"==")):fe===2&&(H=(V[X-2]<<8)+V[X-1],ae.push(A[H>>10]+A[H>>4&63]+A[H<<2&63]+"=")),ae.join("")}},{}],2:[function(y,T,S){(function(A){(function(){var w=y("base64-js"),o=y("ieee754");S.Buffer=C,S.SlowBuffer=fe,S.INSPECT_MAX_BYTES=50;var P=2147483647;S.kMaxLength=P,C.TYPED_ARRAY_SUPPORT=N(),!C.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{var be=new Uint8Array(1);return be.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},be.foo()===42}catch{return!1}}Object.defineProperty(C.prototype,"parent",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.buffer}}),Object.defineProperty(C.prototype,"offset",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.byteOffset}});function z(be){if(be>P)throw new RangeError('The value "'+be+'" is invalid for option "size"');var te=new Uint8Array(be);return te.__proto__=C.prototype,te}function C(be,te,ie){if(typeof be=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j(be)}return O(be,te,ie)}typeof Symbol<"u"&&Symbol.species!=null&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),C.poolSize=8192;function O(be,te,ie){if(typeof be=="string")return F(be,te);if(ArrayBuffer.isView(be))return q(be);if(be==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be);if(ur(be,ArrayBuffer)||be&&ur(be.buffer,ArrayBuffer))return V(be,te,ie);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ke=be.valueOf&&be.valueOf();if(ke!=null&&ke!==be)return C.from(ke,te,ie);var it=H(be);if(it)return it;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return C.from(be[Symbol.toPrimitive]("string"),te,ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be)}C.from=function(be,te,ie){return O(be,te,ie)},C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array;function U(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function G(be,te,ie){return U(be),be<=0?z(be):te!==void 0?typeof ie=="string"?z(be).fill(te,ie):z(be).fill(te):z(be)}C.alloc=function(be,te,ie){return G(be,te,ie)};function j(be){return U(be),z(be<0?0:X(be)|0)}C.allocUnsafe=function(be){return j(be)},C.allocUnsafeSlow=function(be){return j(be)};function F(be,te){if((typeof te!="string"||te==="")&&(te="utf8"),!C.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var ie=ae(be,te)|0,ke=z(ie),it=ke.write(be,te);return it!==ie&&(ke=ke.slice(0,it)),ke}function q(be){for(var te=be.length<0?0:X(be.length)|0,ie=z(te),ke=0;ke<te;ke+=1)ie[ke]=be[ke]&255;return ie}function V(be,te,ie){if(te<0||be.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<te+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var ke;return te===void 0&&ie===void 0?ke=new Uint8Array(be):ie===void 0?ke=new Uint8Array(be,te):ke=new Uint8Array(be,te,ie),ke.__proto__=C.prototype,ke}function H(be){if(C.isBuffer(be)){var te=X(be.length)|0,ie=z(te);return ie.length===0||be.copy(ie,0,0,te),ie}if(be.length!==void 0)return typeof be.length!="number"||Hr(be.length)?z(0):q(be);if(be.type==="Buffer"&&Array.isArray(be.data))return q(be.data)}function X(be){if(be>=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return be|0}function fe(be){return+be!=be&&(be=0),C.alloc(+be)}C.isBuffer=function(te){return te!=null&&te._isBuffer===!0&&te!==C.prototype},C.compare=function(te,ie){if(ur(te,Uint8Array)&&(te=C.from(te,te.offset,te.byteLength)),ur(ie,Uint8Array)&&(ie=C.from(ie,ie.offset,ie.byteLength)),!C.isBuffer(te)||!C.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===ie)return 0;for(var ke=te.length,it=ie.length,It=0,Re=Math.min(ke,it);It<Re;++It)if(te[It]!==ie[It]){ke=te[It],it=ie[It];break}return ke<it?-1:it<ke?1:0},C.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(te,ie){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(te.length===0)return C.alloc(0);var ke;if(ie===void 0)for(ie=0,ke=0;ke<te.length;++ke)ie+=te[ke].length;var it=C.allocUnsafe(ie),It=0;for(ke=0;ke<te.length;++ke){var Re=te[ke];if(ur(Re,Uint8Array)&&(Re=C.from(Re)),!C.isBuffer(Re))throw new TypeError('"list" argument must be an Array of Buffers');Re.copy(it,It),It+=Re.length}return it};function ae(be,te){if(C.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||ur(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof be);var ie=be.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&ie===0)return 0;for(var it=!1;;)switch(te){case"ascii":case"latin1":case"binary":return ie;case"utf8":case"utf-8":return Gt(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie*2;case"hex":return ie>>>1;case"base64":return cr(be).length;default:if(it)return ke?-1:Gt(be).length;te=(""+te).toLowerCase(),it=!0}}C.byteLength=ae;function he(be,te,ie){var ke=!1;if((te===void 0||te<0)&&(te=0),te>this.length||((ie===void 0||ie>this.length)&&(ie=this.length),ie<=0)||(ie>>>=0,te>>>=0,ie<=te))return"";for(be||(be="utf8");;)switch(be){case"hex":return dt(this,te,ie);case"utf8":case"utf-8":return lt(this,te,ie);case"ascii":return Ie(this,te,ie);case"latin1":case"binary":return rt(this,te,ie);case"base64":return Te(this,te,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,te,ie);default:if(ke)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),ke=!0}}C.prototype._isBuffer=!0;function xe(be,te,ie){var ke=be[te];be[te]=be[ie],be[ie]=ke}C.prototype.swap16=function(){var te=this.length;if(te%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<te;ie+=2)xe(this,ie,ie+1);return this},C.prototype.swap32=function(){var te=this.length;if(te%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<te;ie+=4)xe(this,ie,ie+3),xe(this,ie+1,ie+2);return this},C.prototype.swap64=function(){var te=this.length;if(te%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<te;ie+=8)xe(this,ie,ie+7),xe(this,ie+1,ie+6),xe(this,ie+2,ie+5),xe(this,ie+3,ie+4);return this},C.prototype.toString=function(){var te=this.length;return te===0?"":arguments.length===0?lt(this,0,te):he.apply(this,arguments)},C.prototype.toLocaleString=C.prototype.toString,C.prototype.equals=function(te){if(!C.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te?!0:C.compare(this,te)===0},C.prototype.inspect=function(){var te="",ie=S.INSPECT_MAX_BYTES;return te=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(te+=" ... "),"<Buffer "+te+">"},C.prototype.compare=function(te,ie,ke,it,It){if(ur(te,Uint8Array)&&(te=C.from(te,te.offset,te.byteLength)),!C.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(ie===void 0&&(ie=0),ke===void 0&&(ke=te?te.length:0),it===void 0&&(it=0),It===void 0&&(It=this.length),ie<0||ke>te.length||it<0||It>this.length)throw new RangeError("out of range index");if(it>=It&&ie>=ke)return 0;if(it>=It)return-1;if(ie>=ke)return 1;if(ie>>>=0,ke>>>=0,it>>>=0,It>>>=0,this===te)return 0;for(var Re=It-it,le=ke-ie,de=Math.min(Re,le),ge=this.slice(it,It),Ue=te.slice(ie,ke),De=0;De<de;++De)if(ge[De]!==Ue[De]){Re=ge[De],le=Ue[De];break}return Re<le?-1:le<Re?1:0};function ee(be,te,ie,ke,it){if(be.length===0)return-1;if(typeof ie=="string"?(ke=ie,ie=0):ie>2147483647?ie=2147483647:ie<-2147483648&&(ie=-2147483648),ie=+ie,Hr(ie)&&(ie=it?0:be.length-1),ie<0&&(ie=be.length+ie),ie>=be.length){if(it)return-1;ie=be.length-1}else if(ie<0)if(it)ie=0;else return-1;if(typeof te=="string"&&(te=C.from(te,ke)),C.isBuffer(te))return te.length===0?-1:Pe(be,te,ie,ke,it);if(typeof te=="number")return te=te&255,typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call(be,te,ie):Uint8Array.prototype.lastIndexOf.call(be,te,ie):Pe(be,[te],ie,ke,it);throw new TypeError("val must be string, number or Buffer")}function Pe(be,te,ie,ke,it){var It=1,Re=be.length,le=te.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(be.length<2||te.length<2)return-1;It=2,Re/=2,le/=2,ie/=2}function de(ot,Ye){return It===1?ot[Ye]:ot.readUInt16BE(Ye*It)}var ge;if(it){var Ue=-1;for(ge=ie;ge<Re;ge++)if(de(be,ge)===de(te,Ue===-1?0:ge-Ue)){if(Ue===-1&&(Ue=ge),ge-Ue+1===le)return Ue*It}else Ue!==-1&&(ge-=ge-Ue),Ue=-1}else for(ie+le>Re&&(ie=Re-le),ge=ie;ge>=0;ge--){for(var De=!0,ht=0;ht<le;ht++)if(de(be,ge+ht)!==de(te,ht)){De=!1;break}if(De)return ge}return-1}C.prototype.includes=function(te,ie,ke){return this.indexOf(te,ie,ke)!==-1},C.prototype.indexOf=function(te,ie,ke){return ee(this,te,ie,ke,!0)},C.prototype.lastIndexOf=function(te,ie,ke){return ee(this,te,ie,ke,!1)};function we(be,te,ie,ke){ie=Number(ie)||0;var it=be.length-ie;ke?(ke=Number(ke),ke>it&&(ke=it)):ke=it;var It=te.length;ke>It/2&&(ke=It/2);for(var Re=0;Re<ke;++Re){var le=parseInt(te.substr(Re*2,2),16);if(Hr(le))return Re;be[ie+Re]=le}return Re}function Fe(be,te,ie,ke){return tr(Gt(te,be.length-ie),be,ie,ke)}function et(be,te,ie,ke){return tr(Jt(te),be,ie,ke)}function Ke(be,te,ie,ke){return et(be,te,ie,ke)}function _t(be,te,ie,ke){return tr(cr(te),be,ie,ke)}function Ne(be,te,ie,ke){return tr(Kt(te,be.length-ie),be,ie,ke)}C.prototype.write=function(te,ie,ke,it){if(ie===void 0)it="utf8",ke=this.length,ie=0;else if(ke===void 0&&typeof ie=="string")it=ie,ke=this.length,ie=0;else if(isFinite(ie))ie=ie>>>0,isFinite(ke)?(ke=ke>>>0,it===void 0&&(it="utf8")):(it=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-ie;if((ke===void 0||ke>It)&&(ke=It),te.length>0&&(ke<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var Re=!1;;)switch(it){case"hex":return we(this,te,ie,ke);case"utf8":case"utf-8":return Fe(this,te,ie,ke);case"ascii":return et(this,te,ie,ke);case"latin1":case"binary":return Ke(this,te,ie,ke);case"base64":return _t(this,te,ie,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,te,ie,ke);default:if(Re)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),Re=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Te(be,te,ie){return te===0&&ie===be.length?w.fromByteArray(be):w.fromByteArray(be.slice(te,ie))}function lt(be,te,ie){ie=Math.min(be.length,ie);for(var ke=[],it=te;it<ie;){var It=be[it],Re=null,le=It>239?4:It>223?3:It>191?2:1;if(it+le<=ie){var de,ge,Ue,De;switch(le){case 1:It<128&&(Re=It);break;case 2:de=be[it+1],(de&192)===128&&(De=(It&31)<<6|de&63,De>127&&(Re=De));break;case 3:de=be[it+1],ge=be[it+2],(de&192)===128&&(ge&192)===128&&(De=(It&15)<<12|(de&63)<<6|ge&63,De>2047&&(De<55296||De>57343)&&(Re=De));break;case 4:de=be[it+1],ge=be[it+2],Ue=be[it+3],(de&192)===128&&(ge&192)===128&&(Ue&192)===128&&(De=(It&15)<<18|(de&63)<<12|(ge&63)<<6|Ue&63,De>65535&&De<1114112&&(Re=De))}}Re===null?(Re=65533,le=1):Re>65535&&(Re-=65536,ke.push(Re>>>10&1023|55296),Re=56320|Re&1023),ke.push(Re),it+=le}return Ct(ke)}var Ze=4096;function Ct(be){var te=be.length;if(te<=Ze)return String.fromCharCode.apply(String,be);for(var ie="",ke=0;ke<te;)ie+=String.fromCharCode.apply(String,be.slice(ke,ke+=Ze));return ie}function Ie(be,te,ie){var ke="";ie=Math.min(be.length,ie);for(var it=te;it<ie;++it)ke+=String.fromCharCode(be[it]&127);return ke}function rt(be,te,ie){var ke="";ie=Math.min(be.length,ie);for(var it=te;it<ie;++it)ke+=String.fromCharCode(be[it]);return ke}function dt(be,te,ie){var ke=be.length;(!te||te<0)&&(te=0),(!ie||ie<0||ie>ke)&&(ie=ke);for(var it="",It=te;It<ie;++It)it+=At(be[It]);return it}function $e(be,te,ie){for(var ke=be.slice(te,ie),it="",It=0;It<ke.length;It+=2)it+=String.fromCharCode(ke[It]+ke[It+1]*256);return it}C.prototype.slice=function(te,ie){var ke=this.length;te=~~te,ie=ie===void 0?ke:~~ie,te<0?(te+=ke,te<0&&(te=0)):te>ke&&(te=ke),ie<0?(ie+=ke,ie<0&&(ie=0)):ie>ke&&(ie=ke),ie<te&&(ie=te);var it=this.subarray(te,ie);return it.__proto__=C.prototype,it};function ft(be,te,ie){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+te>ie)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(te,ie,ke){te=te>>>0,ie=ie>>>0,ke||ft(te,ie,this.length);for(var it=this[te],It=1,Re=0;++Re<ie&&(It*=256);)it+=this[te+Re]*It;return it},C.prototype.readUIntBE=function(te,ie,ke){te=te>>>0,ie=ie>>>0,ke||ft(te,ie,this.length);for(var it=this[te+--ie],It=1;ie>0&&(It*=256);)it+=this[te+--ie]*It;return it},C.prototype.readUInt8=function(te,ie){return te=te>>>0,ie||ft(te,1,this.length),this[te]},C.prototype.readUInt16LE=function(te,ie){return te=te>>>0,ie||ft(te,2,this.length),this[te]|this[te+1]<<8},C.prototype.readUInt16BE=function(te,ie){return te=te>>>0,ie||ft(te,2,this.length),this[te]<<8|this[te+1]},C.prototype.readUInt32LE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+this[te+3]*16777216},C.prototype.readUInt32BE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),this[te]*16777216+(this[te+1]<<16|this[te+2]<<8|this[te+3])},C.prototype.readIntLE=function(te,ie,ke){te=te>>>0,ie=ie>>>0,ke||ft(te,ie,this.length);for(var it=this[te],It=1,Re=0;++Re<ie&&(It*=256);)it+=this[te+Re]*It;return It*=128,it>=It&&(it-=Math.pow(2,8*ie)),it},C.prototype.readIntBE=function(te,ie,ke){te=te>>>0,ie=ie>>>0,ke||ft(te,ie,this.length);for(var it=ie,It=1,Re=this[te+--it];it>0&&(It*=256);)Re+=this[te+--it]*It;return It*=128,Re>=It&&(Re-=Math.pow(2,8*ie)),Re},C.prototype.readInt8=function(te,ie){return te=te>>>0,ie||ft(te,1,this.length),this[te]&128?(255-this[te]+1)*-1:this[te]},C.prototype.readInt16LE=function(te,ie){te=te>>>0,ie||ft(te,2,this.length);var ke=this[te]|this[te+1]<<8;return ke&32768?ke|4294901760:ke},C.prototype.readInt16BE=function(te,ie){te=te>>>0,ie||ft(te,2,this.length);var ke=this[te+1]|this[te]<<8;return ke&32768?ke|4294901760:ke},C.prototype.readInt32LE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},C.prototype.readInt32BE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},C.prototype.readFloatLE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),o.read(this,te,!0,23,4)},C.prototype.readFloatBE=function(te,ie){return te=te>>>0,ie||ft(te,4,this.length),o.read(this,te,!1,23,4)},C.prototype.readDoubleLE=function(te,ie){return te=te>>>0,ie||ft(te,8,this.length),o.read(this,te,!0,52,8)},C.prototype.readDoubleBE=function(te,ie){return te=te>>>0,ie||ft(te,8,this.length),o.read(this,te,!1,52,8)};function mt(be,te,ie,ke,it,It){if(!C.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>it||te<It)throw new RangeError('"value" argument is out of bounds');if(ie+ke>be.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(te,ie,ke,it){if(te=+te,ie=ie>>>0,ke=ke>>>0,!it){var It=Math.pow(2,8*ke)-1;mt(this,te,ie,ke,It,0)}var Re=1,le=0;for(this[ie]=te&255;++le<ke&&(Re*=256);)this[ie+le]=te/Re&255;return ie+ke},C.prototype.writeUIntBE=function(te,ie,ke,it){if(te=+te,ie=ie>>>0,ke=ke>>>0,!it){var It=Math.pow(2,8*ke)-1;mt(this,te,ie,ke,It,0)}var Re=ke-1,le=1;for(this[ie+Re]=te&255;--Re>=0&&(le*=256);)this[ie+Re]=te/le&255;return ie+ke},C.prototype.writeUInt8=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,1,255,0),this[ie]=te&255,ie+1},C.prototype.writeUInt16LE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,2,65535,0),this[ie]=te&255,this[ie+1]=te>>>8,ie+2},C.prototype.writeUInt16BE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,2,65535,0),this[ie]=te>>>8,this[ie+1]=te&255,ie+2},C.prototype.writeUInt32LE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,4,4294967295,0),this[ie+3]=te>>>24,this[ie+2]=te>>>16,this[ie+1]=te>>>8,this[ie]=te&255,ie+4},C.prototype.writeUInt32BE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,4,4294967295,0),this[ie]=te>>>24,this[ie+1]=te>>>16,this[ie+2]=te>>>8,this[ie+3]=te&255,ie+4},C.prototype.writeIntLE=function(te,ie,ke,it){if(te=+te,ie=ie>>>0,!it){var It=Math.pow(2,8*ke-1);mt(this,te,ie,ke,It-1,-It)}var Re=0,le=1,de=0;for(this[ie]=te&255;++Re<ke&&(le*=256);)te<0&&de===0&&this[ie+Re-1]!==0&&(de=1),this[ie+Re]=(te/le>>0)-de&255;return ie+ke},C.prototype.writeIntBE=function(te,ie,ke,it){if(te=+te,ie=ie>>>0,!it){var It=Math.pow(2,8*ke-1);mt(this,te,ie,ke,It-1,-It)}var Re=ke-1,le=1,de=0;for(this[ie+Re]=te&255;--Re>=0&&(le*=256);)te<0&&de===0&&this[ie+Re+1]!==0&&(de=1),this[ie+Re]=(te/le>>0)-de&255;return ie+ke},C.prototype.writeInt8=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,1,127,-128),te<0&&(te=255+te+1),this[ie]=te&255,ie+1},C.prototype.writeInt16LE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,2,32767,-32768),this[ie]=te&255,this[ie+1]=te>>>8,ie+2},C.prototype.writeInt16BE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,2,32767,-32768),this[ie]=te>>>8,this[ie+1]=te&255,ie+2},C.prototype.writeInt32LE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,4,2147483647,-2147483648),this[ie]=te&255,this[ie+1]=te>>>8,this[ie+2]=te>>>16,this[ie+3]=te>>>24,ie+4},C.prototype.writeInt32BE=function(te,ie,ke){return te=+te,ie=ie>>>0,ke||mt(this,te,ie,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),this[ie]=te>>>24,this[ie+1]=te>>>16,this[ie+2]=te>>>8,this[ie+3]=te&255,ie+4};function me(be,te,ie,ke,it,It){if(ie+ke>be.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("Index out of range")}function ue(be,te,ie,ke,it){return te=+te,ie=ie>>>0,it||me(be,te,ie,4),o.write(be,te,ie,ke,23,4),ie+4}C.prototype.writeFloatLE=function(te,ie,ke){return ue(this,te,ie,!0,ke)},C.prototype.writeFloatBE=function(te,ie,ke){return ue(this,te,ie,!1,ke)};function ut(be,te,ie,ke,it){return te=+te,ie=ie>>>0,it||me(be,te,ie,8),o.write(be,te,ie,ke,52,8),ie+8}C.prototype.writeDoubleLE=function(te,ie,ke){return ut(this,te,ie,!0,ke)},C.prototype.writeDoubleBE=function(te,ie,ke){return ut(this,te,ie,!1,ke)},C.prototype.copy=function(te,ie,ke,it){if(!C.isBuffer(te))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!it&&it!==0&&(it=this.length),ie>=te.length&&(ie=te.length),ie||(ie=0),it>0&&it<ke&&(it=ke),it===ke||te.length===0||this.length===0)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),te.length-ie<it-ke&&(it=te.length-ie+ke);var It=it-ke;if(this===te&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(ie,ke,it);else if(this===te&&ke<ie&&ie<it)for(var Re=It-1;Re>=0;--Re)te[Re+ie]=this[Re+ke];else Uint8Array.prototype.set.call(te,this.subarray(ke,it),ie);return It},C.prototype.fill=function(te,ie,ke,it){if(typeof te=="string"){if(typeof ie=="string"?(it=ie,ie=0,ke=this.length):typeof ke=="string"&&(it=ke,ke=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!C.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(te.length===1){var It=te.charCodeAt(0);(it==="utf8"&&It<128||it==="latin1")&&(te=It)}}else typeof te=="number"&&(te=te&255);if(ie<0||this.length<ie||this.length<ke)throw new RangeError("Out of range index");if(ke<=ie)return this;ie=ie>>>0,ke=ke===void 0?this.length:ke>>>0,te||(te=0);var Re;if(typeof te=="number")for(Re=ie;Re<ke;++Re)this[Re]=te;else{var le=C.isBuffer(te)?te:C.from(te,it),de=le.length;if(de===0)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Re=0;Re<ke-ie;++Re)this[Re+ie]=le[Re%de]}return this};var qe=/[^+/0-9A-Za-z-_]/g;function Et(be){if(be=be.split("=")[0],be=be.trim().replace(qe,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function At(be){return be<16?"0"+be.toString(16):be.toString(16)}function Gt(be,te){te=te||1/0;for(var ie,ke=be.length,it=null,It=[],Re=0;Re<ke;++Re){if(ie=be.charCodeAt(Re),ie>55295&&ie<57344){if(!it){if(ie>56319){(te-=3)>-1&&It.push(239,191,189);continue}else if(Re+1===ke){(te-=3)>-1&&It.push(239,191,189);continue}it=ie;continue}if(ie<56320){(te-=3)>-1&&It.push(239,191,189),it=ie;continue}ie=(it-55296<<10|ie-56320)+65536}else it&&(te-=3)>-1&&It.push(239,191,189);if(it=null,ie<128){if((te-=1)<0)break;It.push(ie)}else if(ie<2048){if((te-=2)<0)break;It.push(ie>>6|192,ie&63|128)}else if(ie<65536){if((te-=3)<0)break;It.push(ie>>12|224,ie>>6&63|128,ie&63|128)}else if(ie<1114112){if((te-=4)<0)break;It.push(ie>>18|240,ie>>12&63|128,ie>>6&63|128,ie&63|128)}else throw new Error("Invalid code point")}return It}function Jt(be){for(var te=[],ie=0;ie<be.length;++ie)te.push(be.charCodeAt(ie)&255);return te}function Kt(be,te){for(var ie,ke,it,It=[],Re=0;Re<be.length&&!((te-=2)<0);++Re)ie=be.charCodeAt(Re),ke=ie>>8,it=ie%256,It.push(it),It.push(ke);return It}function cr(be){return w.toByteArray(Et(be))}function tr(be,te,ie,ke){for(var it=0;it<ke&&!(it+ie>=te.length||it>=be.length);++it)te[it+ie]=be[it];return it}function ur(be,te){return be instanceof te||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===te.name}function Hr(be){return be!==be}}).call(this)}).call(this,y("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:14}],3:[function(y,T,S){const A=y("./validator"),w=y("./xmlparser/XMLParser"),o=y("./xmlbuilder/json2xml");T.exports={XMLParser:w,XMLValidator:A,XMLBuilder:o}},{"./validator":5,"./xmlbuilder/json2xml":6,"./xmlparser/XMLParser":11}],4:[function(y,T,S){const A=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",w=A+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",o="["+A+"]["+w+"]*",P=new RegExp("^"+o+"$"),N=function(C,O){const U=[];let G=O.exec(C);for(;G;){const j=[];j.startIndex=O.lastIndex-G[0].length;const F=G.length;for(let q=0;q<F;q++)j.push(G[q]);U.push(j),G=O.exec(C)}return U},z=function(C){const O=P.exec(C);return!(O===null||typeof O>"u")};S.isExist=function(C){return typeof C<"u"},S.isEmptyObject=function(C){return Object.keys(C).length===0},S.merge=function(C,O,U){if(O){const G=Object.keys(O),j=G.length;for(let F=0;F<j;F++)U==="strict"?C[G[F]]=[O[G[F]]]:C[G[F]]=O[G[F]]}},S.getValue=function(C){return S.isExist(C)?C:""},S.isName=z,S.getAllMatches=N,S.nameRegexp=o},{}],5:[function(y,T,S){const A=y("./util"),w={allowBooleanAttributes:!1,unpairedTags:[]};S.validate=function(ae,he){he=Object.assign({},w,he);const xe=[];let ee=!1,Pe=!1;ae[0]==="\uFEFF"&&(ae=ae.substr(1));for(let we=0;we<ae.length;we++)if(ae[we]==="<"&&ae[we+1]==="?"){if(we+=2,we=P(ae,we),we.err)return we}else if(ae[we]==="<"){let Fe=we;if(we++,ae[we]==="!"){we=N(ae,we);continue}else{let et=!1;ae[we]==="/"&&(et=!0,we++);let Ke="";for(;we<ae.length&&ae[we]!==">"&&ae[we]!==" "&&ae[we]!=="	"&&ae[we]!==`
`&&ae[we]!=="\r";we++)Ke+=ae[we];if(Ke=Ke.trim(),Ke[Ke.length-1]==="/"&&(Ke=Ke.substring(0,Ke.length-1),we--),!H(Ke)){let Te;return Ke.trim().length===0?Te="Invalid space after '<'.":Te="Tag '"+Ke+"' is an invalid name.",q("InvalidTag",Te,X(ae,we))}const _t=O(ae,we);if(_t===!1)return q("InvalidAttr","Attributes for '"+Ke+"' have open quote.",X(ae,we));let Ne=_t.value;if(we=_t.index,Ne[Ne.length-1]==="/"){const Te=we-Ne.length;Ne=Ne.substring(0,Ne.length-1);const lt=G(Ne,he);if(lt===!0)ee=!0;else return q(lt.err.code,lt.err.msg,X(ae,Te+lt.err.line))}else if(et)if(_t.tagClosed){if(Ne.trim().length>0)return q("InvalidTag","Closing tag '"+Ke+"' can't have attributes or invalid starting.",X(ae,Fe));if(xe.length===0)return q("InvalidTag","Closing tag '"+Ke+"' has not been opened.",X(ae,Fe));{const Te=xe.pop();if(Ke!==Te.tagName){let lt=X(ae,Te.tagStartPos);return q("InvalidTag","Expected closing tag '"+Te.tagName+"' (opened in line "+lt.line+", col "+lt.col+") instead of closing tag '"+Ke+"'.",X(ae,Fe))}xe.length==0&&(Pe=!0)}}else return q("InvalidTag","Closing tag '"+Ke+"' doesn't have proper closing.",X(ae,we));else{const Te=G(Ne,he);if(Te!==!0)return q(Te.err.code,Te.err.msg,X(ae,we-Ne.length+Te.err.line));if(Pe===!0)return q("InvalidXml","Multiple possible root nodes found.",X(ae,we));he.unpairedTags.indexOf(Ke)!==-1||xe.push({tagName:Ke,tagStartPos:Fe}),ee=!0}for(we++;we<ae.length;we++)if(ae[we]==="<")if(ae[we+1]==="!"){we++,we=N(ae,we);continue}else if(ae[we+1]==="?"){if(we=P(ae,++we),we.err)return we}else break;else if(ae[we]==="&"){const Te=F(ae,we);if(Te==-1)return q("InvalidChar","char '&' is not expected.",X(ae,we));we=Te}else if(Pe===!0&&!o(ae[we]))return q("InvalidXml","Extra text at the end",X(ae,we));ae[we]==="<"&&we--}}else{if(o(ae[we]))continue;return q("InvalidChar","char '"+ae[we]+"' is not expected.",X(ae,we))}if(ee){if(xe.length==1)return q("InvalidTag","Unclosed tag '"+xe[0].tagName+"'.",X(ae,xe[0].tagStartPos));if(xe.length>0)return q("InvalidXml","Invalid '"+JSON.stringify(xe.map(we=>we.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return q("InvalidXml","Start tag expected.",1);return!0};function o(ae){return ae===" "||ae==="	"||ae===`
`||ae==="\r"}function P(ae,he){const xe=he;for(;he<ae.length;he++)if(ae[he]=="?"||ae[he]==" "){const ee=ae.substr(xe,he-xe);if(he>5&&ee==="xml")return q("InvalidXml","XML declaration allowed only at the start of the document.",X(ae,he));if(ae[he]=="?"&&ae[he+1]==">"){he++;break}else continue}return he}function N(ae,he){if(ae.length>he+5&&ae[he+1]==="-"&&ae[he+2]==="-"){for(he+=3;he<ae.length;he++)if(ae[he]==="-"&&ae[he+1]==="-"&&ae[he+2]===">"){he+=2;break}}else if(ae.length>he+8&&ae[he+1]==="D"&&ae[he+2]==="O"&&ae[he+3]==="C"&&ae[he+4]==="T"&&ae[he+5]==="Y"&&ae[he+6]==="P"&&ae[he+7]==="E"){let xe=1;for(he+=8;he<ae.length;he++)if(ae[he]==="<")xe++;else if(ae[he]===">"&&(xe--,xe===0))break}else if(ae.length>he+9&&ae[he+1]==="["&&ae[he+2]==="C"&&ae[he+3]==="D"&&ae[he+4]==="A"&&ae[he+5]==="T"&&ae[he+6]==="A"&&ae[he+7]==="["){for(he+=8;he<ae.length;he++)if(ae[he]==="]"&&ae[he+1]==="]"&&ae[he+2]===">"){he+=2;break}}return he}const z='"',C="'";function O(ae,he){let xe="",ee="",Pe=!1;for(;he<ae.length;he++){if(ae[he]===z||ae[he]===C)ee===""?ee=ae[he]:ee!==ae[he]||(ee="");else if(ae[he]===">"&&ee===""){Pe=!0;break}xe+=ae[he]}return ee!==""?!1:{value:xe,index:he,tagClosed:Pe}}const U=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function G(ae,he){const xe=A.getAllMatches(ae,U),ee={};for(let Pe=0;Pe<xe.length;Pe++){if(xe[Pe][1].length===0)return q("InvalidAttr","Attribute '"+xe[Pe][2]+"' has no space in starting.",fe(xe[Pe]));if(xe[Pe][3]!==void 0&&xe[Pe][4]===void 0)return q("InvalidAttr","Attribute '"+xe[Pe][2]+"' is without value.",fe(xe[Pe]));if(xe[Pe][3]===void 0&&!he.allowBooleanAttributes)return q("InvalidAttr","boolean attribute '"+xe[Pe][2]+"' is not allowed.",fe(xe[Pe]));const we=xe[Pe][2];if(!V(we))return q("InvalidAttr","Attribute '"+we+"' is an invalid name.",fe(xe[Pe]));if(!ee.hasOwnProperty(we))ee[we]=1;else return q("InvalidAttr","Attribute '"+we+"' is repeated.",fe(xe[Pe]))}return!0}function j(ae,he){let xe=/\d/;for(ae[he]==="x"&&(he++,xe=/[\da-fA-F]/);he<ae.length;he++){if(ae[he]===";")return he;if(!ae[he].match(xe))break}return-1}function F(ae,he){if(he++,ae[he]===";")return-1;if(ae[he]==="#")return he++,j(ae,he);let xe=0;for(;he<ae.length;he++,xe++)if(!(ae[he].match(/\w/)&&xe<20)){if(ae[he]===";")break;return-1}return he}function q(ae,he,xe){return{err:{code:ae,msg:he,line:xe.line||xe,col:xe.col}}}function V(ae){return A.isName(ae)}function H(ae){return A.isName(ae)}function X(ae,he){const xe=ae.substring(0,he).split(/\r?\n/);return{line:xe.length,col:xe[xe.length-1].length+1}}function fe(ae){return ae.startIndex+ae[1].length}},{"./util":4}],6:[function(y,T,S){const A=y("./orderedJs2Xml"),w={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(C,O){return O},attributeValueProcessor:function(C,O){return O},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(C){this.options=Object.assign({},w,C),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=z),this.processTextOrObjNode=P,this.options.format?(this.indentate=N,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}o.prototype.build=function(C){return this.options.preserveOrder?A(C,this.options):(Array.isArray(C)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(C={[this.options.arrayNodeName]:C}),this.j2x(C,0).val)},o.prototype.j2x=function(C,O){let U="",G="";for(let j in C)if(Object.prototype.hasOwnProperty.call(C,j))if(typeof C[j]>"u")this.isAttribute(j)&&(G+="");else if(C[j]===null)this.isAttribute(j)?G+="":j[0]==="?"?G+=this.indentate(O)+"<"+j+"?"+this.tagEndChar:G+=this.indentate(O)+"<"+j+"/"+this.tagEndChar;else if(C[j]instanceof Date)G+=this.buildTextValNode(C[j],j,"",O);else if(typeof C[j]!="object"){const F=this.isAttribute(j);if(F)U+=this.buildAttrPairStr(F,""+C[j]);else if(j===this.options.textNodeName){let q=this.options.tagValueProcessor(j,""+C[j]);G+=this.replaceEntitiesValue(q)}else G+=this.buildTextValNode(C[j],j,"",O)}else if(Array.isArray(C[j])){const F=C[j].length;let q="",V="";for(let H=0;H<F;H++){const X=C[j][H];if(!(typeof X>"u"))if(X===null)j[0]==="?"?G+=this.indentate(O)+"<"+j+"?"+this.tagEndChar:G+=this.indentate(O)+"<"+j+"/"+this.tagEndChar;else if(typeof X=="object")if(this.options.oneListGroup){const fe=this.j2x(X,O+1);q+=fe.val,this.options.attributesGroupName&&X.hasOwnProperty(this.options.attributesGroupName)&&(V+=fe.attrStr)}else q+=this.processTextOrObjNode(X,j,O);else if(this.options.oneListGroup){let fe=this.options.tagValueProcessor(j,X);fe=this.replaceEntitiesValue(fe),q+=fe}else q+=this.buildTextValNode(X,j,"",O)}this.options.oneListGroup&&(q=this.buildObjectNode(q,j,V,O)),G+=q}else if(this.options.attributesGroupName&&j===this.options.attributesGroupName){const F=Object.keys(C[j]),q=F.length;for(let V=0;V<q;V++)U+=this.buildAttrPairStr(F[V],""+C[j][F[V]])}else G+=this.processTextOrObjNode(C[j],j,O);return{attrStr:U,val:G}},o.prototype.buildAttrPairStr=function(C,O){return O=this.options.attributeValueProcessor(C,""+O),O=this.replaceEntitiesValue(O),this.options.suppressBooleanAttributes&&O==="true"?" "+C:" "+C+'="'+O+'"'};function P(C,O,U){const G=this.j2x(C,U+1);return C[this.options.textNodeName]!==void 0&&Object.keys(C).length===1?this.buildTextValNode(C[this.options.textNodeName],O,G.attrStr,U):this.buildObjectNode(G.val,O,G.attrStr,U)}o.prototype.buildObjectNode=function(C,O,U,G){if(C==="")return O[0]==="?"?this.indentate(G)+"<"+O+U+"?"+this.tagEndChar:this.indentate(G)+"<"+O+U+this.closeTag(O)+this.tagEndChar;{let j="</"+O+this.tagEndChar,F="";return O[0]==="?"&&(F="?",j=""),(U||U==="")&&C.indexOf("<")===-1?this.indentate(G)+"<"+O+U+F+">"+C+j:this.options.commentPropName!==!1&&O===this.options.commentPropName&&F.length===0?this.indentate(G)+`<!--${C}-->`+this.newLine:this.indentate(G)+"<"+O+U+F+this.tagEndChar+C+this.indentate(G)+j}},o.prototype.closeTag=function(C){let O="";return this.options.unpairedTags.indexOf(C)!==-1?this.options.suppressUnpairedNode||(O="/"):this.options.suppressEmptyNode?O="/":O=`></${C}`,O},o.prototype.buildTextValNode=function(C,O,U,G){if(this.options.cdataPropName!==!1&&O===this.options.cdataPropName)return this.indentate(G)+`<![CDATA[${C}]]>`+this.newLine;if(this.options.commentPropName!==!1&&O===this.options.commentPropName)return this.indentate(G)+`<!--${C}-->`+this.newLine;if(O[0]==="?")return this.indentate(G)+"<"+O+U+"?"+this.tagEndChar;{let j=this.options.tagValueProcessor(O,C);return j=this.replaceEntitiesValue(j),j===""?this.indentate(G)+"<"+O+U+this.closeTag(O)+this.tagEndChar:this.indentate(G)+"<"+O+U+">"+j+"</"+O+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(C){if(C&&C.length>0&&this.options.processEntities)for(let O=0;O<this.options.entities.length;O++){const U=this.options.entities[O];C=C.replace(U.regex,U.val)}return C};function N(C){return this.options.indentBy.repeat(C)}function z(C){return C.startsWith(this.options.attributeNamePrefix)&&C!==this.options.textNodeName?C.substr(this.attrPrefixLen):!1}T.exports=o},{"./orderedJs2Xml":7}],7:[function(y,T,S){function w(O,U){let G="";return U.format&&U.indentBy.length>0&&(G=`
`),o(O,U,"",G)}function o(O,U,G,j){let F="",q=!1;for(let V=0;V<O.length;V++){const H=O[V],X=P(H);if(X===void 0)continue;let fe="";if(G.length===0?fe=X:fe=`${G}.${X}`,X===U.textNodeName){let Pe=H[X];z(fe,U)||(Pe=U.tagValueProcessor(X,Pe),Pe=C(Pe,U)),q&&(F+=j),F+=Pe,q=!1;continue}else if(X===U.cdataPropName){q&&(F+=j),F+=`<![CDATA[${H[X][0][U.textNodeName]}]]>`,q=!1;continue}else if(X===U.commentPropName){F+=j+`<!--${H[X][0][U.textNodeName]}-->`,q=!0;continue}else if(X[0]==="?"){const Pe=N(H[":@"],U),we=X==="?xml"?"":j;let Fe=H[X][0][U.textNodeName];Fe=Fe.length!==0?" "+Fe:"",F+=we+`<${X}${Fe}${Pe}?>`,q=!0;continue}let ae=j;ae!==""&&(ae+=U.indentBy);const he=N(H[":@"],U),xe=j+`<${X}${he}`,ee=o(H[X],U,fe,ae);U.unpairedTags.indexOf(X)!==-1?U.suppressUnpairedNode?F+=xe+">":F+=xe+"/>":(!ee||ee.length===0)&&U.suppressEmptyNode?F+=xe+"/>":ee&&ee.endsWith(">")?F+=xe+`>${ee}${j}</${X}>`:(F+=xe+">",ee&&j!==""&&(ee.includes("/>")||ee.includes("</"))?F+=j+U.indentBy+ee+j:F+=ee,F+=`</${X}>`),q=!0}return F}function P(O){const U=Object.keys(O);for(let G=0;G<U.length;G++){const j=U[G];if(O.hasOwnProperty(j)&&j!==":@")return j}}function N(O,U){let G="";if(O&&!U.ignoreAttributes)for(let j in O){if(!O.hasOwnProperty(j))continue;let F=U.attributeValueProcessor(j,O[j]);F=C(F,U),F===!0&&U.suppressBooleanAttributes?G+=` ${j.substr(U.attributeNamePrefix.length)}`:G+=` ${j.substr(U.attributeNamePrefix.length)}="${F}"`}return G}function z(O,U){O=O.substr(0,O.length-U.textNodeName.length-1);let G=O.substr(O.lastIndexOf(".")+1);for(let j in U.stopNodes)if(U.stopNodes[j]===O||U.stopNodes[j]==="*."+G)return!0;return!1}function C(O,U){if(O&&O.length>0&&U.processEntities)for(let G=0;G<U.entities.length;G++){const j=U.entities[G];O=O.replace(j.regex,j.val)}return O}T.exports=w},{}],8:[function(y,T,S){const A=y("../util");function w(G,j){const F={};if(G[j+3]==="O"&&G[j+4]==="C"&&G[j+5]==="T"&&G[j+6]==="Y"&&G[j+7]==="P"&&G[j+8]==="E"){j=j+9;let q=1,V=!1,H=!1,X="";for(;j<G.length;j++)if(G[j]==="<"&&!H){if(V&&N(G,j))j+=7,[entityName,val,j]=o(G,j+1),val.indexOf("&")===-1&&(F[U(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(V&&z(G,j))j+=8;else if(V&&C(G,j))j+=8;else if(V&&O(G,j))j+=9;else if(P)H=!0;else throw new Error("Invalid DOCTYPE");q++,X=""}else if(G[j]===">"){if(H?G[j-1]==="-"&&G[j-2]==="-"&&(H=!1,q--):q--,q===0)break}else G[j]==="["?V=!0:X+=G[j];if(q!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:F,i:j}}function o(G,j){let F="";for(;j<G.length&&G[j]!=="'"&&G[j]!=='"';j++)F+=G[j];if(F=F.trim(),F.indexOf(" ")!==-1)throw new Error("External entites are not supported");const q=G[j++];let V="";for(;j<G.length&&G[j]!==q;j++)V+=G[j];return[F,V,j]}function P(G,j){return G[j+1]==="!"&&G[j+2]==="-"&&G[j+3]==="-"}function N(G,j){return G[j+1]==="!"&&G[j+2]==="E"&&G[j+3]==="N"&&G[j+4]==="T"&&G[j+5]==="I"&&G[j+6]==="T"&&G[j+7]==="Y"}function z(G,j){return G[j+1]==="!"&&G[j+2]==="E"&&G[j+3]==="L"&&G[j+4]==="E"&&G[j+5]==="M"&&G[j+6]==="E"&&G[j+7]==="N"&&G[j+8]==="T"}function C(G,j){return G[j+1]==="!"&&G[j+2]==="A"&&G[j+3]==="T"&&G[j+4]==="T"&&G[j+5]==="L"&&G[j+6]==="I"&&G[j+7]==="S"&&G[j+8]==="T"}function O(G,j){return G[j+1]==="!"&&G[j+2]==="N"&&G[j+3]==="O"&&G[j+4]==="T"&&G[j+5]==="A"&&G[j+6]==="T"&&G[j+7]==="I"&&G[j+8]==="O"&&G[j+9]==="N"}function U(G){if(A.isName(G))return G;throw new Error(`Invalid entity name ${G}`)}T.exports=w},{"../util":4}],9:[function(y,T,S){const A={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(o,P){return P},attributeValueProcessor:function(o,P){return P},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(o,P,N){return o}},w=function(o){return Object.assign({},A,o)};S.buildOptions=w,S.defaultOptions=A},{}],10:[function(y,T,S){const A=y("../util"),w=y("./xmlNode"),o=y("./DocTypeReader"),P=y("strnum");class N{constructor(Pe){this.options=Pe,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(we,Fe)=>String.fromCharCode(Number.parseInt(Fe,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(we,Fe)=>String.fromCharCode(Number.parseInt(Fe,16))}},this.addExternalEntities=z,this.parseXml=j,this.parseTextData=C,this.resolveNameSpace=O,this.buildAttributesMap=G,this.isItStopNode=H,this.replaceEntitiesValue=q,this.readStopNodeData=he,this.saveTextToParentTag=V,this.addChild=F}}function z(ee){const Pe=Object.keys(ee);for(let we=0;we<Pe.length;we++){const Fe=Pe[we];this.lastEntities[Fe]={regex:new RegExp("&"+Fe+";","g"),val:ee[Fe]}}}function C(ee,Pe,we,Fe,et,Ke,_t){if(ee!==void 0&&(this.options.trimValues&&!Fe&&(ee=ee.trim()),ee.length>0)){_t||(ee=this.replaceEntitiesValue(ee));const Ne=this.options.tagValueProcessor(Pe,ee,we,et,Ke);return Ne==null?ee:typeof Ne!=typeof ee||Ne!==ee?Ne:this.options.trimValues?xe(ee,this.options.parseTagValue,this.options.numberParseOptions):ee.trim()===ee?xe(ee,this.options.parseTagValue,this.options.numberParseOptions):ee}}function O(ee){if(this.options.removeNSPrefix){const Pe=ee.split(":"),we=ee.charAt(0)==="/"?"/":"";if(Pe[0]==="xmlns")return"";Pe.length===2&&(ee=we+Pe[1])}return ee}const U=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function G(ee,Pe,we){if(!this.options.ignoreAttributes&&typeof ee=="string"){const Fe=A.getAllMatches(ee,U),et=Fe.length,Ke={};for(let _t=0;_t<et;_t++){const Ne=this.resolveNameSpace(Fe[_t][1]);let Te=Fe[_t][4],lt=this.options.attributeNamePrefix+Ne;if(Ne.length)if(this.options.transformAttributeName&&(lt=this.options.transformAttributeName(lt)),lt==="__proto__"&&(lt="#__proto__"),Te!==void 0){this.options.trimValues&&(Te=Te.trim()),Te=this.replaceEntitiesValue(Te);const Ze=this.options.attributeValueProcessor(Ne,Te,Pe);Ze==null?Ke[lt]=Te:typeof Ze!=typeof Te||Ze!==Te?Ke[lt]=Ze:Ke[lt]=xe(Te,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(Ke[lt]=!0)}if(!Object.keys(Ke).length)return;if(this.options.attributesGroupName){const _t={};return _t[this.options.attributesGroupName]=Ke,_t}return Ke}}const j=function(ee){ee=ee.replace(/\r\n?/g,`
`);const Pe=new w("!xml");let we=Pe,Fe="",et="";for(let Ke=0;Ke<ee.length;Ke++)if(ee[Ke]==="<")if(ee[Ke+1]==="/"){const Ne=fe(ee,">",Ke,"Closing Tag is not closed.");let Te=ee.substring(Ke+2,Ne).trim();if(this.options.removeNSPrefix){const Ct=Te.indexOf(":");Ct!==-1&&(Te=Te.substr(Ct+1))}this.options.transformTagName&&(Te=this.options.transformTagName(Te)),we&&(Fe=this.saveTextToParentTag(Fe,we,et));const lt=et.substring(et.lastIndexOf(".")+1);if(Te&&this.options.unpairedTags.indexOf(Te)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${Te}>`);let Ze=0;lt&&this.options.unpairedTags.indexOf(lt)!==-1?(Ze=et.lastIndexOf(".",et.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Ze=et.lastIndexOf("."),et=et.substring(0,Ze),we=this.tagsNodeStack.pop(),Fe="",Ke=Ne}else if(ee[Ke+1]==="?"){let Ne=ae(ee,Ke,!1,"?>");if(!Ne)throw new Error("Pi Tag is not closed.");if(Fe=this.saveTextToParentTag(Fe,we,et),!(this.options.ignoreDeclaration&&Ne.tagName==="?xml"||this.options.ignorePiTags)){const Te=new w(Ne.tagName);Te.add(this.options.textNodeName,""),Ne.tagName!==Ne.tagExp&&Ne.attrExpPresent&&(Te[":@"]=this.buildAttributesMap(Ne.tagExp,et,Ne.tagName)),this.addChild(we,Te,et)}Ke=Ne.closeIndex+1}else if(ee.substr(Ke+1,3)==="!--"){const Ne=fe(ee,"-->",Ke+4,"Comment is not closed.");if(this.options.commentPropName){const Te=ee.substring(Ke+4,Ne-2);Fe=this.saveTextToParentTag(Fe,we,et),we.add(this.options.commentPropName,[{[this.options.textNodeName]:Te}])}Ke=Ne}else if(ee.substr(Ke+1,2)==="!D"){const Ne=o(ee,Ke);this.docTypeEntities=Ne.entities,Ke=Ne.i}else if(ee.substr(Ke+1,2)==="!["){const Ne=fe(ee,"]]>",Ke,"CDATA is not closed.")-2,Te=ee.substring(Ke+9,Ne);Fe=this.saveTextToParentTag(Fe,we,et);let lt=this.parseTextData(Te,we.tagname,et,!0,!1,!0,!0);lt==null&&(lt=""),this.options.cdataPropName?we.add(this.options.cdataPropName,[{[this.options.textNodeName]:Te}]):we.add(this.options.textNodeName,lt),Ke=Ne+2}else{let Ne=ae(ee,Ke,this.options.removeNSPrefix),Te=Ne.tagName;const lt=Ne.rawTagName;let Ze=Ne.tagExp,Ct=Ne.attrExpPresent,Ie=Ne.closeIndex;this.options.transformTagName&&(Te=this.options.transformTagName(Te)),we&&Fe&&we.tagname!=="!xml"&&(Fe=this.saveTextToParentTag(Fe,we,et,!1));const rt=we;if(rt&&this.options.unpairedTags.indexOf(rt.tagname)!==-1&&(we=this.tagsNodeStack.pop(),et=et.substring(0,et.lastIndexOf("."))),Te!==Pe.tagname&&(et+=et?"."+Te:Te),this.isItStopNode(this.options.stopNodes,et,Te)){let dt="";if(Ze.length>0&&Ze.lastIndexOf("/")===Ze.length-1)Te[Te.length-1]==="/"?(Te=Te.substr(0,Te.length-1),et=et.substr(0,et.length-1),Ze=Te):Ze=Ze.substr(0,Ze.length-1),Ke=Ne.closeIndex;else if(this.options.unpairedTags.indexOf(Te)!==-1)Ke=Ne.closeIndex;else{const ft=this.readStopNodeData(ee,lt,Ie+1);if(!ft)throw new Error(`Unexpected end of ${lt}`);Ke=ft.i,dt=ft.tagContent}const $e=new w(Te);Te!==Ze&&Ct&&($e[":@"]=this.buildAttributesMap(Ze,et,Te)),dt&&(dt=this.parseTextData(dt,Te,et,!0,Ct,!0,!0)),et=et.substr(0,et.lastIndexOf(".")),$e.add(this.options.textNodeName,dt),this.addChild(we,$e,et)}else{if(Ze.length>0&&Ze.lastIndexOf("/")===Ze.length-1){Te[Te.length-1]==="/"?(Te=Te.substr(0,Te.length-1),et=et.substr(0,et.length-1),Ze=Te):Ze=Ze.substr(0,Ze.length-1),this.options.transformTagName&&(Te=this.options.transformTagName(Te));const dt=new w(Te);Te!==Ze&&Ct&&(dt[":@"]=this.buildAttributesMap(Ze,et,Te)),this.addChild(we,dt,et),et=et.substr(0,et.lastIndexOf("."))}else{const dt=new w(Te);this.tagsNodeStack.push(we),Te!==Ze&&Ct&&(dt[":@"]=this.buildAttributesMap(Ze,et,Te)),this.addChild(we,dt,et),we=dt}Fe="",Ke=Ie}}else Fe+=ee[Ke];return Pe.child};function F(ee,Pe,we){const Fe=this.options.updateTag(Pe.tagname,we,Pe[":@"]);Fe===!1||(typeof Fe=="string"&&(Pe.tagname=Fe),ee.addChild(Pe))}const q=function(ee){if(this.options.processEntities){for(let Pe in this.docTypeEntities){const we=this.docTypeEntities[Pe];ee=ee.replace(we.regx,we.val)}for(let Pe in this.lastEntities){const we=this.lastEntities[Pe];ee=ee.replace(we.regex,we.val)}if(this.options.htmlEntities)for(let Pe in this.htmlEntities){const we=this.htmlEntities[Pe];ee=ee.replace(we.regex,we.val)}ee=ee.replace(this.ampEntity.regex,this.ampEntity.val)}return ee};function V(ee,Pe,we,Fe){return ee&&(Fe===void 0&&(Fe=Object.keys(Pe.child).length===0),ee=this.parseTextData(ee,Pe.tagname,we,!1,Pe[":@"]?Object.keys(Pe[":@"]).length!==0:!1,Fe),ee!==void 0&&ee!==""&&Pe.add(this.options.textNodeName,ee),ee=""),ee}function H(ee,Pe,we){const Fe="*."+we;for(const et in ee){const Ke=ee[et];if(Fe===Ke||Pe===Ke)return!0}return!1}function X(ee,Pe,we=">"){let Fe,et="";for(let Ke=Pe;Ke<ee.length;Ke++){let _t=ee[Ke];if(Fe)_t===Fe&&(Fe="");else if(_t==='"'||_t==="'")Fe=_t;else if(_t===we[0])if(we[1]){if(ee[Ke+1]===we[1])return{data:et,index:Ke}}else return{data:et,index:Ke};else _t==="	"&&(_t=" ");et+=_t}}function fe(ee,Pe,we,Fe){const et=ee.indexOf(Pe,we);if(et===-1)throw new Error(Fe);return et+Pe.length-1}function ae(ee,Pe,we,Fe=">"){const et=X(ee,Pe+1,Fe);if(!et)return;let Ke=et.data;const _t=et.index,Ne=Ke.search(/\s/);let Te=Ke,lt=!0;Ne!==-1&&(Te=Ke.substring(0,Ne),Ke=Ke.substring(Ne+1).trimStart());const Ze=Te;if(we){const Ct=Te.indexOf(":");Ct!==-1&&(Te=Te.substr(Ct+1),lt=Te!==et.data.substr(Ct+1))}return{tagName:Te,tagExp:Ke,closeIndex:_t,attrExpPresent:lt,rawTagName:Ze}}function he(ee,Pe,we){const Fe=we;let et=1;for(;we<ee.length;we++)if(ee[we]==="<")if(ee[we+1]==="/"){const Ke=fe(ee,">",we,`${Pe} is not closed`);if(ee.substring(we+2,Ke).trim()===Pe&&(et--,et===0))return{tagContent:ee.substring(Fe,we),i:Ke};we=Ke}else if(ee[we+1]==="?")we=fe(ee,"?>",we+1,"StopNode is not closed.");else if(ee.substr(we+1,3)==="!--")we=fe(ee,"-->",we+3,"StopNode is not closed.");else if(ee.substr(we+1,2)==="![")we=fe(ee,"]]>",we,"StopNode is not closed.")-2;else{const Ke=ae(ee,we,">");Ke&&((Ke&&Ke.tagName)===Pe&&Ke.tagExp[Ke.tagExp.length-1]!=="/"&&et++,we=Ke.closeIndex)}}function xe(ee,Pe,we){if(Pe&&typeof ee=="string"){const Fe=ee.trim();return Fe==="true"?!0:Fe==="false"?!1:P(ee,we)}else return A.isExist(ee)?ee:""}T.exports=N},{"../util":4,"./DocTypeReader":8,"./xmlNode":13,strnum:15}],11:[function(y,T,S){const{buildOptions:A}=y("./OptionsBuilder"),w=y("./OrderedObjParser"),{prettify:o}=y("./node2json"),P=y("../validator");class N{constructor(C){this.externalEntities={},this.options=A(C)}parse(C,O){if(typeof C!="string")if(C.toString)C=C.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(O){O===!0&&(O={});const j=P.validate(C,O);if(j!==!0)throw Error(`${j.err.msg}:${j.err.line}:${j.err.col}`)}const U=new w(this.options);U.addExternalEntities(this.externalEntities);const G=U.parseXml(C);return this.options.preserveOrder||G===void 0?G:o(G,this.options)}addEntity(C,O){if(O.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(C.indexOf("&")!==-1||C.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(O==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[C]=O}}T.exports=N},{"../validator":5,"./OptionsBuilder":9,"./OrderedObjParser":10,"./node2json":12}],12:[function(y,T,S){function A(z,C){return w(z,C)}function w(z,C,O){let U;const G={};for(let j=0;j<z.length;j++){const F=z[j],q=o(F);let V="";if(O===void 0?V=q:V=O+"."+q,q===C.textNodeName)U===void 0?U=F[q]:U+=""+F[q];else{if(q===void 0)continue;if(F[q]){let H=w(F[q],C,V);const X=N(H,C);F[":@"]?P(H,F[":@"],V,C):Object.keys(H).length===1&&H[C.textNodeName]!==void 0&&!C.alwaysCreateTextNode?H=H[C.textNodeName]:Object.keys(H).length===0&&(C.alwaysCreateTextNode?H[C.textNodeName]="":H=""),G[q]!==void 0&&G.hasOwnProperty(q)?(Array.isArray(G[q])||(G[q]=[G[q]]),G[q].push(H)):C.isArray(q,V,X)?G[q]=[H]:G[q]=H}}}return typeof U=="string"?U.length>0&&(G[C.textNodeName]=U):U!==void 0&&(G[C.textNodeName]=U),G}function o(z){const C=Object.keys(z);for(let O=0;O<C.length;O++){const U=C[O];if(U!==":@")return U}}function P(z,C,O,U){if(C){const G=Object.keys(C),j=G.length;for(let F=0;F<j;F++){const q=G[F];U.isArray(q,O+"."+q,!0,!0)?z[q]=[C[q]]:z[q]=C[q]}}}function N(z,C){const{textNodeName:O}=C,U=Object.keys(z).length;return!!(U===0||U===1&&(z[O]||typeof z[O]=="boolean"||z[O]===0))}S.prettify=A},{}],13:[function(y,T,S){class A{constructor(o){this.tagname=o,this.child=[],this[":@"]={}}add(o,P){o==="__proto__"&&(o="#__proto__"),this.child.push({[o]:P})}addChild(o){o.tagname==="__proto__"&&(o.tagname="#__proto__"),o[":@"]&&Object.keys(o[":@"]).length>0?this.child.push({[o.tagname]:o.child,":@":o[":@"]}):this.child.push({[o.tagname]:o.child})}}T.exports=A},{}],14:[function(y,T,S){S.read=function(A,w,o,P,N){var z,C,O=N*8-P-1,U=(1<<O)-1,G=U>>1,j=-7,F=o?N-1:0,q=o?-1:1,V=A[w+F];for(F+=q,z=V&(1<<-j)-1,V>>=-j,j+=O;j>0;z=z*256+A[w+F],F+=q,j-=8);for(C=z&(1<<-j)-1,z>>=-j,j+=P;j>0;C=C*256+A[w+F],F+=q,j-=8);if(z===0)z=1-G;else{if(z===U)return C?NaN:(V?-1:1)*(1/0);C=C+Math.pow(2,P),z=z-G}return(V?-1:1)*C*Math.pow(2,z-P)},S.write=function(A,w,o,P,N,z){var C,O,U,G=z*8-N-1,j=(1<<G)-1,F=j>>1,q=N===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=P?0:z-1,H=P?1:-1,X=w<0||w===0&&1/w<0?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(O=isNaN(w)?1:0,C=j):(C=Math.floor(Math.log(w)/Math.LN2),w*(U=Math.pow(2,-C))<1&&(C--,U*=2),C+F>=1?w+=q/U:w+=q*Math.pow(2,1-F),w*U>=2&&(C++,U/=2),C+F>=j?(O=0,C=j):C+F>=1?(O=(w*U-1)*Math.pow(2,N),C=C+F):(O=w*Math.pow(2,F-1)*Math.pow(2,N),C=0));N>=8;A[o+V]=O&255,V+=H,O/=256,N-=8);for(C=C<<N|O,G+=N;G>0;A[o+V]=C&255,V+=H,C/=256,G-=8);A[o+V-H]|=X*128}},{}],15:[function(y,T,S){const A=/^[-+]?0x[a-fA-F0-9]+$/,w=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const o={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function P(z,C={}){if(C=Object.assign({},o,C),!z||typeof z!="string")return z;let O=z.trim();if(C.skipLike!==void 0&&C.skipLike.test(O))return z;if(C.hex&&A.test(O))return Number.parseInt(O,16);{const U=w.exec(O);if(U){const G=U[1],j=U[2];let F=N(U[3]);const q=U[4]||U[6];if(!C.leadingZeros&&j.length>0&&G&&O[2]!==".")return z;if(!C.leadingZeros&&j.length>0&&!G&&O[1]!==".")return z;{const V=Number(O),H=""+V;return H.search(/[eE]/)!==-1||q?C.eNotation?V:z:O.indexOf(".")!==-1?H==="0"&&F===""||H===F||G&&H==="-"+F?V:z:j?F===H||G+F===H?V:z:O===H||O===G+H?V:z}}else return z}}function N(z){return z&&z.indexOf(".")!==-1&&(z=z.replace(/0+$/,""),z==="."?z="0":z[0]==="."?z="0"+z:z[z.length-1]==="."&&(z=z.substr(0,z.length-1))),z}T.exports=P},{}],16:[function(y,T,S){T.exports={name:"osm-api",version:"4.0.0",contributors:["Kyle Hensel (https://github.com/k-yle)"],description:" Javascript/Typescript wrapper around the OpenStreetMap API",main:"dist",unpkg:"dist/index.min.js",types:"dist/src/index.d.ts",license:"MIT",files:["dist"],keywords:["osm","openstreetmap","openstreetmap api"],repository:"https://github.com/osmlab/osm-api-js",scripts:{build:"rm -rf dist && tsc --emitDeclarationOnly && rm -rf dist/__tests__ && browserify -s OSM src/index.ts -p tsify > dist/index.js && uglifyjs dist/index.js > dist/index.min.js",lint:"eslint .",test:"vitest",trypublish:"npm publish --provenance || true"},engines:{node:">=18"},dependencies:{"@types/geojson":"^7946.0.13","fast-xml-parser":"^4.4.1"},devDependencies:{"@types/node":"^22.5.5",browserify:"^17.0.0",eslint:"^9.10.0","eslint-config-kyle":"^25.0.0-beta3",tsify:"^5.0.4",typescript:"^5.6.2","uglify-js":"^3.19.3",vitest:"^2.1.1"},prettier:{trailingComma:"es5"}}},{}],17:[function(y,T,S){(function(A){(function(){var w=this&&this.__awaiter||function(O,U,G,j){function F(q){return q instanceof G?q:new G(function(V){V(q)})}return new(G||(G=Promise))(function(q,V){function H(ae){try{fe(j.next(ae))}catch(he){V(he)}}function X(ae){try{fe(j.throw(ae))}catch(he){V(he)}}function fe(ae){ae.done?q(ae.value):F(ae.value).then(H,X)}fe((j=j.apply(O,U||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.osmFetch=C;const o=y("../auth"),P=y("../config"),N=y("./_xml"),z=O=>typeof btoa>"u"?A.from(O,"binary").toString("base64"):btoa(O);function C(O,U,G){return w(this,void 0,void 0,function*(){const{apiUrl:j,authHeader:F,basicAuth:q,userAgent:V}=(0,P.getConfig)(),H=q&&`Basic ${z(`${q.username}:${q.password}`)}`,X=(0,o.getAuthToken)()&&`Bearer ${(0,o.getAuthToken)()}`;let fe=new URLSearchParams(U).toString();fe&&(fe=`?${fe}`);const ae=yield fetch(`${j}/api${O}${fe}`,Object.assign(Object.assign({},G),{headers:Object.assign({Authorization:F||H||X||"","User-Agent":V},G?.headers)})),he=ae.headers.get("Content-Type");if(he?.startsWith("application/xml")){const ee=yield ae.text();return yield N.xmlParser.parse(ee)}if(he?.startsWith("application/json"))return ae.json();if(ae.ok)return yield ae.text();const xe=new Error(`OSM API: ${yield ae.text()}`);throw xe.cause=ae.status,xe})}}).call(this)}).call(this,y("buffer").Buffer)},{"../auth":58,"../config":60,"./_xml":18,buffer:2}],18:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.xmlParser=void 0;const A=y("fast-xml-parser");S.xmlParser=new A.XMLParser({ignoreAttributes:!1,attributesGroupName:"$",attributeNamePrefix:"",isArray:w=>w!=="$",attributeValueProcessor(w,o){return o.replaceAll(/&#(x9|9);/g,"	").replaceAll(/&#(xA|10);/g,`
`).replaceAll(/&#(xD|13);/g,"\r")}})},{"fast-xml-parser":3}],19:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.createChangesetMetaXml=o,S.createOsmChangeXml=N;const A=y("fast-xml-parser"),w=new A.XMLBuilder({ignoreAttributes:!1,attributeNamePrefix:"$",format:!0,suppressEmptyNode:!0,suppressBooleanAttributes:!1,entities:[{regex:/&/g,val:"&amp;"},{regex:/>/g,val:"&gt;"},{regex:/</g,val:"&lt;"},{regex:/'/g,val:"&apos;"},{regex:/"/g,val:"&quot;"},{regex:/\t/g,val:"&#9;"},{regex:/\n/g,val:"&#10;"},{regex:/\r/g,val:"&#13;"}]});function o(z){return w.build({osm:{changeset:{tag:Object.entries(z).map(([C,O])=>({$k:C,$v:O}))}}})}const P=(z,C,O)=>{const U=["node","way","relation"];return O==="delete"&&U.reverse(),C.reduce((G,j)=>{const F={$id:j.id,$version:O==="create"?0:j.version,$changeset:z,tag:Object.entries(j.tags||{}).map(([q,V])=>({$k:q,$v:V}))};switch(j.type){case"node":{const q=Object.assign(Object.assign({},F),{$lat:j.lat,$lon:j.lon});return Object.assign(Object.assign({},G),{node:[...G.node,q]})}case"way":{if(!j.nodes)throw new Error("Way has no nodes");const q=Object.assign(Object.assign({},F),{nd:j.nodes.map(V=>({$ref:V}))});return Object.assign(Object.assign({},G),{way:[...G.way,q]})}case"relation":{if(!j.members)throw new Error("Relation has no members");const q=Object.assign(Object.assign({},F),{member:j.members.map(V=>({$type:V.type,$ref:V.ref,$role:V.role}))});return Object.assign(Object.assign({},G),{relation:[...G.relation,q]})}default:return G}},Object.fromEntries(U.map(G=>[G,[]])))};function N(z,C,O){return w.build({osmChange:{$version:"0.6",$generator:"osm-api-js",changeset:O?{tag:Object.entries(O).map(([U,G])=>({$k:U,$v:G}))}:void 0,create:[P(z,C.create,"create")],modify:[P(z,C.modify,"modify")],delete:[Object.assign({"$if-unused":!0},P(z,C.delete,"delete"))]}})}},{"fast-xml-parser":3}],20:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.parseOsmChangeJson=N,S.parseOsmChangeXml=z;const A=y("../_xml");function w(C){if(C?.tag)return Object.fromEntries(C.tag.map(O=>[O.$.k,O.$.v]))}function o(C){return{changeset:+C.$.changeset,id:+C.$.id,timestamp:C.$.timestamp,uid:+C.$.uid,user:C.$.user,version:+C.$.version,tags:w(C)}}const P=C=>{const O=[];if(C.node){const U=C.node.map(G=>Object.assign(Object.assign({type:"node"},o(G)),{lat:+G.$.lat,lon:+G.$.lon}));O.push(...U)}if(C.way){const U=C.way.map(G=>{var j;return Object.assign(Object.assign({type:"way"},o(G)),{nodes:((j=G.nd)===null||j===void 0?void 0:j.map(F=>+F.$.ref))||[]})});O.push(...U)}if(C.relation){const U=C.relation.map(G=>{var j;return Object.assign(Object.assign({type:"relation"},o(G)),{members:((j=G.member)===null||j===void 0?void 0:j.map(F=>({ref:+F.$.ref,role:F.$.role,type:F.$.type})))||[]})});O.push(...U)}return O};function N(C){var O,U,G,j;const F=w((O=C.osmChange[0].changeset)===null||O===void 0?void 0:O[0]),q={create:((U=C.osmChange[0].create)===null||U===void 0?void 0:U.flatMap(P))||[],modify:((G=C.osmChange[0].modify)===null||G===void 0?void 0:G.flatMap(P))||[],delete:((j=C.osmChange[0].delete)===null||j===void 0?void 0:j.flatMap(P))||[]};return F&&(q.changeset=F),q}function z(C){const O=A.xmlParser.parse(C);return N(O)}},{"../_xml":18}],21:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.getOsmChangeSize=P,S.chunkOsmChange=N;const A=["create","modify","delete"],w=["create-node","create-way","create-relation","delete-relation","delete-way","delete-node","modify-node","modify-way","modify-relation"],o=()=>({create:[],modify:[],delete:[]});function P(z){return z.create.length+z.modify.length+z.delete.length}function N(z,C){var O;const U=(O=C?.api.changesets.maximum_elements)!==null&&O!==void 0?O:N.DEFAULT_LIMIT;if(P(z)<=U)return[z];const G={};for(const V of A)for(const H of z[V]){const X=`${V}-${H.type}`;G[X]||(G[X]=[]),G[X].push(H)}const j=[o()];function F(){var V;for(const H of w){const X=H.split("-")[0],fe=(V=G[H])===null||V===void 0?void 0:V.pop();if(fe)return{action:X,feature:fe}}}let q;for(;q=F();){const V=j[0];V[q.action].push(q.feature),P(V)>=U&&j.unshift(o())}return j.reverse()}N.DEFAULT_LIMIT=1e4},{}],22:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.createChangesetComment=o;const w=y("../_osmFetch");function o(P,N,z){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/changeset/${P}/comment.json`,void 0,Object.assign(Object.assign({},z),{method:"POST",body:`text=${encodeURIComponent(N)}`,headers:Object.assign(Object.assign({},z?.headers),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})}))).changeset})}},{"../_osmFetch":17}],23:[function(y,T,S){var A=this&&this.__awaiter||function(N,z,C,O){function U(G){return G instanceof C?G:new C(function(j){j(G)})}return new(C||(C=Promise))(function(G,j){function F(H){try{V(O.next(H))}catch(X){j(X)}}function q(H){try{V(O.throw(H))}catch(X){j(X)}}function V(H){H.done?G(H.value):U(H.value).then(F,q)}V((O=O.apply(N,z||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getChangesetDiff=P;const w=y("../_osmFetch"),o=y("./_parseOsmChangeXml");function P(N,z){return A(this,void 0,void 0,function*(){const C=yield(0,w.osmFetch)(`/0.6/changeset/${N}/download`,void 0,z);return(0,o.parseOsmChangeJson)(C)})}},{"../_osmFetch":17,"./_parseOsmChangeXml":20}],24:[function(y,T,S){var A=this&&this.__awaiter||function(z,C,O,U){function G(j){return j instanceof O?j:new O(function(F){F(j)})}return new(O||(O=Promise))(function(j,F){function q(X){try{H(U.next(X))}catch(fe){F(fe)}}function V(X){try{H(U.throw(X))}catch(fe){F(fe)}}function H(X){X.done?j(X.value):G(X.value).then(q,V)}H((U=U.apply(z,C||[])).next())})},w=this&&this.__rest||function(z,C){var O={};for(var U in z)Object.prototype.hasOwnProperty.call(z,U)&&C.indexOf(U)<0&&(O[U]=z[U]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,U=Object.getOwnPropertySymbols(z);G<U.length;G++)C.indexOf(U[G])<0&&Object.prototype.propertyIsEnumerable.call(z,U[G])&&(O[U[G]]=z[U[G]]);return O};Object.defineProperty(S,"__esModule",{value:!0}),S.listChangesets=P,S.getChangeset=N;const o=y("../_osmFetch");function P(z,C){return A(this,void 0,void 0,function*(){const{only:O}=z,U=w(z,["only"]);return(yield(0,o.osmFetch)("/0.6/changesets.json",Object.assign(Object.assign({},O&&{[O]:!0}),U),C)).changesets})}function N(z){return A(this,arguments,void 0,function*(C,O=!0,U){return(yield(0,o.osmFetch)(`/0.6/changeset/${C}.json`,O?{include_discussion:1}:{},U)).changeset})}},{"../_osmFetch":17}],25:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(N,z,C,O){O===void 0&&(O=C);var U=Object.getOwnPropertyDescriptor(z,C);(!U||("get"in U?!z.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return z[C]}}),Object.defineProperty(N,O,U)}):(function(N,z,C,O){O===void 0&&(O=C),N[O]=z[C]})),w=this&&this.__exportStar||function(N,z){for(var C in N)C!=="default"&&!Object.prototype.hasOwnProperty.call(z,C)&&A(z,N,C)};Object.defineProperty(S,"__esModule",{value:!0}),S.createOsmChangeXml=S.parseOsmChangeXml=void 0,w(y("./chunkOsmChange"),S),w(y("./createChangesetComment"),S),w(y("./getChangesetDiff"),S),w(y("./getChangesets"),S),w(y("./subscription"),S),w(y("./uploadChangeset"),S);var o=y("./_parseOsmChangeXml");Object.defineProperty(S,"parseOsmChangeXml",{enumerable:!0,get:function(){return o.parseOsmChangeXml}});var P=y("./_createOsmChangeXml");Object.defineProperty(S,"createOsmChangeXml",{enumerable:!0,get:function(){return P.createOsmChangeXml}})},{"./_createOsmChangeXml":19,"./_parseOsmChangeXml":20,"./chunkOsmChange":21,"./createChangesetComment":22,"./getChangesetDiff":23,"./getChangesets":24,"./subscription":26,"./uploadChangeset":27}],26:[function(y,T,S){var A=this&&this.__awaiter||function(N,z,C,O){function U(G){return G instanceof C?G:new C(function(j){j(G)})}return new(C||(C=Promise))(function(G,j){function F(H){try{V(O.next(H))}catch(X){j(X)}}function q(H){try{V(O.throw(H))}catch(X){j(X)}}function V(H){H.done?G(H.value):U(H.value).then(F,q)}V((O=O.apply(N,z||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.subscribeToChangeset=o,S.unsubscribeFromChangeset=P;const w=y("../_osmFetch");function o(N,z){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/changeset/${N}/subscribe`,{},Object.assign(Object.assign({},z),{method:"POST"}))})}function P(N,z){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/changeset/${N}/unsubscribe`,{},Object.assign(Object.assign({},z),{method:"POST"}))})}},{"../_osmFetch":17}],27:[function(y,T,S){var A=this&&this.__awaiter||function(U,G,j,F){function q(V){return V instanceof j?V:new j(function(H){H(V)})}return new(j||(j=Promise))(function(V,H){function X(he){try{ae(F.next(he))}catch(xe){H(xe)}}function fe(he){try{ae(F.throw(he))}catch(xe){H(xe)}}function ae(he){he.done?V(he.value):q(he.value).then(X,fe)}ae((F=F.apply(U,G||[])).next())})},w=this&&this.__rest||function(U,G){var j={};for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&G.indexOf(F)<0&&(j[F]=U[F]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,F=Object.getOwnPropertySymbols(U);q<F.length;q++)G.indexOf(F[q])<0&&Object.prototype.propertyIsEnumerable.call(U,F[q])&&(j[F[q]]=U[F[q]]);return j};Object.defineProperty(S,"__esModule",{value:!0}),S.compress=C,S.uploadChangeset=O;const o=y("../_osmFetch"),P=y("../../../package.json"),N=y("./_createOsmChangeXml"),z=y("./chunkOsmChange");function C(U){if(!globalThis.CompressionStream)return;const G=new Response(U).body.pipeThrough(new CompressionStream("gzip"));return new Response(G).blob()}function O(U,G,j){return A(this,void 0,void 0,function*(){var F;const q=j||{},{onChunk:V,onProgress:H,disableCompression:X}=q,fe=w(q,["onChunk","onProgress","disableCompression"]),ae=(0,z.chunkOsmChange)(G),he=(0,z.getOsmChangeSize)(G),xe={};for(const[ee,Pe]of ae.entries()){let we=U;ae.length>1&&(V?we=V({featureCount:he,changesetIndex:ee,changesetTotal:ae.length}):we.chunk=`${ee+1}/${ae.length}`),we.created_by||(we.created_by=`osm-api-js ${P.version}`),H?.({phase:"upload",step:ee+1,total:ae.length});const Fe=+(yield(0,o.osmFetch)("/0.6/changeset/create",void 0,Object.assign(Object.assign({},fe),{method:"PUT",body:(0,N.createChangesetMetaXml)(we),headers:Object.assign(Object.assign({},fe.headers),{"content-type":"application/xml; charset=utf-8"})}))),et=(0,N.createOsmChangeXml)(Fe,Pe),Ke=!X&&(yield C(et)),_t=yield(0,o.osmFetch)(`/0.6/changeset/${Fe}/upload`,void 0,Object.assign(Object.assign({},fe),{method:"POST",body:Ke||et,headers:Object.assign(Object.assign(Object.assign({},fe.headers),Ke&&{"Content-Encoding":"gzip"}),{"content-type":"application/xml; charset=utf-8"})}));xe[Fe]={diffResult:{}};for(const Ne in _t.diffResult[0]){if(Ne==="$")continue;const Te=Ne,lt=_t.diffResult[0][Te]||[];for(const Ze of lt)(F=xe[Fe].diffResult)[Te]||(F[Te]={}),xe[Fe].diffResult[Te][Ze.$.old_id]={newId:+Ze.$.new_id,newVersion:+Ze.$.new_version}}yield(0,o.osmFetch)(`/0.6/changeset/${Fe}/close`,void 0,Object.assign(Object.assign({},fe),{method:"PUT"}))}return xe})}},{"../../../package.json":16,"../_osmFetch":17,"./_createOsmChangeXml":19,"./chunkOsmChange":21}],28:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.createUserBlock=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/user_blocks.json",P,Object.assign(Object.assign({},N),{method:"POST"}))).user_block})}},{"../_osmFetch":17}],29:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getUserBlock=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user_blocks/${P}.json`,{},N)).user_block})}},{"../_osmFetch":17}],30:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.hideChangesetComment=o;const w=y("../_osmFetch");function o(P,N,z){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/changeset_comments/${P}/visibility.json`,{},Object.assign(Object.assign({},z),{method:N==="unhide"?"POST":"DELETE"}))).changeset})}},{"../_osmFetch":17}],31:[function(y,T,S){var A=this&&this.__awaiter||function(N,z,C,O){function U(G){return G instanceof C?G:new C(function(j){j(G)})}return new(C||(C=Promise))(function(G,j){function F(H){try{V(O.next(H))}catch(X){j(X)}}function q(H){try{V(O.throw(H))}catch(X){j(X)}}function V(H){H.done?G(H.value):U(H.value).then(F,q)}V((O=O.apply(N,z||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.hideNote=P;const w=y("../_osmFetch"),o=y("../notes");function P(N,z,C){return A(this,void 0,void 0,function*(){const O=yield(0,w.osmFetch)(`/0.6/notes/${N}.json`,z?{text:z}:{},Object.assign(Object.assign({},C),{method:"DELETE"}));return(0,o.featureToNote)(O)})}},{"../_osmFetch":17,"../notes":48}],32:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./createUserBlock"),S),w(y("./getUserBlock"),S),w(y("./hideChangesetComment"),S),w(y("./hideNote"),S),w(y("./redactFeature"),S)},{"./createUserBlock":28,"./getUserBlock":29,"./hideChangesetComment":30,"./hideNote":31,"./redactFeature":33}],33:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.redactFeature=o;const w=y("../_osmFetch");function o(P,N){return A(this,arguments,void 0,function*({featureType:z,featureId:C,featureVersion:O,redactionId:U},G){yield(0,w.osmFetch)(`/0.6/${z}/${C}/${O}/redact`,U?{redaction:U}:{},Object.assign(Object.assign({},G),{method:"POST"}))})}},{"../_osmFetch":17}],34:[function(y,T,S){var A=this&&this.__awaiter||function(N,z,C,O){function U(G){return G instanceof C?G:new C(function(j){j(G)})}return new(C||(C=Promise))(function(G,j){function F(H){try{V(O.next(H))}catch(X){j(X)}}function q(H){try{V(O.throw(H))}catch(X){j(X)}}function V(H){H.done?G(H.value):U(H.value).then(F,q)}V((O=O.apply(N,z||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getApiCapabilities=o,S.getCapabilities=P;const w=y("./_osmFetch");function o(N){return A(this,void 0,void 0,function*(){return(0,w.osmFetch)("/capabilities.json",void 0,N)})}function P(){return A(this,void 0,void 0,function*(){const N=yield o();return{limits:{maxArea:N.api.area.maximum,maxNoteArea:N.api.note_area.maximum,maxTracepointPerPage:N.api.tracepoints.per_page,maxWayNodes:N.api.waynodes.maximum,maxChangesetElements:N.api.changesets.maximum_elements,maxTimeout:N.api.timeout.seconds},policy:{imageryBlacklist:N.policy.imagery.blacklist.map(C=>C.regex)}}})}},{"./_osmFetch":17}],35:[function(y,T,S){var A=this&&this.__awaiter||function(U,G,j,F){function q(V){return V instanceof j?V:new j(function(H){H(V)})}return new(j||(j=Promise))(function(V,H){function X(he){try{ae(F.next(he))}catch(xe){H(xe)}}function fe(he){try{ae(F.throw(he))}catch(xe){H(xe)}}function ae(he){he.done?V(he.value):q(he.value).then(X,fe)}ae((F=F.apply(U,G||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getFeature=o,S.getFeatures=P,S.getFeatureAtVersion=N,S.getFeatureHistory=z,S.getWaysForNode=C,S.getRelationsForElement=O;const w=y("./_osmFetch");function o(U,G,j,F){return A(this,void 0,void 0,function*(){const q=j&&U!=="node"?"/full":"";return(yield(0,w.osmFetch)(`/0.6/${U}/${G}${q}.json`,void 0,F)).elements})}function P(U,G,j){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/${U}s.json?${U}s=${G.join(",")}`,void 0,j)).elements})}function N(U,G,j,F){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/${U}/${G}/${j}.json`,void 0,F)).elements[0]})}function z(U,G,j){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/${U}/${G}/history.json`,void 0,j)).elements})}function C(U,G){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/node/${U}/ways.json`,void 0,G)).elements})}function O(U,G,j){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/${U}/${G}/relations.json`,void 0,j)).elements})}},{"./_osmFetch":17}],36:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getMapData=o;const w=y("./_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/map.json",{bbox:P},N)).elements})}},{"./_osmFetch":17}],37:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getPermissions=o;const w=y("./_osmFetch");function o(P){return A(this,void 0,void 0,function*(){return(0,w.osmFetch)("/0.6/permissions.json",void 0,P)})}},{"./_osmFetch":17}],38:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getUIdFromDisplayName=o;const w=y("./changesets");function o(P){return A(this,void 0,void 0,function*(){const N=yield(0,w.listChangesets)({display_name:P});if(!N.length)throw new Error("Could not get uid because the user has never edited the map");return N[0].uid})}},{"./changesets":25}],39:[function(y,T,S){var A=this&&this.__awaiter||function(C,O,U,G){function j(F){return F instanceof U?F:new U(function(q){q(F)})}return new(U||(U=Promise))(function(F,q){function V(fe){try{X(G.next(fe))}catch(ae){q(ae)}}function H(fe){try{X(G.throw(fe))}catch(ae){q(ae)}}function X(fe){fe.done?F(fe.value):j(fe.value).then(V,H)}X((G=G.apply(C,O||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getUser=o,S.getUsers=P,S.getUserBlockById=N,S.getOwnUserBlocks=z;const w=y("./_osmFetch");function o(C,O){return A(this,void 0,void 0,function*(){const U=yield(0,w.osmFetch)(`/0.6/user/${C==="me"?"details":C}.json`,void 0,O);return Object.assign(Object.assign({},U.user),{account_created:new Date(U.user.account_created)})})}function P(C,O){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/users.json",{users:C},O)).users.map(({user:G})=>Object.assign(Object.assign({},G),{account_created:new Date(G.account_created)}))})}function N(C,O){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user_blocks/${C}.json`,void 0,O)).user_block})}function z(C){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/user/blocks/active",void 0,C)).user_blocks})}},{"./_osmFetch":17}],40:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./changesets"),S),w(y("./dwg"),S),w(y("./messages"),S),w(y("./notes"),S),w(y("./preferences"),S),w(y("./getCapabilities"),S),w(y("./getFeature"),S),w(y("./getMapData"),S),w(y("./getPermissions"),S),w(y("./getUIdFromDisplayName"),S),w(y("./getUser"),S)},{"./changesets":25,"./dwg":32,"./getCapabilities":34,"./getFeature":35,"./getMapData":36,"./getPermissions":37,"./getUIdFromDisplayName":38,"./getUser":39,"./messages":43,"./notes":48,"./preferences":53}],41:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.deleteMessage=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user/messages/${P}.json`,{},Object.assign(Object.assign({},N),{method:"DELETE"}))).message})}},{"../_osmFetch":17}],42:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getMessage=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user/messages/${P}.json`,void 0,N)).message})}},{"../_osmFetch":17}],43:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./deleteMessage"),S),w(y("./getMessage"),S),w(y("./listMessages"),S),w(y("./sendMessage"),S),w(y("./updateMessageReadStatus"),S)},{"./deleteMessage":41,"./getMessage":42,"./listMessages":44,"./sendMessage":45,"./updateMessageReadStatus":46}],44:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.listMessages=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user/messages/${P}.json`,void 0,N)).messages})}},{"../_osmFetch":17}],45:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.sendMessage=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/user/messages.json",P,Object.assign(Object.assign({},N),{method:"POST"}))).message})}},{"../_osmFetch":17}],46:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.updateMessageReadStatus=o;const w=y("../_osmFetch");function o(P,N,z){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/user/messages/${P}.json`,{read_status:N},Object.assign(Object.assign({},z),{method:"POST"}))).message})}},{"../_osmFetch":17}],47:[function(y,T,S){var A=this&&this.__awaiter||function(O,U,G,j){function F(q){return q instanceof G?q:new G(function(V){V(q)})}return new(G||(G=Promise))(function(q,V){function H(ae){try{fe(j.next(ae))}catch(he){V(he)}}function X(ae){try{fe(j.throw(ae))}catch(he){V(he)}}function fe(ae){ae.done?q(ae.value):F(ae.value).then(H,X)}fe((j=j.apply(O,U||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.featureToNote=void 0,S.getNotesForQuery=N,S.getNotesForArea=z,S.getNote=C;const w=y("../_osmFetch"),o=O=>{const[U,G]=O.geometry.coordinates;return Object.assign(Object.assign({},O.properties),{location:{lat:G,lng:U}})};S.featureToNote=o;function P(O,U,G){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)(`/0.6/notes${U?"/search":""}.json`,O,G)).features.map(S.featureToNote)})}function N(O,U){return P(O,!0,U)}function z(O,U){return P({bbox:O},!1,U)}function C(O,U){return A(this,void 0,void 0,function*(){const G=yield(0,w.osmFetch)(`/0.6/notes/${O}.json`,void 0,U);return(0,S.featureToNote)(G)})}},{"../_osmFetch":17}],48:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./getNotes"),S),w(y("./noteActions"),S),w(y("./subscription"),S)},{"./getNotes":47,"./noteActions":49,"./subscription":50}],49:[function(y,T,S){var A=this&&this.__awaiter||function(O,U,G,j){function F(q){return q instanceof G?q:new G(function(V){V(q)})}return new(G||(G=Promise))(function(q,V){function H(ae){try{fe(j.next(ae))}catch(he){V(he)}}function X(ae){try{fe(j.throw(ae))}catch(he){V(he)}}function fe(ae){ae.done?q(ae.value):F(ae.value).then(H,X)}fe((j=j.apply(O,U||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.createNote=P,S.commentOnNote=N,S.closeNote=z,S.reopenNote=C;const w=y("../_osmFetch"),o=y("./getNotes");function P(O,U,G,j){return A(this,void 0,void 0,function*(){const F=yield(0,w.osmFetch)("/0.6/notes.json",{lat:O,lon:U,text:G},Object.assign(Object.assign({},j),{method:"POST"}));return(0,o.featureToNote)(F)})}function N(O,U,G){return A(this,void 0,void 0,function*(){const j=yield(0,w.osmFetch)(`/0.6/notes/${O}/comment.json`,U?{text:U}:{},Object.assign(Object.assign({},G),{method:"POST"}));return(0,o.featureToNote)(j)})}function z(O,U,G){return A(this,void 0,void 0,function*(){const j=yield(0,w.osmFetch)(`/0.6/notes/${O}/close.json`,U?{text:U}:{},Object.assign(Object.assign({},G),{method:"POST"}));return(0,o.featureToNote)(j)})}function C(O,U,G){return A(this,void 0,void 0,function*(){const j=yield(0,w.osmFetch)(`/0.6/notes/${O}/reopen.json`,U?{text:U}:{},Object.assign(Object.assign({},G),{method:"POST"}));return(0,o.featureToNote)(j)})}},{"../_osmFetch":17,"./getNotes":47}],50:[function(y,T,S){var A=this&&this.__awaiter||function(N,z,C,O){function U(G){return G instanceof C?G:new C(function(j){j(G)})}return new(C||(C=Promise))(function(G,j){function F(H){try{V(O.next(H))}catch(X){j(X)}}function q(H){try{V(O.throw(H))}catch(X){j(X)}}function V(H){H.done?G(H.value):U(H.value).then(F,q)}V((O=O.apply(N,z||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.subscribeToNote=o,S.unsubscribeFromNote=P;const w=y("../_osmFetch");function o(N,z){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/notes/${N}/subscription`,{},Object.assign(Object.assign({},z),{method:"POST"}))})}function P(N,z){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/notes/${N}/subscription`,{},Object.assign(Object.assign({},z),{method:"DELETE"}))})}},{"../_osmFetch":17}],51:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.deletePreferences=o;const w=y("../_osmFetch");function o(P,N){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/user/preferences/${P}.json`,{},Object.assign(Object.assign({},N),{method:"DELETE"}))})}},{"../_osmFetch":17}],52:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.getPreferences=o;const w=y("../_osmFetch");function o(P){return A(this,void 0,void 0,function*(){return(yield(0,w.osmFetch)("/0.6/user/preferences.json",void 0,P)).preferences})}},{"../_osmFetch":17}],53:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./deletePreferences"),S),w(y("./getPreferences"),S),w(y("./updatePreferences"),S)},{"./deletePreferences":51,"./getPreferences":52,"./updatePreferences":54}],54:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.updatePreferences=o;const w=y("../_osmFetch");function o(P,N,z){return A(this,void 0,void 0,function*(){yield(0,w.osmFetch)(`/0.6/user/preferences/${P}.json`,{},Object.assign(Object.assign({},z),{method:"PUT",body:N}))})}},{"../_osmFetch":17}],55:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.createPopup=w;const A="osm-api-auth-complete";function w(o){let P=!1;return new Promise(N=>{const[z,C]=[600,550],O=Object.entries({width:z,height:C,left:window.screen.width/2-z/2,top:window.screen.height/2-C/2}).map(([F,q])=>`${F}=${q}`).join(","),U=window.open("about:blank","oauth_window",O);if(!U)throw new Error("Popup was blocked");U.location=o;const G=new BroadcastChannel(A),j=F=>{P||(N(F.data),P=!0,G.removeEventListener("message",j),G.close())};G.addEventListener("message",j)})}},{}],56:[function(y,T,S){var A=this&&this.__awaiter||function(P,N,z,C){function O(U){return U instanceof z?U:new z(function(G){G(U)})}return new(z||(z=Promise))(function(U,G){function j(V){try{q(C.next(V))}catch(H){G(H)}}function F(V){try{q(C.throw(V))}catch(H){G(H)}}function q(V){V.done?U(V.value):O(V.value).then(j,F)}q((C=C.apply(P,N||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.exchangeCode=o;const w=y("./helpers");function o(P,N){return A(this,arguments,void 0,function*(z,{options:C,pkceVerifier:O,state:U}){const G=new URL(z).searchParams,j=G.get("error_description"),F=G.get("code"),q=G.get("state");if(j)throw new Error(j);if(!F)throw new Error("No code in OAuth response");if(!O||!U)throw new Error("No login in progress");if(U!==q)throw new Error("State Mismatch");const V={grant_type:"authorization_code",code:F,redirect_uri:C.redirectUrl,client_id:C.clientId,code_verifier:O},H=`${(0,w.getOAuthBaseUrl)()}/oauth2/token?${new URLSearchParams(V).toString()}`,fe=yield(yield fetch(H,{method:"POST",body:"",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).json();if("error_description"in fe)throw new Error(fe.error_description);const ae={issuedAt:new Date(fe.created_at*1e3).toISOString(),accessToken:fe.access_token,scopes:fe.scope.split(" ")};return localStorage.setItem("__osmAuth",JSON.stringify(ae)),ae})}},{"./helpers":57}],57:[function(y,T,S){var A=this&&this.__awaiter||function(z,C,O,U){function G(j){return j instanceof O?j:new O(function(F){F(j)})}return new(O||(O=Promise))(function(j,F){function q(X){try{H(U.next(X))}catch(fe){F(fe)}}function V(X){try{H(U.throw(X))}catch(fe){F(fe)}}function H(X){X.done?j(X.value):G(X.value).then(q,V)}H((U=U.apply(z,C||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.sha256=o,S.getRandomString=P,S.getOAuthBaseUrl=N;const w=y("../config");function o(z){return A(this,void 0,void 0,function*(){const C=new TextEncoder().encode(z),O=yield window.crypto.subtle.digest("SHA-256",C);return btoa(String.fromCharCode(...new Uint8Array(O))).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")})}function P(){return[...window.crypto.getRandomValues(new Uint32Array(32))].map(z=>`0${z.toString(16)}`.slice(-2)).join("")}function N(){let z=(0,w.getConfig)().apiUrl;return z==="https://api.openstreetmap.org"&&(z="https://www.openstreetmap.org"),z}},{"../config":60}],58:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./oauth2"),S)},{"./oauth2":59}],59:[function(y,T,S){var A=this&&this.__awaiter||function(U,G,j,F){function q(V){return V instanceof j?V:new j(function(H){H(V)})}return new(j||(j=Promise))(function(V,H){function X(he){try{ae(F.next(he))}catch(xe){H(xe)}}function fe(he){try{ae(F.throw(he))}catch(xe){H(xe)}}function ae(he){he.done?V(he.value):q(he.value).then(X,fe)}ae((F=F.apply(U,G||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0}),S.isLoggedIn=S.getAuthToken=S.authReady=void 0,S.login=N,S.logout=O;const w=y("./createPopup"),o=y("./exchangeCode"),P=y("./helpers");function N(U){return A(this,void 0,void 0,function*(){if(!U.redirectUrl)throw new Error("You must include the 'redirectUrl' option");if(!U.clientId)throw new Error("You must include the 'clientId' option");if(!U.scopes)throw new Error("You must include the 'scopes' option");const G=(0,P.getRandomString)(),j=(0,P.getRandomString)(),F=yield(0,P.sha256)(j),q={scope:U.scopes.join(" "),include_granted_scopes:"true",response_type:"code",state:G,redirect_uri:U.redirectUrl,client_id:U.clientId,code_challenge_method:"S256",code_challenge:F},V=`/oauth2/authorize?${new URLSearchParams(q).toString()}`,H=U.switchUser?`/logout?referer=${encodeURIComponent(`/login?referer=${encodeURIComponent(V)}`)}`:V,X=(0,P.getOAuthBaseUrl)()+H,fe={state:G,pkceVerifier:j,options:U};if(U.mode==="popup"){const ae=yield(0,w.createPopup)(X);return(0,o.exchangeCode)(ae,fe)}if(U.mode==="redirect"){localStorage.setItem("__osmAuthTemp",JSON.stringify(fe)),window.location.replace(X);return}throw new Error("options.mode must be 'popup' or 'redirect'")})}S.authReady=A(void 0,void 0,void 0,function*(){if(typeof window>"u")return;const U=window.location.href,G=localStorage.getItem("__osmAuthTemp");if(new URL(U).searchParams.get("code")&&G)try{const j=JSON.parse(G);yield(0,o.exchangeCode)(U,j),localStorage.removeItem("__osmAuthTemp")}catch(j){console.error("OSM Auth Error",j)}});const z=()=>{try{const U=localStorage.getItem("__osmAuth");return U?JSON.parse(U).accessToken:void 0}catch{return}};S.getAuthToken=z;const C=()=>!!(0,S.getAuthToken)();S.isLoggedIn=C;function O(){localStorage.removeItem("__osmAuth")}},{"./createPopup":55,"./exchangeCode":56,"./helpers":57}],60:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.getConfig=void 0,S.configure=o;const A={apiUrl:"https://api.openstreetmap.org",userAgent:"https://github.com/osmlab/osm-api-js"},w=()=>A;S.getConfig=w;function o(P){Object.assign(A,P)}},{}],61:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./api"),S),w(y("./auth"),S),w(y("./config"),S),w(y("./types"),S)},{"./api":40,"./auth":58,"./config":60,"./types":65}],62:[function(y,T,S){Object.defineProperty(S,"__esModule",{value:!0})},{}],63:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}],64:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}],65:[function(y,T,S){var A=this&&this.__createBinding||(Object.create?(function(o,P,N,z){z===void 0&&(z=N);var C=Object.getOwnPropertyDescriptor(P,N);(!C||("get"in C?!P.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(o,z,C)}):(function(o,P,N,z){z===void 0&&(z=N),o[z]=P[N]})),w=this&&this.__exportStar||function(o,P){for(var N in o)N!=="default"&&!Object.prototype.hasOwnProperty.call(P,N)&&A(P,o,N)};Object.defineProperty(S,"__esModule",{value:!0}),w(y("./changesets"),S),w(y("./features"),S),w(y("./general"),S),w(y("./messages"),S),w(y("./notes"),S),w(y("./osmPatch"),S),w(y("./user"),S)},{"./changesets":62,"./features":63,"./general":64,"./messages":66,"./notes":67,"./osmPatch":68,"./user":69}],66:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}],67:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}],68:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}],69:[function(y,T,S){arguments[4][62][0].apply(S,arguments)},{dup:62}]},{},[61])(61)})})(_9)),_9.exports}var Og=dx();async function*Fg(f,g,y,T){const A=await Og.listChangesets({...y,time:[f.toISOString(),g.toISOString()],limit:100},{signal:T.signal});if(!T.signal.aborted&&(yield A,A.length===100)){const[w]=A.flatMap(o=>o.closed_at?[new Date(o.created_at),new Date(o.closed_at)]:[new Date(o.created_at)]).toSorted();yield*Fg(f,w,y,T)}}function Qh(f){return new Promise((g,y)=>{f.oncomplete=f.onsuccess=()=>g(f.result),f.onabort=f.onerror=()=>y(f.error)})}function fx(f,g){let y;const T=()=>{if(y)return y;const S=indexedDB.open(f);return S.onupgradeneeded=()=>S.result.createObjectStore(g),y=Qh(S),y.then(A=>{A.onclose=()=>y=void 0},()=>{}),y};return(S,A)=>T().then(w=>A(w.transaction(g,S).objectStore(g)))}let v9;function kg(){return v9||(v9=fx("keyval-store","keyval")),v9}function px(f,g=kg()){return g("readonly",y=>Qh(y.get(f)))}function mx(f,g,y=kg()){return y("readwrite",T=>(T.put(g,f),Qh(T.transaction)))}const gx=(f,g)=>[...new Map(g.map(y=>[y[f],y])).values()];function*yx(f,g){for(let y=0;y<f.length;y+=g)yield f.slice(y,y+g)}const Tf="osmUserCache";async function _x(f){const g=await px(Tf)||{},y=new Set(Object.keys(g).map(Number)),T=new Set(f).difference(y);if(T.size){for(const S of yx([...T],100)){const A=await Og.getUsers(S);for(const w of A)g[w.id]=w}await mx(Tf,g)}return g}function vx(f){const[g,y]=je.useState({});return je.useEffect(()=>{f&&_x(f.map(T=>T.uid)).then(y).catch(console.error)},[f]),g}const zg=new Map([["year",31536e6],["month",2592e6],["day",864e5],["hour",36e5],["minute",6e4],["second",1e3]]);function bx(f,g,y){var T=Date.now()-+f;if(y||!(T<0)){for(var[S,A]of zg.entries())if(A=Math[g](Math.abs(T)/A),1<=A)return[A*Math.sign(T),S]}return[0,"second"]}const xx=je.createContext(void 0),Wu=je.memo(je.forwardRef((f,g)=>{const y=je.useRef(0),{date:T,locale:S=navigator.languages,formatOptions:A,allowFuture:w=!1,hideSeconds:o=!0,hideSecondsText:[P,N]=[],roundStrategy:z="round",timeElement:C=!0}=(y.current++,je.useImperativeHandle(g,()=>({renderCount:y}),[]),{...je.useContext(xx),...f}),O=je.useMemo(()=>new Intl.RelativeTimeFormat(S,{localeMatcher:"best fit",numeric:"auto",style:"long",...A}),[S,A]),U=je.useMemo(()=>T instanceof Date?T:new Date(T),[T]),G=je.useCallback((fe,ae)=>o&&ae==="second"?fe<0?N??O.format(1,"minute"):P??O.format(-1,"minute"):O.format(-fe,ae),[O,o,P,N]),j=je.useCallback(()=>{var[fe,ae]=bx(U,z,w);return{text:G(fe,ae),unit:ae}},[U,z,w,G]),[F,q]=je.useState(()=>j().text),[V,H]=je.useState(()=>j().unit),X=je.useCallback(()=>{q(j().text),H(j().unit)},[j]);return je.useEffect(X,[X]),je.useEffect(()=>{if(V){var fe=zg.get(V);const ae=setInterval(X,fe);return()=>clearInterval(ae)}},[V,X]),C?je.createElement("time",{title:U.toLocaleString(S),dateTime:U.toISOString()},F):F}));Wu.displayName="TimeAgo";const wx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAMFBMVEX////8/P/19f/u7v/o6P/k5P/d3f/a2v/b2//q6v/+/v/x8f/6+v/4+P/s7P/h4f+dVJtUAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+UFGg4wJnrMhh4AAAHISURBVFjD7dYrTANBEAbg6zNwtNC0CUhKEBhEQ1AE0QSBwACiF1CY5jSvmxIggCAYSIqA2oaEIDAVJLV1IOtqcVgclkIIN7O9dv8rCam433+5nd2ZvTWMIEH+nvR8obg05UdkbGqndI2Lx29B5CygwrToJ/tVkNzTbzZBYrkE/EyEWHIQGefkzO+62itDRIJEGn5LwYqJSbIKkAlJkPpbkhwDZEaSHYDUJTkEyJskuwBZlmRvUMkBQCr/QvrY5D6Oso+GeZbkCCBK828DJH4hyDtAovIrZYCEJWkCJCQW5gBCaTLkWJRdRqpX6s9CJMGKOYeE6OVLkLCrPw8SVkwNJEmXpEBiuAQVA0pC0wX3LItz+g1IPn3I5j9ZafYE6RubOuJszHYFd7fknVJx0VtkbOqedS8R6SWI1jw2yuopyMl2kEnS5EoVpqUjTkMhwzrR+c540RP1Qteuq90HUiT0Qr04RxGSF2QMIVuCPCBE/mpaCJFbVkeIvNIrCJFPAAsh8gFsI0T8nkxEEFX5sGAkxUgSI7xjwhjhgzmCkRq/KjCS89vIRK/+xvgrZUaiGOEDE8MIvzCgCZNPjThG+FgOYeTUCBLEdz4BUKdEB9CZl5kAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDUtMjZUMTQ6NDg6MzgrMDA6MDDhS4e5AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA1LTI2VDE0OjQ4OjM4KzAwOjAwkBY/BQAAAABJRU5ErkJggg==",Sx="_ColourCount_954of_2",Tx={ColourCount:Sx},Ax=({remove:f,modify:g,add:y})=>Vt.jsxs("div",{className:Tx.ColourCount,children:[Vt.jsx("span",{children:y}),Vt.jsx("span",{children:g}),Vt.jsx("span",{children:f})]}),Bg=je.memo(({changeset:f,user:g,isSeletced:y,setSelected:T})=>{const S=g?.changesets.count||+(f.tags.changesets_count||0);return Vt.jsx("li",{children:Vt.jsxs("a",{href:`#${f.id}`,style:{borderBottom:"1px solid #ccc",padding:12,display:"flex",flexDirection:"column",textDecoration:"none",color:"initial",background:y?"#1e90ff22":""},onClick:()=>T(f),children:[Vt.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[Vt.jsxs("div",{style:{fontSize:"15px",fontWeight:"bold",color:"#000c",display:"flex",gap:8},children:[Vt.jsx("img",{src:g?.img?.href||wx,alt:"profile pic",style:{height:20,width:20,borderRadius:4}}),f.user]}),Vt.jsx("div",{style:{fontSize:"12px",color:"#666"},children:f.closed_at&&Vt.jsx(Wu,{date:f.closed_at})})]}),Vt.jsx("div",{style:{margin:"6px 0",fontSize:15,color:"#000c"},children:f.tags.comment}),Vt.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[Vt.jsxs("div",{children:[!!f.comments_count&&"",!!g?.blocks.received.active&&"Blocked",!!g?.blocks.received.count&&!g?.blocks.received.active&&"Previously Blocked",!!g?.roles.includes("moderator")||!!g?.roles.includes("administrator")&&"DWG",!!g?.roles.includes("importer")&&"Importer",S<100&&""]}),Vt.jsx(Ax,{add:f.created_count,modify:f.modified_count,remove:f.deleted_count})]})]})},f.id)});Bg.displayName="RenderChangesetListItem";var i7={exports:{}};var Ex=i7.exports,Af;function Mx(){return Af||(Af=1,(function(f,g){(function(y,T){f.exports=T()})(Ex,(function(){var y={},T={};function S(w,o,P){if(T[w]=P,w==="index"){var N="var sharedModule = {}; ("+T.shared+")(sharedModule); ("+T.worker+")(sharedModule);",z={};return T.shared(z),T.index(y,z),typeof window<"u"&&y.setWorkerUrl(window.URL.createObjectURL(new Blob([N],{type:"text/javascript"}))),y}}S("shared",["exports"],(function(w){function o(n,e,r,l){return new(r||(r=Promise))((function(c,p){function m(D){try{M(l.next(D))}catch(L){p(L)}}function x(D){try{M(l.throw(D))}catch(L){p(L)}}function M(D){var L;D.done?c(D.value):(L=D.value,L instanceof r?L:new r((function(Q){Q(L)}))).then(m,x)}M((l=l.apply(n,e||[])).next())}))}function P(n,e){this.x=n,this.y=e}function N(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var z,C;typeof SuppressedError=="function"&&SuppressedError,P.prototype={clone(){return new P(this.x,this.y)},add(n){return this.clone()._add(n)},sub(n){return this.clone()._sub(n)},multByPoint(n){return this.clone()._multByPoint(n)},divByPoint(n){return this.clone()._divByPoint(n)},mult(n){return this.clone()._mult(n)},div(n){return this.clone()._div(n)},rotate(n){return this.clone()._rotate(n)},rotateAround(n,e){return this.clone()._rotateAround(n,e)},matMult(n){return this.clone()._matMult(n)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(n){return this.x===n.x&&this.y===n.y},dist(n){return Math.sqrt(this.distSqr(n))},distSqr(n){const e=n.x-this.x,r=n.y-this.y;return e*e+r*r},angle(){return Math.atan2(this.y,this.x)},angleTo(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith(n){return this.angleWithSep(n.x,n.y)},angleWithSep(n,e){return Math.atan2(this.x*e-this.y*n,this.x*n+this.y*e)},_matMult(n){const e=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=e,this},_add(n){return this.x+=n.x,this.y+=n.y,this},_sub(n){return this.x-=n.x,this.y-=n.y,this},_mult(n){return this.x*=n,this.y*=n,this},_div(n){return this.x/=n,this.y/=n,this},_multByPoint(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint(n){return this.x/=n.x,this.y/=n.y,this},_unit(){return this._div(this.mag()),this},_perp(){const n=this.y;return this.y=this.x,this.x=-n,this},_rotate(n){const e=Math.cos(n),r=Math.sin(n),l=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=l,this},_rotateAround(n,e){const r=Math.cos(n),l=Math.sin(n),c=e.y+l*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-l*(this.y-e.y),this.y=c,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:P},P.convert=function(n){if(n instanceof P)return n;if(Array.isArray(n))return new P(+n[0],+n[1]);if(n.x!==void 0&&n.y!==void 0)return new P(+n.x,+n.y);throw new Error("Expected [x, y] or {x, y} point format")};var O=(function(){if(C)return z;function n(e,r,l,c){this.cx=3*e,this.bx=3*(l-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(c-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=l,this.p2y=c}return C=1,z=n,n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,r){if(r===void 0&&(r=1e-6),e<0)return 0;if(e>1)return 1;for(var l=e,c=0;c<8;c++){var p=this.sampleCurveX(l)-e;if(Math.abs(p)<r)return l;var m=this.sampleCurveDerivativeX(l);if(Math.abs(m)<1e-6)break;l-=p/m}var x=0,M=1;for(l=e,c=0;c<20&&(p=this.sampleCurveX(l),!(Math.abs(p-e)<r));c++)e>p?x=l:M=l,l=.5*(M-x)+x;return l},solve:function(e,r){return this.sampleCurveY(this.solveCurveX(e,r))}},z})(),U=N(O);let G,j;function F(){return G==null&&(G=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),G}function q(){if(j==null&&(j=!1,F())){const e=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(e){for(let l=0;l<25;l++){const c=4*l;e.fillStyle=`rgb(${c},${c+1},${c+2})`,e.fillRect(l%5,Math.floor(l/5),1,1)}const r=e.getImageData(0,0,5,5).data;for(let l=0;l<100;l++)if(l%4!=3&&r[l]!==l){j=!0;break}}}return j||!1}var V=1e-6,H=typeof Float32Array<"u"?Float32Array:Array;function X(){var n=new H(9);return H!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function fe(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function ae(){var n=new H(3);return H!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function he(n){var e=n[0],r=n[1],l=n[2];return Math.sqrt(e*e+r*r+l*l)}function xe(n,e,r){var l=new H(3);return l[0]=n,l[1]=e,l[2]=r,l}function ee(n,e,r){return n[0]=e[0]+r[0],n[1]=e[1]+r[1],n[2]=e[2]+r[2],n}function Pe(n,e,r){return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n}function we(n,e,r){var l=e[0],c=e[1],p=e[2],m=r[0],x=r[1],M=r[2];return n[0]=c*M-p*x,n[1]=p*m-l*M,n[2]=l*x-c*m,n}var Fe,et=he;function Ke(n,e,r){var l=e[0],c=e[1],p=e[2],m=e[3];return n[0]=r[0]*l+r[4]*c+r[8]*p+r[12]*m,n[1]=r[1]*l+r[5]*c+r[9]*p+r[13]*m,n[2]=r[2]*l+r[6]*c+r[10]*p+r[14]*m,n[3]=r[3]*l+r[7]*c+r[11]*p+r[15]*m,n}function _t(){var n=new H(4);return H!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function Ne(n,e,r,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",p=Math.PI/360;e*=p,l*=p,r*=p;var m=Math.sin(e),x=Math.cos(e),M=Math.sin(r),D=Math.cos(r),L=Math.sin(l),Q=Math.cos(l);switch(c){case"xyz":n[0]=m*D*Q+x*M*L,n[1]=x*M*Q-m*D*L,n[2]=x*D*L+m*M*Q,n[3]=x*D*Q-m*M*L;break;case"xzy":n[0]=m*D*Q-x*M*L,n[1]=x*M*Q-m*D*L,n[2]=x*D*L+m*M*Q,n[3]=x*D*Q+m*M*L;break;case"yxz":n[0]=m*D*Q+x*M*L,n[1]=x*M*Q-m*D*L,n[2]=x*D*L-m*M*Q,n[3]=x*D*Q+m*M*L;break;case"yzx":n[0]=m*D*Q+x*M*L,n[1]=x*M*Q+m*D*L,n[2]=x*D*L-m*M*Q,n[3]=x*D*Q-m*M*L;break;case"zxy":n[0]=m*D*Q-x*M*L,n[1]=x*M*Q+m*D*L,n[2]=x*D*L+m*M*Q,n[3]=x*D*Q-m*M*L;break;case"zyx":n[0]=m*D*Q-x*M*L,n[1]=x*M*Q+m*D*L,n[2]=x*D*L-m*M*Q,n[3]=x*D*Q+m*M*L;break;default:throw new Error("Unknown angle order "+c)}return n}function Te(){var n=new H(2);return H!=Float32Array&&(n[0]=0,n[1]=0),n}function lt(n,e){var r=new H(2);return r[0]=n,r[1]=e,r}ae(),Fe=new H(4),H!=Float32Array&&(Fe[0]=0,Fe[1]=0,Fe[2]=0,Fe[3]=0),ae(),xe(1,0,0),xe(0,1,0),_t(),_t(),X(),Te();const Ze=8192;function Ct(n,e,r){return e*(Ze/(n.tileSize*Math.pow(2,r-n.tileID.overscaledZ)))}function Ie(n,e){return(n%e+e)%e}function rt(n,e,r){return n*(1-r)+e*r}function dt(n){if(n<=0)return 0;if(n>=1)return 1;const e=n*n,r=e*n;return 4*(n<.5?r:3*(n-e)+r-.75)}function $e(n,e,r,l){const c=new U(n,e,r,l);return p=>c.solve(p)}const ft=$e(.25,.1,.25,1);function mt(n,e,r){return Math.min(r,Math.max(e,n))}function me(n,e,r){const l=r-e,c=((n-e)%l+l)%l+e;return c===e?r:c}function ue(n,...e){for(const r of e)for(const l in r)n[l]=r[l];return n}let ut=1;function qe(n,e,r){const l={};for(const c in n)l[c]=e.call(this,n[c],c,n);return l}function Et(n,e,r){const l={};for(const c in n)e.call(this,n[c],c,n)&&(l[c]=n[c]);return l}function At(n){return Array.isArray(n)?n.map(At):typeof n=="object"&&n?qe(n,At):n}const Gt={};function Jt(n){Gt[n]||(typeof console<"u"&&console.warn(n),Gt[n]=!0)}function Kt(n,e,r){return(r.y-n.y)*(e.x-n.x)>(e.y-n.y)*(r.x-n.x)}function cr(n){return typeof WorkerGlobalScope<"u"&&n!==void 0&&n instanceof WorkerGlobalScope}let tr=null;function ur(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap}const Hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function be(n,e,r,l,c){return o(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const p=new VideoFrame(n,{timestamp:0});try{const m=p?.format;if(!m||!m.startsWith("BGR")&&!m.startsWith("RGB"))throw new Error(`Unrecognized format ${m}`);const x=m.startsWith("BGR"),M=new Uint8ClampedArray(l*c*4);if(yield p.copyTo(M,(function(D,L,Q,Y,W){const ne=4*Math.max(-L,0),oe=(Math.max(0,Q)-Q)*Y*4+ne,ce=4*Y,ye=Math.max(0,L),Le=Math.max(0,Q);return{rect:{x:ye,y:Le,width:Math.min(D.width,L+Y)-ye,height:Math.min(D.height,Q+W)-Le},layout:[{offset:oe,stride:ce}]}})(n,e,r,l,c)),x)for(let D=0;D<M.length;D+=4){const L=M[D];M[D]=M[D+2],M[D+2]=L}return M}finally{p.close()}}))}let te,ie;function ke(n,e,r,l){return n.addEventListener(e,r,l),{unsubscribe:()=>{n.removeEventListener(e,r,l)}}}function it(n){return n*Math.PI/180}function It(n){return n/Math.PI*180}const Re={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},le={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},de="AbortError";class ge extends Error{constructor(e=de){super(e instanceof Error?e.message:e),this.name=de,e instanceof Error&&e.stack&&(this.stack=e.stack)}}function Ue(n){return n.name===de}const De={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ht(n){return De.REGISTERED_PROTOCOLS[n.substring(0,n.indexOf("://"))]}const ot="global-dispatcher";class Ye extends Error{constructor(e,r,l,c){super(`AJAXError: ${r} (${e}): ${l}`),this.status=e,this.statusText=r,this.url=l,this.body=c}}const st=()=>cr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Me=function(n,e){if(/:\/\//.test(n.url)&&!/^https?:|^file:/.test(n.url)){const l=ht(n.url);if(l)return l(n,e);if(cr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:n,targetMapId:ot},e)}if(!(/^file:/.test(r=n.url)||/^file:/.test(st())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(l,c){return o(this,void 0,void 0,(function*(){const p=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:st(),signal:c.signal});let m,x;l.type!=="json"||p.headers.has("Accept")||p.headers.set("Accept","application/json");try{m=yield fetch(p)}catch(D){throw Ue(D)?D:new Ye(0,D.message,l.url,new Blob)}if(!m.ok){const D=yield m.blob();throw new Ye(m.status,m.statusText,l.url,D)}x=l.type==="arrayBuffer"||l.type==="image"?m.arrayBuffer():l.type==="json"?m.json():m.text();const M=yield x;return c.signal.throwIfAborted(),{data:M,cacheControl:m.headers.get("Cache-Control"),expires:m.headers.get("Expires")}}))})(n,e);if(cr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:n,mustQueue:!0,targetMapId:ot},e)}var r;return(function(l,c){return new Promise(((p,m)=>{var x;const M=new XMLHttpRequest;M.open(l.method||"GET",l.url,!0),l.type!=="arrayBuffer"&&l.type!=="image"||(M.responseType="arraybuffer");for(const D in l.headers)M.setRequestHeader(D,l.headers[D]);l.type==="json"&&(M.responseType="text",!((x=l.headers)===null||x===void 0)&&x.Accept||M.setRequestHeader("Accept","application/json")),M.withCredentials=l.credentials==="include",M.onerror=()=>{m(new Error(M.statusText))},M.onload=()=>{if(!c.signal.aborted)if((M.status>=200&&M.status<300||M.status===0)&&M.response!==null){let D=M.response;if(l.type==="json")try{D=JSON.parse(M.response)}catch(L){return void m(L)}p({data:D,cacheControl:M.getResponseHeader("Cache-Control"),expires:M.getResponseHeader("Expires")})}else{const D=new Blob([M.response],{type:M.getResponseHeader("Content-Type")});m(new Ye(M.status,M.statusText,l.url,D))}},c.signal.addEventListener("abort",(()=>{M.abort(),m(new ge(c.signal.reason))})),M.send(l.body)}))})(n,e)};function Oe(n){if(!n||n.indexOf("://")<=0||n.indexOf("data:image/")===0||n.indexOf("blob:")===0)return!0;const e=new URL(n),r=window.location;return e.protocol===r.protocol&&e.host===r.host}function Ot(n,e,r){r[n]&&r[n].indexOf(e)!==-1||(r[n]=r[n]||[],r[n].push(e))}function $t(n,e,r){if(r&&r[n]){const l=r[n].indexOf(e);l!==-1&&r[n].splice(l,1)}}class Qt{constructor(e,r={}){ue(this,r),this.type=e}}class Xt extends Qt{constructor(e,r={}){super("error",ue({error:e},r))}}class hr{on(e,r){return this._listeners=this._listeners||{},Ot(e,r,this._listeners),{unsubscribe:()=>{this.off(e,r)}}}off(e,r){return $t(e,r,this._listeners),$t(e,r,this._oneTimeListeners),this}once(e,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},Ot(e,r,this._oneTimeListeners),this):new Promise((l=>this.once(e,l)))}fire(e,r){typeof e=="string"&&(e=new Qt(e,r||{}));const l=e.type;if(this.listens(l)){e.target=this;const c=this._listeners&&this._listeners[l]?this._listeners[l].slice():[];for(const x of c)x.call(this,e);const p=this._oneTimeListeners&&this._oneTimeListeners[l]?this._oneTimeListeners[l].slice():[];for(const x of p)$t(l,x,this._oneTimeListeners),x.call(this,e);const m=this._eventedParent;m&&(ue(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),m.fire(e))}else e instanceof Xt&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,r){return this._eventedParent=e,this._eventedParentData=r,this}}var ct={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};const gr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function tn(n,e){const r={};for(const l in n)l!=="ref"&&(r[l]=n[l]);return gr.forEach((l=>{l in e&&(r[l]=e[l])})),r}function vr(n,e){if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!vr(n[r],e[r]))return!1;return!0}if(typeof n=="object"&&n!==null&&e!==null){if(typeof e!="object"||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!vr(n[r],e[r]))return!1;return!0}return n===e}function Mr(n,e){n.push(e)}function Kr(n,e,r){Mr(r,{command:"addSource",args:[n,e[n]]})}function Ur(n,e,r){Mr(e,{command:"removeSource",args:[n]}),r[n]=!0}function zr(n,e,r,l){Ur(n,r,l),Kr(n,e,r)}function Zr(n,e,r){let l;for(l in n[r])if(Object.prototype.hasOwnProperty.call(n[r],l)&&l!=="data"&&!vr(n[r][l],e[r][l]))return!1;for(l in e[r])if(Object.prototype.hasOwnProperty.call(e[r],l)&&l!=="data"&&!vr(n[r][l],e[r][l]))return!1;return!0}function Pr(n,e,r,l,c,p){n=n||{},e=e||{};for(const m in n)Object.prototype.hasOwnProperty.call(n,m)&&(vr(n[m],e[m])||r.push({command:p,args:[l,m,e[m],c]}));for(const m in e)Object.prototype.hasOwnProperty.call(e,m)&&!Object.prototype.hasOwnProperty.call(n,m)&&(vr(n[m],e[m])||r.push({command:p,args:[l,m,e[m],c]}))}function ua(n){return n.id}function Fi(n,e){return n[e.id]=e,n}class Ft{constructor(e,r,l,c){this.message=(e?`${e}: `:"")+l,c&&(this.identifier=c),r!=null&&r.__line__&&(this.line=r.__line__)}}function Nn(n,...e){for(const r of e)for(const l in r)n[l]=r[l];return n}class Fn extends Error{constructor(e,r){super(r),this.message=r,this.key=e}}class wi{constructor(e,r=[]){this.parent=e,this.bindings={};for(const[l,c]of r)this.bindings[l]=c}concat(e){return new wi(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Yr={kind:"null"},Lt={kind:"number"},dr={kind:"string"},wr={kind:"boolean"},Si={kind:"color"},za={kind:"projectionDefinition"},oi={kind:"object"},yr={kind:"value"},ca={kind:"collator"},lr={kind:"formatted"},Ir={kind:"padding"},Br={kind:"colorArray"},Nr={kind:"numberArray"},_r={kind:"resolvedImage"},kn={kind:"variableAnchorOffsetCollection"};function Ar(n,e){return{kind:"array",itemType:n,N:e}}function kr(n){if(n.kind==="array"){const e=kr(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}return n.kind}const Ti=[Yr,Lt,dr,wr,Si,za,lr,oi,Ar(yr),Ir,Nr,Br,_r,kn];function ha(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!ha(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const r of Ti)if(!ha(r,e))return null}}return`Expected ${kr(n)} but found ${kr(e)} instead.`}function gs(n,e){return e.some((r=>r.kind===n.kind))}function ro(n,e){return e.some((r=>r==="null"?n===null:r==="array"?Array.isArray(n):r==="object"?n&&!Array.isArray(n)&&typeof n=="object":r===typeof n))}function wa(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const Gs=.96422,Sa=.82521,da=4/29,Jr=6/29,fl=3*Jr*Jr,r2=Jr*Jr*Jr,Vo=Math.PI/180,b1=180/Math.PI;function ys(n){return(n%=360)<0&&(n+=360),n}function pl([n,e,r,l]){let c,p;const m=Vs((.2225045*(n=Pi(n))+.7168786*(e=Pi(e))+.0606169*(r=Pi(r)))/1);n===e&&e===r?c=p=m:(c=Vs((.4360747*n+.3850649*e+.1430804*r)/Gs),p=Vs((.0139322*n+.0971045*e+.7141733*r)/Sa));const x=116*m-16;return[x<0?0:x,500*(c-m),200*(m-p),l]}function Pi(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Vs(n){return n>r2?Math.pow(n,1/3):n/fl+da}function qs([n,e,r,l]){let c=(n+16)/116,p=isNaN(e)?c:c+e/500,m=isNaN(r)?c:c-r/200;return c=1*tt(c),p=Gs*tt(p),m=Sa*tt(m),[qo(3.1338561*p-1.6168667*c-.4906146*m),qo(-.9787684*p+1.9161415*c+.033454*m),qo(.0719453*p-.2289914*c+1.4052427*m),l]}function qo(n){return(n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055)<0?0:n>1?1:n}function tt(n){return n>Jr?n*n*n:fl*(n-da)}const M5=Object.hasOwn||function(n,e){return Object.prototype.hasOwnProperty.call(n,e)};function ml(n,e){return M5(n,e)?n[e]:void 0}function _s(n){return parseInt(n.padEnd(2,n),16)/255}function C5(n,e){return x1(e?n/100:n,0,1)}function x1(n,e,r){return Math.min(Math.max(e,n),r)}function a4(n){return!n.some(Number.isNaN)}const w1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function $s(n,e,r){return n+r*(e-n)}function gl(n,e,r){return n.map(((l,c)=>$s(l,e[c],r)))}class Dr{constructor(e,r,l,c=1,p=!0){this.r=e,this.g=r,this.b=l,this.a=c,p||(this.r*=c,this.g*=c,this.b*=c,c||this.overwriteGetter("rgb",[e,r,l,c]))}static parse(e){if(e instanceof Dr)return e;if(typeof e!="string")return;const r=(function(l){if((l=l.toLowerCase().trim())==="transparent")return[0,0,0,0];const c=ml(w1,l);if(c){const[m,x,M]=c;return[m/255,x/255,M/255,1]}if(l.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(l)){const m=l.length<6?1:2;let x=1;return[_s(l.slice(x,x+=m)),_s(l.slice(x,x+=m)),_s(l.slice(x,x+=m)),_s(l.slice(x,x+m)||"ff")]}if(l.startsWith("rgb")){const m=l.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(m){const[x,M,D,L,Q,Y,W,ne,oe,ce,ye,Le]=m,_e=[L||" ",W||" ",ce].join("");if(_e==="  "||_e==="  /"||_e===",,"||_e===",,,"){const Se=[D,Y,oe].join(""),Ve=Se==="%%%"?100:Se===""?255:0;if(Ve){const Xe=[x1(+M/Ve,0,1),x1(+Q/Ve,0,1),x1(+ne/Ve,0,1),ye?C5(+ye,Le):1];if(a4(Xe))return Xe}}return}}const p=l.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(p){const[m,x,M,D,L,Q,Y,W,ne]=p,oe=[M||" ",L||" ",Y].join("");if(oe==="  "||oe==="  /"||oe===",,"||oe===",,,"){const ce=[+x,x1(+D,0,100),x1(+Q,0,100),W?C5(+W,ne):1];if(a4(ce))return(function([ye,Le,_e,Se]){function Ve(Xe){const yt=(Xe+ye/30)%12,Dt=Le*Math.min(_e,1-_e);return _e-Dt*Math.max(-1,Math.min(yt-3,9-yt,1))}return ye=ys(ye),Le/=100,_e/=100,[Ve(0),Ve(8),Ve(4),Se]})(ce)}}})(e);return r?new Dr(...r,!1):void 0}get rgb(){const{r:e,g:r,b:l,a:c}=this,p=c||1/0;return this.overwriteGetter("rgb",[e/p,r/p,l/p,c])}get hcl(){return this.overwriteGetter("hcl",(function(e){const[r,l,c,p]=pl(e),m=Math.sqrt(l*l+c*c);return[Math.round(1e4*m)?ys(Math.atan2(c,l)*b1):NaN,m,r,p]})(this.rgb))}get lab(){return this.overwriteGetter("lab",pl(this.rgb))}overwriteGetter(e,r){return Object.defineProperty(this,e,{value:r}),r}toString(){const[e,r,l,c]=this.rgb;return`rgba(${[e,r,l].map((p=>Math.round(255*p))).join(",")},${c})`}static interpolate(e,r,l,c="rgb"){switch(c){case"rgb":{const[p,m,x,M]=gl(e.rgb,r.rgb,l);return new Dr(p,m,x,M,!1)}case"hcl":{const[p,m,x,M]=e.hcl,[D,L,Q,Y]=r.hcl;let W,ne;if(isNaN(p)||isNaN(D))isNaN(p)?isNaN(D)?W=NaN:(W=D,x!==1&&x!==0||(ne=L)):(W=p,Q!==1&&Q!==0||(ne=m));else{let _e=D-p;D>p&&_e>180?_e-=360:D<p&&p-D>180&&(_e+=360),W=p+l*_e}const[oe,ce,ye,Le]=(function([_e,Se,Ve,Xe]){return _e=isNaN(_e)?0:_e*Vo,qs([Ve,Math.cos(_e)*Se,Math.sin(_e)*Se,Xe])})([W,ne??$s(m,L,l),$s(x,Q,l),$s(M,Y,l)]);return new Dr(oe,ce,ye,Le,!1)}case"lab":{const[p,m,x,M]=qs(gl(e.lab,r.lab,l));return new Dr(p,m,x,M,!1)}}}}Dr.black=new Dr(0,0,0,1),Dr.white=new Dr(1,1,1,1),Dr.transparent=new Dr(0,0,0,0),Dr.red=new Dr(1,0,0,1);class Eo{constructor(e,r,l){this.sensitivity=e?r?"variant":"case":r?"accent":"base",this.locale=l,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,r){return this.collator.compare(e,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const s3=["bottom","center","top"];class n2{constructor(e,r,l,c,p,m){this.text=e,this.image=r,this.scale=l,this.fontStack=c,this.textColor=p,this.verticalAlign=m}}class Ri{constructor(e){this.sections=e}static fromString(e){return new Ri([new n2(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((e=>e.text.length!==0||e.image&&e.image.name.length!==0))}static factory(e){return e instanceof Ri?e:Ri.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map((e=>e.text)).join("")}}class pi{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof pi)return e;if(typeof e=="number")return new pi([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const r of e)if(typeof r!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new pi(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,r,l){return new pi(gl(e.values,r.values,l))}}class Un{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Un)return e;if(typeof e=="number")return new Un([e]);if(Array.isArray(e)){for(const r of e)if(typeof r!="number")return;return new Un(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,r,l){return new Un(gl(e.values,r.values,l))}}class xr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof xr)return e;if(typeof e=="string"){const l=Dr.parse(e);return l?new xr([l]):void 0}if(!Array.isArray(e))return;const r=[];for(const l of e){if(typeof l!="string")return;const c=Dr.parse(l);if(!c)return;r.push(c)}return new xr(r)}toString(){return JSON.stringify(this.values)}static interpolate(e,r,l,c="rgb"){const p=[];if(e.values.length!=r.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${r.values.length}), cannot interpolate.`);for(let m=0;m<e.values.length;m++)p.push(Dr.interpolate(e.values[m],r.values[m],l,c));return new xr(p)}}class Tn extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const no=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Kn{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Kn)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let r=0;r<e.length;r+=2){const l=e[r],c=e[r+1];if(typeof l!="string"||!no.has(l)||!Array.isArray(c)||c.length!==2||typeof c[0]!="number"||typeof c[1]!="number")return}return new Kn(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,r,l){const c=e.values,p=r.values;if(c.length!==p.length)throw new Tn(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${r.toString()}`);const m=[];for(let x=0;x<c.length;x+=2){if(c[x]!==p[x])throw new Tn(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${c[x]}, to[${x}]: ${p[x]}`);m.push(c[x]);const[M,D]=c[x+1],[L,Q]=p[x+1];m.push([$s(M,L,l),$s(D,Q,l)])}return new Kn(m)}}class fa{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new fa({name:e,available:!1}):null}}class Ii{constructor(e,r,l){this.from=e,this.to=r,this.transition=l}static interpolate(e,r,l){return new Ii(e,r,l)}static parse(e){return e instanceof Ii?e:Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number"?new Ii(e[0],e[1],e[2]):typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number"?new Ii(e.from,e.to,e.transition):typeof e=="string"?new Ii(e,e,1):void 0}}function Ba(n,e,r,l){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof r=="number"&&r>=0&&r<=255?l===void 0||typeof l=="number"&&l>=0&&l<=1?null:`Invalid rgba value [${[n,e,r,l].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof l=="number"?[n,e,r,l]:[n,e,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $o(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof Ii||n instanceof Dr||n instanceof Eo||n instanceof Ri||n instanceof pi||n instanceof Un||n instanceof xr||n instanceof Kn||n instanceof fa)return!0;if(Array.isArray(n)){for(const e of n)if(!$o(e))return!1;return!0}if(typeof n=="object"){for(const e in n)if(!$o(n[e]))return!1;return!0}return!1}function jn(n){if(n===null)return Yr;if(typeof n=="string")return dr;if(typeof n=="boolean")return wr;if(typeof n=="number")return Lt;if(n instanceof Dr)return Si;if(n instanceof Ii)return za;if(n instanceof Eo)return ca;if(n instanceof Ri)return lr;if(n instanceof pi)return Ir;if(n instanceof Un)return Nr;if(n instanceof xr)return Br;if(n instanceof Kn)return kn;if(n instanceof fa)return _r;if(Array.isArray(n)){const e=n.length;let r;for(const l of n){const c=jn(l);if(r){if(r===c)continue;r=yr;break}r=c}return Ar(r||yr,e)}return oi}function Qs(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof Dr||n instanceof Ii||n instanceof Ri||n instanceof pi||n instanceof Un||n instanceof xr||n instanceof Kn||n instanceof fa?n.toString():JSON.stringify(n)}class La{constructor(e,r){this.type=e,this.value=r}static parse(e,r){if(e.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!$o(e[1]))return r.error("invalid value");const l=e[1];let c=jn(l);const p=r.expectedType;return c.kind!=="array"||c.N!==0||!p||p.kind!=="array"||typeof p.N=="number"&&p.N!==0||(c=p),new La(c,l)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const S1={string:dr,number:Lt,boolean:wr,object:oi};class pa{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");let l,c=1;const p=e[0];if(p==="array"){let x,M;if(e.length>2){const D=e[1];if(typeof D!="string"||!(D in S1)||D==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);x=S1[D],c++}else x=yr;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return r.error('The length argument to "array" must be a positive integer literal',2);M=e[2],c++}l=Ar(x,M)}else{if(!S1[p])throw new Error(`Types doesn't contain name = ${p}`);l=S1[p]}const m=[];for(;c<e.length;c++){const x=r.parse(e[c],c,yr);if(!x)return null;m.push(x)}return new pa(l,m)}evaluate(e){for(let r=0;r<this.args.length;r++){const l=this.args[r].evaluate(e);if(!ha(this.type,jn(l)))return l;if(r===this.args.length-1)throw new Tn(`Expected value to be of type ${kr(this.type)}, but found ${kr(jn(l))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const Ai={"to-boolean":wr,"to-color":Si,"to-number":Lt,"to-string":dr};class ma{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const l=e[0];if(!Ai[l])throw new Error(`Can't parse ${l} as it is not part of the known types`);if((l==="to-boolean"||l==="to-string")&&e.length!==2)return r.error("Expected one argument.");const c=Ai[l],p=[];for(let m=1;m<e.length;m++){const x=r.parse(e[m],m,yr);if(!x)return null;p.push(x)}return new ma(c,p)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let r,l;for(const c of this.args){if(r=c.evaluate(e),l=null,r instanceof Dr)return r;if(typeof r=="string"){const p=e.parseColor(r);if(p)return p}else if(Array.isArray(r)&&(l=r.length<3||r.length>4?`Invalid rgba value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:Ba(r[0],r[1],r[2],r[3]),!l))return new Dr(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Tn(l||`Could not parse color from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"padding":{let r;for(const l of this.args){r=l.evaluate(e);const c=pi.parse(r);if(c)return c}throw new Tn(`Could not parse padding from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"numberArray":{let r;for(const l of this.args){r=l.evaluate(e);const c=Un.parse(r);if(c)return c}throw new Tn(`Could not parse numberArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"colorArray":{let r;for(const l of this.args){r=l.evaluate(e);const c=xr.parse(r);if(c)return c}throw new Tn(`Could not parse colorArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"variableAnchorOffsetCollection":{let r;for(const l of this.args){r=l.evaluate(e);const c=Kn.parse(r);if(c)return c}throw new Tn(`Could not parse variableAnchorOffsetCollection from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"number":{let r=null;for(const l of this.args){if(r=l.evaluate(e),r===null)return 0;const c=Number(r);if(!isNaN(c))return c}throw new Tn(`Could not convert ${JSON.stringify(r)} to number.`)}case"formatted":return Ri.fromString(Qs(this.args[0].evaluate(e)));case"resolvedImage":return fa.fromString(Qs(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return Qs(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const i2=["Unknown","Point","LineString","Polygon"];class T1{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?i2[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let r=this._parseColorCache.get(e);return r||(r=Dr.parse(e),this._parseColorCache.set(e,r)),r}}class A1{constructor(e,r,l=[],c,p=new wi,m=[]){this.registry=e,this.path=l,this.key=l.map((x=>`[${x}]`)).join(""),this.scope=p,this.errors=m,this.expectedType=c,this._isConstant=r}parse(e,r,l,c,p={}){return r?this.concat(r,l,c)._parse(e,p):this._parse(e,p)}_parse(e,r){function l(c,p,m){return m==="assert"?new pa(p,[c]):m==="coerce"?new ma(p,[c]):c}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const c=e[0];if(typeof c!="string")return this.error(`Expression name must be a string, but found ${typeof c} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const p=this.registry[c];if(p){let m=p.parse(e,this);if(!m)return null;if(this.expectedType){const x=this.expectedType,M=m.type;if(x.kind!=="string"&&x.kind!=="number"&&x.kind!=="boolean"&&x.kind!=="object"&&x.kind!=="array"||M.kind!=="value"){if(x.kind==="projectionDefinition"&&["string","array"].includes(M.kind)||["color","formatted","resolvedImage"].includes(x.kind)&&["value","string"].includes(M.kind)||["padding","numberArray"].includes(x.kind)&&["value","number","array"].includes(M.kind)||x.kind==="colorArray"&&["value","string","array"].includes(M.kind)||x.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(M.kind))m=l(m,x,r.typeAnnotation||"coerce");else if(this.checkSubtype(x,M))return null}else m=l(m,x,r.typeAnnotation||"assert")}if(!(m instanceof La)&&m.type.kind!=="resolvedImage"&&this._isConstant(m)){const x=new T1;try{m=new La(m.type,m.evaluate(x))}catch(M){return this.error(M.message),null}}return m}return this.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,r,l){const c=typeof e=="number"?this.path.concat(e):this.path,p=l?this.scope.concat(l):this.scope;return new A1(this.registry,this._isConstant,c,r||null,p,this.errors)}error(e,...r){const l=`${this.key}${r.map((c=>`[${c}]`)).join("")}`;this.errors.push(new Fn(l,e))}checkSubtype(e,r){const l=ha(e,r);return l&&this.error(l),l}}class _n{constructor(e,r){this.type=r.type,this.bindings=[].concat(e),this.result=r}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const r of this.bindings)e(r[1]);e(this.result)}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const l=[];for(let p=1;p<e.length-1;p+=2){const m=e[p];if(typeof m!="string")return r.error(`Expected string, but found ${typeof m} instead.`,p);if(/[^a-zA-Z0-9_]/.test(m))return r.error("Variable names must contain only alphanumeric characters or '_'.",p);const x=r.parse(e[p+1],p+1);if(!x)return null;l.push([m,x])}const c=r.parse(e[e.length-1],e.length-1,r.expectedType,l);return c?new _n(l,c):null}outputDefined(){return this.result.outputDefined()}}class Hs{constructor(e,r){this.type=r.type,this.name=e,this.boundExpression=r}static parse(e,r){if(e.length!==2||typeof e[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const l=e[1];return r.scope.has(l)?new Hs(l,r.scope.get(l)):r.error(`Unknown variable "${l}". Make sure "${l}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Gr{constructor(e,r,l){this.type=e,this.index=r,this.input=l}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,Lt),c=r.parse(e[2],2,Ar(r.expectedType||yr));return l&&c?new Gr(c.type.itemType,l,c):null}evaluate(e){const r=this.index.evaluate(e),l=this.input.evaluate(e);if(r<0)throw new Tn(`Array index out of bounds: ${r} < 0.`);if(r>=l.length)throw new Tn(`Array index out of bounds: ${r} > ${l.length-1}.`);if(r!==Math.floor(r))throw new Tn(`Array index must be an integer, but found ${r} instead.`);return l[r]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Cr{constructor(e,r){this.type=wr,this.needle=e,this.haystack=r}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,yr),c=r.parse(e[2],2,yr);return l&&c?gs(l.type,[wr,dr,Lt,Yr,yr])?new Cr(l,c):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${kr(l.type)} instead`):null}evaluate(e){const r=this.needle.evaluate(e),l=this.haystack.evaluate(e);if(!l)return!1;if(!ro(r,["boolean","string","number","null"]))throw new Tn(`Expected first argument to be of type boolean, string, number or null, but found ${kr(jn(r))} instead.`);if(!ro(l,["string","array"]))throw new Tn(`Expected second argument to be of type array or string, but found ${kr(jn(l))} instead.`);return l.indexOf(r)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class E1{constructor(e,r,l){this.type=Lt,this.needle=e,this.haystack=r,this.fromIndex=l}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 2 or 3 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,yr),c=r.parse(e[2],2,yr);if(!l||!c)return null;if(!gs(l.type,[wr,dr,Lt,Yr,yr]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${kr(l.type)} instead`);if(e.length===4){const p=r.parse(e[3],3,Lt);return p?new E1(l,c,p):null}return new E1(l,c)}evaluate(e){const r=this.needle.evaluate(e),l=this.haystack.evaluate(e);if(!ro(r,["boolean","string","number","null"]))throw new Tn(`Expected first argument to be of type boolean, string, number or null, but found ${kr(jn(r))} instead.`);let c;if(this.fromIndex&&(c=this.fromIndex.evaluate(e)),ro(l,["string"])){const p=l.indexOf(r,c);return p===-1?-1:[...l.slice(0,p)].length}if(ro(l,["array"]))return l.indexOf(r,c);throw new Tn(`Expected second argument to be of type array or string, but found ${kr(jn(l))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class rn{constructor(e,r,l,c,p,m){this.inputType=e,this.type=r,this.input=l,this.cases=c,this.outputs=p,this.otherwise=m}static parse(e,r){if(e.length<5)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return r.error("Expected an even number of arguments.");let l,c;r.expectedType&&r.expectedType.kind!=="value"&&(c=r.expectedType);const p={},m=[];for(let D=2;D<e.length-1;D+=2){let L=e[D];const Q=e[D+1];Array.isArray(L)||(L=[L]);const Y=r.concat(D);if(L.length===0)return Y.error("Expected at least one branch label.");for(const ne of L){if(typeof ne!="number"&&typeof ne!="string")return Y.error("Branch labels must be numbers or strings.");if(typeof ne=="number"&&Math.abs(ne)>Number.MAX_SAFE_INTEGER)return Y.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ne=="number"&&Math.floor(ne)!==ne)return Y.error("Numeric branch labels must be integer values.");if(l){if(Y.checkSubtype(l,jn(ne)))return null}else l=jn(ne);if(p[String(ne)]!==void 0)return Y.error("Branch labels must be unique.");p[String(ne)]=m.length}const W=r.parse(Q,D,c);if(!W)return null;c=c||W.type,m.push(W)}const x=r.parse(e[1],1,yr);if(!x)return null;const M=r.parse(e[e.length-1],e.length-1,c);return M?x.type.kind!=="value"&&r.concat(1).checkSubtype(l,x.type)?null:new rn(l,c,x,p,m,M):null}evaluate(e){const r=this.input.evaluate(e);return(jn(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}}class a2{constructor(e,r,l){this.type=e,this.branches=r,this.otherwise=l}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return r.error("Expected an odd number of arguments.");let l;r.expectedType&&r.expectedType.kind!=="value"&&(l=r.expectedType);const c=[];for(let m=1;m<e.length-1;m+=2){const x=r.parse(e[m],m,wr);if(!x)return null;const M=r.parse(e[m+1],m+1,l);if(!M)return null;c.push([x,M]),l=l||M.type}const p=r.parse(e[e.length-1],e.length-1,l);if(!p)return null;if(!l)throw new Error("Can't infer output type");return new a2(l,c,p)}evaluate(e){for(const[r,l]of this.branches)if(r.evaluate(e))return l.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[r,l]of this.branches)e(r),e(l);e(this.otherwise)}outputDefined(){return this.branches.every((([e,r])=>r.outputDefined()))&&this.otherwise.outputDefined()}}class io{constructor(e,r,l,c){this.type=e,this.input=r,this.beginIndex=l,this.endIndex=c}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 2 or 3 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,yr),c=r.parse(e[2],2,Lt);if(!l||!c)return null;if(!gs(l.type,[Ar(yr),dr,yr]))return r.error(`Expected first argument to be of type array or string, but found ${kr(l.type)} instead`);if(e.length===4){const p=r.parse(e[3],3,Lt);return p?new io(l.type,l,c,p):null}return new io(l.type,l,c)}evaluate(e){const r=this.input.evaluate(e),l=this.beginIndex.evaluate(e);let c;if(this.endIndex&&(c=this.endIndex.evaluate(e)),ro(r,["string"]))return[...r].slice(l,c).join("");if(ro(r,["array"]))return r.slice(l,c);throw new Tn(`Expected first argument to be of type array or string, but found ${kr(jn(r))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function Zs(n,e){const r=n.length-1;let l,c,p=0,m=r,x=0;for(;p<=m;)if(x=Math.floor((p+m)/2),l=n[x],c=n[x+1],l<=e){if(x===r||e<c)return x;p=x+1}else{if(!(l>e))throw new Tn("Input is not a number.");m=x-1}return 0}class Xs{constructor(e,r,l){this.type=e,this.input=r,this.labels=[],this.outputs=[];for(const[c,p]of l)this.labels.push(c),this.outputs.push(p)}static parse(e,r){if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");const l=r.parse(e[1],1,Lt);if(!l)return null;const c=[];let p=null;r.expectedType&&r.expectedType.kind!=="value"&&(p=r.expectedType);for(let m=1;m<e.length;m+=2){const x=m===1?-1/0:e[m],M=e[m+1],D=m,L=m+1;if(typeof x!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(c.length&&c[c.length-1][0]>=x)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const Q=r.parse(M,L,p);if(!Q)return null;p=p||Q.type,c.push([x,Q])}return new Xs(p,l,c)}evaluate(e){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(e);const c=this.input.evaluate(e);if(c<=r[0])return l[0].evaluate(e);const p=r.length;return c>=r[p-1]?l[p-1].evaluate(e):l[Zs(r,c)].evaluate(e)}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function P5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o2,l3,r0=(function(){if(l3)return o2;function n(e,r,l,c){this.cx=3*e,this.bx=3*(l-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(c-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=l,this.p2y=c}return l3=1,o2=n,n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,r){if(r===void 0&&(r=1e-6),e<0)return 0;if(e>1)return 1;for(var l=e,c=0;c<8;c++){var p=this.sampleCurveX(l)-e;if(Math.abs(p)<r)return l;var m=this.sampleCurveDerivativeX(l);if(Math.abs(m)<1e-6)break;l-=p/m}var x=0,M=1;for(l=e,c=0;c<20&&(p=this.sampleCurveX(l),!(Math.abs(p-e)<r));c++)e>p?x=l:M=l,l=.5*(M-x)+x;return l},solve:function(e,r){return this.sampleCurveY(this.solveCurveX(e,r))}},o2})(),u3=P5(r0);class ga{constructor(e,r,l,c,p){this.type=e,this.operator=r,this.interpolation=l,this.input=c,this.labels=[],this.outputs=[];for(const[m,x]of p)this.labels.push(m),this.outputs.push(x)}static interpolationFactor(e,r,l,c){let p=0;if(e.name==="exponential")p=Qo(r,e.base,l,c);else if(e.name==="linear")p=Qo(r,1,l,c);else if(e.name==="cubic-bezier"){const m=e.controlPoints;p=new u3(m[0],m[1],m[2],m[3]).solve(Qo(r,1,l,c))}return p}static parse(e,r){let[l,c,p,...m]=e;if(!Array.isArray(c)||c.length===0)return r.error("Expected an interpolation type expression.",1);if(c[0]==="linear")c={name:"linear"};else if(c[0]==="exponential"){const D=c[1];if(typeof D!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);c={name:"exponential",base:D}}else{if(c[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(c[0])}`,1,0);{const D=c.slice(1);if(D.length!==4||D.some((L=>typeof L!="number"||L<0||L>1)))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);c={name:"cubic-bezier",controlPoints:D}}}if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(p=r.parse(p,2,Lt),!p)return null;const x=[];let M=null;l!=="interpolate-hcl"&&l!=="interpolate-lab"||r.expectedType==Br?r.expectedType&&r.expectedType.kind!=="value"&&(M=r.expectedType):M=Si;for(let D=0;D<m.length;D+=2){const L=m[D],Q=m[D+1],Y=D+3,W=D+4;if(typeof L!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Y);if(x.length&&x[x.length-1][0]>=L)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Y);const ne=r.parse(Q,W,M);if(!ne)return null;M=M||ne.type,x.push([L,ne])}return wa(M,Lt)||wa(M,za)||wa(M,Si)||wa(M,Ir)||wa(M,Nr)||wa(M,Br)||wa(M,kn)||wa(M,Ar(Lt))?new ga(M,l,c,p,x):r.error(`Type ${kr(M)} is not interpolatable.`)}evaluate(e){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(e);const c=this.input.evaluate(e);if(c<=r[0])return l[0].evaluate(e);const p=r.length;if(c>=r[p-1])return l[p-1].evaluate(e);const m=Zs(r,c),x=ga.interpolationFactor(this.interpolation,c,r[m],r[m+1]),M=l[m].evaluate(e),D=l[m+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return $s(M,D,x);case"color":return Dr.interpolate(M,D,x);case"padding":return pi.interpolate(M,D,x);case"colorArray":return xr.interpolate(M,D,x);case"numberArray":return Un.interpolate(M,D,x);case"variableAnchorOffsetCollection":return Kn.interpolate(M,D,x);case"array":return gl(M,D,x);case"projectionDefinition":return Ii.interpolate(M,D,x)}case"interpolate-hcl":switch(this.type.kind){case"color":return Dr.interpolate(M,D,x,"hcl");case"colorArray":return xr.interpolate(M,D,x,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Dr.interpolate(M,D,x,"lab");case"colorArray":return xr.interpolate(M,D,x,"lab")}}}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Qo(n,e,r,l){const c=l-r,p=n-r;return c===0?0:e===1?p/c:(Math.pow(e,p)-1)/(Math.pow(e,c)-1)}const Gn={color:Dr.interpolate,number:$s,padding:pi.interpolate,numberArray:Un.interpolate,colorArray:xr.interpolate,variableAnchorOffsetCollection:Kn.interpolate,array:gl};class M1{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");let l=null;const c=r.expectedType;c&&c.kind!=="value"&&(l=c);const p=[];for(const x of e.slice(1)){const M=r.parse(x,1+p.length,l,void 0,{typeAnnotation:"omit"});if(!M)return null;l=l||M.type,p.push(M)}if(!l)throw new Error("No output type");const m=c&&p.some((x=>ha(c,x.type)));return new M1(m?yr:l,p)}evaluate(e){let r,l=null,c=0;for(const p of this.args)if(c++,l=p.evaluate(e),l&&l instanceof fa&&!l.available&&(r||(r=l.name),l=null,c===this.args.length&&(l=r)),l!==null)break;return l}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}function s2(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function l2(n,e,r,l){return l.compare(e,r)===0}function Jn(n,e,r){const l=n!=="=="&&n!=="!=";return class Lg{constructor(p,m,x){this.type=wr,this.lhs=p,this.rhs=m,this.collator=x,this.hasUntypedArgument=p.type.kind==="value"||m.type.kind==="value"}static parse(p,m){if(p.length!==3&&p.length!==4)return m.error("Expected two or three arguments.");const x=p[0];let M=m.parse(p[1],1,yr);if(!M)return null;if(!s2(x,M.type))return m.concat(1).error(`"${x}" comparisons are not supported for type '${kr(M.type)}'.`);let D=m.parse(p[2],2,yr);if(!D)return null;if(!s2(x,D.type))return m.concat(2).error(`"${x}" comparisons are not supported for type '${kr(D.type)}'.`);if(M.type.kind!==D.type.kind&&M.type.kind!=="value"&&D.type.kind!=="value")return m.error(`Cannot compare types '${kr(M.type)}' and '${kr(D.type)}'.`);l&&(M.type.kind==="value"&&D.type.kind!=="value"?M=new pa(D.type,[M]):M.type.kind!=="value"&&D.type.kind==="value"&&(D=new pa(M.type,[D])));let L=null;if(p.length===4){if(M.type.kind!=="string"&&D.type.kind!=="string"&&M.type.kind!=="value"&&D.type.kind!=="value")return m.error("Cannot use collator to compare non-string types.");if(L=m.parse(p[3],3,ca),!L)return null}return new Lg(M,D,L)}evaluate(p){const m=this.lhs.evaluate(p),x=this.rhs.evaluate(p);if(l&&this.hasUntypedArgument){const M=jn(m),D=jn(x);if(M.kind!==D.kind||M.kind!=="string"&&M.kind!=="number")throw new Tn(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${M.kind}, ${D.kind}) instead.`)}if(this.collator&&!l&&this.hasUntypedArgument){const M=jn(m),D=jn(x);if(M.kind!=="string"||D.kind!=="string")return e(p,m,x)}return this.collator?r(p,m,x,this.collator.evaluate(p)):e(p,m,x)}eachChild(p){p(this.lhs),p(this.rhs),this.collator&&p(this.collator)}outputDefined(){return!0}}}const R5=Jn("==",(function(n,e,r){return e===r}),l2),o4=Jn("!=",(function(n,e,r){return e!==r}),(function(n,e,r,l){return!l2(0,e,r,l)})),I5=Jn("<",(function(n,e,r){return e<r}),(function(n,e,r,l){return l.compare(e,r)<0})),n0=Jn(">",(function(n,e,r){return e>r}),(function(n,e,r,l){return l.compare(e,r)>0})),yl=Jn("<=",(function(n,e,r){return e<=r}),(function(n,e,r,l){return l.compare(e,r)<=0})),s4=Jn(">=",(function(n,e,r){return e>=r}),(function(n,e,r,l){return l.compare(e,r)>=0}));class _l{constructor(e,r,l){this.type=ca,this.locale=l,this.caseSensitive=e,this.diacriticSensitive=r}static parse(e,r){if(e.length!==2)return r.error("Expected one argument.");const l=e[1];if(typeof l!="object"||Array.isArray(l))return r.error("Collator options argument must be an object.");const c=r.parse(l["case-sensitive"]!==void 0&&l["case-sensitive"],1,wr);if(!c)return null;const p=r.parse(l["diacritic-sensitive"]!==void 0&&l["diacritic-sensitive"],1,wr);if(!p)return null;let m=null;return l.locale&&(m=r.parse(l.locale,1,dr),!m)?null:new _l(c,p,m)}evaluate(e){return new Eo(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class c3{constructor(e,r,l,c,p){this.type=dr,this.number=e,this.locale=r,this.currency=l,this.minFractionDigits=c,this.maxFractionDigits=p}static parse(e,r){if(e.length!==3)return r.error("Expected two arguments.");const l=r.parse(e[1],1,Lt);if(!l)return null;const c=e[2];if(typeof c!="object"||Array.isArray(c))return r.error("NumberFormat options argument must be an object.");let p=null;if(c.locale&&(p=r.parse(c.locale,1,dr),!p))return null;let m=null;if(c.currency&&(m=r.parse(c.currency,1,dr),!m))return null;let x=null;if(c["min-fraction-digits"]&&(x=r.parse(c["min-fraction-digits"],1,Lt),!x))return null;let M=null;return c["max-fraction-digits"]&&(M=r.parse(c["max-fraction-digits"],1,Lt),!M)?null:new c3(l,p,m,x,M)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class u2{constructor(e){this.type=lr,this.sections=e}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const l=e[1];if(!Array.isArray(l)&&typeof l=="object")return r.error("First argument must be an image or text section.");const c=[];let p=!1;for(let m=1;m<=e.length-1;++m){const x=e[m];if(p&&typeof x=="object"&&!Array.isArray(x)){p=!1;let M=null;if(x["font-scale"]&&(M=r.parse(x["font-scale"],1,Lt),!M))return null;let D=null;if(x["text-font"]&&(D=r.parse(x["text-font"],1,Ar(dr)),!D))return null;let L=null;if(x["text-color"]&&(L=r.parse(x["text-color"],1,Si),!L))return null;let Q=null;if(x["vertical-align"]){if(typeof x["vertical-align"]=="string"&&!s3.includes(x["vertical-align"]))return r.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${x["vertical-align"]}' instead.`);if(Q=r.parse(x["vertical-align"],1,dr),!Q)return null}const Y=c[c.length-1];Y.scale=M,Y.font=D,Y.textColor=L,Y.verticalAlign=Q}else{const M=r.parse(e[m],1,yr);if(!M)return null;const D=M.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");p=!0,c.push({content:M,scale:null,font:null,textColor:null,verticalAlign:null})}}return new u2(c)}evaluate(e){return new Ri(this.sections.map((r=>{const l=r.content.evaluate(e);return jn(l)===_r?new n2("",l,null,null,null,r.verticalAlign?r.verticalAlign.evaluate(e):null):new n2(Qs(l),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null,r.verticalAlign?r.verticalAlign.evaluate(e):null)})))}eachChild(e){for(const r of this.sections)e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor),r.verticalAlign&&e(r.verticalAlign)}outputDefined(){return!1}}class vl{constructor(e){this.type=_r,this.input=e}static parse(e,r){if(e.length!==2)return r.error("Expected two arguments.");const l=r.parse(e[1],1,dr);return l?new vl(l):r.error("No image name provided.")}evaluate(e){const r=this.input.evaluate(e),l=fa.fromString(r);return l&&e.availableImages&&(l.available=e.availableImages.indexOf(r)>-1),l}eachChild(e){e(this.input)}outputDefined(){return!1}}class bl{constructor(e){this.type=Lt,this.input=e}static parse(e,r){if(e.length!==2)return r.error(`Expected 1 argument, but found ${e.length-1} instead.`);const l=r.parse(e[1],1);return l?l.type.kind!=="array"&&l.type.kind!=="string"&&l.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${kr(l.type)} instead.`):new bl(l):null}evaluate(e){const r=this.input.evaluate(e);if(typeof r=="string")return[...r].length;if(Array.isArray(r))return r.length;throw new Tn(`Expected value to be of type string or array, but found ${kr(jn(r))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const si=8192;function xl(n,e){const r=(180+n[0])/360,l=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,c=Math.pow(2,e.z);return[Math.round(r*c*si),Math.round(l*c*si)]}function wl(n,e){const r=Math.pow(2,e.z);return[(c=(n[0]/si+e.x)/r,360*c-180),(l=(n[1]/si+e.y)/r,360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90)];var l,c}function Sl(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function Ys(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function N5(n,e,r){const l=n[0]-e[0],c=n[1]-e[1],p=n[0]-r[0],m=n[1]-r[1];return l*m-p*c==0&&l*p<=0&&c*m<=0}function c2(n,e,r,l){return(c=[l[0]-r[0],l[1]-r[1]])[0]*(p=[e[0]-n[0],e[1]-n[1]])[1]-c[1]*p[0]!=0&&!(!u4(n,e,r,l)||!u4(r,l,n,e));var c,p}function D5(n,e,r){for(const l of r)for(let c=0;c<l.length-1;++c)if(c2(n,e,l[c],l[c+1]))return!0;return!1}function Mo(n,e,r=!1){let l=!1;for(const x of e)for(let M=0;M<x.length-1;M++){if(N5(n,x[M],x[M+1]))return r;(p=x[M])[1]>(c=n)[1]!=(m=x[M+1])[1]>c[1]&&c[0]<(m[0]-p[0])*(c[1]-p[1])/(m[1]-p[1])+p[0]&&(l=!l)}var c,p,m;return l}function l4(n,e){for(const r of e)if(Mo(n,r))return!0;return!1}function O5(n,e){for(const r of n)if(!Mo(r,e))return!1;for(let r=0;r<n.length-1;++r)if(D5(n[r],n[r+1],e))return!1;return!0}function F5(n,e){for(const r of e)if(O5(n,r))return!0;return!1}function u4(n,e,r,l){const c=l[0]-r[0],p=l[1]-r[1],m=(n[0]-r[0])*p-c*(n[1]-r[1]),x=(e[0]-r[0])*p-c*(e[1]-r[1]);return m>0&&x<0||m<0&&x>0}function c4(n,e,r){const l=[];for(let c=0;c<n.length;c++){const p=[];for(let m=0;m<n[c].length;m++){const x=xl(n[c][m],r);Sl(e,x),p.push(x)}l.push(p)}return l}function C1(n,e,r){const l=[];for(let c=0;c<n.length;c++){const p=c4(n[c],e,r);l.push(p)}return l}function Tl(n,e,r,l){if(n[0]<r[0]||n[0]>r[2]){const c=.5*l;let p=n[0]-r[0]>c?-l:r[0]-n[0]>c?l:0;p===0&&(p=n[0]-r[2]>c?-l:r[2]-n[0]>c?l:0),n[0]+=p}Sl(e,n)}function k5(n,e,r,l){const c=Math.pow(2,l.z)*si,p=[l.x*si,l.y*si],m=[];for(const x of n)for(const M of x){const D=[M.x+p[0],M.y+p[1]];Tl(D,e,r,c),m.push(D)}return m}function h2(n,e,r,l){const c=Math.pow(2,l.z)*si,p=[l.x*si,l.y*si],m=[];for(const M of n){const D=[];for(const L of M){const Q=[L.x+p[0],L.y+p[1]];Sl(e,Q),D.push(Q)}m.push(D)}if(e[2]-e[0]<=c/2){(x=e)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(const M of m)for(const D of M)Tl(D,e,r,c)}var x;return m}class Ws{constructor(e,r){this.type=wr,this.geojson=e,this.geometries=r}static parse(e,r){if(e.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if($o(e[1])){const l=e[1];if(l.type==="FeatureCollection"){const c=[];for(const p of l.features){const{type:m,coordinates:x}=p.geometry;m==="Polygon"&&c.push(x),m==="MultiPolygon"&&c.push(...x)}if(c.length)return new Ws(l,{type:"MultiPolygon",coordinates:c})}else if(l.type==="Feature"){const c=l.geometry.type;if(c==="Polygon"||c==="MultiPolygon")return new Ws(l,l.geometry)}else if(l.type==="Polygon"||l.type==="MultiPolygon")return new Ws(l,l)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return(function(r,l){const c=[1/0,1/0,-1/0,-1/0],p=[1/0,1/0,-1/0,-1/0],m=r.canonicalID();if(l.type==="Polygon"){const x=c4(l.coordinates,p,m),M=k5(r.geometry(),c,p,m);if(!Ys(c,p))return!1;for(const D of M)if(!Mo(D,x))return!1}if(l.type==="MultiPolygon"){const x=C1(l.coordinates,p,m),M=k5(r.geometry(),c,p,m);if(!Ys(c,p))return!1;for(const D of M)if(!l4(D,x))return!1}return!0})(e,this.geometries);if(e.geometryType()==="LineString")return(function(r,l){const c=[1/0,1/0,-1/0,-1/0],p=[1/0,1/0,-1/0,-1/0],m=r.canonicalID();if(l.type==="Polygon"){const x=c4(l.coordinates,p,m),M=h2(r.geometry(),c,p,m);if(!Ys(c,p))return!1;for(const D of M)if(!O5(D,x))return!1}if(l.type==="MultiPolygon"){const x=C1(l.coordinates,p,m),M=h2(r.geometry(),c,p,m);if(!Ys(c,p))return!1;for(const D of M)if(!F5(D,x))return!1}return!0})(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let h3=class{constructor(n=[],e=(r,l)=>r<l?-1:r>l?1:0){if(this.data=n,this.length=this.data.length,this.compare=e,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],e=this.data.pop();return--this.length>0&&(this.data[0]=e,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:e,compare:r}=this,l=e[n];for(;n>0;){const c=n-1>>1,p=e[c];if(r(l,p)>=0)break;e[n]=p,n=c}e[n]=l}_down(n){const{data:e,compare:r}=this,l=this.length>>1,c=e[n];for(;n<l;){let p=1+(n<<1);const m=p+1;if(m<this.length&&r(e[m],e[p])<0&&(p=m),r(e[p],c)>=0)break;e[n]=e[p],n=p}e[n]=c}};function d2(n,e,r=0,l=n.length-1,c=d3){for(;l>r;){if(l-r>600){const M=l-r+1,D=e-r+1,L=Math.log(M),Q=.5*Math.exp(2*L/3),Y=.5*Math.sqrt(L*Q*(M-Q)/M)*(D-M/2<0?-1:1);d2(n,e,Math.max(r,Math.floor(e-D*Q/M+Y)),Math.min(l,Math.floor(e+(M-D)*Q/M+Y)),c)}const p=n[e];let m=r,x=l;for(Ks(n,r,e),c(n[l],p)>0&&Ks(n,r,l);m<x;){for(Ks(n,m,x),m++,x--;c(n[m],p)<0;)m++;for(;c(n[x],p)>0;)x--}c(n[r],p)===0?Ks(n,r,x):(x++,Ks(n,x,l)),x<=e&&(r=x+1),e<=x&&(l=x-1)}}function Ks(n,e,r){const l=n[e];n[e]=n[r],n[r]=l}function d3(n,e){return n<e?-1:n>e?1:0}function f2(n,e){if(n.length<=1)return[n];const r=[];let l,c;for(const p of n){const m=i0(p);m!==0&&(p.area=Math.abs(m),c===void 0&&(c=m<0),c===m<0?(l&&r.push(l),l=[p]):l.push(p))}if(l&&r.push(l),e>1)for(let p=0;p<r.length;p++)r[p].length<=e||(d2(r[p],e,1,r[p].length-1,z5),r[p]=r[p].slice(0,e));return r}function z5(n,e){return e.area-n.area}function i0(n){let e=0;for(let r,l,c=0,p=n.length,m=p-1;c<p;m=c++)r=n[c],l=n[m],e+=(l.x-r.x)*(r.y+l.y);return e}const B5=1/298.257223563,p2=B5*(2-B5),L5=Math.PI/180;class f3{constructor(e){const r=6378.137*L5*1e3,l=Math.cos(e*L5),c=1/(1-p2*(1-l*l)),p=Math.sqrt(c);this.kx=r*p*l,this.ky=r*p*c*(1-p2)}distance(e,r){const l=this.wrap(e[0]-r[0])*this.kx,c=(e[1]-r[1])*this.ky;return Math.sqrt(l*l+c*c)}pointOnLine(e,r){let l,c,p,m,x=1/0;for(let M=0;M<e.length-1;M++){let D=e[M][0],L=e[M][1],Q=this.wrap(e[M+1][0]-D)*this.kx,Y=(e[M+1][1]-L)*this.ky,W=0;Q===0&&Y===0||(W=(this.wrap(r[0]-D)*this.kx*Q+(r[1]-L)*this.ky*Y)/(Q*Q+Y*Y),W>1?(D=e[M+1][0],L=e[M+1][1]):W>0&&(D+=Q/this.kx*W,L+=Y/this.ky*W)),Q=this.wrap(r[0]-D)*this.kx,Y=(r[1]-L)*this.ky;const ne=Q*Q+Y*Y;ne<x&&(x=ne,l=D,c=L,p=M,m=W)}return{point:[l,c],index:p,t:Math.max(0,Math.min(1,m))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function Ta(n,e){return e[0]-n[0]}function Js(n){return n[1]-n[0]+1}function ao(n,e){return n[1]>=n[0]&&n[1]<e}function m2(n,e){if(n[0]>n[1])return[null,null];const r=Js(n);if(e){if(r===2)return[n,null];const c=Math.floor(r/2);return[[n[0],n[0]+c],[n[0]+c,n[1]]]}if(r===1)return[n,null];const l=Math.floor(r/2)-1;return[[n[0],n[0]+l],[n[0]+l+1,n[1]]]}function h4(n,e){if(!ao(e,n.length))return[1/0,1/0,-1/0,-1/0];const r=[1/0,1/0,-1/0,-1/0];for(let l=e[0];l<=e[1];++l)Sl(r,n[l]);return r}function d4(n){const e=[1/0,1/0,-1/0,-1/0];for(const r of n)for(const l of r)Sl(e,l);return e}function g2(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function f4(n,e,r){if(!g2(n)||!g2(e))return NaN;let l=0,c=0;return n[2]<e[0]&&(l=e[0]-n[2]),n[0]>e[2]&&(l=n[0]-e[2]),n[1]>e[3]&&(c=n[1]-e[3]),n[3]<e[1]&&(c=e[1]-n[3]),r.distance([0,0],[l,c])}function oo(n,e,r){const l=r.pointOnLine(e,n);return r.distance(n,l.point)}function y2(n,e,r,l,c){const p=Math.min(oo(n,[r,l],c),oo(e,[r,l],c)),m=Math.min(oo(r,[n,e],c),oo(l,[n,e],c));return Math.min(p,m)}function _2(n,e,r,l,c){if(!ao(e,n.length)||!ao(l,r.length))return 1/0;let p=1/0;for(let m=e[0];m<e[1];++m){const x=n[m],M=n[m+1];for(let D=l[0];D<l[1];++D){const L=r[D],Q=r[D+1];if(c2(x,M,L,Q))return 0;p=Math.min(p,y2(x,M,L,Q,c))}}return p}function p4(n,e,r,l,c){if(!ao(e,n.length)||!ao(l,r.length))return NaN;let p=1/0;for(let m=e[0];m<=e[1];++m)for(let x=l[0];x<=l[1];++x)if(p=Math.min(p,c.distance(n[m],r[x])),p===0)return p;return p}function U5(n,e,r){if(Mo(n,e,!0))return 0;let l=1/0;for(const c of e){const p=c[0],m=c[c.length-1];if(p!==m&&(l=Math.min(l,oo(n,[m,p],r)),l===0))return l;const x=r.pointOnLine(c,n);if(l=Math.min(l,r.distance(n,x.point)),l===0)return l}return l}function P1(n,e,r,l){if(!ao(e,n.length))return NaN;for(let p=e[0];p<=e[1];++p)if(Mo(n[p],r,!0))return 0;let c=1/0;for(let p=e[0];p<e[1];++p){const m=n[p],x=n[p+1];for(const M of r)for(let D=0,L=M.length,Q=L-1;D<L;Q=D++){const Y=M[Q],W=M[D];if(c2(m,x,Y,W))return 0;c=Math.min(c,y2(m,x,Y,W,l))}}return c}function R1(n,e){for(const r of n)for(const l of r)if(Mo(l,e,!0))return!0;return!1}function p3(n,e,r,l=1/0){const c=d4(n),p=d4(e);if(l!==1/0&&f4(c,p,r)>=l)return l;if(Ys(c,p)){if(R1(n,e))return 0}else if(R1(e,n))return 0;let m=1/0;for(const x of n)for(let M=0,D=x.length,L=D-1;M<D;L=M++){const Q=x[L],Y=x[M];for(const W of e)for(let ne=0,oe=W.length,ce=oe-1;ne<oe;ce=ne++){const ye=W[ce],Le=W[ne];if(c2(Q,Y,ye,Le))return 0;m=Math.min(m,y2(Q,Y,ye,Le,r))}}return m}function ln(n,e,r,l,c,p){if(!p)return;const m=f4(h4(l,p),c,r);m<e&&n.push([m,p,[0,0]])}function Ho(n,e,r,l,c,p,m){if(!p||!m)return;const x=f4(h4(l,p),h4(c,m),r);x<e&&n.push([x,p,m])}function v2(n,e,r,l,c=1/0){let p=Math.min(l.distance(n[0],r[0][0]),c);if(p===0)return p;const m=new h3([[0,[0,n.length-1],[0,0]]],Ta),x=d4(r);for(;m.length>0;){const M=m.pop();if(M[0]>=p)continue;const D=M[1],L=e?50:100;if(Js(D)<=L){if(!ao(D,n.length))return NaN;if(e){const Q=P1(n,D,r,l);if(isNaN(Q)||Q===0)return Q;p=Math.min(p,Q)}else for(let Q=D[0];Q<=D[1];++Q){const Y=U5(n[Q],r,l);if(p=Math.min(p,Y),p===0)return 0}}else{const Q=m2(D,e);ln(m,p,l,n,x,Q[0]),ln(m,p,l,n,x,Q[1])}}return p}function b2(n,e,r,l,c,p=1/0){let m=Math.min(p,c.distance(n[0],r[0]));if(m===0)return m;const x=new h3([[0,[0,n.length-1],[0,r.length-1]]],Ta);for(;x.length>0;){const M=x.pop();if(M[0]>=m)continue;const D=M[1],L=M[2],Q=e?50:100,Y=l?50:100;if(Js(D)<=Q&&Js(L)<=Y){if(!ao(D,n.length)&&ao(L,r.length))return NaN;let W;if(e&&l)W=_2(n,D,r,L,c),m=Math.min(m,W);else if(e&&!l){const ne=n.slice(D[0],D[1]+1);for(let oe=L[0];oe<=L[1];++oe)if(W=oo(r[oe],ne,c),m=Math.min(m,W),m===0)return m}else if(!e&&l){const ne=r.slice(L[0],L[1]+1);for(let oe=D[0];oe<=D[1];++oe)if(W=oo(n[oe],ne,c),m=Math.min(m,W),m===0)return m}else W=p4(n,D,r,L,c),m=Math.min(m,W)}else{const W=m2(D,e),ne=m2(L,l);Ho(x,m,c,n,r,W[0],ne[0]),Ho(x,m,c,n,r,W[0],ne[1]),Ho(x,m,c,n,r,W[1],ne[0]),Ho(x,m,c,n,r,W[1],ne[1])}}return m}function m4(n){return n.type==="MultiPolygon"?n.coordinates.map((e=>({type:"Polygon",coordinates:e}))):n.type==="MultiLineString"?n.coordinates.map((e=>({type:"LineString",coordinates:e}))):n.type==="MultiPoint"?n.coordinates.map((e=>({type:"Point",coordinates:e}))):[n]}class I1{constructor(e,r){this.type=Lt,this.geojson=e,this.geometries=r}static parse(e,r){if(e.length!==2)return r.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if($o(e[1])){const l=e[1];if(l.type==="FeatureCollection")return new I1(l,l.features.map((c=>m4(c.geometry))).flat());if(l.type==="Feature")return new I1(l,m4(l.geometry));if("type"in l&&"coordinates"in l)return new I1(l,m4(l))}return r.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return(function(r,l){const c=r.geometry(),p=c.flat().map((M=>wl([M.x,M.y],r.canonical)));if(c.length===0)return NaN;const m=new f3(p[0][1]);let x=1/0;for(const M of l){switch(M.type){case"Point":x=Math.min(x,b2(p,!1,[M.coordinates],!1,m,x));break;case"LineString":x=Math.min(x,b2(p,!1,M.coordinates,!0,m,x));break;case"Polygon":x=Math.min(x,v2(p,!1,M.coordinates,m,x))}if(x===0)return x}return x})(e,this.geometries);if(e.geometryType()==="LineString")return(function(r,l){const c=r.geometry(),p=c.flat().map((M=>wl([M.x,M.y],r.canonical)));if(c.length===0)return NaN;const m=new f3(p[0][1]);let x=1/0;for(const M of l){switch(M.type){case"Point":x=Math.min(x,b2(p,!0,[M.coordinates],!1,m,x));break;case"LineString":x=Math.min(x,b2(p,!0,M.coordinates,!0,m,x));break;case"Polygon":x=Math.min(x,v2(p,!0,M.coordinates,m,x))}if(x===0)return x}return x})(e,this.geometries);if(e.geometryType()==="Polygon")return(function(r,l){const c=r.geometry();if(c.length===0||c[0].length===0)return NaN;const p=f2(c,0).map((M=>M.map((D=>D.map((L=>wl([L.x,L.y],r.canonical))))))),m=new f3(p[0][0][0][1]);let x=1/0;for(const M of l)for(const D of p){switch(M.type){case"Point":x=Math.min(x,v2([M.coordinates],!1,D,m,x));break;case"LineString":x=Math.min(x,v2(M.coordinates,!0,D,m,x));break;case"Polygon":x=Math.min(x,p3(D,M.coordinates,m,x))}if(x===0)return x}return x})(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class x2{constructor(e){this.type=yr,this.key=e}static parse(e,r){if(e.length!==2)return r.error(`Expected 1 argument, but found ${e.length-1} instead.`);const l=e[1];return l==null?r.error("Global state property must be defined."):typeof l!="string"?r.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new x2(l)}evaluate(e){var r;const l=(r=e.globals)===null||r===void 0?void 0:r.globalState;return l&&Object.keys(l).length!==0?ml(l,this.key):null}eachChild(){}outputDefined(){return!1}}const Al={"==":R5,"!=":o4,">":n0,"<":I5,">=":s4,"<=":yl,array:pa,at:Gr,boolean:pa,case:a2,coalesce:M1,collator:_l,format:u2,image:vl,in:Cr,"index-of":E1,interpolate:ga,"interpolate-hcl":ga,"interpolate-lab":ga,length:bl,let:_n,literal:La,match:rn,number:pa,"number-format":c3,object:pa,slice:io,step:Xs,string:pa,"to-boolean":ma,"to-color":ma,"to-number":ma,"to-string":ma,var:Hs,within:Ws,distance:I1,"global-state":x2};class Ua{constructor(e,r,l,c){this.name=e,this.type=r,this._evaluate=l,this.args=c}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,r){const l=e[0],c=Ua.definitions[l];if(!c)return r.error(`Unknown expression "${l}". If you wanted a literal array, use ["literal", [...]].`,0);const p=Array.isArray(c)?c[0]:c.type,m=Array.isArray(c)?[[c[1],c[2]]]:c.overloads,x=m.filter((([D])=>!Array.isArray(D)||D.length===e.length-1));let M=null;for(const[D,L]of x){M=new A1(r.registry,ya,r.path,null,r.scope);const Q=[];let Y=!1;for(let W=1;W<e.length;W++){const ne=e[W],oe=Array.isArray(D)?D[W-1]:D.type,ce=M.parse(ne,1+Q.length,oe);if(!ce){Y=!0;break}Q.push(ce)}if(!Y)if(Array.isArray(D)&&D.length!==Q.length)M.error(`Expected ${D.length} arguments, but found ${Q.length} instead.`);else{for(let W=0;W<Q.length;W++){const ne=Array.isArray(D)?D[W]:D.type,oe=Q[W];M.concat(W+1).checkSubtype(ne,oe.type)}if(M.errors.length===0)return new Ua(l,p,L,Q)}}if(x.length===1)r.errors.push(...M.errors);else{const D=(x.length?x:m).map((([Q])=>{return Y=Q,Array.isArray(Y)?`(${Y.map(kr).join(", ")})`:`(${kr(Y.type)}...)`;var Y})).join(" | "),L=[];for(let Q=1;Q<e.length;Q++){const Y=r.parse(e[Q],1+L.length);if(!Y)return null;L.push(kr(Y.type))}r.error(`Expected arguments of type ${D}, but found (${L.join(", ")}) instead.`)}return null}static register(e,r){Ua.definitions=r;for(const l in r)e[l]=Ua}}function m3(n,[e,r,l,c]){e=e.evaluate(n),r=r.evaluate(n),l=l.evaluate(n);const p=c?c.evaluate(n):1,m=Ba(e,r,l,p);if(m)throw new Tn(m);return new Dr(e/255,r/255,l/255,p,!1)}function g4(n,e){return n in e}function ja(n,e){const r=e[n];return r===void 0?null:r}function Zo(n){return{type:n}}function ya(n){if(n instanceof Hs)return ya(n.boundExpression);if(n instanceof Ua&&n.name==="error"||n instanceof _l||n instanceof Ws||n instanceof I1||n instanceof x2)return!1;const e=n instanceof ma||n instanceof pa;let r=!0;return n.eachChild((l=>{r=e?r&&ya(l):r&&l instanceof La})),!!r&&vs(n)&&D1(n,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function vs(n){if(n instanceof Ua&&(n.name==="get"&&n.args.length===1||n.name==="feature-state"||n.name==="has"&&n.args.length===1||n.name==="properties"||n.name==="geometry-type"||n.name==="id"||/^filter-/.test(n.name))||n instanceof Ws||n instanceof I1)return!1;let e=!0;return n.eachChild((r=>{e&&!vs(r)&&(e=!1)})),e}function N1(n){if(n instanceof Ua&&n.name==="feature-state")return!1;let e=!0;return n.eachChild((r=>{e&&!N1(r)&&(e=!1)})),e}function D1(n,e){if(n instanceof Ua&&e.indexOf(n.name)>=0)return!1;let r=!0;return n.eachChild((l=>{r&&!D1(l,e)&&(r=!1)})),r}function w2(n){return{result:"success",value:n}}function e1(n){return{result:"error",value:n}}function so(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function g3(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function El(n){return!!n.expression&&n.expression.interpolated}function Rr(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function y4(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&jn(n)===oi}function Ga(n){return n}function _4(n,e){const r=n.stops&&typeof n.stops[0][0]=="object",l=r||!(r||n.property!==void 0),c=n.type||(El(e)?"exponential":"interval"),p=(function(L){switch(L.type){case"color":return Dr.parse;case"padding":return pi.parse;case"numberArray":return Un.parse;case"colorArray":return xr.parse;default:return null}})(e);if(p&&((n=Nn({},n)).stops&&(n.stops=n.stops.map((L=>[L[0],p(L[1])]))),n.default=p(n.default?n.default:e.default)),n.colorSpace&&(m=n.colorSpace)!=="rgb"&&m!=="hcl"&&m!=="lab")throw new Error(`Unknown color space: "${n.colorSpace}"`);var m;const x=(function(L){switch(L){case"exponential":return t1;case"interval":return v4;case"categorical":return j5;case"identity":return y3;default:throw new Error(`Unknown function type "${L}"`)}})(c);let M,D;if(c==="categorical"){M=Object.create(null);for(const L of n.stops)M[L[0]]=L[1];D=typeof n.stops[0][0]}if(r){const L={},Q=[];for(let ne=0;ne<n.stops.length;ne++){const oe=n.stops[ne],ce=oe[0].zoom;L[ce]===void 0&&(L[ce]={zoom:ce,type:n.type,property:n.property,default:n.default,stops:[]},Q.push(ce)),L[ce].stops.push([oe[0].value,oe[1]])}const Y=[];for(const ne of Q)Y.push([L[ne].zoom,_4(L[ne],e)]);const W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:ga.interpolationFactor.bind(void 0,W),zoomStops:Y.map((ne=>ne[0])),evaluate:({zoom:ne},oe)=>t1({stops:Y,base:n.base},e,ne).evaluate(ne,oe)}}if(l){const L=c==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:L,interpolationFactor:ga.interpolationFactor.bind(void 0,L),zoomStops:n.stops.map((Q=>Q[0])),evaluate:({zoom:Q})=>x(n,e,Q,M,D)}}return{kind:"source",evaluate(L,Q){const Y=Q&&Q.properties?Q.properties[n.property]:void 0;return Y===void 0?Va(n.default,e.default):x(n,e,Y,M,D)}}}function Va(n,e,r){return n!==void 0?n:e!==void 0?e:r!==void 0?r:void 0}function j5(n,e,r,l,c){return Va(typeof r===c?l[r]:void 0,n.default,e.default)}function v4(n,e,r){if(Rr(r)!=="number")return Va(n.default,e.default);const l=n.stops.length;if(l===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[l-1][0])return n.stops[l-1][1];const c=Zs(n.stops.map((p=>p[0])),r);return n.stops[c][1]}function t1(n,e,r){const l=n.base!==void 0?n.base:1;if(Rr(r)!=="number")return Va(n.default,e.default);const c=n.stops.length;if(c===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[c-1][0])return n.stops[c-1][1];const p=Zs(n.stops.map((L=>L[0])),r),m=(function(L,Q,Y,W){const ne=W-Y,oe=L-Y;return ne===0?0:Q===1?oe/ne:(Math.pow(Q,oe)-1)/(Math.pow(Q,ne)-1)})(r,l,n.stops[p][0],n.stops[p+1][0]),x=n.stops[p][1],M=n.stops[p+1][1],D=Gn[e.type]||Ga;return typeof x.evaluate=="function"?{evaluate(...L){const Q=x.evaluate.apply(void 0,L),Y=M.evaluate.apply(void 0,L);if(Q!==void 0&&Y!==void 0)return D(Q,Y,m,n.colorSpace)}}:D(x,M,m,n.colorSpace)}function y3(n,e,r){switch(e.type){case"color":r=Dr.parse(r);break;case"formatted":r=Ri.fromString(r.toString());break;case"resolvedImage":r=fa.fromString(r.toString());break;case"padding":r=pi.parse(r);break;case"colorArray":r=xr.parse(r);break;case"numberArray":r=Un.parse(r);break;default:Rr(r)===e.type||e.type==="enum"&&e.values[r]||(r=void 0)}return Va(r,n.default,e.default)}Ua.register(Al,{error:[{kind:"error"},[dr],(n,[e])=>{throw new Tn(e.evaluate(n))}],typeof:[dr,[yr],(n,[e])=>kr(jn(e.evaluate(n)))],"to-rgba":[Ar(Lt,4),[Si],(n,[e])=>{const[r,l,c,p]=e.evaluate(n).rgb;return[255*r,255*l,255*c,p]}],rgb:[Si,[Lt,Lt,Lt],m3],rgba:[Si,[Lt,Lt,Lt,Lt],m3],has:{type:wr,overloads:[[[dr],(n,[e])=>g4(e.evaluate(n),n.properties())],[[dr,oi],(n,[e,r])=>g4(e.evaluate(n),r.evaluate(n))]]},get:{type:yr,overloads:[[[dr],(n,[e])=>ja(e.evaluate(n),n.properties())],[[dr,oi],(n,[e,r])=>ja(e.evaluate(n),r.evaluate(n))]]},"feature-state":[yr,[dr],(n,[e])=>ja(e.evaluate(n),n.featureState||{})],properties:[oi,[],n=>n.properties()],"geometry-type":[dr,[],n=>n.geometryType()],id:[yr,[],n=>n.id()],zoom:[Lt,[],n=>n.globals.zoom],"heatmap-density":[Lt,[],n=>n.globals.heatmapDensity||0],elevation:[Lt,[],n=>n.globals.elevation||0],"line-progress":[Lt,[],n=>n.globals.lineProgress||0],accumulated:[yr,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Lt,Zo(Lt),(n,e)=>{let r=0;for(const l of e)r+=l.evaluate(n);return r}],"*":[Lt,Zo(Lt),(n,e)=>{let r=1;for(const l of e)r*=l.evaluate(n);return r}],"-":{type:Lt,overloads:[[[Lt,Lt],(n,[e,r])=>e.evaluate(n)-r.evaluate(n)],[[Lt],(n,[e])=>-e.evaluate(n)]]},"/":[Lt,[Lt,Lt],(n,[e,r])=>e.evaluate(n)/r.evaluate(n)],"%":[Lt,[Lt,Lt],(n,[e,r])=>e.evaluate(n)%r.evaluate(n)],ln2:[Lt,[],()=>Math.LN2],pi:[Lt,[],()=>Math.PI],e:[Lt,[],()=>Math.E],"^":[Lt,[Lt,Lt],(n,[e,r])=>Math.pow(e.evaluate(n),r.evaluate(n))],sqrt:[Lt,[Lt],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Lt,[Lt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Lt,[Lt],(n,[e])=>Math.log(e.evaluate(n))],log2:[Lt,[Lt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Lt,[Lt],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Lt,[Lt],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Lt,[Lt],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Lt,[Lt],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Lt,[Lt],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Lt,[Lt],(n,[e])=>Math.atan(e.evaluate(n))],min:[Lt,Zo(Lt),(n,e)=>Math.min(...e.map((r=>r.evaluate(n))))],max:[Lt,Zo(Lt),(n,e)=>Math.max(...e.map((r=>r.evaluate(n))))],abs:[Lt,[Lt],(n,[e])=>Math.abs(e.evaluate(n))],round:[Lt,[Lt],(n,[e])=>{const r=e.evaluate(n);return r<0?-Math.round(-r):Math.round(r)}],floor:[Lt,[Lt],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Lt,[Lt],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[wr,[dr,yr],(n,[e,r])=>n.properties()[e.value]===r.value],"filter-id-==":[wr,[yr],(n,[e])=>n.id()===e.value],"filter-type-==":[wr,[dr],(n,[e])=>n.geometryType()===e.value],"filter-<":[wr,[dr,yr],(n,[e,r])=>{const l=n.properties()[e.value],c=r.value;return typeof l==typeof c&&l<c}],"filter-id-<":[wr,[yr],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r<l}],"filter->":[wr,[dr,yr],(n,[e,r])=>{const l=n.properties()[e.value],c=r.value;return typeof l==typeof c&&l>c}],"filter-id->":[wr,[yr],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r>l}],"filter-<=":[wr,[dr,yr],(n,[e,r])=>{const l=n.properties()[e.value],c=r.value;return typeof l==typeof c&&l<=c}],"filter-id-<=":[wr,[yr],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r<=l}],"filter->=":[wr,[dr,yr],(n,[e,r])=>{const l=n.properties()[e.value],c=r.value;return typeof l==typeof c&&l>=c}],"filter-id->=":[wr,[yr],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r>=l}],"filter-has":[wr,[yr],(n,[e])=>e.value in n.properties()],"filter-has-id":[wr,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[wr,[Ar(dr)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[wr,[Ar(yr)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[wr,[dr,Ar(yr)],(n,[e,r])=>r.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[wr,[dr,Ar(yr)],(n,[e,r])=>(function(l,c,p,m){for(;p<=m;){const x=p+m>>1;if(c[x]===l)return!0;c[x]>l?m=x-1:p=x+1}return!1})(n.properties()[e.value],r.value,0,r.value.length-1)],all:{type:wr,overloads:[[[wr,wr],(n,[e,r])=>e.evaluate(n)&&r.evaluate(n)],[Zo(wr),(n,e)=>{for(const r of e)if(!r.evaluate(n))return!1;return!0}]]},any:{type:wr,overloads:[[[wr,wr],(n,[e,r])=>e.evaluate(n)||r.evaluate(n)],[Zo(wr),(n,e)=>{for(const r of e)if(r.evaluate(n))return!0;return!1}]]},"!":[wr,[wr],(n,[e])=>!e.evaluate(n)],"is-supported-script":[wr,[dr],(n,[e])=>{const r=n.globals&&n.globals.isSupportedScript;return!r||r(e.evaluate(n))}],upcase:[dr,[dr],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[dr,[dr],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[dr,Zo(yr),(n,e)=>e.map((r=>Qs(r.evaluate(n)))).join("")],"resolved-locale":[dr,[ca],(n,[e])=>e.evaluate(n).resolvedLocale()]});class b4{constructor(e,r,l){this.expression=e,this._warningHistory={},this._evaluator=new T1,this._defaultValue=r?(function(c){if(c.type==="color"&&y4(c.default))return new Dr(0,0,0,0);switch(c.type){case"color":return Dr.parse(c.default)||null;case"padding":return pi.parse(c.default)||null;case"numberArray":return Un.parse(c.default)||null;case"colorArray":return xr.parse(c.default)||null;case"variableAnchorOffsetCollection":return Kn.parse(c.default)||null;case"projectionDefinition":return Ii.parse(c.default)||null;default:return c.default===void 0?null:c.default}})(r):null,this._enumValues=r&&r.type==="enum"?r.values:null,this._globalState=l}evaluateWithoutErrorHandling(e,r,l,c,p,m){return this._globalState&&(e=ki(e,this._globalState)),this._evaluator.globals=e,this._evaluator.feature=r,this._evaluator.featureState=l,this._evaluator.canonical=c,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=m,this.expression.evaluate(this._evaluator)}evaluate(e,r,l,c,p,m){this._globalState&&(e=ki(e,this._globalState)),this._evaluator.globals=e,this._evaluator.feature=r||null,this._evaluator.featureState=l||null,this._evaluator.canonical=c,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=m||null;try{const x=this.expression.evaluate(this._evaluator);if(x==null||typeof x=="number"&&x!=x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new Tn(`Expected value to be one of ${Object.keys(this._enumValues).map((M=>JSON.stringify(M))).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,typeof console<"u"&&console.warn(x.message)),this._defaultValue}}}function r1(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in Al}function Ml(n,e,r){const l=new A1(Al,ya,[],e?(function(p){const m={color:Si,string:dr,number:Lt,enum:dr,boolean:wr,formatted:lr,padding:Ir,numberArray:Nr,colorArray:Br,projectionDefinition:za,resolvedImage:_r,variableAnchorOffsetCollection:kn};return p.type==="array"?Ar(m[p.value]||yr,p.length):m[p.type]})(e):void 0),c=l.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?w2(new b4(c,e,r)):e1(l.errors)}class _a{constructor(e,r,l){this.kind=e,this._styleExpression=r,this.isStateDependent=e!=="constant"&&!N1(r.expression),this.globalStateRefs=Ni(r.expression),this._globalState=l}evaluateWithoutErrorHandling(e,r,l,c,p,m){return this._globalState&&(e=ki(e,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(e,r,l,c,p,m)}evaluate(e,r,l,c,p,m){return this._globalState&&(e=ki(e,this._globalState)),this._styleExpression.evaluate(e,r,l,c,p,m)}}class n1{constructor(e,r,l,c,p){this.kind=e,this.zoomStops=l,this._styleExpression=r,this.isStateDependent=e!=="camera"&&!N1(r.expression),this.globalStateRefs=Ni(r.expression),this.interpolationType=c,this._globalState=p}evaluateWithoutErrorHandling(e,r,l,c,p,m){return this._globalState&&(e=ki(e,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(e,r,l,c,p,m)}evaluate(e,r,l,c,p,m){return this._globalState&&(e=ki(e,this._globalState)),this._styleExpression.evaluate(e,r,l,c,p,m)}interpolationFactor(e,r,l){return this.interpolationType?ga.interpolationFactor(this.interpolationType,e,r,l):0}}function i1(n,e,r){const l=Ml(n,e,r);if(l.result==="error")return l;const c=l.value.expression,p=vs(c);if(!p&&!so(e))return e1([new Fn("","data expressions not supported")]);const m=D1(c,["zoom"]);if(!m&&!g3(e))return e1([new Fn("","zoom expressions not supported")]);const x=a1(c);return x||m?x instanceof Fn?e1([x]):x instanceof ga&&!El(e)?e1([new Fn("",'"interpolate" expressions cannot be used with this property')]):w2(x?new n1(p?"camera":"composite",l.value,x.labels,x instanceof ga?x.interpolation:void 0,r):new _a(p?"constant":"source",l.value,r)):e1([new Fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class O1{constructor(e,r){this._parameters=e,this._specification=r,Nn(this,_4(this._parameters,this._specification))}static deserialize(e){return new O1(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function a1(n){let e=null;if(n instanceof _n)e=a1(n.result);else if(n instanceof M1){for(const r of n.args)if(e=a1(r),e)break}else(n instanceof Xs||n instanceof ga)&&n.input instanceof Ua&&n.input.name==="zoom"&&(e=n);return e instanceof Fn||n.eachChild((r=>{const l=a1(r);l instanceof Fn?e=l:!e&&l?e=new Fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&l&&e!==l&&(e=new Fn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function Ni(n,e=new Set){return n instanceof x2&&e.add(n.key),n.eachChild((r=>{Ni(r,e)})),e}function ki(n,e){const{zoom:r,heatmapDensity:l,elevation:c,lineProgress:p,isSupportedScript:m,accumulated:x}=n??{};return{zoom:r,heatmapDensity:l,elevation:c,lineProgress:p,isSupportedScript:m,accumulated:x,globalState:e}}function Xo(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Xo(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const Yo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Aa(n,e){if(n==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Xo(n)||(n=F1(n));const r=Ml(n,Yo,e);if(r.result==="error")throw new Error(r.value.map((l=>`${l.key}: ${l.message}`)).join(", "));return{filter:(l,c,p)=>r.value.evaluate(l,c,{},p),needGeometry:_3(n),getGlobalStateRefs:()=>Ni(r.value.expression)}}function bs(n,e){return n<e?-1:n>e?1:0}function _3(n){if(!Array.isArray(n))return!1;if(n[0]==="within"||n[0]==="distance")return!0;for(let e=1;e<n.length;e++)if(_3(n[e]))return!0;return!1}function F1(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?Cl(n[1],n[2],"=="):e==="!="?An(Cl(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?Cl(n[1],n[2],e):e==="any"?(r=n.slice(1),["any"].concat(r.map(F1))):e==="all"?["all"].concat(n.slice(1).map(F1)):e==="none"?["all"].concat(n.slice(1).map(F1).map(An)):e==="in"?v3(n[1],n.slice(2)):e==="!in"?An(v3(n[1],n.slice(2))):e==="has"?zi(n[1]):e!=="!has"||An(zi(n[1]));var r}function Cl(n,e,r){switch(n){case"$type":return[`filter-type-${r}`,e];case"$id":return[`filter-id-${r}`,e];default:return[`filter-${r}`,n,e]}}function v3(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((r=>typeof r!=typeof e[0]))?["filter-in-large",n,["literal",e.sort(bs)]]:["filter-in-small",n,["literal",e]]}}function zi(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function An(n){return["!",n]}function Wr(n){const e=typeof n;if(e==="number"||e==="boolean"||e==="string"||n==null)return JSON.stringify(n);if(Array.isArray(n)){let c="[";for(const p of n)c+=`${Wr(p)},`;return`${c}]`}const r=Object.keys(n).sort();let l="{";for(let c=0;c<r.length;c++)l+=`${JSON.stringify(r[c])}:${Wr(n[r[c]])},`;return`${l}}`}function xs(n){let e="";for(const r of gr)e+=`/${Wr(n[r])}`;return e}function qa(n){const e=n.value;return e?[new Ft(n.key,e,"constants have been deprecated as of v8")]:[]}function Hn(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function Ea(n){if(Array.isArray(n))return n.map(Ea);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const r in n)e[r]=Ea(n[r]);return e}return Hn(n)}function Ma(n){const e=n.key,r=n.value,l=n.valueSpec||{},c=n.objectElementValidators||{},p=n.style,m=n.styleSpec,x=n.validateSpec;let M=[];const D=Rr(r);if(D!=="object")return[new Ft(e,r,`object expected, ${D} found`)];for(const L in r){const Q=L.split(".")[0],Y=ml(l,Q)||l["*"];let W;if(ml(c,Q))W=c[Q];else if(ml(l,Q)){if(r[L]===void 0)continue;W=x}else if(c["*"])W=c["*"];else{if(!l["*"]){M.push(new Ft(e,r[L],`unknown property "${L}"`));continue}W=x}M=M.concat(W({key:(e&&`${e}.`)+L,value:r[L],valueSpec:Y,style:p,styleSpec:m,object:r,objectKey:L,validateSpec:x},r))}for(const L in l)c[L]||l[L].required&&l[L].default===void 0&&r[L]===void 0&&M.push(new Ft(e,r,`missing required property "${L}"`));return M}function S2(n){const e=n.value,r=n.valueSpec,l=n.style,c=n.styleSpec,p=n.key,m=n.arrayElementValidator||n.validateSpec;if(Rr(e)!=="array")return[new Ft(p,e,`array expected, ${Rr(e)} found`)];if(r.length&&e.length!==r.length)return[new Ft(p,e,`array length ${r.length} expected, length ${e.length} found`)];let x={type:r.value,values:r.values};c.$version<7&&(x.function=r.function),Rr(r.value)==="object"&&(x=r.value);let M=[];for(let D=0;D<e.length;D++)M=M.concat(m({array:e,arrayIndex:D,value:e[D],valueSpec:x,validateSpec:n.validateSpec,style:l,styleSpec:c,key:`${p}[${D}]`}));return M}function Wo(n){const e=n.key,r=n.value,l=n.valueSpec;let c=Rr(r);return c==="number"&&r!=r&&(c="NaN"),c!=="number"?[new Ft(e,r,`number expected, ${c} found`)]:"minimum"in l&&r<l.minimum?[new Ft(e,r,`${r} is less than the minimum value ${l.minimum}`)]:"maximum"in l&&r>l.maximum?[new Ft(e,r,`${r} is greater than the maximum value ${l.maximum}`)]:[]}function Ko(n){const e=n.valueSpec,r=Hn(n.value.type);let l,c,p,m={};const x=r!=="categorical"&&n.value.property===void 0,M=!x,D=Rr(n.value.stops)==="array"&&Rr(n.value.stops[0])==="array"&&Rr(n.value.stops[0][0])==="object",L=Ma({key:n.key,value:n.value,valueSpec:n.styleSpec.function,validateSpec:n.validateSpec,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(W){if(r==="identity")return[new Ft(W.key,W.value,'identity function may not have a "stops" property')];let ne=[];const oe=W.value;return ne=ne.concat(S2({key:W.key,value:oe,valueSpec:W.valueSpec,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,arrayElementValidator:Q})),Rr(oe)==="array"&&oe.length===0&&ne.push(new Ft(W.key,oe,"array must have at least one stop")),ne},default:function(W){return W.validateSpec({key:W.key,value:W.value,valueSpec:e,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec})}}});return r==="identity"&&x&&L.push(new Ft(n.key,n.value,'missing required property "property"')),r==="identity"||n.value.stops||L.push(new Ft(n.key,n.value,'missing required property "stops"')),r==="exponential"&&n.valueSpec.expression&&!El(n.valueSpec)&&L.push(new Ft(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(M&&!so(n.valueSpec)?L.push(new Ft(n.key,n.value,"property functions not supported")):x&&!g3(n.valueSpec)&&L.push(new Ft(n.key,n.value,"zoom functions not supported"))),r!=="categorical"&&!D||n.value.property!==void 0||L.push(new Ft(n.key,n.value,'"property" property is required')),L;function Q(W){let ne=[];const oe=W.value,ce=W.key;if(Rr(oe)!=="array")return[new Ft(ce,oe,`array expected, ${Rr(oe)} found`)];if(oe.length!==2)return[new Ft(ce,oe,`array length 2 expected, length ${oe.length} found`)];if(D){if(Rr(oe[0])!=="object")return[new Ft(ce,oe,`object expected, ${Rr(oe[0])} found`)];if(oe[0].zoom===void 0)return[new Ft(ce,oe,"object stop key must have zoom")];if(oe[0].value===void 0)return[new Ft(ce,oe,"object stop key must have value")];if(p&&p>Hn(oe[0].zoom))return[new Ft(ce,oe[0].zoom,"stop zoom values must appear in ascending order")];Hn(oe[0].zoom)!==p&&(p=Hn(oe[0].zoom),c=void 0,m={}),ne=ne.concat(Ma({key:`${ce}[0]`,value:oe[0],valueSpec:{zoom:{}},validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,objectElementValidators:{zoom:Wo,value:Y}}))}else ne=ne.concat(Y({key:`${ce}[0]`,value:oe[0],validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec},oe));return r1(Ea(oe[1]))?ne.concat([new Ft(`${ce}[1]`,oe[1],"expressions are not allowed in function stops.")]):ne.concat(W.validateSpec({key:`${ce}[1]`,value:oe[1],valueSpec:e,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec}))}function Y(W,ne){const oe=Rr(W.value),ce=Hn(W.value),ye=W.value!==null?W.value:ne;if(l){if(oe!==l)return[new Ft(W.key,ye,`${oe} stop domain type must match previous stop domain type ${l}`)]}else l=oe;if(oe!=="number"&&oe!=="string"&&oe!=="boolean")return[new Ft(W.key,ye,"stop domain value must be a number, string, or boolean")];if(oe!=="number"&&r!=="categorical"){let Le=`number expected, ${oe} found`;return so(e)&&r===void 0&&(Le+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ft(W.key,ye,Le)]}return r!=="categorical"||oe!=="number"||isFinite(ce)&&Math.floor(ce)===ce?r!=="categorical"&&oe==="number"&&c!==void 0&&ce<c?[new Ft(W.key,ye,"stop domain values must appear in ascending order")]:(c=ce,r==="categorical"&&ce in m?[new Ft(W.key,ye,"stop domain values must be unique")]:(m[ce]=!0,[])):[new Ft(W.key,ye,`integer expected, found ${ce}`)]}}function Jo(n){const e=(n.expressionContext==="property"?i1:Ml)(Ea(n.value),n.valueSpec);if(e.result==="error")return e.value.map((l=>new Ft(`${n.key}${l.key}`,n.value,l.message)));const r=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!r.outputDefined())return[new Ft(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!N1(r))return[new Ft(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!N1(r))return[new Ft(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!D1(r,["zoom","feature-state"]))return[new Ft(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!vs(r))return[new Ft(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ws(n){const e=n.key,r=n.value,l=Rr(r);return l!=="string"?[new Ft(e,r,`color expected, ${l} found`)]:Dr.parse(String(r))?[]:[new Ft(e,r,`color expected, "${r}" found`)]}function Ss(n){const e=n.key,r=n.value,l=n.valueSpec,c=[];return Array.isArray(l.values)?l.values.indexOf(Hn(r))===-1&&c.push(new Ft(e,r,`expected one of [${l.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(l.values).indexOf(Hn(r))===-1&&c.push(new Ft(e,r,`expected one of [${Object.keys(l.values).join(", ")}], ${JSON.stringify(r)} found`)),c}function lo(n){return Xo(Ea(n.value))?Jo(Nn({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):es(n)}function es(n){const e=n.value,r=n.key;if(Rr(e)!=="array")return[new Ft(r,e,`array expected, ${Rr(e)} found`)];const l=n.styleSpec;let c,p=[];if(e.length<1)return[new Ft(r,e,"filter array must have at least 1 element")];switch(p=p.concat(Ss({key:`${r}[0]`,value:e[0],valueSpec:l.filter_operator,style:n.style,styleSpec:n.styleSpec})),Hn(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&Hn(e[1])==="$type"&&p.push(new Ft(r,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&p.push(new Ft(r,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(c=Rr(e[1]),c!=="string"&&p.push(new Ft(`${r}[1]`,e[1],`string expected, ${c} found`)));for(let m=2;m<e.length;m++)c=Rr(e[m]),Hn(e[1])==="$type"?p=p.concat(Ss({key:`${r}[${m}]`,value:e[m],valueSpec:l.geometry_type,style:n.style,styleSpec:n.styleSpec})):c!=="string"&&c!=="number"&&c!=="boolean"&&p.push(new Ft(`${r}[${m}]`,e[m],`string, number, or boolean expected, ${c} found`));break;case"any":case"all":case"none":for(let m=1;m<e.length;m++)p=p.concat(es({key:`${r}[${m}]`,value:e[m],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":c=Rr(e[1]),e.length!==2?p.push(new Ft(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):c!=="string"&&p.push(new Ft(`${r}[1]`,e[1],`string expected, ${c} found`))}return p}function Ts(n,e){const r=n.key,l=n.validateSpec,c=n.style,p=n.styleSpec,m=n.value,x=n.objectKey,M=p[`${e}_${n.layerType}`];if(!M)return[];const D=x.match(/^(.*)-transition$/);if(e==="paint"&&D&&M[D[1]]&&M[D[1]].transition)return l({key:r,value:m,valueSpec:p.transition,style:c,styleSpec:p});const L=n.valueSpec||M[x];if(!L)return[new Ft(r,m,`unknown property "${x}"`)];let Q;if(Rr(m)==="string"&&so(L)&&!L.tokens&&(Q=/^{([^}]+)}$/.exec(m)))return[new Ft(r,m,`"${x}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Q[1])} }\`.`)];const Y=[];return n.layerType==="symbol"&&x==="text-font"&&y4(Ea(m))&&Hn(m.type)==="identity"&&Y.push(new Ft(r,m,'"text-font" does not support identity functions')),Y.concat(l({key:n.key,value:m,valueSpec:L,style:c,styleSpec:p,expressionContext:"property",propertyType:e,propertyKey:x}))}function ts(n){return Ts(n,"paint")}function x4(n){return Ts(n,"layout")}function w4(n){let e=[];const r=n.value,l=n.key,c=n.style,p=n.styleSpec;if(Rr(r)!=="object")return[new Ft(l,r,`object expected, ${Rr(r)} found`)];r.type||r.ref||e.push(new Ft(l,r,'either "type" or "ref" is required'));let m=Hn(r.type);const x=Hn(r.ref);if(r.id){const M=Hn(r.id);for(let D=0;D<n.arrayIndex;D++){const L=c.layers[D];Hn(L.id)===M&&e.push(new Ft(l,r.id,`duplicate layer id "${r.id}", previously used at line ${L.id.__line__}`))}}if("ref"in r){let M;["type","source","source-layer","filter","layout"].forEach((D=>{D in r&&e.push(new Ft(l,r[D],`"${D}" is prohibited for ref layers`))})),c.layers.forEach((D=>{Hn(D.id)===x&&(M=D)})),M?M.ref?e.push(new Ft(l,r.ref,"ref cannot reference another ref layer")):m=Hn(M.type):e.push(new Ft(l,r.ref,`ref layer "${x}" not found`))}else if(m!=="background")if(r.source){const M=c.sources&&c.sources[r.source],D=M&&Hn(M.type);M?D==="vector"&&m==="raster"?e.push(new Ft(l,r.source,`layer "${r.id}" requires a raster source`)):D!=="raster-dem"&&m==="hillshade"||D!=="raster-dem"&&m==="color-relief"?e.push(new Ft(l,r.source,`layer "${r.id}" requires a raster-dem source`)):D==="raster"&&m!=="raster"?e.push(new Ft(l,r.source,`layer "${r.id}" requires a vector source`)):D!=="vector"||r["source-layer"]?D==="raster-dem"&&m!=="hillshade"&&m!=="color-relief"?e.push(new Ft(l,r.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):m!=="line"||!r.paint||!r.paint["line-gradient"]||D==="geojson"&&M.lineMetrics||e.push(new Ft(l,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Ft(l,r,`layer "${r.id}" must specify a "source-layer"`)):e.push(new Ft(l,r.source,`source "${r.source}" not found`))}else e.push(new Ft(l,r,'missing required property "source"'));return e=e.concat(Ma({key:l,value:r,valueSpec:p.layer,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,objectElementValidators:{"*":()=>[],type:()=>n.validateSpec({key:`${l}.type`,value:r.type,valueSpec:p.layer.type,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,object:r,objectKey:"type"}),filter:lo,layout:M=>Ma({layer:r,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":D=>x4(Nn({layerType:m},D))}}),paint:M=>Ma({layer:r,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":D=>ts(Nn({layerType:m},D))}})}})),e}function $a(n){const e=n.value,r=n.key,l=Rr(e);return l!=="string"?[new Ft(r,e,`string expected, ${l} found`)]:[]}const Pl={promoteId:function({key:n,value:e}){if(Rr(e)==="string")return $a({key:n,value:e});{const r=[];for(const l in e)r.push(...$a({key:`${n}.${l}`,value:e[l]}));return r}}};function As(n){const e=n.value,r=n.key,l=n.styleSpec,c=n.style,p=n.validateSpec;if(!e.type)return[new Ft(r,e,'"type" is required')];const m=Hn(e.type);let x;switch(m){case"vector":case"raster":return x=Ma({key:r,value:e,valueSpec:l[`source_${m.replace("-","_")}`],style:n.style,styleSpec:l,objectElementValidators:Pl,validateSpec:p}),x;case"raster-dem":return x=(function(M){var D;const L=(D=M.sourceName)!==null&&D!==void 0?D:"",Q=M.value,Y=M.styleSpec,W=Y.source_raster_dem,ne=M.style;let oe=[];const ce=Rr(Q);if(Q===void 0)return oe;if(ce!=="object")return oe.push(new Ft("source_raster_dem",Q,`object expected, ${ce} found`)),oe;const ye=Hn(Q.encoding)==="custom",Le=["redFactor","greenFactor","blueFactor","baseShift"],_e=M.value.encoding?`"${M.value.encoding}"`:"Default";for(const Se in Q)!ye&&Le.includes(Se)?oe.push(new Ft(Se,Q[Se],`In "${L}": "${Se}" is only valid when "encoding" is set to "custom". ${_e} encoding found`)):W[Se]?oe=oe.concat(M.validateSpec({key:Se,value:Q[Se],valueSpec:W[Se],validateSpec:M.validateSpec,style:ne,styleSpec:Y})):oe.push(new Ft(Se,Q[Se],`unknown property "${Se}"`));return oe})({sourceName:r,value:e,style:n.style,styleSpec:l,validateSpec:p}),x;case"geojson":if(x=Ma({key:r,value:e,valueSpec:l.source_geojson,style:c,styleSpec:l,validateSpec:p,objectElementValidators:Pl}),e.cluster)for(const M in e.clusterProperties){const[D,L]=e.clusterProperties[M],Q=typeof D=="string"?[D,["accumulated"],["get",M]]:D;x.push(...Jo({key:`${r}.${M}.map`,value:L,expressionContext:"cluster-map"})),x.push(...Jo({key:`${r}.${M}.reduce`,value:Q,expressionContext:"cluster-reduce"}))}return x;case"video":return Ma({key:r,value:e,valueSpec:l.source_video,style:c,validateSpec:p,styleSpec:l});case"image":return Ma({key:r,value:e,valueSpec:l.source_image,style:c,validateSpec:p,styleSpec:l});case"canvas":return[new Ft(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ss({key:`${r}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function mi(n){const e=n.value,r=n.styleSpec,l=r.light,c=n.style;let p=[];const m=Rr(e);if(e===void 0)return p;if(m!=="object")return p=p.concat([new Ft("light",e,`object expected, ${m} found`)]),p;for(const x in e){const M=x.match(/^(.*)-transition$/);p=p.concat(M&&l[M[1]]&&l[M[1]].transition?n.validateSpec({key:x,value:e[x],valueSpec:r.transition,validateSpec:n.validateSpec,style:c,styleSpec:r}):l[x]?n.validateSpec({key:x,value:e[x],valueSpec:l[x],validateSpec:n.validateSpec,style:c,styleSpec:r}):[new Ft(x,e[x],`unknown property "${x}"`)])}return p}function T2(n){const e=n.value,r=n.styleSpec,l=r.sky,c=n.style,p=Rr(e);if(e===void 0)return[];if(p!=="object")return[new Ft("sky",e,`object expected, ${p} found`)];let m=[];for(const x in e)m=m.concat(l[x]?n.validateSpec({key:x,value:e[x],valueSpec:l[x],style:c,styleSpec:r}):[new Ft(x,e[x],`unknown property "${x}"`)]);return m}function S4(n){const e=n.value,r=n.styleSpec,l=r.terrain,c=n.style;let p=[];const m=Rr(e);if(e===void 0)return p;if(m!=="object")return p=p.concat([new Ft("terrain",e,`object expected, ${m} found`)]),p;for(const x in e)p=p.concat(l[x]?n.validateSpec({key:x,value:e[x],valueSpec:l[x],validateSpec:n.validateSpec,style:c,styleSpec:r}):[new Ft(x,e[x],`unknown property "${x}"`)]);return p}function b3(n){let e=[];const r=n.value,l=n.key;if(Array.isArray(r)){const c=[],p=[];for(const m in r)r[m].id&&c.includes(r[m].id)&&e.push(new Ft(l,r,`all the sprites' ids must be unique, but ${r[m].id} is duplicated`)),c.push(r[m].id),r[m].url&&p.includes(r[m].url)&&e.push(new Ft(l,r,`all the sprites' URLs must be unique, but ${r[m].url} is duplicated`)),p.push(r[m].url),e=e.concat(Ma({key:`${l}[${m}]`,value:r[m],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:n.validateSpec}));return e}return $a({key:l,value:r})}function G5(n){return!!n&&n.constructor===Object}function x3(n){return G5(n.value)?[]:[new Ft(n.key,n.value,`object expected, ${Rr(n.value)} found`)]}const li={"*":()=>[],array:S2,boolean:function(n){const e=n.value,r=n.key,l=Rr(e);return l!=="boolean"?[new Ft(r,e,`boolean expected, ${l} found`)]:[]},number:Wo,color:ws,constants:qa,enum:Ss,filter:lo,function:Ko,layer:w4,object:Ma,source:As,light:mi,sky:T2,terrain:S4,projection:function(n){const e=n.value,r=n.styleSpec,l=r.projection,c=n.style,p=Rr(e);if(e===void 0)return[];if(p!=="object")return[new Ft("projection",e,`object expected, ${p} found`)];let m=[];for(const x in e)m=m.concat(l[x]?n.validateSpec({key:x,value:e[x],valueSpec:l[x],style:c,styleSpec:r}):[new Ft(x,e[x],`unknown property "${x}"`)]);return m},projectionDefinition:function(n){const e=n.key;let r=n.value;r=r instanceof String?r.valueOf():r;const l=Rr(r);return l!=="array"||(function(c){return Array.isArray(c)&&c.length===3&&typeof c[0]=="string"&&typeof c[1]=="string"&&typeof c[2]=="number"})(r)||(function(c){return!!["interpolate","step","literal"].includes(c[0])})(r)?["array","string"].includes(l)?[]:[new Ft(e,r,`projection expected, invalid type "${l}" found`)]:[new Ft(e,r,`projection expected, invalid array ${JSON.stringify(r)} found`)]},string:$a,formatted:function(n){return $a(n).length===0?[]:Jo(n)},resolvedImage:function(n){return $a(n).length===0?[]:Jo(n)},padding:function(n){const e=n.key,r=n.value;if(Rr(r)==="array"){if(r.length<1||r.length>4)return[new Ft(e,r,`padding requires 1 to 4 values; ${r.length} values found`)];const l={type:"number"};let c=[];for(let p=0;p<r.length;p++)c=c.concat(n.validateSpec({key:`${e}[${p}]`,value:r[p],validateSpec:n.validateSpec,valueSpec:l}));return c}return Wo({key:e,value:r,valueSpec:{}})},numberArray:function(n){const e=n.key,r=n.value;if(Rr(r)==="array"){const l={type:"number"};if(r.length<1)return[new Ft(e,r,"array length at least 1 expected, length 0 found")];let c=[];for(let p=0;p<r.length;p++)c=c.concat(n.validateSpec({key:`${e}[${p}]`,value:r[p],validateSpec:n.validateSpec,valueSpec:l}));return c}return Wo({key:e,value:r,valueSpec:{}})},colorArray:function(n){const e=n.key,r=n.value;if(Rr(r)==="array"){if(r.length<1)return[new Ft(e,r,"array length at least 1 expected, length 0 found")];let l=[];for(let c=0;c<r.length;c++)l=l.concat(ws({key:`${e}[${c}]`,value:r[c]}));return l}return ws({key:e,value:r})},variableAnchorOffsetCollection:function(n){const e=n.key,r=n.value,l=Rr(r),c=n.styleSpec;if(l!=="array"||r.length<1||r.length%2!=0)return[new Ft(e,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let p=[];for(let m=0;m<r.length;m+=2)p=p.concat(Ss({key:`${e}[${m}]`,value:r[m],valueSpec:c.layout_symbol["text-anchor"]})),p=p.concat(S2({key:`${e}[${m+1}]`,value:r[m+1],valueSpec:{length:2,value:"number"},validateSpec:n.validateSpec,style:n.style,styleSpec:c}));return p},sprite:b3,state:x3,fontFaces:function(n){const e=n.key,r=n.value,l=n.validateSpec,c=n.styleSpec,p=n.style;if(!G5(r))return[new Ft(e,r,`object expected, ${Rr(r)} found`)];const m=[];for(const x in r){const M=r[x],D=Rr(M);if(D==="string")m.push(...$a({key:`${e}.${x}`,value:M}));else if(D==="array"){const L={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(const[Q,Y]of M.entries())m.push(...Ma({key:`${e}.${x}[${Q}]`,value:Y,valueSpec:L,styleSpec:c,style:p,validateSpec:l}))}else m.push(new Ft(`${e}.${x}`,M,`string or array expected, ${D} found`))}return m}};function rs(n){const e=n.value,r=n.valueSpec,l=n.styleSpec;return n.validateSpec=rs,r.expression&&y4(Hn(e))?Ko(n):r.expression&&r1(Ea(e))?Jo(n):r.type&&li[r.type]?li[r.type](n):Ma(Nn({},n,{valueSpec:r.type?l[r.type]:r}))}function Rl(n){const e=n.value,r=n.key,l=$a(n);return l.length||(e.indexOf("{fontstack}")===-1&&l.push(new Ft(r,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&l.push(new Ft(r,e,'"glyphs" url must include a "{range}" token'))),l}function ra(n,e=ct){let r=[];return r=r.concat(rs({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,validateSpec:rs,objectElementValidators:{glyphs:Rl,"*":()=>[]}})),n.constants&&(r=r.concat(qa({key:"constants",value:n.constants}))),k1(r)}function Qa(n){return function(e){return n(Object.assign({},e,{validateSpec:rs}))}}function k1(n){return[].concat(n).sort(((e,r)=>e.line-r.line))}function na(n){return function(...e){return k1(n.apply(this,e))}}ra.source=na(Qa(As)),ra.sprite=na(Qa(b3)),ra.glyphs=na(Qa(Rl)),ra.light=na(Qa(mi)),ra.sky=na(Qa(T2)),ra.terrain=na(Qa(S4)),ra.state=na(Qa(x3)),ra.layer=na(Qa(w4)),ra.filter=na(Qa(lo)),ra.paintProperty=na(Qa(ts)),ra.layoutProperty=na(Qa(x4));const a0={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class Il{constructor(e,r){this._globalState=r,this.setValue(e)}evaluate(){var e;return(e=this._literalValue)!==null&&e!==void 0?e:this._compiledValue.evaluate({})}setValue(e){if(e==null||e==="visible"||e==="none")return this._literalValue=e==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);const r=Ml(e,a0,this._globalState);if(r.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(r.value.map((l=>`${l.key}: ${l.message}`)).join(", "));this._literalValue=void 0,this._compiledValue=r.value,this._globalStateRefs=Ni(r.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}const A2=ct,Di=ra,Co=Di.light,T4=Di.sky,A4=Di.paintProperty,V5=Di.layoutProperty;function Po(n,e){let r=!1;if(e&&e.length)for(const l of e)n.fire(new Xt(new Error(l.message))),r=!0;return r}class o1{constructor(e,r,l){const c=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const m=new Int32Array(this.arrayBuffer);e=m[0],this.d=(r=m[1])+2*(l=m[2]);for(let M=0;M<this.d*this.d;M++){const D=m[3+M],L=m[3+M+1];c.push(D===L?null:m.subarray(D,L))}const x=m[3+c.length+1];this.keys=m.subarray(m[3+c.length],x),this.bboxes=m.subarray(x),this.insert=this._insertReadonly}else{this.d=r+2*l;for(let m=0;m<this.d*this.d;m++)c.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=e,this.padding=l,this.scale=r/e,this.uid=0;const p=l/r*e;this.min=-p,this.max=e+p}insert(e,r,l,c,p){this._forEachCell(r,l,c,p,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(r),this.bboxes.push(l),this.bboxes.push(c),this.bboxes.push(p)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,r,l,c,p,m){this.cells[p].push(m)}query(e,r,l,c,p){const m=this.min,x=this.max;if(e<=m&&r<=m&&x<=l&&x<=c&&!p)return Array.prototype.slice.call(this.keys);{const M=[];return this._forEachCell(e,r,l,c,this._queryCell,M,{},p),M}}_queryCell(e,r,l,c,p,m,x,M){const D=this.cells[p];if(D!==null){const L=this.keys,Q=this.bboxes;for(let Y=0;Y<D.length;Y++){const W=D[Y];if(x[W]===void 0){const ne=4*W;(M?M(Q[ne+0],Q[ne+1],Q[ne+2],Q[ne+3]):e<=Q[ne+2]&&r<=Q[ne+3]&&l>=Q[ne+0]&&c>=Q[ne+1])?(x[W]=!0,m.push(L[W])):x[W]=!1}}}}_forEachCell(e,r,l,c,p,m,x,M){const D=this._convertToCellCoord(e),L=this._convertToCellCoord(r),Q=this._convertToCellCoord(l),Y=this._convertToCellCoord(c);for(let W=D;W<=Q;W++)for(let ne=L;ne<=Y;ne++){const oe=this.d*ne+W;if((!M||M(this._convertFromCellCoord(W),this._convertFromCellCoord(ne),this._convertFromCellCoord(W+1),this._convertFromCellCoord(ne+1)))&&p.call(this,e,r,l,c,oe,m,x,M))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,r=3+this.cells.length+1+1;let l=0;for(let m=0;m<this.cells.length;m++)l+=this.cells[m].length;const c=new Int32Array(r+l+this.keys.length+this.bboxes.length);c[0]=this.extent,c[1]=this.n,c[2]=this.padding;let p=r;for(let m=0;m<e.length;m++){const x=e[m];c[3+m]=p,c.set(x,p),p+=x.length}return c[3+e.length]=p,c.set(this.keys,p),p+=this.keys.length,c[3+e.length+1]=p,c.set(this.bboxes,p),p+=this.bboxes.length,c.buffer}static serialize(e,r){const l=e.toArrayBuffer();return r&&r.push(l),{buffer:l}}static deserialize(e){return new o1(e.buffer)}}const Ca={};function rr(n,e,r={}){if(Ca[n])throw new Error(`${n} is already registered.`);Object.defineProperty(e,"_classRegistryKey",{value:n,writeable:!1}),Ca[n]={klass:e,omit:r.omit||[],shallow:r.shallow||[]}}rr("Object",Object),rr("Set",Set),rr("TransferableGridIndex",o1),rr("Color",Dr),rr("Error",Error),rr("AJAXError",Ye),rr("ResolvedImage",fa),rr("StylePropertyFunction",O1),rr("StyleExpression",b4,{omit:["_evaluator"]}),rr("ZoomDependentExpression",n1),rr("ZoomConstantExpression",_a),rr("CompoundExpression",Ua,{omit:["_evaluate"]});for(const n in Al)Al[n]._classRegistryKey||rr(`Expression_${n}`,Al[n]);function E2(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function E4(n){return n.$name||n.constructor._classRegistryKey}function uo(n){return!(function(e){if(e===null||typeof e!="object")return!1;const r=E4(e);return!(!r||r==="Object")})(n)&&(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||n instanceof Blob||n instanceof Error||E2(n)||ur(n)||ArrayBuffer.isView(n)||n instanceof ImageData)}function Ro(n,e){if(uo(n))return(E2(n)||ur(n))&&e&&e.push(n),ArrayBuffer.isView(n)&&e&&e.push(n.buffer),n instanceof ImageData&&e&&e.push(n.data.buffer),n;if(Array.isArray(n)){const p=[];for(const m of n)p.push(Ro(m,e));return p}if(typeof n!="object")throw new Error("can't serialize object of type "+typeof n);const r=E4(n);if(!r)throw new Error(`can't serialize object of unregistered class ${n.constructor.name}`);if(!Ca[r])throw new Error(`${r} is not registered.`);const{klass:l}=Ca[r],c=l.serialize?l.serialize(n,e):{};if(l.serialize){if(e&&c===e[e.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const p in n){if(!n.hasOwnProperty(p)||Ca[r].omit.indexOf(p)>=0)continue;const m=n[p];c[p]=Ca[r].shallow.indexOf(p)>=0?m:Ro(m,e)}n instanceof Error&&(c.message=n.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return r!=="Object"&&(c.$name=r),c}function Nl(n){if(uo(n))return n;if(Array.isArray(n))return n.map(Nl);if(typeof n!="object")throw new Error("can't deserialize object of type "+typeof n);const e=E4(n)||"Object";if(!Ca[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:r}=Ca[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(n);const l=Object.create(r.prototype);for(const c of Object.keys(n)){if(c==="$name")continue;const p=n[c];l[c]=Ca[e].shallow.indexOf(c)>=0?p:Nl(p)}return l}class M4{constructor(){this.first=!0}update(e,r){const l=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=l,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=l,!0):(this.lastFloorZoom>l?(this.lastIntegerZoom=l+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<l&&(this.lastIntegerZoom=l,this.lastIntegerZoomTime=r),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=l,!0))}}function ns(n){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(n))}function z1(n){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(n))}function M2(n){return/\s/u.test(String.fromCodePoint(n))}function is(n){for(const e of n)if(z1(e.codePointAt(0)))return!0;return!1}function C4(n){for(const e of n)if(!w3(e.codePointAt(0)))return!1;return!0}function C2(n){const e=n.map((r=>{try{return new RegExp(`\\p{sc=${r}}`,"u").source}catch{return null}})).filter((r=>r));return new RegExp(e.join("|"),"u")}const as=C2(["Arab","Dupl","Mong","Ougr","Syrc"]);function w3(n){return!as.test(String.fromCodePoint(n))}function os(n){return!(z1(n)||(e=n,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(e))));var e}const P4=C2(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function P2(n){return P4.test(String.fromCodePoint(n))}function ss(n,e){return!(!e&&P2(n)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(n)))}function Es(n){for(const e of n)if(P2(e.codePointAt(0)))return!0;return!1}const co=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(n){this.pluginStatus=n.pluginStatus,this.pluginURL=n.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(n){if(co.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=n.applyArabicShaping,this.processBidirectionalText=n.processBidirectionalText,this.processStyledBidirectionalText=n.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(n,e){return o(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(n.pluginStatus!=="loading")return this.setState(n),n;const r=n.pluginURL,l=new Promise((p=>{this.loadScriptResolve=p}));e(r);const c=new Promise((p=>setTimeout((()=>p()),this.TIMEOUT)));if(yield Promise.race([l,c]),this.isParsed()){const p={pluginStatus:"loaded",pluginURL:r};return this.setState(p),p}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${r}`)}))}};class pn{constructor(e,r){this.isSupportedScript=S3,this.zoom=e,r?(this.now=r.now||0,this.fadeDuration=r.fadeDuration||0,this.zoomHistory=r.zoomHistory||new M4,this.transition=r.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new M4,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,r=e-Math.floor(e),l=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*l}:{fromScale:.5,toScale:1,t:1-(1-l)*r}}}function S3(n){return(function(e,r){for(const l of e)if(!ss(l.codePointAt(0),r))return!1;return!0})(n,co.getRTLTextPluginStatus()==="loaded")}const Ms="-transition";class s1{constructor(e,r,l){this.property=e,this.value=r,this.expression=(function(c,p,m){if(y4(c))return new O1(c,p);if(r1(c)){const x=i1(c,p,m);if(x.result==="error")throw new Error(x.value.map((M=>`${M.key}: ${M.message}`)).join(", "));return x.value}{let x=c;return p.type==="color"&&typeof c=="string"?x=Dr.parse(c):p.type!=="padding"||typeof c!="number"&&!Array.isArray(c)?p.type!=="numberArray"||typeof c!="number"&&!Array.isArray(c)?p.type!=="colorArray"||typeof c!="string"&&!Array.isArray(c)?p.type==="variableAnchorOffsetCollection"&&Array.isArray(c)?x=Kn.parse(c):p.type==="projectionDefinition"&&typeof c=="string"&&(x=Ii.parse(c)):x=xr.parse(c):x=Un.parse(c):x=pi.parse(c),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>x}}})(r===void 0?e.specification.default:r,e.specification,l)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(e,r,l){return this.property.possiblyEvaluate(this,e,r,l)}}class R2{constructor(e,r){this.property=e,this.value=new s1(e,void 0,r)}transitioned(e,r){return new B1(this.property,this.value,r,ue({},e.transition,this.transition),e.now)}untransitioned(){return new B1(this.property,this.value,null,{},0)}}class R4{constructor(e,r){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues),this._globalState=r}getValue(e){return At(this._values[e].value.value)}setValue(e,r){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new R2(this._values[e].property,this._globalState)),this._values[e].value=new s1(this._values[e].property,r===null?void 0:At(r),this._globalState)}getTransition(e){return At(this._values[e].transition)}setTransition(e,r){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new R2(this._values[e].property,this._globalState)),this._values[e].transition=At(r)||void 0}serialize(){const e={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(e[r]=l);const c=this.getTransition(r);c!==void 0&&(e[`${r}${Ms}`]=c)}return e}transitioned(e,r){const l=new I2(this._properties);for(const c of Object.keys(this._values))l._values[c]=this._values[c].transitioned(e,r._values[c]);return l}untransitioned(){const e=new I2(this._properties);for(const r of Object.keys(this._values))e._values[r]=this._values[r].untransitioned();return e}}class B1{constructor(e,r,l,c,p){this.property=e,this.value=r,this.begin=p+c.delay||0,this.end=this.begin+c.duration||0,e.specification.transition&&(c.delay||c.duration)&&(this.prior=l)}possiblyEvaluate(e,r,l){const c=e.now||0,p=this.value.possiblyEvaluate(e,r,l),m=this.prior;if(m){if(c>this.end)return this.prior=null,p;if(this.value.isDataDriven())return this.prior=null,p;if(c<this.begin)return m.possiblyEvaluate(e,r,l);{const x=(c-this.begin)/(this.end-this.begin);return this.property.interpolate(m.possiblyEvaluate(e,r,l),p,dt(x))}}return p}}class I2{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,r,l){const c=new L1(this._properties);for(const p of Object.keys(this._values))c._values[p]=this._values[p].possiblyEvaluate(e,r,l);return c}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class T3{constructor(e,r){this._properties=e,this._values=Object.create(e.defaultPropertyValues),this._globalState=r}hasValue(e){return this._values[e].value!==void 0}getValue(e){return At(this._values[e].value)}setValue(e,r){this._values[e]=new s1(this._values[e].property,r===null?void 0:At(r),this._globalState)}serialize(){const e={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(e[r]=l)}return e}possiblyEvaluate(e,r,l){const c=new L1(this._properties);for(const p of Object.keys(this._values))c._values[p]=this._values[p].possiblyEvaluate(e,r,l);return c}}class Ha{constructor(e,r,l){this.property=e,this.value=r,this.parameters=l}isConstant(){return this.value.kind==="constant"}constantOr(e){return this.value.kind==="constant"?this.value.value:e}evaluate(e,r,l,c){return this.property.evaluate(this.value,this.parameters,e,r,l,c)}}class L1{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class ir{constructor(e){this.specification=e}possiblyEvaluate(e,r){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(r)}interpolate(e,r,l){const c=Gn[this.specification.type];return c?c(e,r,l):e}}class sr{constructor(e,r){this.specification=e,this.overrides=r}possiblyEvaluate(e,r,l,c){return new Ha(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(r,null,{},l,c)}:e.expression,r)}interpolate(e,r,l){if(e.value.kind!=="constant"||r.value.kind!=="constant")return e;if(e.value.value===void 0||r.value.value===void 0)return new Ha(this,{kind:"constant",value:void 0},e.parameters);const c=Gn[this.specification.type];if(c){const p=c(e.value.value,r.value.value,l);return new Ha(this,{kind:"constant",value:p},e.parameters)}return e}evaluate(e,r,l,c,p,m){return e.kind==="constant"?e.value:e.evaluate(r,l,c,p,m)}}class ho extends sr{possiblyEvaluate(e,r,l,c){if(e.value===void 0)return new Ha(this,{kind:"constant",value:void 0},r);if(e.expression.kind==="constant"){const p=e.expression.evaluate(r,null,{},l,c),m=e.property.specification.type==="resolvedImage"&&typeof p!="string"?p.name:p,x=this._calculate(m,m,m,r);return new Ha(this,{kind:"constant",value:x},r)}if(e.expression.kind==="camera"){const p=this._calculate(e.expression.evaluate({zoom:r.zoom-1}),e.expression.evaluate({zoom:r.zoom}),e.expression.evaluate({zoom:r.zoom+1}),r);return new Ha(this,{kind:"constant",value:p},r)}return new Ha(this,e.expression,r)}evaluate(e,r,l,c,p,m){if(e.kind==="source"){const x=e.evaluate(r,l,c,p,m);return this._calculate(x,x,x,r)}return e.kind==="composite"?this._calculate(e.evaluate({zoom:Math.floor(r.zoom)-1},l,c),e.evaluate({zoom:Math.floor(r.zoom)},l,c),e.evaluate({zoom:Math.floor(r.zoom)+1},l,c),r):e.value}_calculate(e,r,l,c){return c.zoom>c.zoomHistory.lastIntegerZoom?{from:e,to:r}:{from:l,to:r}}interpolate(e){return e}}class Dl{constructor(e){this.specification=e}possiblyEvaluate(e,r,l,c){if(e.value!==void 0){if(e.expression.kind==="constant"){const p=e.expression.evaluate(r,null,{},l,c);return this._calculate(p,p,p,r)}return this._calculate(e.expression.evaluate(new pn(Math.floor(r.zoom-1),r)),e.expression.evaluate(new pn(Math.floor(r.zoom),r)),e.expression.evaluate(new pn(Math.floor(r.zoom+1),r)),r)}}_calculate(e,r,l,c){return c.zoom>c.zoomHistory.lastIntegerZoom?{from:e,to:r}:{from:l,to:r}}interpolate(e){return e}}class N2{constructor(e){this.specification=e}possiblyEvaluate(e,r,l,c){return!!e.expression.evaluate(r,null,{},l,c)}interpolate(){return!1}}class ui{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const r in e){const l=e[r];l.specification.overridable&&this.overridableProperties.push(r);const c=this.defaultPropertyValues[r]=new s1(l,void 0,void 0),p=this.defaultTransitionablePropertyValues[r]=new R2(l,void 0);this.defaultTransitioningPropertyValues[r]=p.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=c.possiblyEvaluate({})}}}rr("DataDrivenProperty",sr),rr("DataConstantProperty",ir),rr("CrossFadedDataDrivenProperty",ho),rr("CrossFadedProperty",Dl),rr("ColorRampProperty",N2);class Zn extends hr{constructor(e,r,l){if(super(),this.id=e.id,this.type=e.type,this._globalState=l,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},e.type!=="custom"&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this._visibilityExpression=(function(c,p){return new Il(c,p)})(this.visibility,l),e.type!=="background"&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter,this._featureFilter=Aa(e.filter,l)),r.layout&&(this._unevaluatedLayout=new T3(r.layout,l)),r.paint)){this._transitionablePaint=new R4(r.paint,l);for(const c in e.paint)this.setPaintProperty(c,e.paint[c],{validate:!1});for(const c in e.layout)this.setLayoutProperty(c,e.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new L1(r.paint)}}setFilter(e){this.filter=e,this._featureFilter=Aa(e,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(e)}getLayoutAffectingGlobalStateRefs(){const e=new Set;for(const r of this._visibilityExpression.getGlobalStateRefs())e.add(r);if(this._unevaluatedLayout)for(const r in this._unevaluatedLayout._values){const l=this._unevaluatedLayout._values[r];for(const c of l.getGlobalStateRefs())e.add(c)}for(const r of this._featureFilter.getGlobalStateRefs())e.add(r);return e}getPaintAffectingGlobalStateRefs(){var e;const r=new globalThis.Map;if(this._transitionablePaint)for(const l in this._transitionablePaint._values){const c=this._transitionablePaint._values[l].value;for(const p of c.getGlobalStateRefs()){const m=(e=r.get(p))!==null&&e!==void 0?e:[];m.push({name:l,value:c.value}),r.set(p,m)}}return r}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(e,r,l={}){if(r==null||!this._validate(V5,`layers.${this.id}.layout.${e}`,e,r,l))return e==="visibility"?(this.visibility=r,this._visibilityExpression.setValue(r),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(e,r)}getPaintProperty(e){return e.endsWith(Ms)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,r,l={}){if(r!=null&&this._validate(A4,`layers.${this.id}.paint.${e}`,e,r,l))return!1;if(e.endsWith(Ms))return this._transitionablePaint.setTransition(e.slice(0,-11),r||void 0),!1;{const c=this._transitionablePaint._values[e],p=c.property.specification["property-type"]==="cross-faded-data-driven",m=c.value.isDataDriven(),x=c.value;this._transitionablePaint.setValue(e,r),this._handleSpecialPaintPropertyUpdate(e);const M=this._transitionablePaint._values[e].value;return M.isDataDriven()||m||p||this._handleOverridablePaintPropertyUpdate(e,x,M)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,r,l){return!1}isHidden(e=this.minzoom,r=!1){return!!(this.minzoom&&e<(r?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&e>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(e,r){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,r)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),Et(e,((r,l)=>!(r===void 0||l==="layout"&&!Object.keys(r).length||l==="paint"&&!Object.keys(r).length)))}_validate(e,r,l,c,p={}){return(!p||p.validate!==!1)&&Po(this,e.call(Di,{key:r,layerType:this.type,objectKey:l,value:c,styleSpec:ct,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const r=this.paint.get(e);if(r instanceof Ha&&so(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}}let ei;var D2={get paint(){return ei=ei||new ui({"raster-opacity":new ir(ct.paint_raster["raster-opacity"]),"raster-hue-rotate":new ir(ct.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ir(ct.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ir(ct.paint_raster["raster-brightness-max"]),"raster-saturation":new ir(ct.paint_raster["raster-saturation"]),"raster-contrast":new ir(ct.paint_raster["raster-contrast"]),"raster-resampling":new ir(ct.paint_raster["raster-resampling"]),"raster-fade-duration":new ir(ct.paint_raster["raster-fade-duration"])})}};class Cs extends Zn{constructor(e,r){super(e,D2,r)}}const jr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class dn{constructor(e,r){this._structArray=e,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Lr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,r){return e._trim(),r&&(e.isTransferred=!0,r.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const r=Object.create(this.prototype);return r.arrayBuffer=e.arrayBuffer,r.length=e.length,r.capacity=e.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Vn(n,e=1){let r=0,l=0;return{members:n.map((c=>{const p=jr[c.type].BYTES_PER_ELEMENT,m=r=fo(r,Math.max(e,p)),x=c.components||1;return l=Math.max(l,p),r+=p*x,{name:c.name,type:c.type,components:x,offset:m}})),size:fo(r,Math.max(l,e)),alignment:e}}function fo(n,e){return Math.ceil(n/e)*e}class Io extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const c=2*e;return this.int16[c+0]=r,this.int16[c+1]=l,e}}Io.prototype.bytesPerElement=4,rr("StructArrayLayout2i4",Io);class U1 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,l)}emplace(e,r,l,c){const p=3*e;return this.int16[p+0]=r,this.int16[p+1]=l,this.int16[p+2]=c,e}}U1.prototype.bytesPerElement=6,rr("StructArrayLayout3i6",U1);class j1 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l,c)}emplace(e,r,l,c,p){const m=4*e;return this.int16[m+0]=r,this.int16[m+1]=l,this.int16[m+2]=c,this.int16[m+3]=p,e}}j1.prototype.bytesPerElement=8,rr("StructArrayLayout4i8",j1);class Ps extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,r,l,c,p,m)}emplace(e,r,l,c,p,m,x){const M=6*e;return this.int16[M+0]=r,this.int16[M+1]=l,this.int16[M+2]=c,this.int16[M+3]=p,this.int16[M+4]=m,this.int16[M+5]=x,e}}Ps.prototype.bytesPerElement=12,rr("StructArrayLayout2i4i12",Ps);class A3 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,r,l,c,p,m)}emplace(e,r,l,c,p,m,x){const M=4*e,D=8*e;return this.int16[M+0]=r,this.int16[M+1]=l,this.uint8[D+4]=c,this.uint8[D+5]=p,this.uint8[D+6]=m,this.uint8[D+7]=x,e}}A3.prototype.bytesPerElement=8,rr("StructArrayLayout2i4ub8",A3);class zn extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const c=2*e;return this.float32[c+0]=r,this.float32[c+1]=l,e}}zn.prototype.bytesPerElement=8,rr("StructArrayLayout2f8",zn);class No extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M,D,L){const Q=this.length;return this.resize(Q+1),this.emplace(Q,e,r,l,c,p,m,x,M,D,L)}emplace(e,r,l,c,p,m,x,M,D,L,Q){const Y=10*e;return this.uint16[Y+0]=r,this.uint16[Y+1]=l,this.uint16[Y+2]=c,this.uint16[Y+3]=p,this.uint16[Y+4]=m,this.uint16[Y+5]=x,this.uint16[Y+6]=M,this.uint16[Y+7]=D,this.uint16[Y+8]=L,this.uint16[Y+9]=Q,e}}No.prototype.bytesPerElement=20,rr("StructArrayLayout10ui20",No);class Ol extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M){const D=this.length;return this.resize(D+1),this.emplace(D,e,r,l,c,p,m,x,M)}emplace(e,r,l,c,p,m,x,M,D){const L=8*e;return this.uint16[L+0]=r,this.uint16[L+1]=l,this.uint16[L+2]=c,this.uint16[L+3]=p,this.uint16[L+4]=m,this.uint16[L+5]=x,this.uint16[L+6]=M,this.uint16[L+7]=D,e}}Ol.prototype.bytesPerElement=16,rr("StructArrayLayout8ui16",Ol);class Fl extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M,D,L,Q,Y){const W=this.length;return this.resize(W+1),this.emplace(W,e,r,l,c,p,m,x,M,D,L,Q,Y)}emplace(e,r,l,c,p,m,x,M,D,L,Q,Y,W){const ne=12*e;return this.int16[ne+0]=r,this.int16[ne+1]=l,this.int16[ne+2]=c,this.int16[ne+3]=p,this.uint16[ne+4]=m,this.uint16[ne+5]=x,this.uint16[ne+6]=M,this.uint16[ne+7]=D,this.int16[ne+8]=L,this.int16[ne+9]=Q,this.int16[ne+10]=Y,this.int16[ne+11]=W,e}}Fl.prototype.bytesPerElement=24,rr("StructArrayLayout4i4ui4i24",Fl);class O2 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,l)}emplace(e,r,l,c){const p=3*e;return this.float32[p+0]=r,this.float32[p+1]=l,this.float32[p+2]=c,e}}O2.prototype.bytesPerElement=12,rr("StructArrayLayout3f12",O2);class F2 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint32[1*e+0]=r,e}}F2.prototype.bytesPerElement=4,rr("StructArrayLayout1ul4",F2);class k2 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M,D){const L=this.length;return this.resize(L+1),this.emplace(L,e,r,l,c,p,m,x,M,D)}emplace(e,r,l,c,p,m,x,M,D,L){const Q=10*e,Y=5*e;return this.int16[Q+0]=r,this.int16[Q+1]=l,this.int16[Q+2]=c,this.int16[Q+3]=p,this.int16[Q+4]=m,this.int16[Q+5]=x,this.uint32[Y+3]=M,this.uint16[Q+8]=D,this.uint16[Q+9]=L,e}}k2.prototype.bytesPerElement=20,rr("StructArrayLayout6i1ul2ui20",k2);class l1 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,r,l,c,p,m)}emplace(e,r,l,c,p,m,x){const M=6*e;return this.int16[M+0]=r,this.int16[M+1]=l,this.int16[M+2]=c,this.int16[M+3]=p,this.int16[M+4]=m,this.int16[M+5]=x,e}}l1.prototype.bytesPerElement=12,rr("StructArrayLayout2i2i2i12",l1);class Rs extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,l,c,p)}emplace(e,r,l,c,p,m){const x=4*e,M=8*e;return this.float32[x+0]=r,this.float32[x+1]=l,this.float32[x+2]=c,this.int16[M+6]=p,this.int16[M+7]=m,e}}Rs.prototype.bytesPerElement=16,rr("StructArrayLayout2f1f2i16",Rs);class Zi extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,r,l,c,p,m)}emplace(e,r,l,c,p,m,x){const M=16*e,D=4*e,L=8*e;return this.uint8[M+0]=r,this.uint8[M+1]=l,this.float32[D+1]=c,this.float32[D+2]=p,this.int16[L+6]=m,this.int16[L+7]=x,e}}Zi.prototype.bytesPerElement=16,rr("StructArrayLayout2ub2f2i16",Zi);class qn extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,l)}emplace(e,r,l,c){const p=3*e;return this.uint16[p+0]=r,this.uint16[p+1]=l,this.uint16[p+2]=c,e}}qn.prototype.bytesPerElement=6,rr("StructArrayLayout3ui6",qn);class ls extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye){const Le=this.length;return this.resize(Le+1),this.emplace(Le,e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye)}emplace(e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye,Le){const _e=24*e,Se=12*e,Ve=48*e;return this.int16[_e+0]=r,this.int16[_e+1]=l,this.uint16[_e+2]=c,this.uint16[_e+3]=p,this.uint32[Se+2]=m,this.uint32[Se+3]=x,this.uint32[Se+4]=M,this.uint16[_e+10]=D,this.uint16[_e+11]=L,this.uint16[_e+12]=Q,this.float32[Se+7]=Y,this.float32[Se+8]=W,this.uint8[Ve+36]=ne,this.uint8[Ve+37]=oe,this.uint8[Ve+38]=ce,this.uint32[Se+10]=ye,this.int16[_e+22]=Le,e}}ls.prototype.bytesPerElement=48,rr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ls);class G1 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye,Le,_e,Se,Ve,Xe,yt,Dt,Pt,Bt,Wt,jt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye,Le,_e,Se,Ve,Xe,yt,Dt,Pt,Bt,Wt,jt)}emplace(e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne,oe,ce,ye,Le,_e,Se,Ve,Xe,yt,Dt,Pt,Bt,Wt,jt,Nt){const St=32*e,ar=16*e;return this.int16[St+0]=r,this.int16[St+1]=l,this.int16[St+2]=c,this.int16[St+3]=p,this.int16[St+4]=m,this.int16[St+5]=x,this.int16[St+6]=M,this.int16[St+7]=D,this.uint16[St+8]=L,this.uint16[St+9]=Q,this.uint16[St+10]=Y,this.uint16[St+11]=W,this.uint16[St+12]=ne,this.uint16[St+13]=oe,this.uint16[St+14]=ce,this.uint16[St+15]=ye,this.uint16[St+16]=Le,this.uint16[St+17]=_e,this.uint16[St+18]=Se,this.uint16[St+19]=Ve,this.uint16[St+20]=Xe,this.uint16[St+21]=yt,this.uint16[St+22]=Dt,this.uint32[ar+12]=Pt,this.float32[ar+13]=Bt,this.float32[ar+14]=Wt,this.uint16[St+30]=jt,this.uint16[St+31]=Nt,e}}G1.prototype.bytesPerElement=64,rr("StructArrayLayout8i15ui1ul2f2ui64",G1);class V1 extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.float32[1*e+0]=r,e}}V1.prototype.bytesPerElement=4,rr("StructArrayLayout1f4",V1);class kl extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,l)}emplace(e,r,l,c){const p=3*e;return this.uint16[6*e+0]=r,this.float32[p+1]=l,this.float32[p+2]=c,e}}kl.prototype.bytesPerElement=12,rr("StructArrayLayout1ui2f12",kl);class Do extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,l)}emplace(e,r,l,c){const p=4*e;return this.uint32[2*e+0]=r,this.uint16[p+2]=l,this.uint16[p+3]=c,e}}Do.prototype.bytesPerElement=8,rr("StructArrayLayout1ul2ui8",Do);class _ extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const c=2*e;return this.uint16[c+0]=r,this.uint16[c+1]=l,e}}_.prototype.bytesPerElement=4,rr("StructArrayLayout2ui4",_);class t extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint16[1*e+0]=r,e}}t.prototype.bytesPerElement=2,rr("StructArrayLayout1ui2",t);class a extends Lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,c){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l,c)}emplace(e,r,l,c,p){const m=4*e;return this.float32[m+0]=r,this.float32[m+1]=l,this.float32[m+2]=c,this.float32[m+3]=p,e}}a.prototype.bytesPerElement=16,rr("StructArrayLayout4f16",a);class u extends dn{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new P(this.anchorPointX,this.anchorPointY)}}u.prototype.size=20;class d extends k2{get(e){return new u(this,e)}}rr("CollisionBoxArray",d);class b extends dn{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}b.prototype.size=48;class E extends ls{get(e){return new b(this,e)}}rr("PlacedSymbolArray",E);class R extends dn{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}R.prototype.size=64;class k extends G1{get(e){return new R(this,e)}}rr("SymbolInstanceArray",k);class $ extends V1{getoffsetX(e){return this.float32[1*e+0]}}rr("GlyphOffsetArray",$);class Z extends U1{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}rr("SymbolLineVertexArray",Z);class J extends dn{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}J.prototype.size=12;class K extends kl{get(e){return new J(this,e)}}rr("TextAnchorOffsetArray",K);class se extends dn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}se.prototype.size=8;class pe extends Do{get(e){return new se(this,e)}}rr("FeatureIndexArray",pe);class Ae extends Io{}class Ce extends Io{}class Ee extends Io{}class Be extends Ps{}class He extends A3{}class ze extends zn{}class Qe extends No{}class We extends Ol{}class Ge extends Fl{}class nt extends O2{}class xt extends F2{}class gt extends l1{}class vt extends Zi{}class bt extends qn{}class Ht extends _{}const Zt=Vn([{name:"a_pos",components:2,type:"Int16"}],4),{members:zt}=Zt;class Yt{constructor(e=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=e}prepareSegment(e,r,l,c){const p=this.segments[this.segments.length-1];return e>Yt.MAX_VERTEX_ARRAY_LENGTH&&Jt(`Max vertices per segment is ${Yt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Yt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!p||p.vertexLength+e>Yt.MAX_VERTEX_ARRAY_LENGTH||p.sortKey!==c?this.createNewSegment(r,l,c):p}createNewSegment(e,r,l){const c={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0,vaos:{}};return l!==void 0&&(c.sortKey=l),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(c),c}getOrCreateLatestSegment(e,r,l){return this.prepareSegment(0,e,r,l)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const e of this.segments)for(const r in e.vaos)e.vaos[r].destroy()}static simpleSegment(e,r,l,c){return new Yt([{vertexOffset:e,primitiveOffset:r,vertexLength:l,primitiveLength:c,vaos:{},sortKey:0}])}}function Er(n,e){return 256*(n=mt(Math.floor(n),0,255))+mt(Math.floor(e),0,255)}Yt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,rr("SegmentVector",Yt);const fn=Vn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),In=Vn([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var En,Bn,vn,Xn={exports:{}},Ln={exports:{}},Bi={exports:{}},ti=(function(){if(vn)return Xn.exports;vn=1;var n=(En||(En=1,Ln.exports=function(r,l){var c,p,m,x,M,D,L,Q;for(p=r.length-(c=3&r.length),m=l,M=3432918353,D=461845907,Q=0;Q<p;)L=255&r.charCodeAt(Q)|(255&r.charCodeAt(++Q))<<8|(255&r.charCodeAt(++Q))<<16|(255&r.charCodeAt(++Q))<<24,++Q,m=27492+(65535&(x=5*(65535&(m=(m^=L=(65535&(L=(L=(65535&L)*M+(((L>>>16)*M&65535)<<16)&4294967295)<<15|L>>>17))*D+(((L>>>16)*D&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(L=0,c){case 3:L^=(255&r.charCodeAt(Q+2))<<16;case 2:L^=(255&r.charCodeAt(Q+1))<<8;case 1:m^=L=(65535&(L=(L=(65535&(L^=255&r.charCodeAt(Q)))*M+(((L>>>16)*M&65535)<<16)&4294967295)<<15|L>>>17))*D+(((L>>>16)*D&65535)<<16)&4294967295}return m^=r.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0}),Ln.exports),e=(Bn||(Bn=1,Bi.exports=function(r,l){for(var c,p=r.length,m=l^p,x=0;p>=4;)c=1540483477*(65535&(c=255&r.charCodeAt(x)|(255&r.charCodeAt(++x))<<8|(255&r.charCodeAt(++x))<<16|(255&r.charCodeAt(++x))<<24))+((1540483477*(c>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),p-=4,++x;switch(p){case 3:m^=(255&r.charCodeAt(x+2))<<16;case 2:m^=(255&r.charCodeAt(x+1))<<8;case 1:m=1540483477*(65535&(m^=255&r.charCodeAt(x)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0}),Bi.exports);return Xn.exports=n,Xn.exports.murmur3=n,Xn.exports.murmur2=e,Xn.exports})(),ri=N(ti);class Li{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,r,l,c){this.ids.push(us(e)),this.positions.push(r,l,c)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const r=us(e);let l=0,c=this.ids.length-1;for(;l<c;){const m=l+c>>1;this.ids[m]>=r?c=m:l=m+1}const p=[];for(;this.ids[l]===r;)p.push({index:this.positions[3*l],start:this.positions[3*l+1],end:this.positions[3*l+2]}),l++;return p}static serialize(e,r){const l=new Float64Array(e.ids),c=new Uint32Array(e.positions);return cs(l,c,0,l.length-1),r&&r.push(l.buffer,c.buffer),{ids:l,positions:c}}static deserialize(e){const r=new Li;return r.ids=e.ids,r.positions=e.positions,r.indexed=!0,r}}function us(n){const e=+n;return!isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:ri(String(n))}function cs(n,e,r,l){for(;r<l;){const c=n[r+l>>1];let p=r-1,m=l+1;for(;;){do p++;while(n[p]<c);do m--;while(n[m]>c);if(p>=m)break;Oo(n,p,m),Oo(e,3*p,3*m),Oo(e,3*p+1,3*m+1),Oo(e,3*p+2,3*m+2)}m-r<l-m?(cs(n,e,r,m),r=m+1):(cs(n,e,m+1,l),l=m)}}function Oo(n,e,r){const l=n[e];n[e]=n[r],n[r]=l}rr("FeaturePositionMap",Li);class Pa{constructor(e,r){this.gl=e.gl,this.location=r}}class q1 extends Pa{constructor(e,r){super(e,r),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class zl extends Pa{constructor(e,r){super(e,r),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Fo extends Pa{constructor(e,r){super(e,r),this.current=Dr.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Ra=new Float32Array(16);function Za(n){return[Er(255*n.r,255*n.g),Er(255*n.b,255*n.a)]}class po{constructor(e,r,l){this.value=e,this.uniformNames=r.map((c=>`u_${c}`)),this.type=l}setUniform(e,r,l){e.set(l.constantOr(this.value))}getBinding(e,r,l){return this.type==="color"?new Fo(e,r):new q1(e,r)}}class mo{constructor(e,r){this.uniformNames=r.map((l=>`u_${l}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=e.tlbr}setConstantDashPositions(e,r){this.dashTo=[0,e.y,e.height,e.width],this.dashFrom=[0,r.y,r.height,r.width]}setUniform(e,r,l,c){let p=null;c==="u_pattern_to"?p=this.patternTo:c==="u_pattern_from"?p=this.patternFrom:c==="u_dasharray_to"?p=this.dashTo:c==="u_dasharray_from"?p=this.dashFrom:c==="u_pixel_ratio_to"?p=this.pixelRatioTo:c==="u_pixel_ratio_from"&&(p=this.pixelRatioFrom),p!==null&&e.set(p)}getBinding(e,r,l){return l.substr(0,9)==="u_pattern"||l.substr(0,12)==="u_dasharray_"?new zl(e,r):new q1(e,r)}}class mn{constructor(e,r,l,c){this.expression=e,this.type=l,this.maxValue=0,this.paintVertexAttributes=r.map((p=>({name:`a_${p}`,type:"Float32",components:l==="color"?2:1,offset:0}))),this.paintVertexArray=new c}populatePaintArray(e,r,l){const c=this.paintVertexArray.length,p=this.expression.evaluate(new pn(0,l),r,{},l.canonical,[],l.formattedSection);this.paintVertexArray.resize(e),this._setPaintValue(c,e,p)}updatePaintArray(e,r,l,c,p){const m=this.expression.evaluate(new pn(0,p),l,c);this._setPaintValue(e,r,m)}_setPaintValue(e,r,l){if(this.type==="color"){const c=Za(l);for(let p=e;p<r;p++)this.paintVertexArray.emplace(p,c[0],c[1])}else{for(let c=e;c<r;c++)this.paintVertexArray.emplace(c,l);this.maxValue=Math.max(this.maxValue,Math.abs(l))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Mn{constructor(e,r,l,c,p,m){this.expression=e,this.uniformNames=r.map((x=>`u_${x}_t`)),this.type=l,this.useIntegerZoom=c,this.zoom=p,this.maxValue=0,this.paintVertexAttributes=r.map((x=>({name:`a_${x}`,type:"Float32",components:l==="color"?4:2,offset:0}))),this.paintVertexArray=new m}populatePaintArray(e,r,l){const c=this.expression.evaluate(new pn(this.zoom,l),r,{},l.canonical,[],l.formattedSection),p=this.expression.evaluate(new pn(this.zoom+1,l),r,{},l.canonical,[],l.formattedSection),m=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(m,e,c,p)}updatePaintArray(e,r,l,c,p){const m=this.expression.evaluate(new pn(this.zoom,p),l,c),x=this.expression.evaluate(new pn(this.zoom+1,p),l,c);this._setPaintValue(e,r,m,x)}_setPaintValue(e,r,l,c){if(this.type==="color"){const p=Za(l),m=Za(c);for(let x=e;x<r;x++)this.paintVertexArray.emplace(x,p[0],p[1],m[0],m[1])}else{for(let p=e;p<r;p++)this.paintVertexArray.emplace(p,l,c);this.maxValue=Math.max(this.maxValue,Math.abs(l),Math.abs(c))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,r){const l=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,c=mt(this.expression.interpolationFactor(l,this.zoom,this.zoom+1),0,1);e.set(c)}getBinding(e,r,l){return new q1(e,r)}}class gi{constructor(e,r,l,c,p,m){this.expression=e,this.type=r,this.useIntegerZoom=l,this.zoom=c,this.layerId=m,this.zoomInPaintVertexArray=new p,this.zoomOutPaintVertexArray=new p}populatePaintArray(e,r,l){const c=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(c,e,this.getPositionIds(r),l)}updatePaintArray(e,r,l,c,p){this._setPaintValues(e,r,this.getPositionIds(l),p)}_setPaintValues(e,r,l,c){const p=this.getPositions(c);if(!p||!l)return;const m=p[l.min],x=p[l.mid],M=p[l.max];if(m&&x&&M)for(let D=e;D<r;D++)this.emplace(this.zoomInPaintVertexArray,D,x,m),this.emplace(this.zoomOutPaintVertexArray,D,x,M)}upload(e){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const r=this.getVertexAttributes();this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,r,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,r,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ei extends gi{getPositions(e){return e.imagePositions}getPositionIds(e){return e.patterns&&e.patterns[this.layerId]}getVertexAttributes(){return fn.members}emplace(e,r,l,c){e.emplace(r,l.tlbr[0],l.tlbr[1],l.tlbr[2],l.tlbr[3],c.tlbr[0],c.tlbr[1],c.tlbr[2],c.tlbr[3],l.pixelRatio,c.pixelRatio)}}class I4 extends gi{getPositions(e){return e.dashPositions}getPositionIds(e){return e.dashes&&e.dashes[this.layerId]}getVertexAttributes(){return In.members}emplace(e,r,l,c){e.emplace(r,0,l.y,l.height,l.width,0,c.y,c.height,c.width)}}class N4{constructor(e,r,l){this.binders={},this._buffers=[];const c=[];for(const p in e.paint._values){if(!l(p))continue;const m=e.paint.get(p);if(!(m instanceof Ha&&so(m.property.specification)))continue;const x=q5(p,e.type),M=m.value,D=m.property.specification.type,L=m.property.useIntegerZoom,Q=m.property.specification["property-type"],Y=Q==="cross-faded"||Q==="cross-faded-data-driven";if(M.kind==="constant")this.binders[p]=Y?new mo(M.value,x):new po(M.value,x,D),c.push(`/u_${p}`);else if(M.kind==="source"||Y){const W=c1(p,D,"source");this.binders[p]=Y?p==="line-dasharray"?new I4(M,D,L,r,W,e.id):new Ei(M,D,L,r,W,e.id):new mn(M,x,D,W),c.push(`/a_${p}`)}else{const W=c1(p,D,"composite");this.binders[p]=new Mn(M,x,D,L,r,W),c.push(`/z_${p}`)}}this.cacheKey=c.sort().join("")}getMaxValue(e){const r=this.binders[e];return r instanceof mn||r instanceof Mn?r.maxValue:0}populatePaintArrays(e,r,l){for(const c in this.binders){const p=this.binders[c];(p instanceof mn||p instanceof Mn||p instanceof gi)&&p.populatePaintArray(e,r,l)}}setConstantPatternPositions(e,r){for(const l in this.binders){const c=this.binders[l];c instanceof mo&&c.setConstantPatternPositions(e,r)}}setConstantDashPositions(e,r){for(const l in this.binders){const c=this.binders[l];c instanceof mo&&c.setConstantDashPositions(e,r)}}updatePaintArrays(e,r,l,c,p){let m=!1;for(const x in e){const M=r.getPositions(x);for(const D of M){const L=l.feature(D.index);for(const Q in this.binders){const Y=this.binders[Q];if((Y instanceof mn||Y instanceof Mn||Y instanceof gi)&&Y.expression.isStateDependent===!0){const W=c.paint.get(Q);Y.expression=W.value,Y.updatePaintArray(D.start,D.end,L,e[x],p),m=!0}}}}return m}defines(){const e=[];for(const r in this.binders){const l=this.binders[r];(l instanceof po||l instanceof mo)&&e.push(...l.uniformNames.map((c=>`#define HAS_UNIFORM_${c}`)))}return e}getBinderAttributes(){const e=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof mn||l instanceof Mn)for(let c=0;c<l.paintVertexAttributes.length;c++)e.push(l.paintVertexAttributes[c].name);else if(l instanceof gi){const c=l.getVertexAttributes();for(const p of c)e.push(p.name)}}return e}getBinderUniforms(){const e=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof po||l instanceof mo||l instanceof Mn)for(const c of l.uniformNames)e.push(c)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,r){const l=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof po||p instanceof mo||p instanceof Mn){for(const m of p.uniformNames)if(r[m]){const x=p.getBinding(e,r[m],m);l.push({name:m,property:c,binding:x})}}}return l}setUniforms(e,r,l,c){for(const{name:p,property:m,binding:x}of r)this.binders[m].setUniform(x,c,l.get(m),p)}updatePaintBuffers(e){this._buffers=[];for(const r in this.binders){const l=this.binders[r];if(e&&l instanceof gi){const c=e.fromScale===2?l.zoomInPaintVertexBuffer:l.zoomOutPaintVertexBuffer;c&&this._buffers.push(c)}else(l instanceof mn||l instanceof Mn)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(e){for(const r in this.binders){const l=this.binders[r];(l instanceof mn||l instanceof Mn||l instanceof gi)&&l.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const r=this.binders[e];(r instanceof mn||r instanceof Mn||r instanceof gi)&&r.destroy()}}}class u1{constructor(e,r,l=()=>!0){this.programConfigurations={};for(const c of e)this.programConfigurations[c.id]=new N4(c,r,l);this.needsUpload=!1,this._featureMap=new Li,this._bufferOffset=0}populatePaintArrays(e,r,l,c){for(const p in this.programConfigurations)this.programConfigurations[p].populatePaintArrays(e,r,c);r.id!==void 0&&this._featureMap.add(r.id,l,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,r,l,c){for(const p of l)this.needsUpload=this.programConfigurations[p.id].updatePaintArrays(e,this._featureMap,r,p,c)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function q5(n,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[n]||[n.replace(`${e}-`,"").replace(/-/g,"_")]}function c1(n,e,r){const l={color:{source:zn,composite:a},number:{source:V1,composite:zn}},c=(function(p){return{"line-pattern":{source:Qe,composite:Qe},"fill-pattern":{source:Qe,composite:Qe},"fill-extrusion-pattern":{source:Qe,composite:Qe},"line-dasharray":{source:We,composite:We}}[p]})(n);return c&&c[r]||l[e][r]}rr("ConstantBinder",po),rr("CrossFadedConstantBinder",mo),rr("SourceExpressionBinder",mn),rr("CrossFadedPatternBinder",Ei),rr("CrossFadedDasharrayBinder",I4),rr("CompositeExpressionBinder",Mn),rr("ProgramConfiguration",N4,{omit:["_buffers"]}),rr("ProgramConfigurationSet",u1);const D4=Math.pow(2,14)-1,Is=-D4-1;function Ns(n){const e=Ze/n.extent,r=n.loadGeometry();for(let l=0;l<r.length;l++){const c=r[l];for(let p=0;p<c.length;p++){const m=c[p],x=Math.round(m.x*e),M=Math.round(m.y*e);m.x=mt(x,Is,D4),m.y=mt(M,Is,D4),(x<m.x||x>m.x+1||M<m.y||M>m.y+1)&&Jt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function ko(n,e){return{type:n.type,id:n.id,properties:n.properties,geometry:e?Ns(n):[]}}const O4=-32768;function z2(n,e,r,l,c){n.emplaceBack(O4+8*e+l,O4+8*r+c)}class B2{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((r=>r.id)),this.index=e.index,this.hasDependencies=!1,this.layoutVertexArray=new Ce,this.indexArray=new bt,this.segments=new Yt,this.programConfigurations=new u1(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((r=>r.isStateDependent())).map((r=>r.id))}populate(e,r,l){const c=this.layers[0],p=[];let m=null,x=!1,M=c.type==="heatmap";if(c.type==="circle"){const L=c;m=L.layout.get("circle-sort-key"),x=!m.isConstant(),M=M||L.paint.get("circle-pitch-alignment")==="map"}const D=M?r.subdivisionGranularity.circle:1;for(const{feature:L,id:Q,index:Y,sourceLayerIndex:W}of e){const ne=this.layers[0]._featureFilter.needGeometry,oe=ko(L,ne);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),oe,l))continue;const ce=x?m.evaluate(oe,{},l):void 0,ye={id:Q,properties:L.properties,type:L.type,sourceLayerIndex:W,index:Y,geometry:ne?oe.geometry:Ns(L),patterns:{},sortKey:ce};p.push(ye)}x&&p.sort(((L,Q)=>L.sortKey-Q.sortKey));for(const L of p){const{geometry:Q,index:Y,sourceLayerIndex:W}=L,ne=e[Y].feature;this.addFeature(L,Q,Y,l,D),r.featureIndex.insert(ne,Q,Y,W,this.index)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,{imagePositions:l})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,zt),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,r,l,c,p=1){let m;switch(p){case 1:m=[0,7];break;case 3:m=[0,2,5,7];break;case 5:m=[0,1,3,4,6,7];break;case 7:m=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${p}; valid values are 1, 3, 5, 7.`)}const x=m.length;for(const M of r)for(const D of M){const L=D.x,Q=D.y;if(L<0||L>=Ze||Q<0||Q>=Ze)continue;const Y=this.segments.prepareSegment(x*x,this.layoutVertexArray,this.indexArray,e.sortKey),W=Y.vertexLength;for(let ne=0;ne<x;ne++)for(let oe=0;oe<x;oe++)z2(this.layoutVertexArray,L,Q,m[oe],m[ne]);for(let ne=0;ne<x-1;ne++)for(let oe=0;oe<x-1;oe++){const ce=W+ne*x+oe,ye=W+(ne+1)*x+oe;this.indexArray.emplaceBack(ce,ye+1,ce+1),this.indexArray.emplaceBack(ce,ye,ye+1)}Y.vertexLength+=x*x,Y.primitiveLength+=(x-1)*(x-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,{imagePositions:{},canonical:c})}}function L2(n,e){for(let r=0;r<n.length;r++)if(h1(e,n[r]))return!0;for(let r=0;r<e.length;r++)if(h1(n,e[r]))return!0;return!!Xi(n,e)}function $5(n,e,r){return!!h1(n,e)||!!H5(e,n,r)}function Q5(n,e){if(n.length===1)return s0(e,n[0]);for(let r=0;r<e.length;r++){const l=e[r];for(let c=0;c<l.length;c++)if(h1(n,l[c]))return!0}for(let r=0;r<n.length;r++)if(s0(e,n[r]))return!0;for(let r=0;r<e.length;r++)if(Xi(n,e[r]))return!0;return!1}function Ui(n,e,r){if(n.length>1){if(Xi(n,e))return!0;for(let l=0;l<e.length;l++)if(H5(e[l],n,r))return!0}for(let l=0;l<n.length;l++)if(H5(n[l],e,r))return!0;return!1}function Xi(n,e){if(n.length===0||e.length===0)return!1;for(let r=0;r<n.length-1;r++){const l=n[r],c=n[r+1];for(let p=0;p<e.length-1;p++)if(N6(l,c,e[p],e[p+1]))return!0}return!1}function N6(n,e,r,l){return Kt(n,r,l)!==Kt(e,r,l)&&Kt(n,e,r)!==Kt(n,e,l)}function H5(n,e,r){const l=r*r;if(e.length===1)return n.distSqr(e[0])<l;for(let c=1;c<e.length;c++)if(o0(n,e[c-1],e[c])<l)return!0;return!1}function o0(n,e,r){const l=e.distSqr(r);if(l===0)return n.distSqr(e);const c=((n.x-e.x)*(r.x-e.x)+(n.y-e.y)*(r.y-e.y))/l;return n.distSqr(c<0?e:c>1?r:r.sub(e)._mult(c)._add(e))}function s0(n,e){let r,l,c,p=!1;for(let m=0;m<n.length;m++){r=n[m];for(let x=0,M=r.length-1;x<r.length;M=x++)l=r[x],c=r[M],l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(p=!p)}return p}function h1(n,e){let r=!1;for(let l=0,c=n.length-1;l<n.length;c=l++){const p=n[l],m=n[c];p.y>e.y!=m.y>e.y&&e.x<(m.x-p.x)*(e.y-p.y)/(m.y-p.y)+p.x&&(r=!r)}return r}function D6(n,e,r){const l=r[0],c=r[2];if(n.x<l.x&&e.x<l.x||n.x>c.x&&e.x>c.x||n.y<l.y&&e.y<l.y||n.y>c.y&&e.y>c.y)return!1;const p=Kt(n,e,r[0]);return p!==Kt(n,e,r[1])||p!==Kt(n,e,r[2])||p!==Kt(n,e,r[3])}function $1(n,e,r){const l=e.paint.get(n).value;return l.kind==="constant"?l.value:r.programConfigurations.get(e.id).getMaxValue(n)}function E3(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Z5(n,e,r,l,c){if(!e[0]&&!e[1])return n;const p=P.convert(e)._mult(c);r==="viewport"&&p._rotate(-l);const m=[];for(let x=0;x<n.length;x++)m.push(n[x].sub(p));return m}function X5(n){const e=[];for(let r=0;r<n.length;r++){const l=n[r],c=e.at(-1);(r===0||c&&!l.equals(c))&&e.push(l)}return e}function l0({queryGeometry:n,size:e},r){return $5(n,r,e)}function O6({queryGeometry:n,size:e,transform:r,unwrappedTileID:l,getElevation:c},p){return $5(n,p,e*(r.projectTileCoordinates(p.x,p.y,l,c).signedDistanceFromCamera/r.cameraToCenterDistance))}function F6({queryGeometry:n,size:e,transform:r,unwrappedTileID:l,getElevation:c},p){const m=r.projectTileCoordinates(p.x,p.y,l,c).signedDistanceFromCamera,x=e*(r.cameraToCenterDistance/m);return $5(n,M3(p,r,l,c),x)}function k6({queryGeometry:n,size:e,transform:r,unwrappedTileID:l,getElevation:c},p){return $5(n,M3(p,r,l,c),e)}function Y5({queryGeometry:n,size:e,transform:r,unwrappedTileID:l,getElevation:c,pitchAlignment:p="map",pitchScale:m="map"},x){const M=p==="map"?m==="map"?l0:O6:m==="map"?F6:k6,D={queryGeometry:n,size:e,transform:r,unwrappedTileID:l,getElevation:c};for(const L of x)for(const Q of L)if(M(D,Q))return!0;return!1}function M3(n,e,r,l){const c=e.projectTileCoordinates(n.x,n.y,r,l).point;return new P((.5*c.x+.5)*e.width,(.5*-c.y+.5)*e.height)}let W5,u0;rr("CircleBucket",B2,{omit:["layers"]});var c0={get paint(){return u0=u0||new ui({"circle-radius":new sr(ct.paint_circle["circle-radius"]),"circle-color":new sr(ct.paint_circle["circle-color"]),"circle-blur":new sr(ct.paint_circle["circle-blur"]),"circle-opacity":new sr(ct.paint_circle["circle-opacity"]),"circle-translate":new ir(ct.paint_circle["circle-translate"]),"circle-translate-anchor":new ir(ct.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ir(ct.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ir(ct.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new sr(ct.paint_circle["circle-stroke-width"]),"circle-stroke-color":new sr(ct.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new sr(ct.paint_circle["circle-stroke-opacity"])})},get layout(){return W5=W5||new ui({"circle-sort-key":new sr(ct.layout_circle["circle-sort-key"])})}};class K5 extends Zn{constructor(e,r){super(e,c0,r)}createBucket(e){return new B2(e)}queryRadius(e){const r=e;return $1("circle-radius",this,r)+$1("circle-stroke-width",this,r)+E3(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:e,feature:r,featureState:l,geometry:c,transform:p,pixelsToTileUnits:m,unwrappedTileID:x,getElevation:M}){const D=Z5(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-p.bearingInRadians,m),L=this.paint.get("circle-radius").evaluate(r,l)+this.paint.get("circle-stroke-width").evaluate(r,l),Q=this.paint.get("circle-pitch-scale"),Y=this.paint.get("circle-pitch-alignment");let W,ne;return Y==="map"?(W=D,ne=L*m):(W=(function(oe,ce,ye,Le){return oe.map((_e=>M3(_e,ce,ye,Le)))})(D,p,x,M),ne=L),Y5({queryGeometry:W,size:ne,transform:p,unwrappedTileID:x,getElevation:M,pitchAlignment:Y,pitchScale:Q},c)}}class J5 extends B2{}let h0;rr("HeatmapBucket",J5,{omit:["layers"]});var d0={get paint(){return h0=h0||new ui({"heatmap-radius":new sr(ct.paint_heatmap["heatmap-radius"]),"heatmap-weight":new sr(ct.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ir(ct.paint_heatmap["heatmap-intensity"]),"heatmap-color":new N2(ct.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ir(ct.paint_heatmap["heatmap-opacity"])})}};function eu(n,{width:e,height:r},l,c){if(c){if(c instanceof Uint8ClampedArray)c=new Uint8Array(c.buffer);else if(c.length!==e*r*l)throw new RangeError(`mismatched image size. expected: ${c.length} but got: ${e*r*l}`)}else c=new Uint8Array(e*r*l);return n.width=e,n.height=r,n.data=c,n}function d1(n,{width:e,height:r},l){if(e===n.width&&r===n.height)return;const c=eu({},{width:e,height:r},l);C3(n,c,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,e),height:Math.min(n.height,r)},l),n.width=e,n.height=r,n.data=c.data}function C3(n,e,r,l,c,p){if(c.width===0||c.height===0)return e;if(c.width>n.width||c.height>n.height||r.x>n.width-c.width||r.y>n.height-c.height)throw new RangeError("out of range source coordinates for image copy");if(c.width>e.width||c.height>e.height||l.x>e.width-c.width||l.y>e.height-c.height)throw new RangeError("out of range destination coordinates for image copy");const m=n.data,x=e.data;if(m===x)throw new Error("srcData equals dstData, so image is already copied");for(let M=0;M<c.height;M++){const D=((r.y+M)*n.width+r.x)*p,L=((l.y+M)*e.width+l.x)*p;for(let Q=0;Q<c.width*p;Q++)x[L+Q]=m[D+Q]}return e}class P3{constructor(e,r){eu(this,e,1,r)}resize(e){d1(this,e,1)}clone(){return new P3({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,l,c,p){C3(e,r,l,c,p,1)}}class Ia{constructor(e,r){eu(this,e,4,r)}resize(e){d1(this,e,4)}replace(e,r){r?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Ia({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,l,c,p){C3(e,r,l,c,p,4)}setPixel(e,r,l){const c=4*(e*this.width+r);this.data[c+0]=Math.round(255*l.r/l.a),this.data[c+1]=Math.round(255*l.g/l.a),this.data[c+2]=Math.round(255*l.b/l.a),this.data[c+3]=Math.round(255*l.a)}}function f1(n){const e={},r=n.resolution||256,l=n.clips?n.clips.length:1,c=n.image||new Ia({width:r,height:l});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const p=(m,x,M)=>{e[n.evaluationKey]=M;const D=n.expression.evaluate(e);c.setPixel(m/4/r,x/4,D)};if(n.clips)for(let m=0,x=0;m<l;++m,x+=4*r)for(let M=0,D=0;M<r;M++,D+=4){const L=M/(r-1),{start:Q,end:Y}=n.clips[m];p(x,D,Q*(1-L)+Y*L)}else for(let m=0,x=0;m<r;m++,x+=4)p(0,x,m/(r-1));return c}rr("AlphaImage",P3),rr("RGBAImage",Ia);const R3="big-fb";class z6 extends Zn{createBucket(e){return new J5(e)}constructor(e,r){super(e,d0,r),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){e==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=f1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(R3)&&this.heatmapFbos.delete(R3)}queryRadius(e){return $1("heatmap-radius",this,e)}queryIntersectsFeature({queryGeometry:e,feature:r,featureState:l,geometry:c,transform:p,pixelsToTileUnits:m,unwrappedTileID:x,getElevation:M}){return Y5({queryGeometry:e,size:this.paint.get("heatmap-radius").evaluate(r,l)*m,transform:p,unwrappedTileID:x,getElevation:M},c)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let I3;var N3={get paint(){return I3=I3||new ui({"hillshade-illumination-direction":new ir(ct.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new ir(ct.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new ir(ct.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ir(ct.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ir(ct.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ir(ct.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ir(ct.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new ir(ct.paint_hillshade["hillshade-method"])})}};class ni extends Zn{constructor(e,r){super(e,N3,r),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let e=this.paint.get("hillshade-illumination-direction").values,r=this.paint.get("hillshade-illumination-altitude").values,l=this.paint.get("hillshade-highlight-color").values,c=this.paint.get("hillshade-shadow-color").values;const p=Math.max(e.length,r.length,l.length,c.length);e=e.concat(Array(p-e.length).fill(e.at(-1))),r=r.concat(Array(p-r.length).fill(r.at(-1))),l=l.concat(Array(p-l.length).fill(l.at(-1))),c=c.concat(Array(p-c.length).fill(c.at(-1)));const m=r.map(it);return{directionRadians:e.map(it),altitudeRadians:m,shadowColor:c,highlightColor:l}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let B6;var B7={get paint(){return B6=B6||new ui({"color-relief-opacity":new ir(ct["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new N2(ct["paint_color-relief"]["color-relief-color"])})}};class tu{constructor(e,r,l,c){this.context=e,this.format=l,this.texture=e.gl.createTexture(),this.update(r,c)}update(e,r,l){const{width:c,height:p}=e,m=!(this.size&&this.size[0]===c&&this.size[1]===p||l),{context:x}=this,{gl:M}=x;if(this.useMipmap=!!(r&&r.useMipmap),M.bindTexture(M.TEXTURE_2D,this.texture),x.pixelStoreUnpackFlipY.set(!1),x.pixelStoreUnpack.set(1),x.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!r||r.premultiply!==!1)),m)this.size=[c,p],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||ur(e)?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,e):M.texImage2D(M.TEXTURE_2D,0,this.format,c,p,0,this.format,M.UNSIGNED_BYTE,e.data);else{const{x:D,y:L}=l||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||ur(e)?M.texSubImage2D(M.TEXTURE_2D,0,D,L,M.RGBA,M.UNSIGNED_BYTE,e):M.texSubImage2D(M.TEXTURE_2D,0,D,L,c,p,M.RGBA,M.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&M.generateMipmap(M.TEXTURE_2D),x.pixelStoreUnpackFlipY.setDefault(),x.pixelStoreUnpack.setDefault(),x.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(e,r,l){const{context:c}=this,{gl:p}=c;p.bindTexture(p.TEXTURE_2D,this.texture),l!==p.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(l=p.LINEAR),e!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,e),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,l||e),this.filter=e),r!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,r),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,r),this.wrap=r)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class F4{constructor(e,r,l,c=1,p=1,m=1,x=0){if(this.uid=e,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(l&&!["mapbox","terrarium","custom"].includes(l))return void Jt(`"${l}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=r.height;const M=this.dim=r.height-2;switch(this.data=new Uint32Array(r.data.buffer),l){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=c,this.greenFactor=p,this.blueFactor=m,this.baseShift=x;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let D=0;D<M;D++)this.data[this._idx(-1,D)]=this.data[this._idx(0,D)],this.data[this._idx(M,D)]=this.data[this._idx(M-1,D)],this.data[this._idx(D,-1)]=this.data[this._idx(D,0)],this.data[this._idx(D,M)]=this.data[this._idx(D,M-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(M,-1)]=this.data[this._idx(M-1,0)],this.data[this._idx(-1,M)]=this.data[this._idx(0,M-1)],this.data[this._idx(M,M)]=this.data[this._idx(M-1,M-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let D=0;D<M;D++)for(let L=0;L<M;L++){const Q=this.get(D,L);Q>this.max&&(this.max=Q),Q<this.min&&(this.min=Q)}}get(e,r){const l=new Uint8Array(this.data.buffer),c=4*this._idx(e,r);return this.unpack(l[c],l[c+1],l[c+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,r){if(e<-1||e>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${e}, y: ${r}, dim: ${this.dim}`);return(r+1)*this.stride+(e+1)}unpack(e,r,l){return e*this.redFactor+r*this.greenFactor+l*this.blueFactor-this.baseShift}pack(e){return Q1(e,this.getUnpackVector())}getPixels(){return new Ia({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,r,l){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let c=r*this.dim,p=r*this.dim+this.dim,m=l*this.dim,x=l*this.dim+this.dim;switch(r){case-1:c=p-1;break;case 1:p=c+1}switch(l){case-1:m=x-1;break;case 1:x=m+1}const M=-r*this.dim,D=-l*this.dim;for(let L=m;L<x;L++)for(let Q=c;Q<p;Q++)this.data[this._idx(Q,L)]=e.data[this._idx(Q+M,L+D)]}}function Q1(n,e){const r=e[0],l=e[1],c=e[2],p=e[3],m=Math.min(r,l,c),x=Math.round((n+p)/m);return{r:Math.floor(x*m/r)%256,g:Math.floor(x*m/l)%256,b:Math.floor(x*m/c)%256}}rr("DEMData",F4);class L6 extends Zn{constructor(e,r){super(e,B7,r)}_createColorRamp(e){const r={elevationStops:[],colorStops:[]},l=this._transitionablePaint._values["color-relief-color"].value.expression;if(l instanceof _a&&l._styleExpression.expression instanceof ga){this.colorRampExpression=l;const m=l._styleExpression.expression;r.elevationStops=m.labels,r.colorStops=[];for(const x of r.elevationStops)r.colorStops.push(m.evaluate({globals:{elevation:x}}))}if(r.elevationStops.length<1&&(r.elevationStops=[0],r.colorStops=[Dr.transparent]),r.elevationStops.length<2&&(r.elevationStops.push(r.elevationStops[0]+1),r.colorStops.push(r.colorStops[0])),r.elevationStops.length<=e)return r;const c={elevationStops:[],colorStops:[]},p=(r.elevationStops.length-1)/(e-1);for(let m=0;m<r.elevationStops.length-.5;m+=p)c.elevationStops.push(r.elevationStops[Math.round(m)]),c.colorStops.push(r.colorStops[Math.round(m)]);return Jt(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${e}, provided: ${r.elevationStops.length}`),c}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(e,r,l){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const c=this._createColorRamp(r),p=new Ia({width:c.colorStops.length,height:1}),m=new Ia({width:c.colorStops.length,height:1});for(let x=0;x<c.elevationStops.length;x++){const M=Q1(c.elevationStops[x],l);m.setPixel(0,x,new Dr(M.r/255,M.g/255,M.b/255,1)),p.setPixel(0,x,c.colorStops[x])}return this.colorRampTextures={elevationTexture:new tu(e,m,e.gl.RGBA),colorTexture:new tu(e,p,e.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}const U6=Vn([{name:"a_pos",components:2,type:"Int16"}],4),{members:D3}=U6;function zo(n,e,r){const l=r.patternDependencies;let c=!1;for(const p of e){const m=p.paint.get(`${n}-pattern`);m.isConstant()||(c=!0);const x=m.constantOr(null);x&&(c=!0,l[x.to]=!0,l[x.from]=!0)}return c}function ru(n,e,r,l,c){const{zoom:p}=l,m=c.patternDependencies;for(const x of e){const M=x.paint.get(`${n}-pattern`).value;if(M.kind!=="constant"){let D=M.evaluate({zoom:p-1},r,{},c.availableImages),L=M.evaluate({zoom:p},r,{},c.availableImages),Q=M.evaluate({zoom:p+1},r,{},c.availableImages);D=D&&D.name?D.name:D,L=L&&L.name?L.name:L,Q=Q&&Q.name?Q.name:Q,m[D]=!0,m[L]=!0,m[Q]=!0,r.patterns[x.id]={min:D,mid:L,max:Q}}}return r}function nu(n,e,r,l,c){let p;if(c===(function(m,x,M,D){let L=0;for(let Q=x,Y=M-D;Q<M;Q+=D)L+=(m[Y]-m[Q])*(m[Q+1]+m[Y+1]),Y=Q;return L})(n,e,r,l)>0)for(let m=e;m<r;m+=l)p=Xa(m/l|0,n[m],n[m+1],p);else for(let m=r-l;m>=e;m-=l)p=Xa(m/l|0,n[m],n[m+1],p);return p&&go(p,p.next)&&(Ya(p),p=p.next),p}function Bl(n,e){if(!n)return n;e||(e=n);let r,l=n;do if(r=!1,l.steiner||!go(l,l.next)&&un(l.prev,l,l.next)!==0)l=l.next;else{if(Ya(l),l=e=l.prev,l===l.next)break;r=!0}while(r||l!==e);return e}function U2(n,e,r,l,c,p,m){if(!n)return;!m&&p&&(function(M,D,L,Q){let Y=M;do Y.z===0&&(Y.z=Gi(Y.x,Y.y,D,L,Q)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==M);Y.prevZ.nextZ=null,Y.prevZ=null,(function(W){let ne,oe=1;do{let ce,ye=W;W=null;let Le=null;for(ne=0;ye;){ne++;let _e=ye,Se=0;for(let Xe=0;Xe<oe&&(Se++,_e=_e.nextZ,_e);Xe++);let Ve=oe;for(;Se>0||Ve>0&&_e;)Se!==0&&(Ve===0||!_e||ye.z<=_e.z)?(ce=ye,ye=ye.nextZ,Se--):(ce=_e,_e=_e.nextZ,Ve--),Le?Le.nextZ=ce:W=ce,ce.prevZ=Le,Le=ce;ye=_e}Le.nextZ=null,oe*=2}while(ne>1)})(Y)})(n,l,c,p);let x=n;for(;n.prev!==n.next;){const M=n.prev,D=n.next;if(p?iu(n,l,c,p):f0(n))e.push(M.i,n.i,D.i),Ya(n),n=D.next,x=D.next;else if((n=D)===x){m?m===1?U2(n=j6(Bl(n),e),e,r,l,c,p,2):m===2&&H1(n,e,r,l,c,p):U2(Bl(n),e,r,l,c,p,1);break}}}function f0(n){const e=n.prev,r=n,l=n.next;if(un(e,r,l)>=0)return!1;const c=e.x,p=r.x,m=l.x,x=e.y,M=r.y,D=l.y,L=Math.min(c,p,m),Q=Math.min(x,M,D),Y=Math.max(c,p,m),W=Math.max(x,M,D);let ne=l.next;for(;ne!==e;){if(ne.x>=L&&ne.x<=Y&&ne.y>=Q&&ne.y<=W&&k4(c,x,p,M,m,D,ne.x,ne.y)&&un(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function iu(n,e,r,l){const c=n.prev,p=n,m=n.next;if(un(c,p,m)>=0)return!1;const x=c.x,M=p.x,D=m.x,L=c.y,Q=p.y,Y=m.y,W=Math.min(x,M,D),ne=Math.min(L,Q,Y),oe=Math.max(x,M,D),ce=Math.max(L,Q,Y),ye=Gi(W,ne,e,r,l),Le=Gi(oe,ce,e,r,l);let _e=n.prevZ,Se=n.nextZ;for(;_e&&_e.z>=ye&&Se&&Se.z<=Le;){if(_e.x>=W&&_e.x<=oe&&_e.y>=ne&&_e.y<=ce&&_e!==c&&_e!==m&&k4(x,L,M,Q,D,Y,_e.x,_e.y)&&un(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Se.x>=W&&Se.x<=oe&&Se.y>=ne&&Se.y<=ce&&Se!==c&&Se!==m&&k4(x,L,M,Q,D,Y,Se.x,Se.y)&&un(Se.prev,Se,Se.next)>=0))return!1;Se=Se.nextZ}for(;_e&&_e.z>=ye;){if(_e.x>=W&&_e.x<=oe&&_e.y>=ne&&_e.y<=ce&&_e!==c&&_e!==m&&k4(x,L,M,Q,D,Y,_e.x,_e.y)&&un(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Se&&Se.z<=Le;){if(Se.x>=W&&Se.x<=oe&&Se.y>=ne&&Se.y<=ce&&Se!==c&&Se!==m&&k4(x,L,M,Q,D,Y,Se.x,Se.y)&&un(Se.prev,Se,Se.next)>=0)return!1;Se=Se.nextZ}return!0}function j6(n,e){let r=n;do{const l=r.prev,c=r.next.next;!go(l,c)&&g0(l,r,r.next,c)&&k3(l,c)&&k3(c,l)&&(e.push(l.i,r.i,c.i),Ya(r),Ya(r.next),r=n=c),r=r.next}while(r!==n);return Bl(r)}function H1(n,e,r,l,c,p){let m=n;do{let x=m.next.next;for(;x!==m.prev;){if(m.i!==x.i&&ci(m,x)){let M=z3(m,x);return m=Bl(m,m.next),M=Bl(M,M.next),U2(m,e,r,l,c,p,0),void U2(M,e,r,l,c,p,0)}x=x.next}m=m.next}while(m!==n)}function ji(n,e){let r=n.x-e.x;return r===0&&(r=n.y-e.y,r===0)&&(r=(n.next.y-n.y)/(n.next.x-n.x)-(e.next.y-e.y)/(e.next.x-e.x)),r}function p0(n,e){const r=(function(c,p){let m=p;const x=c.x,M=c.y;let D,L=-1/0;if(go(c,m))return m;do{if(go(c,m.next))return m.next;if(M<=m.y&&M>=m.next.y&&m.next.y!==m.y){const oe=m.x+(M-m.y)*(m.next.x-m.x)/(m.next.y-m.y);if(oe<=x&&oe>L&&(L=oe,D=m.x<m.next.x?m:m.next,oe===x))return D}m=m.next}while(m!==p);if(!D)return null;const Q=D,Y=D.x,W=D.y;let ne=1/0;m=D;do{if(x>=m.x&&m.x>=Y&&x!==m.x&&m0(M<W?x:L,M,Y,W,M<W?L:x,M,m.x,m.y)){const oe=Math.abs(M-m.y)/(x-m.x);k3(m,c)&&(oe<ne||oe===ne&&(m.x>D.x||m.x===D.x&&G6(D,m)))&&(D=m,ne=oe)}m=m.next}while(m!==Q);return D})(n,e);if(!r)return e;const l=z3(r,n);return Bl(l,l.next),Bl(r,r.next)}function G6(n,e){return un(n.prev,n,e.prev)<0&&un(e.next,n,n.next)<0}function Gi(n,e,r,l,c){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-r)*c|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-l)*c|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function L7(n){let e=n,r=n;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==n);return r}function m0(n,e,r,l,c,p,m,x){return(c-m)*(e-x)>=(n-m)*(p-x)&&(n-m)*(l-x)>=(r-m)*(e-x)&&(r-m)*(p-x)>=(c-m)*(l-x)}function k4(n,e,r,l,c,p,m,x){return!(n===m&&e===x)&&m0(n,e,r,l,c,p,m,x)}function ci(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!(function(r,l){let c=r;do{if(c.i!==r.i&&c.next.i!==r.i&&c.i!==l.i&&c.next.i!==l.i&&g0(c,c.next,r,l))return!0;c=c.next}while(c!==r);return!1})(n,e)&&(k3(n,e)&&k3(e,n)&&(function(r,l){let c=r,p=!1;const m=(r.x+l.x)/2,x=(r.y+l.y)/2;do c.y>x!=c.next.y>x&&c.next.y!==c.y&&m<(c.next.x-c.x)*(x-c.y)/(c.next.y-c.y)+c.x&&(p=!p),c=c.next;while(c!==r);return p})(n,e)&&(un(n.prev,n,e.prev)||un(n,e.prev,e))||go(n,e)&&un(n.prev,n,n.next)>0&&un(e.prev,e,e.next)>0)}function un(n,e,r){return(e.y-n.y)*(r.x-e.x)-(e.x-n.x)*(r.y-e.y)}function go(n,e){return n.x===e.x&&n.y===e.y}function g0(n,e,r,l){const c=F3(un(n,e,r)),p=F3(un(n,e,l)),m=F3(un(r,l,n)),x=F3(un(r,l,e));return c!==p&&m!==x||!(c!==0||!O3(n,r,e))||!(p!==0||!O3(n,l,e))||!(m!==0||!O3(r,n,l))||!(x!==0||!O3(r,e,l))}function O3(n,e,r){return e.x<=Math.max(n.x,r.x)&&e.x>=Math.min(n.x,r.x)&&e.y<=Math.max(n.y,r.y)&&e.y>=Math.min(n.y,r.y)}function F3(n){return n>0?1:n<0?-1:0}function k3(n,e){return un(n.prev,n,n.next)<0?un(n,e,n.next)>=0&&un(n,n.prev,e)>=0:un(n,e,n.prev)<0||un(n,n.next,e)<0}function z3(n,e){const r=au(n.i,n.x,n.y),l=au(e.i,e.x,e.y),c=n.next,p=e.prev;return n.next=e,e.prev=n,r.next=c,c.prev=r,l.next=r,r.prev=l,p.next=l,l.prev=p,l}function Xa(n,e,r,l){const c=au(n,e,r);return l?(c.next=l.next,c.prev=l,l.next.prev=c,l.next=c):(c.prev=c,c.next=c),c}function Ya(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function au(n,e,r){return{i:n,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Yi{constructor(e,r){if(r>e)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=e,this._minGranularity=r}getGranularityForZoomLevel(e){return Math.max(Math.floor(this._baseZoomGranularity/(1<<e)),this._minGranularity,1)}}class B3{constructor(e){this.fill=e.fill,this.line=e.line,this.tile=e.tile,this.stencil=e.stencil,this.circle=e.circle}}B3.noSubdivision=new B3({fill:new Yi(0,0),line:new Yi(0,0),tile:new Yi(0,0),stencil:new Yi(0,0),circle:1}),rr("SubdivisionGranularityExpression",Yi),rr("SubdivisionGranularitySetting",B3);const yo=-32768,Ds=32767;class Z1{constructor(e,r){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=e,this._granularityCellSize=Ze/e,this._canonical=r}_getKey(e,r){return(e+=32768)<<16|r+32768}_vertexToIndex(e,r){if(e<-32768||r<-32768||e>32767||r>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const l=0|Math.round(e),c=0|Math.round(r),p=this._getKey(l,c);if(this._vertexDictionary.has(p))return this._vertexDictionary.get(p);const m=this._vertexBuffer.length/2;return this._vertexDictionary.set(p,m),this._vertexBuffer.push(l,c),m}_subdivideTrianglesScanline(e){if(this._granularity<2)return(function(c,p){const m=[];for(let x=0;x<p.length;x+=3){const M=p[x],D=p[x+1],L=p[x+2],Q=c[2*M],Y=c[2*M+1];(c[2*D]-Q)*(c[2*L+1]-Y)-(c[2*D+1]-Y)*(c[2*L]-Q)>0?(m.push(M),m.push(L),m.push(D)):(m.push(M),m.push(D),m.push(L))}return m})(this._vertexBuffer,e);const r=[],l=e.length;for(let c=0;c<l;c+=3){const p=[e[c+0],e[c+1],e[c+2]],m=[this._vertexBuffer[2*e[c+0]+0],this._vertexBuffer[2*e[c+0]+1],this._vertexBuffer[2*e[c+1]+0],this._vertexBuffer[2*e[c+1]+1],this._vertexBuffer[2*e[c+2]+0],this._vertexBuffer[2*e[c+2]+1]];let x=1/0,M=1/0,D=-1/0,L=-1/0;for(let oe=0;oe<3;oe++){const ce=m[2*oe],ye=m[2*oe+1];x=Math.min(x,ce),D=Math.max(D,ce),M=Math.min(M,ye),L=Math.max(L,ye)}if(x===D||M===L)continue;const Q=Math.floor(x/this._granularityCellSize),Y=Math.ceil(D/this._granularityCellSize),W=Math.floor(M/this._granularityCellSize),ne=Math.ceil(L/this._granularityCellSize);if(Q!==Y||W!==ne)for(let oe=W;oe<ne;oe++){const ce=this._scanlineGenerateVertexRingForCellRow(oe,m,p);Os(this._vertexBuffer,ce,r)}else r.push(...p)}return r}_scanlineGenerateVertexRingForCellRow(e,r,l){const c=e*this._granularityCellSize,p=c+this._granularityCellSize,m=[];for(let x=0;x<3;x++){const M=r[2*x],D=r[2*x+1],L=r[2*(x+1)%6],Q=r[(2*(x+1)+1)%6],Y=r[2*(x+2)%6],W=r[(2*(x+2)+1)%6],ne=L-M,oe=Q-D,ce=ne===0,ye=oe===0,Le=(c-D)/oe,_e=(p-D)/oe,Se=Math.min(Le,_e),Ve=Math.max(Le,_e);if(!ye&&(Se>=1||Ve<=0)||ye&&(D<c||D>p)){Q>=c&&Q<=p&&m.push(l[(x+1)%3]);continue}!ye&&Se>0&&m.push(this._vertexToIndex(M+ne*Se,D+oe*Se));const Xe=M+ne*Math.max(Se,0),yt=M+ne*Math.min(Ve,1);ce||this._generateIntraEdgeVertices(m,M,D,L,Q,Xe,yt),!ye&&Ve<1&&m.push(this._vertexToIndex(M+ne*Ve,D+oe*Ve)),(ye||Q>=c&&Q<=p)&&m.push(l[(x+1)%3]),!ye&&(Q<=c||Q>=p)&&this._generateInterEdgeVertices(m,M,D,L,Q,Y,W,yt,c,p)}return m}_generateIntraEdgeVertices(e,r,l,c,p,m,x){const M=c-r,D=p-l,L=D===0,Q=L?Math.min(r,c):Math.min(m,x),Y=L?Math.max(r,c):Math.max(m,x),W=Math.floor(Q/this._granularityCellSize)+1,ne=Math.ceil(Y/this._granularityCellSize)-1;if(L?r<c:m<x)for(let oe=W;oe<=ne;oe++){const ce=oe*this._granularityCellSize;e.push(this._vertexToIndex(ce,l+D*(ce-r)/M))}else for(let oe=ne;oe>=W;oe--){const ce=oe*this._granularityCellSize;e.push(this._vertexToIndex(ce,l+D*(ce-r)/M))}}_generateInterEdgeVertices(e,r,l,c,p,m,x,M,D,L){const Q=p-l,Y=m-c,W=x-p,ne=(D-p)/W,oe=(L-p)/W,ce=Math.min(ne,oe),ye=Math.max(ne,oe),Le=c+Y*ce;let _e=Math.floor(Math.min(Le,M)/this._granularityCellSize)+1,Se=Math.ceil(Math.max(Le,M)/this._granularityCellSize)-1,Ve=M<Le;const Xe=W===0;if(Xe&&(x===D||x===L))return;if(Xe||ce>=1||ye<=0){const Dt=l-x,Pt=m+(r-m)*Math.min((D-x)/Dt,(L-x)/Dt);_e=Math.floor(Math.min(Pt,M)/this._granularityCellSize)+1,Se=Math.ceil(Math.max(Pt,M)/this._granularityCellSize)-1,Ve=M<Pt}const yt=Q>0?L:D;if(Ve)for(let Dt=_e;Dt<=Se;Dt++)e.push(this._vertexToIndex(Dt*this._granularityCellSize,yt));else for(let Dt=Se;Dt>=_e;Dt--)e.push(this._vertexToIndex(Dt*this._granularityCellSize,yt))}_generateOutline(e){const r=[];for(const l of e){const c=X1(l,this._granularity,!0),p=this._pointArrayToIndices(c),m=[];for(let x=1;x<p.length;x++)m.push(p[x-1]),m.push(p[x]);r.push(m)}return r}_handlePoles(e){let r=!1,l=!1;this._canonical&&(this._canonical.y===0&&(r=!0),this._canonical.y===(1<<this._canonical.z)-1&&(l=!0)),(r||l)&&this._fillPoles(e,r,l)}_ensureNoPoleVertices(){const e=this._vertexBuffer;for(let r=0;r<e.length;r+=2){const l=e[r+1];l===yo&&(e[r+1]=-32767),l===Ds&&(e[r+1]=32766)}}_generatePoleQuad(e,r,l,c,p,m){c>p!=(m===yo)?(e.push(r),e.push(l),e.push(this._vertexToIndex(c,m)),e.push(l),e.push(this._vertexToIndex(p,m)),e.push(this._vertexToIndex(c,m))):(e.push(l),e.push(r),e.push(this._vertexToIndex(c,m)),e.push(this._vertexToIndex(p,m)),e.push(l),e.push(this._vertexToIndex(c,m)))}_fillPoles(e,r,l){const c=this._vertexBuffer,p=Ze,m=e.length;for(let x=2;x<m;x+=3){const M=e[x-2],D=e[x-1],L=e[x],Q=c[2*M],Y=c[2*M+1],W=c[2*D],ne=c[2*D+1],oe=c[2*L],ce=c[2*L+1];r&&(Y===0&&ne===0&&this._generatePoleQuad(e,M,D,Q,W,yo),ne===0&&ce===0&&this._generatePoleQuad(e,D,L,W,oe,yo),ce===0&&Y===0&&this._generatePoleQuad(e,L,M,oe,Q,yo)),l&&(Y===p&&ne===p&&this._generatePoleQuad(e,M,D,Q,W,Ds),ne===p&&ce===p&&this._generatePoleQuad(e,D,L,W,oe,Ds),ce===p&&Y===p&&this._generatePoleQuad(e,L,M,oe,Q,Ds))}}_initializeVertices(e){for(let r=0;r<e.length;r+=2)this._vertexToIndex(e[r],e[r+1])}subdividePolygonInternal(e,r){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:l,holeIndices:c}=(function(x){const M=[],D=[];for(const L of x)if(L.length!==0){L!==x[0]&&M.push(D.length/2);for(let Q=0;Q<L.length;Q++)D.push(L[Q].x),D.push(L[Q].y)}return{flattened:D,holeIndices:M}})(e);let p;this._initializeVertices(l);try{const x=(function(D,L,Q=2){const Y=L&&L.length,W=Y?L[0]*Q:D.length;let ne=nu(D,0,W,Q,!0);const oe=[];if(!ne||ne.next===ne.prev)return oe;let ce,ye,Le;if(Y&&(ne=(function(_e,Se,Ve,Xe){const yt=[];for(let Dt=0,Pt=Se.length;Dt<Pt;Dt++){const Bt=nu(_e,Se[Dt]*Xe,Dt<Pt-1?Se[Dt+1]*Xe:_e.length,Xe,!1);Bt===Bt.next&&(Bt.steiner=!0),yt.push(L7(Bt))}yt.sort(ji);for(let Dt=0;Dt<yt.length;Dt++)Ve=p0(yt[Dt],Ve);return Ve})(D,L,ne,Q)),D.length>80*Q){ce=D[0],ye=D[1];let _e=ce,Se=ye;for(let Ve=Q;Ve<W;Ve+=Q){const Xe=D[Ve],yt=D[Ve+1];Xe<ce&&(ce=Xe),yt<ye&&(ye=yt),Xe>_e&&(_e=Xe),yt>Se&&(Se=yt)}Le=Math.max(_e-ce,Se-ye),Le=Le!==0?32767/Le:0}return U2(ne,oe,Q,ce,ye,Le,0),oe})(l,c),M=this._convertIndices(l,x);p=this._subdivideTrianglesScanline(M)}catch(x){console.error(x)}let m=[];return r&&(m=this._generateOutline(e)),this._ensureNoPoleVertices(),this._handlePoles(p),{verticesFlattened:this._vertexBuffer,indicesTriangles:p,indicesLineList:m}}_convertIndices(e,r){const l=[];for(let c=0;c<r.length;c++)l.push(this._vertexToIndex(e[2*r[c]],e[2*r[c]+1]));return l}_pointArrayToIndices(e){const r=[];for(let l=0;l<e.length;l++){const c=e[l];r.push(this._vertexToIndex(c.x,c.y))}return r}}function ou(n,e,r,l=!0){return new Z1(r,e).subdividePolygonInternal(n,l)}function X1(n,e,r=!1){if(!n||n.length<1)return[];if(n.length<2)return[];const l=n[0],c=n[n.length-1],p=r&&(l.x!==c.x||l.y!==c.y);if(e<2)return p?[...n,n[0]]:[...n];const m=Math.floor(Ze/e),x=[];x.push(new P(n[0].x,n[0].y));const M=n.length,D=p?M:M-1;for(let L=0;L<D;L++){const Q=n[L],Y=L<M-1?n[L+1]:n[0],W=Q.x,ne=Q.y,oe=Y.x,ce=Y.y,ye=W!==oe,Le=ne!==ce;if(!ye&&!Le)continue;const _e=oe-W,Se=ce-ne,Ve=Math.abs(_e),Xe=Math.abs(Se);let yt=W,Dt=ne;for(;;){const Bt=_e>0?(Math.floor(yt/m)+1)*m:(Math.ceil(yt/m)-1)*m,Wt=Se>0?(Math.floor(Dt/m)+1)*m:(Math.ceil(Dt/m)-1)*m,jt=Math.abs(yt-Bt),Nt=Math.abs(Dt-Wt),St=Math.abs(yt-oe),ar=Math.abs(Dt-ce),nr=ye?jt/Ve:Number.POSITIVE_INFINITY,or=Le?Nt/Xe:Number.POSITIVE_INFINITY;if((St<=jt||!ye)&&(ar<=Nt||!Le))break;if(nr<or&&ye||!Le){yt=Bt,Dt+=Se*nr;const er=new P(yt,Math.round(Dt));x[x.length-1].x===er.x&&x[x.length-1].y===er.y||x.push(er)}else{yt+=_e*or,Dt=Wt;const er=new P(Math.round(yt),Dt);x[x.length-1].x===er.x&&x[x.length-1].y===er.y||x.push(er)}}const Pt=new P(oe,ce);x[x.length-1].x===Pt.x&&x[x.length-1].y===Pt.y||x.push(Pt)}return x}function Os(n,e,r){if(e.length===0)throw new Error("Subdivision vertex ring is empty.");let l=0,c=n[2*e[0]];for(let M=1;M<e.length;M++){const D=n[2*e[M]];D<c&&(c=D,l=M)}const p=e.length;let m=l,x=(m+1)%p;for(;;){const M=m-1>=0?m-1:p-1,D=(x+1)%p,L=n[2*e[M]],Q=n[2*e[D]],Y=n[2*e[m]],W=n[2*e[m]+1],ne=n[2*e[x]+1];let oe=!1;if(L<Q)oe=!0;else if(L>Q)oe=!1;else{const ce=ne-W,ye=-(n[2*e[x]]-Y),Le=W<ne?1:-1;((L-Y)*ce+(n[2*e[M]+1]-W)*ye)*Le>((Q-Y)*ce+(n[2*e[D]+1]-W)*ye)*Le&&(oe=!0)}if(oe){const ce=e[M],ye=e[m],Le=e[x];ce!==ye&&ce!==Le&&ye!==Le&&r.push(Le,ye,ce),m--,m<0&&(m=p-1)}else{const ce=e[D],ye=e[m],Le=e[x];ce!==ye&&ce!==Le&&ye!==Le&&r.push(Le,ye,ce),x++,x>=p&&(x=0)}if(M===D)break}}function y0(n,e,r,l,c,p,m,x,M){const D=c.length/2,L=m&&x&&M;if(D<Yt.MAX_VERTEX_ARRAY_LENGTH){const Q=e.prepareSegment(D,r,l),Y=Q.vertexLength;for(let oe=0;oe<p.length;oe+=3)l.emplaceBack(Y+p[oe],Y+p[oe+1],Y+p[oe+2]);let W,ne;Q.vertexLength+=D,Q.primitiveLength+=p.length/3,L&&(ne=m.prepareSegment(D,r,x),W=ne.vertexLength,ne.vertexLength+=D);for(let oe=0;oe<c.length;oe+=2)n(c[oe],c[oe+1]);if(L)for(let oe=0;oe<M.length;oe++){const ce=M[oe];for(let ye=1;ye<ce.length;ye+=2)x.emplaceBack(W+ce[ye-1],W+ce[ye]);ne.primitiveLength+=ce.length/2}}else(function(Q,Y,W,ne,oe,ce){const ye=[];for(let Xe=0;Xe<ne.length/2;Xe++)ye.push(-1);const Le={count:0};let _e=0,Se=Q.getOrCreateLatestSegment(Y,W),Ve=Se.vertexLength;for(let Xe=2;Xe<oe.length;Xe+=3){const yt=oe[Xe-2],Dt=oe[Xe-1],Pt=oe[Xe];let Bt=ye[yt]<_e,Wt=ye[Dt]<_e,jt=ye[Pt]<_e;Se.vertexLength+((Bt?1:0)+(Wt?1:0)+(jt?1:0))>Yt.MAX_VERTEX_ARRAY_LENGTH&&(Se=Q.createNewSegment(Y,W),_e=Le.count,Bt=!0,Wt=!0,jt=!0,Ve=0);const Nt=p1(ye,ne,ce,Le,yt,Bt,Se),St=p1(ye,ne,ce,Le,Dt,Wt,Se),ar=p1(ye,ne,ce,Le,Pt,jt,Se);W.emplaceBack(Ve+Nt-_e,Ve+St-_e,Ve+ar-_e),Se.primitiveLength++}})(e,r,l,c,p,n),L&&(function(Q,Y,W,ne,oe,ce){const ye=[];for(let Xe=0;Xe<ne.length/2;Xe++)ye.push(-1);const Le={count:0};let _e=0,Se=Q.getOrCreateLatestSegment(Y,W),Ve=Se.vertexLength;for(let Xe=0;Xe<oe.length;Xe++){const yt=oe[Xe];for(let Dt=1;Dt<oe[Xe].length;Dt+=2){const Pt=yt[Dt-1],Bt=yt[Dt];let Wt=ye[Pt]<_e,jt=ye[Bt]<_e;Se.vertexLength+((Wt?1:0)+(jt?1:0))>Yt.MAX_VERTEX_ARRAY_LENGTH&&(Se=Q.createNewSegment(Y,W),_e=Le.count,Wt=!0,jt=!0,Ve=0);const Nt=p1(ye,ne,ce,Le,Pt,Wt,Se),St=p1(ye,ne,ce,Le,Bt,jt,Se);W.emplaceBack(Ve+Nt-_e,Ve+St-_e),Se.primitiveLength++}}})(m,r,x,c,M,n),e.forceNewSegmentOnNextPrepare(),m?.forceNewSegmentOnNextPrepare()}function p1(n,e,r,l,c,p,m){if(p){const x=l.count;return r(e[2*c],e[2*c+1]),n[c]=l.count,l.count++,m.vertexLength++,x}return n[c]}class j2{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((r=>r.id)),this.index=e.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new Ee,this.indexArray=new bt,this.indexArray2=new Ht,this.programConfigurations=new u1(e.layers,e.zoom),this.segments=new Yt,this.segments2=new Yt,this.stateDependentLayerIds=this.layers.filter((r=>r.isStateDependent())).map((r=>r.id))}populate(e,r,l){this.hasDependencies=zo("fill",this.layers,r);const c=this.layers[0].layout.get("fill-sort-key"),p=!c.isConstant(),m=[];for(const{feature:x,id:M,index:D,sourceLayerIndex:L}of e){const Q=this.layers[0]._featureFilter.needGeometry,Y=ko(x,Q);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),Y,l))continue;const W=p?c.evaluate(Y,{},l,r.availableImages):void 0,ne={id:M,properties:x.properties,type:x.type,sourceLayerIndex:L,index:D,geometry:Q?Y.geometry:Ns(x),patterns:{},sortKey:W};m.push(ne)}p&&m.sort(((x,M)=>x.sortKey-M.sortKey));for(const x of m){const{geometry:M,index:D,sourceLayerIndex:L}=x;if(this.hasDependencies){const Q=ru("fill",this.layers,x,{zoom:this.zoom},r);this.patternFeatures.push(Q)}else this.addFeature(x,M,D,l,{},r.subdivisionGranularity);r.featureIndex.insert(e[D].feature,M,D,L,this.index)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,{imagePositions:l})}addFeatures(e,r,l){for(const c of this.patternFeatures)this.addFeature(c,c.geometry,c.index,r,l,e.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,D3),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,r,l,c,p,m){for(const x of f2(r,500)){const M=ou(x,c,m.fill.getGranularityForZoomLevel(c.z)),D=this.layoutVertexArray;y0(((L,Q)=>{D.emplaceBack(L,Q)}),this.segments,this.layoutVertexArray,this.indexArray,M.verticesFlattened,M.indicesTriangles,this.segments2,this.indexArray2,M.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,{imagePositions:p,canonical:c})}}let z4,G2;rr("FillBucket",j2,{omit:["layers","patternFeatures"]});var V6={get paint(){return G2=G2||new ui({"fill-antialias":new ir(ct.paint_fill["fill-antialias"]),"fill-opacity":new sr(ct.paint_fill["fill-opacity"]),"fill-color":new sr(ct.paint_fill["fill-color"]),"fill-outline-color":new sr(ct.paint_fill["fill-outline-color"]),"fill-translate":new ir(ct.paint_fill["fill-translate"]),"fill-translate-anchor":new ir(ct.paint_fill["fill-translate-anchor"]),"fill-pattern":new ho(ct.paint_fill["fill-pattern"])})},get layout(){return z4=z4||new ui({"fill-sort-key":new sr(ct.layout_fill["fill-sort-key"])})}};class q6 extends Zn{constructor(e,r){super(e,V6,r)}recalculate(e,r){super.recalculate(e,r);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new j2(e)}queryRadius(){return E3(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:e,geometry:r,transform:l,pixelsToTileUnits:c}){return Q5(Z5(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-l.bearingInRadians,c),r)}isTileClipped(){return!0}}const L3=Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),$6=Vn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:su}=L3;class B4{constructor(e,r,l,c,p){this.properties={},this.extent=l,this.type=0,this.id=void 0,this._pbf=e,this._geometry=-1,this._keys=c,this._values=p,e.readFields(U7,this,r)}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const r=e.readVarint()+e.pos,l=[];let c,p=1,m=0,x=0,M=0;for(;e.pos<r;){if(m<=0){const D=e.readVarint();p=7&D,m=D>>3}if(m--,p===1||p===2)x+=e.readSVarint(),M+=e.readSVarint(),p===1&&(c&&l.push(c),c=[]),c&&c.push(new P(x,M));else{if(p!==7)throw new Error(`unknown command ${p}`);c&&c.push(c[0].clone())}}return c&&l.push(c),l}bbox(){const e=this._pbf;e.pos=this._geometry;const r=e.readVarint()+e.pos;let l=1,c=0,p=0,m=0,x=1/0,M=-1/0,D=1/0,L=-1/0;for(;e.pos<r;){if(c<=0){const Q=e.readVarint();l=7&Q,c=Q>>3}if(c--,l===1||l===2)p+=e.readSVarint(),m+=e.readSVarint(),p<x&&(x=p),p>M&&(M=p),m<D&&(D=m),m>L&&(L=m);else if(l!==7)throw new Error(`unknown command ${l}`)}return[x,D,M,L]}toGeoJSON(e,r,l){const c=this.extent*Math.pow(2,l),p=this.extent*e,m=this.extent*r,x=this.loadGeometry();function M(Y){return[360*(Y.x+p)/c-180,360/Math.PI*Math.atan(Math.exp((1-2*(Y.y+m)/c)*Math.PI))-90]}function D(Y){return Y.map(M)}let L;if(this.type===1){const Y=[];for(const ne of x)Y.push(ne[0]);const W=D(Y);L=Y.length===1?{type:"Point",coordinates:W[0]}:{type:"MultiPoint",coordinates:W}}else if(this.type===2){const Y=x.map(D);L=Y.length===1?{type:"LineString",coordinates:Y[0]}:{type:"MultiLineString",coordinates:Y}}else{if(this.type!==3)throw new Error("unknown feature type");{const Y=Q6(x),W=[];for(const ne of Y)W.push(ne.map(D));L=W.length===1?{type:"Polygon",coordinates:W[0]}:{type:"MultiPolygon",coordinates:W}}}const Q={type:"Feature",geometry:L,properties:this.properties};return this.id!=null&&(Q.id=this.id),Q}}function U7(n,e,r){n===1?e.id=r.readVarint():n===2?(function(l,c){const p=l.readVarint()+l.pos;for(;l.pos<p;){const m=c._keys[l.readVarint()],x=c._values[l.readVarint()];c.properties[m]=x}})(r,e):n===3?e.type=r.readVarint():n===4&&(e._geometry=r.pos)}function Q6(n){const e=n.length;if(e<=1)return[n];const r=[];let l,c;for(let p=0;p<e;p++){const m=Cn(n[p]);m!==0&&(c===void 0&&(c=m<0),c===m<0?(l&&r.push(l),l=[n[p]]):l&&l.push(n[p]))}return l&&r.push(l),r}function Cn(n){let e=0;for(let r,l,c=0,p=n.length,m=p-1;c<p;m=c++)r=n[c],l=n[m],e+=(l.x-r.x)*(r.y+l.y);return e}B4.types=["Unknown","Point","LineString","Polygon"];class $n{constructor(e,r){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(an,this,r),this.length=this._features.length}feature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const r=this._pbf.readVarint()+this._pbf.pos;return new B4(this._pbf,r,this.extent,this._keys,this._values)}}function an(n,e,r){n===15?e.version=r.readVarint():n===1?e.name=r.readString():n===5?e.extent=r.readVarint():n===2?e._features.push(r.pos):n===3?e._keys.push(r.readString()):n===4&&e._values.push((function(l){let c=null;const p=l.readVarint()+l.pos;for(;l.pos<p;){const m=l.readVarint()>>3;c=m===1?l.readString():m===2?l.readFloat():m===3?l.readDouble():m===4?l.readVarint64():m===5?l.readVarint():m===6?l.readSVarint():m===7?l.readBoolean():null}if(c==null)throw new Error("unknown feature value");return c})(r))}class on{constructor(e,r){this.layers=e.readFields(Dn,{},r)}}function Dn(n,e,r){if(n===3){const l=new $n(r,r.readVarint()+r.pos);l.length&&(e[l.name]=l)}}const Wa=Math.pow(2,13);function hs(n,e,r,l,c,p,m,x){n.emplaceBack(e,r,2*Math.floor(l*Wa)+m,c*Wa*2,p*Wa*2,Math.round(x))}class Ll{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((r=>r.id)),this.index=e.index,this.hasDependencies=!1,this.layoutVertexArray=new Be,this.centroidVertexArray=new Ae,this.indexArray=new bt,this.programConfigurations=new u1(e.layers,e.zoom),this.segments=new Yt,this.stateDependentLayerIds=this.layers.filter((r=>r.isStateDependent())).map((r=>r.id))}populate(e,r,l){this.features=[],this.hasDependencies=zo("fill-extrusion",this.layers,r);for(const{feature:c,id:p,index:m,sourceLayerIndex:x}of e){const M=this.layers[0]._featureFilter.needGeometry,D=ko(c,M);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),D,l))continue;const L={id:p,sourceLayerIndex:x,index:m,geometry:M?D.geometry:Ns(c),properties:c.properties,type:c.type,patterns:{}};this.hasDependencies?this.features.push(ru("fill-extrusion",this.layers,L,{zoom:this.zoom},r)):this.addFeature(L,L.geometry,m,l,{},r.subdivisionGranularity),r.featureIndex.insert(c,L.geometry,m,x,this.index,!0)}}addFeatures(e,r,l){for(const c of this.features){const{geometry:p}=c;this.addFeature(c,p,c.index,r,l,e.subdivisionGranularity)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,{imagePositions:l})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,su),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,$6.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,r,l,c,p,m){for(const x of f2(r,500)){const M={x:0,y:0,sampleCount:0},D=this.layoutVertexArray.length;this.processPolygon(M,c,e,x,m);const L=this.layoutVertexArray.length-D,Q=Math.floor(M.x/M.sampleCount),Y=Math.floor(M.y/M.sampleCount);for(let W=0;W<L;W++)this.centroidVertexArray.emplaceBack(Q,Y)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,{imagePositions:p,canonical:c})}processPolygon(e,r,l,c,p){if(c.length<1||yi(c[0]))return;for(const Q of c)Q.length!==0&&_0(e,Q);const m={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},x=p.fill.getGranularityForZoomLevel(r.z),M=B4.types[l.type]==="Polygon";for(const Q of c){if(Q.length===0||yi(Q))continue;const Y=X1(Q,x,M);this._generateSideFaces(Y,m)}if(!M)return;const D=ou(c,r,x,!1),L=this.layoutVertexArray;y0(((Q,Y)=>{hs(L,Q,Y,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,D.verticesFlattened,D.indicesTriangles)}_generateSideFaces(e,r){let l=0;for(let c=1;c<e.length;c++){const p=e[c],m=e[c-1];if(Y1(p,m))continue;r.segment.vertexLength+4>Yt.MAX_VERTEX_ARRAY_LENGTH&&(r.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const x=p.sub(m)._perp()._unit(),M=m.dist(p);l+M>32768&&(l=0),hs(this.layoutVertexArray,p.x,p.y,x.x,x.y,0,0,l),hs(this.layoutVertexArray,p.x,p.y,x.x,x.y,0,1,l),l+=M,hs(this.layoutVertexArray,m.x,m.y,x.x,x.y,0,0,l),hs(this.layoutVertexArray,m.x,m.y,x.x,x.y,0,1,l);const D=r.segment.vertexLength;this.indexArray.emplaceBack(D,D+2,D+1),this.indexArray.emplaceBack(D+1,D+2,D+3),r.segment.vertexLength+=4,r.segment.primitiveLength+=2}}}function _0(n,e){for(let r=0;r<e.length;r++){const l=e[r];r===e.length-1&&e[0].x===l.x&&e[0].y===l.y||(n.x+=l.x,n.y+=l.y,n.sampleCount++)}}function Y1(n,e){return n.x===e.x&&(n.x<0||n.x>Ze)||n.y===e.y&&(n.y<0||n.y>Ze)}function yi(n){return n.every((e=>e.x<0))||n.every((e=>e.x>Ze))||n.every((e=>e.y<0))||n.every((e=>e.y>Ze))}let W1;rr("FillExtrusionBucket",Ll,{omit:["layers","features"]});var V2={get paint(){return W1=W1||new ui({"fill-extrusion-opacity":new ir(ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new sr(ct["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ir(ct["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ir(ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ho(ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new sr(ct["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new sr(ct["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ir(ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class v0 extends Zn{constructor(e,r){super(e,V2,r)}createBucket(e){return new Ll(e)}queryRadius(){return E3(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:e,feature:r,featureState:l,geometry:c,transform:p,pixelsToTileUnits:m,pixelPosMatrix:x}){const M=Z5(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-p.bearingInRadians,m),D=this.paint.get("fill-extrusion-height").evaluate(r,l),L=this.paint.get("fill-extrusion-base").evaluate(r,l),Q=(function(W,ne){const oe=[];for(const ce of W){const ye=[ce.x,ce.y,0,1];Ke(ye,ye,ne),oe.push(new P(ye[0]/ye[3],ye[1]/ye[3]))}return oe})(M,x),Y=(function(W,ne,oe,ce){const ye=[],Le=[],_e=ce[8]*ne,Se=ce[9]*ne,Ve=ce[10]*ne,Xe=ce[11]*ne,yt=ce[8]*oe,Dt=ce[9]*oe,Pt=ce[10]*oe,Bt=ce[11]*oe;for(const Wt of W){const jt=[],Nt=[];for(const St of Wt){const ar=St.x,nr=St.y,or=ce[0]*ar+ce[4]*nr+ce[12],er=ce[1]*ar+ce[5]*nr+ce[13],mr=ce[2]*ar+ce[6]*nr+ce[14],cn=ce[3]*ar+ce[7]*nr+ce[15],Xr=mr+Ve,ii=cn+Xe,Fa=or+yt,Qi=er+Dt,ai=mr+Pt,Yn=cn+Bt,wn=new P((or+_e)/ii,(er+Se)/ii);wn.z=Xr/ii,jt.push(wn);const _i=new P(Fa/Yn,Qi/Yn);_i.z=ai/Yn,Nt.push(_i)}ye.push(jt),Le.push(Nt)}return[ye,Le]})(c,L,D,x);return(function(W,ne,oe){let ce=1/0;Q5(oe,ne)&&(ce=q2(oe,ne[0]));for(let ye=0;ye<ne.length;ye++){const Le=ne[ye],_e=W[ye];for(let Se=0;Se<Le.length-1;Se++){const Ve=Le[Se],Xe=[Ve,Le[Se+1],_e[Se+1],_e[Se],Ve];L2(oe,Xe)&&(ce=Math.min(ce,q2(oe,Xe)))}}return ce!==1/0&&ce})(Y[0],Y[1],Q)}}function va(n,e){return n.x*e.x+n.y*e.y}function q2(n,e){if(n.length===1){let r=0;const l=e[r++];let c;for(;!c||l.equals(c);)if(c=e[r++],!c)return 1/0;for(;r<e.length;r++){const p=e[r],m=n[0],x=c.sub(l),M=p.sub(l),D=m.sub(l),L=va(x,x),Q=va(x,M),Y=va(M,M),W=va(D,x),ne=va(D,M),oe=L*Y-Q*Q,ce=(Y*W-Q*ne)/oe,ye=(L*ne-Q*W)/oe,Le=l.z*(1-ce-ye)+c.z*ce+p.z*ye;if(isFinite(Le))return Le}return 1/0}{let r=1/0;for(const l of e)r=Math.min(r,l.z);return r}}const U3=Vn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:_o}=U3,b0=Vn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:lu}=b0,H6=Math.cos(Math.PI/180*37.5),j3=Math.pow(2,14)/.5;class L4{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((r=>r.id)),this.index=e.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((r=>{this.gradients[r.id]={}})),this.layoutVertexArray=new He,this.layoutVertexArray2=new ze,this.indexArray=new bt,this.programConfigurations=new u1(e.layers,e.zoom),this.segments=new Yt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((r=>r.isStateDependent())).map((r=>r.id))}populate(e,r,l){this.hasDependencies=zo("line",this.layers,r)||this.hasLineDasharray(this.layers);const c=this.layers[0].layout.get("line-sort-key"),p=!c.isConstant(),m=[];for(const{feature:x,id:M,index:D,sourceLayerIndex:L}of e){const Q=this.layers[0]._featureFilter.needGeometry,Y=ko(x,Q);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),Y,l))continue;const W=p?c.evaluate(Y,{},l):void 0,ne={id:M,properties:x.properties,type:x.type,sourceLayerIndex:L,index:D,geometry:Q?Y.geometry:Ns(x),patterns:{},dashes:{},sortKey:W};m.push(ne)}p&&m.sort(((x,M)=>x.sortKey-M.sortKey));for(const x of m){const{geometry:M,index:D,sourceLayerIndex:L}=x;this.hasDependencies?(zo("line",this.layers,r)?ru("line",this.layers,x,{zoom:this.zoom},r):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,x,this.zoom,r),this.patternFeatures.push(x)):this.addFeature(x,M,D,l,{},{},r.subdivisionGranularity),r.featureIndex.insert(e[D].feature,M,D,L,this.index)}}update(e,r,l,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,{imagePositions:l,dashPositions:c})}addFeatures(e,r,l,c){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,r,l,c,e.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,lu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_o),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,r,l,c,p,m,x){const M=this.layers[0].layout,D=M.get("line-join").evaluate(e,{}),L=M.get("line-cap"),Q=M.get("line-miter-limit"),Y=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const W of r)this.addLine(W,e,D,L,Q,Y,c,x);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,{imagePositions:p,dashPositions:m,canonical:c})}addLine(e,r,l,c,p,m,x,M){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e=X1(e,x?M.line.getGranularityForZoomLevel(x.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _e=0;_e<e.length-1;_e++)this.totalDistance+=e[_e].dist(e[_e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=B4.types[r.type]==="Polygon";let L=e.length;for(;L>=2&&e[L-1].equals(e[L-2]);)L--;let Q=0;for(;Q<L-1&&e[Q].equals(e[Q+1]);)Q++;if(L<(D?3:2))return;l==="bevel"&&(p=1.05);const Y=this.overscaling<=16?122880/(512*this.overscaling):0,W=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let ne,oe,ce,ye,Le;this.e1=this.e2=-1,D&&(ne=e[L-2],Le=e[Q].sub(ne)._unit()._perp());for(let _e=Q;_e<L;_e++){if(ce=_e===L-1?D?e[Q+1]:void 0:e[_e+1],ce&&e[_e].equals(ce))continue;Le&&(ye=Le),ne&&(oe=ne),ne=e[_e],Le=ce?ce.sub(ne)._unit()._perp():ye,ye=ye||Le;let Se=ye.add(Le);Se.x===0&&Se.y===0||Se._unit();const Ve=ye.x*Le.x+ye.y*Le.y,Xe=Se.x*Le.x+Se.y*Le.y,yt=Xe!==0?1/Xe:1/0,Dt=2*Math.sqrt(2-2*Xe),Pt=Xe<H6&&oe&&ce,Bt=ye.x*Le.y-ye.y*Le.x>0;if(Pt&&_e>Q){const Nt=ne.dist(oe);if(Nt>2*Y){const St=ne.sub(ne.sub(oe)._mult(Y/Nt)._round());this.updateDistance(oe,St),this.addCurrentVertex(St,ye,0,0,W),oe=St}}const Wt=oe&&ce;let jt=Wt?l:D?"butt":c;if(Wt&&jt==="round"&&(yt<m?jt="miter":yt<=2&&(jt="fakeround")),jt==="miter"&&yt>p&&(jt="bevel"),jt==="bevel"&&(yt>2&&(jt="flipbevel"),yt<p&&(jt="miter")),oe&&this.updateDistance(oe,ne),jt==="miter")Se._mult(yt),this.addCurrentVertex(ne,Se,0,0,W);else if(jt==="flipbevel"){if(yt>100)Se=Le.mult(-1);else{const Nt=yt*ye.add(Le).mag()/ye.sub(Le).mag();Se._perp()._mult(Nt*(Bt?-1:1))}this.addCurrentVertex(ne,Se,0,0,W),this.addCurrentVertex(ne,Se.mult(-1),0,0,W)}else if(jt==="bevel"||jt==="fakeround"){const Nt=-Math.sqrt(yt*yt-1),St=Bt?Nt:0,ar=Bt?0:Nt;if(oe&&this.addCurrentVertex(ne,ye,St,ar,W),jt==="fakeround"){const nr=Math.round(180*Dt/Math.PI/20);for(let or=1;or<nr;or++){let er=or/nr;if(er!==.5){const cn=er-.5;er+=er*cn*(er-1)*((1.0904+Ve*(Ve*(3.55645-1.43519*Ve)-3.2452))*cn*cn+(.848013+Ve*(.215638*Ve-1.06021)))}const mr=Le.sub(ye)._mult(er)._add(ye)._unit()._mult(Bt?-1:1);this.addHalfVertex(ne,mr.x,mr.y,!1,Bt,0,W)}}ce&&this.addCurrentVertex(ne,Le,-St,-ar,W)}else if(jt==="butt")this.addCurrentVertex(ne,Se,0,0,W);else if(jt==="square"){const Nt=oe?1:-1;this.addCurrentVertex(ne,Se,Nt,Nt,W)}else jt==="round"&&(oe&&(this.addCurrentVertex(ne,ye,0,0,W),this.addCurrentVertex(ne,ye,1,1,W,!0)),ce&&(this.addCurrentVertex(ne,Le,-1,-1,W,!0),this.addCurrentVertex(ne,Le,0,0,W)));if(Pt&&_e<L-1){const Nt=ne.dist(ce);if(Nt>2*Y){const St=ne.add(ce.sub(ne)._mult(Y/Nt)._round());this.updateDistance(ne,St),this.addCurrentVertex(St,Le,0,0,W),ne=St}}}}addCurrentVertex(e,r,l,c,p,m=!1){const x=r.y*c-r.x,M=-r.y-r.x*c;this.addHalfVertex(e,r.x+r.y*l,r.y-r.x*l,m,!1,l,p),this.addHalfVertex(e,x,M,m,!0,-c,p),this.distance>j3/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,r,l,c,p,m))}addHalfVertex({x:e,y:r},l,c,p,m,x,M){const D=.5*(this.lineClips?this.scaledDistance*(j3-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(p?1:0),(r<<1)+(m?1:0),Math.round(63*l)+128,Math.round(63*c)+128,1+(x===0?0:x<0?-1:1)|(63&D)<<2,D>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const L=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,L,this.e2),M.primitiveLength++),m?this.e2=L:this.e1=L}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,r){this.distance+=e.dist(r),this.updateScaledDistance()}hasLineDasharray(e){for(const r of e){const l=r.paint.get("line-dasharray");if(l&&!l.isConstant())return!0}return!1}addLineDashDependencies(e,r,l,c){for(const p of e){const m=p.paint.get("line-dasharray");if(!m||m.value.kind==="constant")continue;const x=p.layout.get("line-cap")==="round",M={dasharray:m.value.evaluate({zoom:l-1},r,{}),round:x},D={dasharray:m.value.evaluate({zoom:l},r,{}),round:x},L={dasharray:m.value.evaluate({zoom:l+1},r,{}),round:x},Q=`${M.dasharray.join(",")},${M.round}`,Y=`${D.dasharray.join(",")},${D.round}`,W=`${L.dasharray.join(",")},${L.round}`;c.dashDependencies[Q]=M,c.dashDependencies[Y]=D,c.dashDependencies[W]=L,r.dashes[p.id]={min:Q,mid:Y,max:W}}}}let K1,Vi;rr("LineBucket",L4,{omit:["layers","patternFeatures"]});var J1={get paint(){return Vi=Vi||new ui({"line-opacity":new sr(ct.paint_line["line-opacity"]),"line-color":new sr(ct.paint_line["line-color"]),"line-translate":new ir(ct.paint_line["line-translate"]),"line-translate-anchor":new ir(ct.paint_line["line-translate-anchor"]),"line-width":new sr(ct.paint_line["line-width"]),"line-gap-width":new sr(ct.paint_line["line-gap-width"]),"line-offset":new sr(ct.paint_line["line-offset"]),"line-blur":new sr(ct.paint_line["line-blur"]),"line-dasharray":new ho(ct.paint_line["line-dasharray"]),"line-pattern":new ho(ct.paint_line["line-pattern"]),"line-gradient":new N2(ct.paint_line["line-gradient"])})},get layout(){return K1=K1||new ui({"line-cap":new ir(ct.layout_line["line-cap"]),"line-join":new sr(ct.layout_line["line-join"]),"line-miter-limit":new ir(ct.layout_line["line-miter-limit"]),"line-round-limit":new ir(ct.layout_line["line-round-limit"]),"line-sort-key":new sr(ct.layout_line["line-sort-key"])})}};class U4 extends sr{possiblyEvaluate(e,r){return r=new pn(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),super.possiblyEvaluate(e,r)}evaluate(e,r,l,c){return r=ue({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(e,r,l,c)}}let ds;class x0 extends Zn{constructor(e,r){super(e,J1,r),this.gradientVersion=0,ds||(ds=new U4(J1.paint.properties["line-width"].specification),ds.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){if(e==="line-gradient"){const r=this.gradientExpression();this.stepInterpolant=!!(function(l){return l._styleExpression!==void 0})(r)&&r._styleExpression.expression instanceof Xs,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,r){super.recalculate(e,r),this.paint._values["line-floorwidth"]=ds.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new L4(e)}queryRadius(e){const r=e,l=uu($1("line-width",this,r),$1("line-gap-width",this,r)),c=$1("line-offset",this,r);return l/2+Math.abs(c)+E3(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:e,feature:r,featureState:l,geometry:c,transform:p,pixelsToTileUnits:m}){const x=Z5(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-p.bearingInRadians,m),M=m/2*uu(this.paint.get("line-width").evaluate(r,l),this.paint.get("line-gap-width").evaluate(r,l)),D=this.paint.get("line-offset").evaluate(r,l);return D&&(c=(function(L,Q){const Y=[];for(let W=0;W<L.length;W++){const ne=X5(L[W]),oe=[];for(let ce=0;ce<ne.length;ce++){const ye=ne[ce],Le=ne[ce-1],_e=ne[ce+1],Se=ce===0?new P(0,0):ye.sub(Le)._unit()._perp(),Ve=ce===ne.length-1?new P(0,0):_e.sub(ye)._unit()._perp(),Xe=Se._add(Ve)._unit(),yt=Xe.x*Ve.x+Xe.y*Ve.y;yt!==0&&Xe._mult(1/yt),oe.push(Xe._mult(Q)._add(ye))}Y.push(oe)}return Y})(c,D*m)),(function(L,Q,Y){for(let W=0;W<Q.length;W++){const ne=Q[W];if(L.length>=3){for(let oe=0;oe<ne.length;oe++)if(h1(L,ne[oe]))return!0}if(Ui(L,ne,Y))return!0}return!1})(x,c,M)}isTileClipped(){return!0}}function uu(n,e){return e>0?e+2*n:n}const Z6=Vn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),G3=Vn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Vn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const w0=Vn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Vn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const vo=Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),X6=Vn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function bo(n,e,r){return n.sections.forEach((l=>{l.text=(function(c,p,m){const x=p.layout.get("text-transform").evaluate(m,{});return x==="uppercase"?c=c.toLocaleUpperCase():x==="lowercase"&&(c=c.toLocaleLowerCase()),co.applyArabicShaping&&(c=co.applyArabicShaping(c)),c})(l.text,e,r)})),n}Vn([{name:"triangle",components:3,type:"Uint16"}]),Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Vn([{type:"Float32",name:"offsetX"}]),Vn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Vn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var Oi=24;const j4={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},j7={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Ul={40:!0};function V3(n,e,r,l,c,p){if("fontStack"in e){const m=r[e.fontStack],x=m&&m[n];return x?x.metrics.advance*e.scale+c:0}{const m=l[e.imageName];return m?m.displaySize[0]*e.scale*Oi/p+c:0}}function cu(n,e,r,l){const c=Math.pow(n-e,2);return l?n<e?c/2:2*c:c+Math.abs(r)*r}function G4(n,e,r){let l=0;return n===10&&(l-=1e4),r&&(l+=150),n!==40&&n!==65288||(l+=50),e!==41&&e!==65289||(l+=50),l}function S0(n,e,r,l,c,p){let m=null,x=cu(e,r,c,p);for(const M of l){const D=cu(e-M.x,r,c,p)+M.badness;D<=x&&(m=M,x=D)}return{index:n,x:e,priorBreak:m,badness:x}}function T0(n){return n?T0(n.priorBreak).concat(n.index):[]}class $2{constructor(e="",r=[],l=[]){this.text=e,this.sections=r,this.sectionIndex=l,this.imageSectionID=null}static fromFeature(e,r){const l=new $2;for(let c=0;c<e.sections.length;c++){const p=e.sections[c];p.image?l.addImageSection(p):l.addTextSection(p,r)}return l}length(){return[...this.text].length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}verticalizePunctuation(){this.text=(function(e){let r="",l={premature:!0,value:void 0};const c=e[Symbol.iterator]();let p=c.next();const m=e[Symbol.iterator]();m.next();let x=m.next();for(;!p.done;)r+=!x.done&&os(x.value.codePointAt(0))&&!j4[x.value]||!l.premature&&os(l.value.codePointAt(0))&&!j4[l.value]||!j4[p.value]?p.value:j4[p.value],l={value:p.value,premature:!1},p=c.next(),x=m.next();return r})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const e=this.text.match(/^\s*/),r=e?e[0].length:0,l=this.text.match(/\S\s*$/),c=l?l[0].length-1:0;this.text=this.text.substring(r,this.text.length-c),this.sectionIndex=this.sectionIndex.slice(r,this.sectionIndex.length-c)}substring(e,r){const l=[...this.text].slice(e,r).join(""),c=this.sectionIndex.slice(e,r);return new $2(l,this.sections,c)}toCodeUnitIndex(e){return[...this.text].slice(0,e).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,r)=>Math.max(e,this.sections[r].scale)),0)}getMaxImageSize(e){let r=0,l=0;for(let c=0;c<this.length();c++){const p=this.getSection(c);if("imageName"in p){const m=e[p.imageName];if(!m)continue;const x=m.displaySize;r=Math.max(r,x[0]),l=Math.max(l,x[1])}}return{maxImageWidth:r,maxImageHeight:l}}addTextSection(e,r){this.text+=e.text,this.sections.push({scale:e.scale||1,verticalAlign:e.verticalAlign||"bottom",fontStack:e.fontStack||r});const l=this.sections.length-1;this.sectionIndex.push(...[...e.text].map((()=>l)))}addImageSection(e){const r=e.image?e.image.name:"";if(r.length===0)return void Jt("Can't add FormattedSection with an empty image.");const l=this.getNextImageSectionCharCode();l?(this.text+=String.fromCharCode(l),this.sections.push({scale:1,verticalAlign:e.verticalAlign||"bottom",imageName:r}),this.sectionIndex.push(this.sections.length-1)):Jt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(e,r,l,c,p){const m=[],x=this.determineAverageLineWidth(e,r,l,c,p),M=this.hasZeroWidthSpaces();let D=0,L=0;const Q=this.text[Symbol.iterator]();let Y=Q.next();const W=this.text[Symbol.iterator]();W.next();let ne=W.next();const oe=this.text[Symbol.iterator]();oe.next(),oe.next();let ce=oe.next();for(;!Y.done;){const ye=this.getSection(L),Le=Y.value.codePointAt(0);if(M2(Le)||(D+=V3(Le,ye,l,c,e,p)),!ne.done){const _e=ns(Le),Se=ne.value.codePointAt(0);(j7[Le]||_e||"imageName"in ye||!ce.done&&Ul[Se])&&m.push(S0(L+1,D,x,m,G4(Le,Se,_e&&M),!1))}L++,Y=Q.next(),ne=W.next(),ce=oe.next()}return T0(S0(this.length(),D,x,m,0,!0))}determineAverageLineWidth(e,r,l,c,p){let m=0,x=0;for(const M of this.text){const D=this.getSection(x);m+=V3(M.codePointAt(0),D,l,c,e,p),x++}return m/Math.max(1,Math.ceil(m/r))}}const hu=4294967296,q3=1/hu,du=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class fu{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,r,l=this.length){for(;this.pos<l;){const c=this.readVarint(),p=c>>3,m=this.pos;this.type=7&c,e(p,r,this),this.pos===m&&this.skip(c)}return r}readMessage(e,r){return this.readFields(e,r,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*hu;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*hu;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const r=this.buf;let l,c;return c=r[this.pos++],l=127&c,c<128?l:(c=r[this.pos++],l|=(127&c)<<7,c<128?l:(c=r[this.pos++],l|=(127&c)<<14,c<128?l:(c=r[this.pos++],l|=(127&c)<<21,c<128?l:(c=r[this.pos],l|=(15&c)<<28,(function(p,m,x){const M=x.buf;let D,L;if(L=M[x.pos++],D=(112&L)>>4,L<128||(L=M[x.pos++],D|=(127&L)<<3,L<128)||(L=M[x.pos++],D|=(127&L)<<10,L<128)||(L=M[x.pos++],D|=(127&L)<<17,L<128)||(L=M[x.pos++],D|=(127&L)<<24,L<128)||(L=M[x.pos++],D|=(1&L)<<31,L<128))return V4(p,D,m);throw new Error("Expected varint not more than 10 bytes")})(l,e,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2==1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,r=this.pos;return this.pos=e,e-r>=12&&du?du.decode(this.buf.subarray(r,e)):(function(l,c,p){let m="",x=c;for(;x<p;){const M=l[x];let D,L,Q,Y=null,W=M>239?4:M>223?3:M>191?2:1;if(x+W>p)break;W===1?M<128&&(Y=M):W===2?(D=l[x+1],(192&D)==128&&(Y=(31&M)<<6|63&D,Y<=127&&(Y=null))):W===3?(D=l[x+1],L=l[x+2],(192&D)==128&&(192&L)==128&&(Y=(15&M)<<12|(63&D)<<6|63&L,(Y<=2047||Y>=55296&&Y<=57343)&&(Y=null))):W===4&&(D=l[x+1],L=l[x+2],Q=l[x+3],(192&D)==128&&(192&L)==128&&(192&Q)==128&&(Y=(15&M)<<18|(63&D)<<12|(63&L)<<6|63&Q,(Y<=65535||Y>=1114112)&&(Y=null))),Y===null?(Y=65533,W=1):Y>65535&&(Y-=65536,m+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),m+=String.fromCharCode(Y),x+=W}return m})(this.buf,r,e)}readBytes(){const e=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,e);return this.pos=e,r}readPackedVarint(e=[],r){const l=this.readPackedEnd();for(;this.pos<l;)e.push(this.readVarint(r));return e}readPackedSVarint(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(e){const r=7&e;if(r===0)for(;this.buf[this.pos++]>127;);else if(r===2)this.pos=this.readVarint()+this.pos;else if(r===5)this.pos+=4;else{if(r!==1)throw new Error(`Unimplemented type: ${r}`);this.pos+=8}}writeTag(e,r){this.writeVarint(e<<3|r)}realloc(e){let r=this.length||16;for(;r<this.pos+e;)r*=2;if(r!==this.length){const l=new Uint8Array(r);l.set(this.buf),this.buf=l,this.dataView=new DataView(l.buffer),this.length=r}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*q3),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*q3),!0),this.pos+=8}writeVarint(e){(e=+e||0)>268435455||e<0?(function(r,l){let c,p;if(r>=0?(c=r%4294967296|0,p=r/4294967296|0):(c=~(-r%4294967296),p=~(-r/4294967296),4294967295^c?c=c+1|0:(c=0,p=p+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),(function(m,x,M){M.buf[M.pos++]=127&m|128,m>>>=7,M.buf[M.pos++]=127&m|128,m>>>=7,M.buf[M.pos++]=127&m|128,m>>>=7,M.buf[M.pos++]=127&m|128,M.buf[M.pos]=127&(m>>>=7)})(c,0,l),(function(m,x){const M=(7&m)<<4;x.buf[x.pos++]|=M|((m>>>=3)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m)))))})(p,l)})(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))}writeSVarint(e){this.writeVarint(e<0?2*-e-1:2*e)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(4*e.length),this.pos++;const r=this.pos;this.pos=(function(c,p,m){for(let x,M,D=0;D<p.length;D++){if(x=p.charCodeAt(D),x>55295&&x<57344){if(!M){x>56319||D+1===p.length?(c[m++]=239,c[m++]=191,c[m++]=189):M=x;continue}if(x<56320){c[m++]=239,c[m++]=191,c[m++]=189,M=x;continue}x=M-55296<<10|x-56320|65536,M=null}else M&&(c[m++]=239,c[m++]=191,c[m++]=189,M=null);x<128?c[m++]=x:(x<2048?c[m++]=x>>6|192:(x<65536?c[m++]=x>>12|224:(c[m++]=x>>18|240,c[m++]=x>>12&63|128),c[m++]=x>>6&63|128),c[m++]=63&x|128)}return m})(this.buf,e,this.pos);const l=this.pos-r;l>=128&&Y6(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const r=e.length;this.writeVarint(r),this.realloc(r);for(let l=0;l<r;l++)this.buf[this.pos++]=e[l]}writeRawMessage(e,r){this.pos++;const l=this.pos;e(r,this);const c=this.pos-l;c>=128&&Y6(l,c,this),this.pos=l-1,this.writeVarint(c),this.pos+=c}writeMessage(e,r,l){this.writeTag(e,2),this.writeRawMessage(r,l)}writePackedVarint(e,r){r.length&&this.writeMessage(e,W6,r)}writePackedSVarint(e,r){r.length&&this.writeMessage(e,K6,r)}writePackedBoolean(e,r){r.length&&this.writeMessage(e,J6,r)}writePackedFloat(e,r){r.length&&this.writeMessage(e,q4,r)}writePackedDouble(e,r){r.length&&this.writeMessage(e,pu,r)}writePackedFixed32(e,r){r.length&&this.writeMessage(e,ec,r)}writePackedSFixed32(e,r){r.length&&this.writeMessage(e,tc,r)}writePackedFixed64(e,r){r.length&&this.writeMessage(e,rc,r)}writePackedSFixed64(e,r){r.length&&this.writeMessage(e,nc,r)}writeBytesField(e,r){this.writeTag(e,2),this.writeBytes(r)}writeFixed32Field(e,r){this.writeTag(e,5),this.writeFixed32(r)}writeSFixed32Field(e,r){this.writeTag(e,5),this.writeSFixed32(r)}writeFixed64Field(e,r){this.writeTag(e,1),this.writeFixed64(r)}writeSFixed64Field(e,r){this.writeTag(e,1),this.writeSFixed64(r)}writeVarintField(e,r){this.writeTag(e,0),this.writeVarint(r)}writeSVarintField(e,r){this.writeTag(e,0),this.writeSVarint(r)}writeStringField(e,r){this.writeTag(e,2),this.writeString(r)}writeFloatField(e,r){this.writeTag(e,5),this.writeFloat(r)}writeDoubleField(e,r){this.writeTag(e,1),this.writeDouble(r)}writeBooleanField(e,r){this.writeVarintField(e,+r)}}function V4(n,e,r){return r?4294967296*e+(n>>>0):4294967296*(e>>>0)+(n>>>0)}function Y6(n,e,r){const l=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(l);for(let c=r.pos-1;c>=n;c--)r.buf[c+l]=r.buf[c]}function W6(n,e){for(let r=0;r<n.length;r++)e.writeVarint(n[r])}function K6(n,e){for(let r=0;r<n.length;r++)e.writeSVarint(n[r])}function q4(n,e){for(let r=0;r<n.length;r++)e.writeFloat(n[r])}function pu(n,e){for(let r=0;r<n.length;r++)e.writeDouble(n[r])}function J6(n,e){for(let r=0;r<n.length;r++)e.writeBoolean(n[r])}function ec(n,e){for(let r=0;r<n.length;r++)e.writeFixed32(n[r])}function tc(n,e){for(let r=0;r<n.length;r++)e.writeSFixed32(n[r])}function rc(n,e){for(let r=0;r<n.length;r++)e.writeFixed64(n[r])}function nc(n,e){for(let r=0;r<n.length;r++)e.writeSFixed64(n[r])}function ic(n,e,r){n===1&&r.readMessage(mu,e)}function mu(n,e,r){if(n===3){const{id:l,bitmap:c,width:p,height:m,left:x,top:M,advance:D}=r.readMessage(ac,{});e.push({id:l,bitmap:new P3({width:p+6,height:m+6},c),metrics:{width:p,height:m,left:x,top:M,advance:D}})}}function ac(n,e,r){n===1?e.id=r.readVarint():n===2?e.bitmap=r.readBytes():n===3?e.width=r.readVarint():n===4?e.height=r.readVarint():n===5?e.left=r.readSVarint():n===6?e.top=r.readSVarint():n===7&&(e.advance=r.readVarint())}function A0(n){let e=0,r=0;for(const m of n)e+=m.w*m.h,r=Math.max(r,m.w);n.sort(((m,x)=>x.h-m.h));const l=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let c=0,p=0;for(const m of n)for(let x=l.length-1;x>=0;x--){const M=l[x];if(!(m.w>M.w||m.h>M.h)){if(m.x=M.x,m.y=M.y,p=Math.max(p,m.y+m.h),c=Math.max(c,m.x+m.w),m.w===M.w&&m.h===M.h){const D=l.pop();D&&x<l.length&&(l[x]=D)}else m.h===M.h?(M.x+=m.w,M.w-=m.w):m.w===M.w?(M.y+=m.h,M.h-=m.h):(l.push({x:M.x+m.w,y:M.y,w:M.w-m.w,h:m.h}),M.y+=m.h,M.h-=m.h);break}}return{w:c,h:p,fill:e/(c*p)||0}}class Pn{constructor(e,{pixelRatio:r,version:l,stretchX:c,stretchY:p,content:m,textFitWidth:x,textFitHeight:M}){this.paddedRect=e,this.pixelRatio=r,this.stretchX=c,this.stretchY=p,this.content=m,this.version=l,this.textFitWidth=x,this.textFitHeight=M}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class gu{constructor(e,r){const l={},c={};this.haveRenderCallbacks=[];const p=[];this.addImages(e,l,p),this.addImages(r,c,p);const{w:m,h:x}=A0(p),M=new Ia({width:m||1,height:x||1});for(const D in e){const L=e[D],Q=l[D].paddedRect;Ia.copy(L.data,M,{x:0,y:0},{x:Q.x+1,y:Q.y+1},L.data)}for(const D in r){const L=r[D],Q=c[D].paddedRect,Y=Q.x+1,W=Q.y+1,ne=L.data.width,oe=L.data.height;Ia.copy(L.data,M,{x:0,y:0},{x:Y,y:W},L.data),Ia.copy(L.data,M,{x:0,y:oe-1},{x:Y,y:W-1},{width:ne,height:1}),Ia.copy(L.data,M,{x:0,y:0},{x:Y,y:W+oe},{width:ne,height:1}),Ia.copy(L.data,M,{x:ne-1,y:0},{x:Y-1,y:W},{width:1,height:oe}),Ia.copy(L.data,M,{x:0,y:0},{x:Y+ne,y:W},{width:1,height:oe})}this.image=M,this.iconPositions=l,this.patternPositions=c}addImages(e,r,l){for(const c in e){const p=e[c],m={x:0,y:0,w:p.data.width+2,h:p.data.height+2};l.push(m),r[c]=new Pn(m,p),p.hasRenderCallback&&this.haveRenderCallbacks.push(c)}}patchUpdatedImages(e,r){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const l in e.updatedImages)this.patchUpdatedImage(this.iconPositions[l],e.getImage(l),r),this.patchUpdatedImage(this.patternPositions[l],e.getImage(l),r)}patchUpdatedImage(e,r,l){if(!e||!r||e.version===r.version)return;e.version=r.version;const[c,p]=e.tl;l.update(r.data,void 0,{x:c,y:p})}}var jl;function $3(n,e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne){const oe=$2.fromFeature(n,c);let ce;Q===w.az.vertical&&oe.verticalizePunctuation();let ye=oe.determineLineBreaks(D,p,e,l,W);const{processBidirectionalText:Le,processStyledBidirectionalText:_e}=co;if(Le&&oe.sections.length===1){ce=[],ye=ye.map((yt=>oe.toCodeUnitIndex(yt)));const Xe=Le(oe.toString(),ye);for(const yt of Xe){const Dt=[...yt].map((()=>0));ce.push(new $2(yt,oe.sections,Dt))}}else if(_e){ce=[],ye=ye.map((Pt=>oe.toCodeUnitIndex(Pt)));let Xe=0;const yt=[];for(const Pt of oe.text)yt.push(...Array(Pt.length).fill(oe.sectionIndex[Xe])),Xe++;const Dt=_e(oe.text,yt,ye);for(const Pt of Dt){const Bt=[];let Wt="";for(const jt of Pt[0])Bt.push(Pt[1][Wt.length]),Wt+=jt;ce.push(new $2(Pt[0],oe.sections,Bt))}}else ce=(function(Xe,yt){const Dt=[];let Pt=0;for(const Bt of yt)Dt.push(Xe.substring(Pt,Bt)),Pt=Bt;return Pt<Xe.length()&&Dt.push(Xe.substring(Pt,Xe.length())),Dt})(oe,ye);const Se=[],Ve={positionedLines:Se,text:oe.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:Q,iconsInText:!1,verticalizable:!1};return(function(Xe,yt,Dt,Pt,Bt,Wt,jt,Nt,St,ar,nr,or){let er=0,mr=0,cn=0,Xr=0;const ii=Nt==="right"?1:Nt==="left"?0:.5,Fa=Oi/or;let Qi=0;for(const wn of Bt){wn.trim();const _i=wn.getMaxScale(),Ci={positionedGlyphs:[],lineOffset:0};Xe.positionedLines[Qi]=Ci;const Qn=Ci.positionedGlyphs;let Uo=0;if(!wn.length()){mr+=Wt,++Qi;continue}const ka=G7(Pt,wn,Fa);let jo=0;for(const oa of wn.text){const hi=wn.getSection(jo),Hi=oa.codePointAt(0),vi=yu(St,nr,Hi),sa={glyph:Hi,imageName:null,x:er,y:mr+-17,vertical:vi,scale:1,fontStack:"",sectionIndex:wn.getSectionIndex(jo),metrics:null,rect:null};let X2;if("fontStack"in hi){if(X2=$4(hi,Hi,vi,ka,yt,Dt),!X2)continue;sa.fontStack=hi.fontStack}else{if(Xe.iconsInText=!0,hi.scale*=Fa,X2=M0(hi,vi,_i,ka,Pt),!X2)continue;Uo=Math.max(Uo,X2.imageOffset),sa.imageName=hi.imageName}const{rect:al,metrics:s6,baselineOffset:t3}=X2;sa.y+=t3,sa.scale=hi.scale,sa.metrics=s6,sa.rect=al,Qn.push(sa),vi?(Xe.verticalizable=!0,er+=("imageName"in hi?s6.advance:Oi)*hi.scale+ar):er+=s6.advance*hi.scale+ar,jo++}Qn.length!==0&&(cn=Math.max(er-ar,cn),_u(Qn,0,Qn.length-1,ii)),er=0,Ci.lineOffset=Math.max(Uo,(_i-1)*Oi);const y1=Wt*_i+Uo;mr+=y1,Xr=Math.max(y1,Xr),++Qi}const{horizontalAlign:ai,verticalAlign:Yn}=E0(jt);(function(wn,_i,Ci,Qn,Uo,ka,jo,y1,oa){const hi=(_i-Ci)*Uo;let Hi=0;Hi=ka!==jo?-y1*Qn- -17:-Qn*oa*jo+.5*jo;for(const vi of wn)for(const sa of vi.positionedGlyphs)sa.x+=hi,sa.y+=Hi})(Xe.positionedLines,ii,ai,Yn,cn,Xr,Wt,mr,Bt.length),Xe.top+=-Yn*mr,Xe.bottom=Xe.top+mr,Xe.left+=-ai*cn,Xe.right=Xe.left+cn})(Ve,e,r,l,ce,m,x,M,Q,D,Y,ne),!(function(Xe){for(const yt of Xe)if(yt.positionedGlyphs.length!==0)return!1;return!0})(Se)&&Ve}function E0(n){let e=.5,r=.5;switch(n){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:e,verticalAlign:r}}function G7(n,e,r){const l=e.getMaxScale()*Oi,{maxImageWidth:c,maxImageHeight:p}=e.getMaxImageSize(n),m=Math.max(l,p*r);return{verticalLineContentWidth:Math.max(l,c*r),horizontalLineContentHeight:m}}function oc(n){switch(n){case"top":return 0;case"center":return .5;default:return 1}}function yu(n,e,r){return!(n===w.az.horizontal||!e&&!z1(r)||e&&(M2(r)||(l=r,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(l)))));var l}function $4(n,e,r,l,c,p){const m=p[n.fontStack],x=(function(D,L,Q,Y){if(D&&D.rect)return D;const W=L[Q.fontStack],ne=W&&W[Y];return ne?{rect:null,metrics:ne.metrics}:null})(m&&m[e],c,n,e);if(x===null)return null;let M;if(r)M=l.verticalLineContentWidth-n.scale*Oi;else{const D=oc(n.verticalAlign);M=(l.horizontalLineContentHeight-n.scale*Oi)*D}return{rect:x.rect,metrics:x.metrics,baselineOffset:M}}function M0(n,e,r,l,c){const p=c[n.imageName];if(!p)return null;const m=p.paddedRect,x=p.displaySize,M={width:x[0],height:x[1],left:1,top:-3,advance:e?x[1]:x[0]};let D;if(e)D=l.verticalLineContentWidth-x[1]*n.scale;else{const L=oc(n.verticalAlign);D=(l.horizontalLineContentHeight-x[1]*n.scale)*L}return{rect:m,metrics:M,baselineOffset:D,imageOffset:(e?x[0]:x[1])*n.scale-Oi*r}}function _u(n,e,r,l){if(l===0)return;const c=n[r],p=(n[r].x+c.metrics.advance*c.scale)*l;for(let m=e;m<=r;m++)n[m].x-=p}function C0(n,e,r){const{horizontalAlign:l,verticalAlign:c}=E0(r),p=e[0]-n.displaySize[0]*l,m=e[1]-n.displaySize[1]*c;return{image:n,top:m,bottom:m+n.displaySize[1],left:p,right:p+n.displaySize[0]}}function el(n){var e,r;let l=n.left,c=n.top,p=n.right-l,m=n.bottom-c;const x=(e=n.image.textFitWidth)!==null&&e!==void 0?e:"stretchOrShrink",M=(r=n.image.textFitHeight)!==null&&r!==void 0?r:"stretchOrShrink",D=(n.image.content[2]-n.image.content[0])/(n.image.content[3]-n.image.content[1]);if(M==="proportional"){if(x==="stretchOnly"&&p/m<D||x==="proportional"){const L=Math.ceil(m*D);l*=L/p,p=L}}else if(x==="proportional"&&M==="stretchOnly"&&D!==0&&p/m>D){const L=Math.ceil(p/D);c*=L/m,m=L}return{x1:l,y1:c,x2:l+p,y2:c+m}}function Fs(n,e,r,l,c,p){const m=n.image;let x;if(m.content){const ce=m.content,ye=m.pixelRatio||1;x=[ce[0]/ye,ce[1]/ye,m.displaySize[0]-ce[2]/ye,m.displaySize[1]-ce[3]/ye]}const M=e.left*p,D=e.right*p;let L,Q,Y,W;r==="width"||r==="both"?(W=c[0]+M-l[3],Q=c[0]+D+l[1]):(W=c[0]+(M+D-m.displaySize[0])/2,Q=W+m.displaySize[0]);const ne=e.top*p,oe=e.bottom*p;return r==="height"||r==="both"?(L=c[1]+ne-l[0],Y=c[1]+oe+l[2]):(L=c[1]+(ne+oe-m.displaySize[1])/2,Y=L+m.displaySize[1]),{image:m,top:L,right:Q,bottom:Y,left:W,collisionPadding:x}}rr("ImagePosition",Pn),rr("ImageAtlas",gu),w.az=void 0,(jl=w.az||(w.az={}))[jl.none=0]="none",jl[jl.horizontal=1]="horizontal",jl[jl.vertical=2]="vertical",jl[jl.horizontalOnly=3]="horizontalOnly";const Bo=128,Gl=32640;function P0(n,e){const{expression:r}=e;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new pn(n+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:l,interpolationType:c}=r;let p=0;for(;p<l.length&&l[p]<=n;)p++;p=Math.max(0,p-1);let m=p;for(;m<l.length&&l[m]<n+1;)m++;m=Math.min(l.length-1,m);const x=l[p],M=l[m];return r.kind==="composite"?{kind:"composite",minZoom:x,maxZoom:M,interpolationType:c}:{kind:"camera",minZoom:x,maxZoom:M,minSize:r.evaluate(new pn(x)),maxSize:r.evaluate(new pn(M)),interpolationType:c}}}function vu(n,e,r){let l="never";const c=n.get(e);return c?l=c:n.get(r)&&(l="always"),l}const sc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Q3(n,e,r,l,c,p,m,x,M,D,L,Q,Y){const W=x?Math.min(Gl,Math.round(x[0])):0,ne=x?Math.min(Gl,Math.round(x[1])):0;n.emplaceBack(e,r,Math.round(32*l),Math.round(32*c),p,m,(W<<1)+(M?1:0),ne,16*D,16*L,256*Q,256*Y)}function R0(n,e,r){n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r)}function I0(n){for(const e of n.sections)if(Es(e.text))return!0;return!1}class bu{constructor(e){this.layoutVertexArray=new Ge,this.indexArray=new bt,this.programConfigurations=e,this.segments=new Yt,this.dynamicLayoutVertexArray=new nt,this.opacityVertexArray=new xt,this.hasVisibleVertices=!1,this.placedSymbolArray=new E}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(e,r,l,c){this.isEmpty()||(l&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Z6.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,G3.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,sc,!0),this.opacityVertexBuffer.itemSize=1),(l||c)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}rr("SymbolBuffers",bu);class xu{constructor(e,r,l){this.layoutVertexArray=new e,this.layoutAttributes=r,this.indexArray=new l,this.segments=new Yt,this.collisionVertexArray=new vt}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,w0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}rr("CollisionBuffers",xu);class Q4{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((m=>m.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=P0(this.zoom,r["text-size"]),this.iconSizeData=P0(this.zoom,r["icon-size"]);const l=this.layers[0].layout,c=l.get("symbol-sort-key"),p=l.get("symbol-z-order");this.canOverlap=vu(l,"text-overlap","text-allow-overlap")!=="never"||vu(l,"icon-overlap","icon-allow-overlap")!=="never"||l.get("text-ignore-placement")||l.get("icon-ignore-placement"),this.sortFeaturesByKey=p!=="viewport-y"&&!c.isConstant(),this.sortFeaturesByY=(p==="viewport-y"||p==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,l.get("symbol-placement")==="point"&&(this.writingModes=l.get("text-writing-mode").map((m=>w.az[m]))),this.stateDependentLayerIds=this.layers.filter((m=>m.isStateDependent())).map((m=>m.id)),this.sourceID=e.sourceID}createArrays(){this.text=new bu(new u1(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new bu(new u1(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new $,this.lineVertexArray=new Z,this.symbolInstances=new k,this.textAnchorOffsets=new K}calculateGlyphDependencies(e,r,l,c,p){for(const m of e)if(r[m.codePointAt(0)]=!0,(l||c)&&p){const x=j4[m];x&&(r[x.codePointAt(0)]=!0)}}populate(e,r,l){const c=this.layers[0],p=c.layout,m=p.get("text-font"),x=p.get("text-field"),M=p.get("icon-image"),D=(x.value.kind!=="constant"||x.value.value instanceof Ri&&!x.value.value.isEmpty()||x.value.value.toString().length>0)&&(m.value.kind!=="constant"||m.value.value.length>0),L=M.value.kind!=="constant"||!!M.value.value||Object.keys(M.parameters).length>0,Q=p.get("symbol-sort-key");if(this.features=[],!D&&!L)return;const Y=r.iconDependencies,W=r.glyphDependencies,ne=r.availableImages,oe=new pn(this.zoom);for(const{feature:ce,id:ye,index:Le,sourceLayerIndex:_e}of e){const Se=c._featureFilter.needGeometry,Ve=ko(ce,Se);if(!c._featureFilter.filter(oe,Ve,l))continue;let Xe,yt;if(Se||(Ve.geometry=Ns(ce)),D){const Pt=c.getValueAndResolveTokens("text-field",Ve,l,ne),Bt=Ri.factory(Pt),Wt=this.hasRTLText=this.hasRTLText||I0(Bt);(!Wt||co.getRTLTextPluginStatus()==="unavailable"||Wt&&co.isParsed())&&(Xe=bo(Bt,c,Ve))}if(L){const Pt=c.getValueAndResolveTokens("icon-image",Ve,l,ne);yt=Pt instanceof fa?Pt:fa.fromString(Pt)}if(!Xe&&!yt)continue;const Dt=this.sortFeaturesByKey?Q.evaluate(Ve,{},l):void 0;if(this.features.push({id:ye,text:Xe,icon:yt,index:Le,sourceLayerIndex:_e,geometry:Ve.geometry,properties:ce.properties,type:B4.types[ce.type],sortKey:Dt}),yt&&(Y[yt.name]=!0),Xe){const Pt=m.evaluate(Ve,{},l).join(","),Bt=p.get("text-rotation-alignment")!=="viewport"&&p.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(w.az.vertical)>=0;for(const Wt of Xe.sections)if(Wt.image)Y[Wt.image.name]=!0;else{const jt=is(Xe.toString()),Nt=Wt.fontStack||Pt,St=W[Nt]=W[Nt]||{};this.calculateGlyphDependencies(Wt.text,St,Bt,this.allowVerticalPlacement,jt)}}}p.get("symbol-placement")==="line"&&(this.features=(function(ce){const ye={},Le={},_e=[];let Se=0;function Ve(Pt){_e.push(ce[Pt]),Se++}function Xe(Pt,Bt,Wt){const jt=Le[Pt];return delete Le[Pt],Le[Bt]=jt,_e[jt].geometry[0].pop(),_e[jt].geometry[0]=_e[jt].geometry[0].concat(Wt[0]),jt}function yt(Pt,Bt,Wt){const jt=ye[Bt];return delete ye[Bt],ye[Pt]=jt,_e[jt].geometry[0].shift(),_e[jt].geometry[0]=Wt[0].concat(_e[jt].geometry[0]),jt}function Dt(Pt,Bt,Wt){const jt=Wt?Bt[0][Bt[0].length-1]:Bt[0][0];return`${Pt}:${jt.x}:${jt.y}`}for(let Pt=0;Pt<ce.length;Pt++){const Bt=ce[Pt],Wt=Bt.geometry,jt=Bt.text?Bt.text.toString():null;if(!jt){Ve(Pt);continue}const Nt=Dt(jt,Wt),St=Dt(jt,Wt,!0);if(Nt in Le&&St in ye&&Le[Nt]!==ye[St]){const ar=yt(Nt,St,Wt),nr=Xe(Nt,St,_e[ar].geometry);delete ye[Nt],delete Le[St],Le[Dt(jt,_e[nr].geometry,!0)]=nr,_e[ar].geometry=null}else Nt in Le?Xe(Nt,St,Wt):St in ye?yt(Nt,St,Wt):(Ve(Pt),ye[Nt]=Se-1,Le[St]=Se-1)}return _e.filter((Pt=>Pt.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((ce,ye)=>ce.sortKey-ye.sortKey))}update(e,r,l){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,r,this.layers,{imagePositions:l}),this.icon.programConfigurations.updatePaintArrays(e,r,this.layers,{imagePositions:l}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,r){const l=this.lineVertexArray.length;if(e.segment!==void 0){let c=e.dist(r[e.segment+1]),p=e.dist(r[e.segment]);const m={};for(let x=e.segment+1;x<r.length;x++)m[x]={x:r[x].x,y:r[x].y,tileUnitDistanceFromAnchor:c},x<r.length-1&&(c+=r[x+1].dist(r[x]));for(let x=e.segment||0;x>=0;x--)m[x]={x:r[x].x,y:r[x].y,tileUnitDistanceFromAnchor:p},x>0&&(p+=r[x-1].dist(r[x]));for(let x=0;x<r.length;x++){const M=m[x];this.lineVertexArray.emplaceBack(M.x,M.y,M.tileUnitDistanceFromAnchor)}}return{lineStartIndex:l,lineLength:this.lineVertexArray.length-l}}addSymbols(e,r,l,c,p,m,x,M,D,L,Q,Y){const W=e.indexArray,ne=e.layoutVertexArray,oe=e.segments.prepareSegment(4*r.length,ne,W,this.canOverlap?m.sortKey:void 0),ce=this.glyphOffsetArray.length,ye=oe.vertexLength,Le=this.allowVerticalPlacement&&x===w.az.vertical?Math.PI/2:0,_e=m.text&&m.text.sections;for(let Se=0;Se<r.length;Se++){const{tl:Ve,tr:Xe,bl:yt,br:Dt,tex:Pt,pixelOffsetTL:Bt,pixelOffsetBR:Wt,minFontScaleX:jt,minFontScaleY:Nt,glyphOffset:St,isSDF:ar,sectionIndex:nr}=r[Se],or=oe.vertexLength,er=St[1];Q3(ne,M.x,M.y,Ve.x,er+Ve.y,Pt.x,Pt.y,l,ar,Bt.x,Bt.y,jt,Nt),Q3(ne,M.x,M.y,Xe.x,er+Xe.y,Pt.x+Pt.w,Pt.y,l,ar,Wt.x,Bt.y,jt,Nt),Q3(ne,M.x,M.y,yt.x,er+yt.y,Pt.x,Pt.y+Pt.h,l,ar,Bt.x,Wt.y,jt,Nt),Q3(ne,M.x,M.y,Dt.x,er+Dt.y,Pt.x+Pt.w,Pt.y+Pt.h,l,ar,Wt.x,Wt.y,jt,Nt),R0(e.dynamicLayoutVertexArray,M,Le),W.emplaceBack(or,or+2,or+1),W.emplaceBack(or+1,or+2,or+3),oe.vertexLength+=4,oe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(St[0]),Se!==r.length-1&&nr===r[Se+1].sectionIndex||e.programConfigurations.populatePaintArrays(ne.length,m,m.index,{imagePositions:{},canonical:Y,formattedSection:_e&&_e[nr]})}e.placedSymbolArray.emplaceBack(M.x,M.y,ce,this.glyphOffsetArray.length-ce,ye,D,L,M.segment,l?l[0]:0,l?l[1]:0,c[0],c[1],x,0,!1,0,Q)}_addCollisionDebugVertex(e,r,l,c,p,m){return r.emplaceBack(0,0),e.emplaceBack(l.x,l.y,c,p,Math.round(m.x),Math.round(m.y))}addCollisionDebugVertices(e,r,l,c,p,m,x){const M=p.segments.prepareSegment(4,p.layoutVertexArray,p.indexArray),D=M.vertexLength,L=p.layoutVertexArray,Q=p.collisionVertexArray,Y=x.anchorX,W=x.anchorY;this._addCollisionDebugVertex(L,Q,m,Y,W,new P(e,r)),this._addCollisionDebugVertex(L,Q,m,Y,W,new P(l,r)),this._addCollisionDebugVertex(L,Q,m,Y,W,new P(l,c)),this._addCollisionDebugVertex(L,Q,m,Y,W,new P(e,c)),M.vertexLength+=4;const ne=p.indexArray;ne.emplaceBack(D,D+1),ne.emplaceBack(D+1,D+2),ne.emplaceBack(D+2,D+3),ne.emplaceBack(D+3,D),M.primitiveLength+=4}addDebugCollisionBoxes(e,r,l,c){for(let p=e;p<r;p++){const m=this.collisionBoxArray.get(p);this.addCollisionDebugVertices(m.x1,m.y1,m.x2,m.y2,c?this.textCollisionBox:this.iconCollisionBox,m.anchorPoint,l)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xu(gt,vo.members,Ht),this.iconCollisionBox=new xu(gt,vo.members,Ht);for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}}_deserializeCollisionBoxesForSymbol(e,r,l,c,p,m,x,M,D){const L={};for(let Q=r;Q<l;Q++){const Y=e.get(Q);L.textBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},L.textFeatureIndex=Y.featureIndex;break}for(let Q=c;Q<p;Q++){const Y=e.get(Q);L.verticalTextBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},L.verticalTextFeatureIndex=Y.featureIndex;break}for(let Q=m;Q<x;Q++){const Y=e.get(Q);L.iconBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},L.iconFeatureIndex=Y.featureIndex;break}for(let Q=M;Q<D;Q++){const Y=e.get(Q);L.verticalIconBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},L.verticalIconFeatureIndex=Y.featureIndex;break}return L}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const l=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,l.textBoxStartIndex,l.textBoxEndIndex,l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l.iconBoxStartIndex,l.iconBoxEndIndex,l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,r){const l=e.placedSymbolArray.get(r),c=l.vertexStartIndex+4*l.numGlyphs;for(let p=l.vertexStartIndex;p<c;p+=4)e.indexArray.emplaceBack(p,p+2,p+1),e.indexArray.emplaceBack(p+1,p+2,p+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(e),l=Math.cos(e),c=[],p=[],m=[];for(let x=0;x<this.symbolInstances.length;++x){m.push(x);const M=this.symbolInstances.get(x);c.push(0|Math.round(r*M.anchorX+l*M.anchorY)),p.push(M.featureIndex)}return m.sort(((x,M)=>c[x]-c[M]||p[M]-p[x])),m}addToSortKeyRanges(e,r){const l=this.sortKeyRanges[this.sortKeyRanges.length-1];l&&l.sortKey===r?l.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const l=this.symbolInstances.get(r);this.featureSortOrder.push(l.featureIndex),[l.rightJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.leftJustifiedTextSymbolIndex].forEach(((c,p,m)=>{c>=0&&m.indexOf(c)===p&&this.addIndicesForPlacedSymbol(this.text,c)})),l.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,l.verticalPlacedTextSymbolIndex),l.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.placedIconSymbolIndex),l.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let wu,Su;rr("SymbolBucket",Q4,{omit:["layers","collisionBoxArray","features","compareText"]}),Q4.MAX_GLYPHS=65535,Q4.addDynamicAttributes=R0;var N0={get paint(){return Su=Su||new ui({"icon-opacity":new sr(ct.paint_symbol["icon-opacity"]),"icon-color":new sr(ct.paint_symbol["icon-color"]),"icon-halo-color":new sr(ct.paint_symbol["icon-halo-color"]),"icon-halo-width":new sr(ct.paint_symbol["icon-halo-width"]),"icon-halo-blur":new sr(ct.paint_symbol["icon-halo-blur"]),"icon-translate":new ir(ct.paint_symbol["icon-translate"]),"icon-translate-anchor":new ir(ct.paint_symbol["icon-translate-anchor"]),"text-opacity":new sr(ct.paint_symbol["text-opacity"]),"text-color":new sr(ct.paint_symbol["text-color"],{runtimeType:Si,getOverride:n=>n.textColor,hasOverride:n=>!!n.textColor}),"text-halo-color":new sr(ct.paint_symbol["text-halo-color"]),"text-halo-width":new sr(ct.paint_symbol["text-halo-width"]),"text-halo-blur":new sr(ct.paint_symbol["text-halo-blur"]),"text-translate":new ir(ct.paint_symbol["text-translate"]),"text-translate-anchor":new ir(ct.paint_symbol["text-translate-anchor"])})},get layout(){return wu=wu||new ui({"symbol-placement":new ir(ct.layout_symbol["symbol-placement"]),"symbol-spacing":new ir(ct.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ir(ct.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new sr(ct.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ir(ct.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ir(ct.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ir(ct.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ir(ct.layout_symbol["icon-ignore-placement"]),"icon-optional":new ir(ct.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ir(ct.layout_symbol["icon-rotation-alignment"]),"icon-size":new sr(ct.layout_symbol["icon-size"]),"icon-text-fit":new ir(ct.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ir(ct.layout_symbol["icon-text-fit-padding"]),"icon-image":new sr(ct.layout_symbol["icon-image"]),"icon-rotate":new sr(ct.layout_symbol["icon-rotate"]),"icon-padding":new sr(ct.layout_symbol["icon-padding"]),"icon-keep-upright":new ir(ct.layout_symbol["icon-keep-upright"]),"icon-offset":new sr(ct.layout_symbol["icon-offset"]),"icon-anchor":new sr(ct.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ir(ct.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ir(ct.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ir(ct.layout_symbol["text-rotation-alignment"]),"text-field":new sr(ct.layout_symbol["text-field"]),"text-font":new sr(ct.layout_symbol["text-font"]),"text-size":new sr(ct.layout_symbol["text-size"]),"text-max-width":new sr(ct.layout_symbol["text-max-width"]),"text-line-height":new ir(ct.layout_symbol["text-line-height"]),"text-letter-spacing":new sr(ct.layout_symbol["text-letter-spacing"]),"text-justify":new sr(ct.layout_symbol["text-justify"]),"text-radial-offset":new sr(ct.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ir(ct.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new sr(ct.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new sr(ct.layout_symbol["text-anchor"]),"text-max-angle":new ir(ct.layout_symbol["text-max-angle"]),"text-writing-mode":new ir(ct.layout_symbol["text-writing-mode"]),"text-rotate":new sr(ct.layout_symbol["text-rotate"]),"text-padding":new ir(ct.layout_symbol["text-padding"]),"text-keep-upright":new ir(ct.layout_symbol["text-keep-upright"]),"text-transform":new sr(ct.layout_symbol["text-transform"]),"text-offset":new sr(ct.layout_symbol["text-offset"]),"text-allow-overlap":new ir(ct.layout_symbol["text-allow-overlap"]),"text-overlap":new ir(ct.layout_symbol["text-overlap"]),"text-ignore-placement":new ir(ct.layout_symbol["text-ignore-placement"]),"text-optional":new ir(ct.layout_symbol["text-optional"])})}};class lc{constructor(e){if(e.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:Yr,this.defaultValue=e}evaluate(e){if(e.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(e.formattedSection))return r.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}rr("FormatSectionOverride",lc,{omit:["defaultValue"]});class Vl extends Zn{constructor(e,r){super(e,N0,r)}recalculate(e,r){if(super.recalculate(e,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const l=this.layout.get("text-writing-mode");if(l){const c=[];for(const p of l)c.indexOf(p)<0&&c.push(p);this.layout._values["text-writing-mode"]=c}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,r,l,c){const p=this.layout.get(e).evaluate(r,{},l,c),m=this._unevaluatedLayout._values[e];return m.isDataDriven()||r1(m.value)||!p?p:(function(x,M){return M.replace(/{([^{}]+)}/g,((D,L)=>x&&L in x?String(x[L]):""))})(r.properties,p)}createBucket(e){return new Q4(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of N0.paint.overridableProperties){if(!Vl.hasPaintOverride(this.layout,e))continue;const r=this.paint.get(e),l=new lc(r),c=new b4(l,r.property.specification);let p=null;p=r.value.kind==="constant"||r.value.kind==="source"?new _a("source",c):new n1("composite",c,r.value.zoomStops),this.paint._values[e]=new Ha(r.property,p,r.parameters)}}_handleOverridablePaintPropertyUpdate(e,r,l){return!(!this.layout||r.isDataDriven()||l.isDataDriven())&&Vl.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,r){const l=e.get("text-field"),c=N0.paint.properties[r];let p=!1;const m=x=>{for(const M of x)if(c.overrides&&c.overrides.hasOverride(M))return void(p=!0)};if(l.value.kind==="constant"&&l.value.value instanceof Ri)m(l.value.value.sections);else if(l.value.kind==="source"||l.value.kind==="composite"){const x=D=>{p||(D instanceof La&&jn(D.value)===lr?m(D.value.sections):D instanceof u2?m(D.sections):D.eachChild(x))},M=l.value;M._styleExpression&&x(M._styleExpression.expression)}return p}}let uc;var cc={get paint(){return uc=uc||new ui({"background-color":new ir(ct.paint_background["background-color"]),"background-pattern":new Dl(ct.paint_background["background-pattern"]),"background-opacity":new ir(ct.paint_background["background-opacity"])})}};class sn extends Zn{constructor(e,r){super(e,cc,r)}}class D0 extends Zn{constructor(e,r){super(e,{},r),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Tu{constructor(e){this._methodToThrottle=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const O0={once:!0},Au=63710088e-1;class m1{constructor(e,r){if(isNaN(e)||isNaN(r))throw new Error(`Invalid LngLat object: (${e}, ${r})`);if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new m1(me(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const r=Math.PI/180,l=this.lat*r,c=e.lat*r,p=Math.sin(l)*Math.sin(c)+Math.cos(l)*Math.cos(c)*Math.cos((e.lng-this.lng)*r);return Au*Math.acos(Math.min(p,1))}static convert(e){if(e instanceof m1)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new m1(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new m1(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const H4=2*Math.PI*Au;function H3(n){return H4*Math.cos(n*Math.PI/180)}function hc(n){return(180+n)/360}function F0(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function dc(n,e){return n/H3(e)}function fc(n){return 360*n-180}function Z3(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}function k0(n,e){return n*H3(Z3(e))}class bn{constructor(e,r,l=0){this.x=+e,this.y=+r,this.z=+l}static fromLngLat(e,r=0){const l=m1.convert(e);return new bn(hc(l.lng),F0(l.lat),dc(r,l.lat))}toLngLat(){return new m1(fc(this.x),Z3(this.y))}toAltitude(){return k0(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/H4*(e=Z3(this.y),1/Math.cos(e*Math.PI/180));var e}}function Eu(n,e,r){var l=2*Math.PI*6378137/256/Math.pow(2,r);return[n*l-2*Math.PI*6378137/2,e*l-2*Math.PI*6378137/2]}class Wi{constructor(e,r,l){if(!(function(c,p,m){return!(c<0||c>25||m<0||m>=Math.pow(2,c)||p<0||p>=Math.pow(2,c))})(e,r,l))throw new Error(`x=${r}, y=${l}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=r,this.y=l,this.key=Z4(0,e,e,r,l)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,r,l){const c=(function(m,x,M){var D=Eu(256*m,256*(x=Math.pow(2,M)-x-1),M),L=Eu(256*(m+1),256*(x+1),M);return D[0]+","+D[1]+","+L[0]+","+L[1]})(this.x,this.y,this.z),p=(function(m,x,M){let D,L="";for(let Q=m;Q>0;Q--)D=1<<Q-1,L+=(x&D?1:0)+(M&D?2:0);return L})(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,r>1?"@2x":"").replace(/{quadkey}/g,p).replace(/{bbox-epsg-3857}/g,c)}isChildOf(e){const r=this.z-e.z;return r>0&&e.x===this.x>>r&&e.y===this.y>>r}getTilePoint(e){const r=Math.pow(2,this.z);return new P((e.x*r-this.x)*Ze,(e.y*r-this.y)*Ze)}toString(){return`${this.z}/${this.x}/${this.y}`}}class pc{constructor(e,r){this.wrap=e,this.canonical=r,this.key=Z4(e,r.z,r.z,r.x,r.y)}}class xo{constructor(e,r,l,c,p){if(this.terrainRttPosMatrix32f=null,e<l)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${l}`);this.overscaledZ=e,this.wrap=r,this.canonical=new Wi(l,+c,+p),this.key=Z4(r,e,l,c,p)}clone(){return new xo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-e;return e>this.canonical.z?new xo(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xo(e,this.wrap,e,this.canonical.x>>r,this.canonical.y>>r)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(e,r){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-e;return e>this.canonical.z?Z4(this.wrap*+r,e,this.canonical.z,this.canonical.x,this.canonical.y):Z4(this.wrap*+r,e,e,this.canonical.x>>l,this.canonical.y>>l)}isChildOf(e){if(e.wrap!==this.wrap||this.overscaledZ-e.overscaledZ<=0)return!1;if(e.overscaledZ===0)return this.overscaledZ>0;const r=this.canonical.z-e.canonical.z;return!(r<0)&&e.canonical.x===this.canonical.x>>r&&e.canonical.y===this.canonical.y>>r}children(e){if(this.overscaledZ>=e)return[new xo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,l=2*this.canonical.x,c=2*this.canonical.y;return[new xo(r,this.wrap,r,l,c),new xo(r,this.wrap,r,l+1,c),new xo(r,this.wrap,r,l,c+1),new xo(r,this.wrap,r,l+1,c+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new xo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new xo(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new pc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new bn(e.x-this.wrap,e.y))}}function Z4(n,e,r,l,c){(n*=2)<0&&(n=-1*n-1);const p=1<<r;return(p*p*n+p*c+l).toString(36)+r.toString(36)+e.toString(36)}function X3(n,e){return e?n.properties[e]:n.id}function z0(n,e){const r={id:n.id};if(e.removeAllProperties&&(delete n.removeProperties,delete n.addOrUpdateProperties,delete e.removeProperties),e.removeProperties)for(const l of e.removeProperties){const c=n.addOrUpdateProperties.findIndex((p=>p.key===l));c>-1&&n.addOrUpdateProperties.splice(c,1)}return(n.removeAllProperties||e.removeAllProperties)&&(r.removeAllProperties=!0),(n.removeProperties||e.removeProperties)&&(r.removeProperties=[...n.removeProperties||[],...e.removeProperties||[]]),(n.addOrUpdateProperties||e.addOrUpdateProperties)&&(r.addOrUpdateProperties=[...n.addOrUpdateProperties||[],...e.addOrUpdateProperties||[]]),(n.newGeometry||e.newGeometry)&&(r.newGeometry=e.newGeometry||n.newGeometry),r}function Y3(n){var e,r;if(!n)return{};const l={};return l.removeAll=n.removeAll,l.remove=new Set(n.remove||[]),l.add=new Map((e=n.add)===null||e===void 0?void 0:e.map((c=>[c.id,c]))),l.update=new Map((r=n.update)===null||r===void 0?void 0:r.map((c=>[c.id,c]))),l}rr("CanonicalTileID",Wi),rr("OverscaledTileID",xo,{omit:["terrainRttPosMatrix32f"]});class ql{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(e){return this.minX=Math.min(this.minX,e.x),this.minY=Math.min(this.minY,e.y),this.maxX=Math.max(this.maxX,e.x),this.maxY=Math.max(this.maxY,e.y),this}expandBy(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(e){return this.expandBy(-e)}map(e){const r=new ql;return r.extend(e(new P(this.minX,this.minY))),r.extend(e(new P(this.maxX,this.minY))),r.extend(e(new P(this.minX,this.maxY))),r.extend(e(new P(this.maxX,this.maxY))),r}static fromPoints(e){const r=new ql;for(const l of e)r.extend(l);return r}contains(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(e){return!this.empty()&&!e.empty()&&e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY}intersects(e){return!this.empty()&&!e.empty()&&e.minX<=this.maxX&&e.maxX>=this.minX&&e.minY<=this.maxY&&e.maxY>=this.minY}}class B0{constructor(e){this._stringToNumber={},this._numberToString=[];for(let r=0;r<e.length;r++){const l=e[r];this._stringToNumber[l]=r,this._numberToString[r]=l}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class Mu{constructor(e,r,l,c,p){this.type="Feature",this._vectorTileFeature=e,this._x=l,this._y=c,this._z=r,this.properties=e.properties,this.id=p}projectPoint(e,r,l,c){return[360*(e.x+r)/c-180,360/Math.PI*Math.atan(Math.exp((1-2*(e.y+l)/c)*Math.PI))-90]}projectLine(e,r,l,c){return e.map((p=>this.projectPoint(p,r,l,c)))}get geometry(){if(this._geometry)return this._geometry;const e=this._vectorTileFeature,r=e.extent*Math.pow(2,this._z),l=e.extent*this._x,c=e.extent*this._y,p=e.loadGeometry();switch(e.type){case 1:{const m=[];for(const M of p)m.push(M[0]);const x=this.projectLine(m,l,c,r);this._geometry=m.length===1?{type:"Point",coordinates:x[0]}:{type:"MultiPoint",coordinates:x};break}case 2:{const m=p.map((x=>this.projectLine(x,l,c,r)));this._geometry=m.length===1?{type:"LineString",coordinates:m[0]}:{type:"MultiLineString",coordinates:m};break}case 3:{const m=Q6(p),x=[];for(const M of m)x.push(M.map((D=>this.projectLine(D,l,c,r))));this._geometry=x.length===1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x};break}default:throw new Error(`unknown feature type: ${e.type}`)}return this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&r!=="_x"&&r!=="_y"&&r!=="_z"&&(e[r]=this[r]);return e}}class $l{_name;dataBuffer;nullabilityBuffer;_size;constructor(e,r,l){this._name=e,this.dataBuffer=r,typeof l=="number"?this._size=l:(this.nullabilityBuffer=l,this._size=l.size())}getValue(e){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(e)?null:this.getValueFromBuffer(e)}has(e){return this.nullabilityBuffer&&this.nullabilityBuffer.get(e)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class Cu extends $l{}class Pu extends Cu{getValueFromBuffer(e){return this.dataBuffer[e]}}class L0 extends Cu{getValueFromBuffer(e){return this.dataBuffer[e]}}class U0 extends $l{delta;constructor(e,r,l,c){super(e,r,c),this.delta=l}}class j0 extends U0{constructor(e,r,l,c){super(e,Int32Array.of(r),l,c)}getValueFromBuffer(e){return this.dataBuffer[0]+e*this.delta}}class G0 extends $l{constructor(e,r,l){super(e,Int32Array.of(r),l)}getValueFromBuffer(e){return this.dataBuffer[0]}}class Ql{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(e,r,l,c,p=4096){this._name=e,this._geometryVector=r,this._idVector=l,this._propertyVectors=c,this._extent=p}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(e){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((r=>[r.name,r])))),this.propertyVectorsMap.get(e)}*[Symbol.iterator](){const e=this.geometryVector[Symbol.iterator]();let r=0;for(;r<this.numFeatures;){let l;this.idVector&&(l=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(r)):this.idVector.getValue(r));const c=e?.next().value,p={};for(const m of this.propertyVectors){if(!m)continue;const x=m.name,M=m.getValue(r);M!==null&&(p[x]=M)}r++,yield{id:l,geometry:c,properties:p}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const e=[],r=this.geometryVector.getGeometries();for(let l=0;l<this.numFeatures;l++){let c;this.idVector&&(c=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(l)):this.idVector.getValue(l));const p={coordinates:r[l],type:this.geometryVector.geometryType(l)},m={};for(const x of this.propertyVectors){if(!x)continue;const M=x.name,D=x.getValue(l);D!==null&&(m[M]=D)}e.push({id:c,geometry:p,properties:m})}return e}containsMaxSaveIntegerValues(e){return e instanceof Pu||e instanceof G0&&e instanceof j0||e instanceof L0}}class mc{value;constructor(e){this.value=e}get(){return this.value}set(e){this.value=e}increment(){return this.value++}add(e){this.value+=e}}var Vr,ks,ia,zs,Hl,Na,Mi,qi,Lo,Ka;function $i(n,e,r){const l=new Int32Array(r);let c=0,p=e.get();for(let m=0;m<l.length;m++){let x=n[p++],M=127&x;x<128||(x=n[p++],M|=(127&x)<<7,x<128||(x=n[p++],M|=(127&x)<<14,x<128||(x=n[p++],M|=(127&x)<<21,x<128||(x=n[p++],M|=(15&x)<<28)))),l[c++]=M}return e.set(p),l}function W3(n,e,r){const l=new BigInt64Array(r);for(let c=0;c<l.length;c++)l[c]=Ru(n,e);return l}function gc(n,e){let r,l;return l=n[e.get()],e.increment(),r=127&l,l<128?r:(l=n[e.get()],e.increment(),r|=(127&l)<<7,l<128?r:(l=n[e.get()],e.increment(),r|=(127&l)<<14,l<128?r:(l=n[e.get()],e.increment(),r|=(127&l)<<21,l<128?r:(l=n[e.get()],r|=(15&l)<<28,(function(c,p,m){let x,M;if(M=p[m.get()],m.increment(),x=(112&M)>>4,M<128||(M=p[m.get()],m.increment(),x|=(127&M)<<3,M<128)||(M=p[m.get()],m.increment(),x|=(127&M)<<10,M<128)||(M=p[m.get()],m.increment(),x|=(127&M)<<17,M<128)||(M=p[m.get()],m.increment(),x|=(127&M)<<24,M<128)||(M=p[m.get()],m.increment(),x|=(1&M)<<31,M<128))return 4294967296*x+(c>>>0);throw new Error("Expected varint not more than 10 bytes")})(r,n,e)))))}function X4(n,e,r,l){throw new Error("FastPFor is not implemented yet.")}function aa(n){return n>>>1^-(1&n)}function Q2(n){return n>>1n^-(1n&n)}function Ru(n,e){let r=0n,l=0,c=e.get();for(;c<n.length;){const p=n[c++];if(r|=BigInt(127&p)<<BigInt(l),!(128&p))break;if(l+=7,l>=64)throw new Error("Varint too long")}return e.set(c),r}function g1(n,e,r){const l=new Int32Array(r);let c=0;for(let p=0;p<e;p++){const m=n[p];l.fill(n[p+e],c,c+m),c+=m}return l}function yc(n,e,r){const l=new BigInt64Array(r);let c=0;for(let p=0;p<e;p++){const m=Number(n[p]);l.fill(n[p+e],c,c+m),c+=m}return l}function _c(n,e,r){const l=new Float64Array(r);let c=0;for(let p=0;p<e;p++){const m=n[p];l.fill(n[p+e],c,c+m),c+=m}return l}function Zl(n){const e=n.length/4*4;let r=1;if(e>=4)for(let l=n[0];r<e-4;r+=4)l=n[r]+=l,l=n[r+1]+=l,l=n[r+2]+=l,l=n[r+3]+=l;for(;r!=n.length;)n[r]+=n[r-1],++r}function V0(n){n[0]=n[0]>>>1^-(1&n[0]),n[1]=n[1]>>>1^-(1&n[1]);const e=n.length/4*4;let r=2;if(e>=4)for(;r<e-4;r+=4){const l=n[r],c=n[r+1],p=n[r+2],m=n[r+3];n[r]=(l>>>1^-(1&l))+n[r-2],n[r+1]=(c>>>1^-(1&c))+n[r-1],n[r+2]=(p>>>1^-(1&p))+n[r],n[r+3]=(m>>>1^-(1&m))+n[r+1]}for(;r!=n.length;r+=2)n[r]=(n[r]>>>1^-(1&n[r]))+n[r-2],n[r+1]=(n[r+1]>>>1^-(1&n[r+1]))+n[r-1]}(function(n){n.NONE="NONE",n.DELTA="DELTA",n.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",n.RLE="RLE",n.MORTON="MORTON",n.PDE="PDE"})(Vr||(Vr={})),(function(n){n.NONE="NONE",n.FAST_PFOR="FAST_PFOR",n.VARINT="VARINT",n.ALP="ALP"})(ks||(ks={})),(function(n){n.PRESENT="PRESENT",n.DATA="DATA",n.OFFSET="OFFSET",n.LENGTH="LENGTH"})(ia||(ia={}));class q0{_dictionaryType;_offsetType;_lengthType;constructor(e,r,l){this._dictionaryType=e,this._offsetType=r,this._lengthType=l}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Da(n,e){const r=(function(l,c){const p=l[c.get()],m=Object.values(ia)[p>>4];let x=null;switch(m){case ia.DATA:x=new q0(Object.values(zs)[15&p]);break;case ia.OFFSET:x=new q0(null,Object.values(Hl)[15&p]);break;case ia.LENGTH:x=new q0(null,null,Object.values(Na)[15&p])}c.increment();const M=l[c.get()],D=Object.values(Vr)[M>>5],L=Object.values(Vr)[M>>2&7],Q=Object.values(ks)[3&M];c.increment();const Y=$i(l,c,2),W=Y[0];return{physicalStreamType:m,logicalStreamType:x,logicalLevelTechnique1:D,logicalLevelTechnique2:L,physicalLevelTechnique:Q,numValues:W,byteLength:Y[1],decompressedCount:W}})(n,e);return r.logicalLevelTechnique1===Vr.MORTON?(function(l,c,p){const m=$i(c,p,2);return{physicalStreamType:l.physicalStreamType,logicalStreamType:l.logicalStreamType,logicalLevelTechnique1:l.logicalLevelTechnique1,logicalLevelTechnique2:l.logicalLevelTechnique2,physicalLevelTechnique:l.physicalLevelTechnique,numValues:l.numValues,byteLength:l.byteLength,decompressedCount:l.decompressedCount,numBits:m[0],coordinateShift:m[1]}})(r,n,e):Vr.RLE!==r.logicalLevelTechnique1&&Vr.RLE!==r.logicalLevelTechnique2||ks.NONE===r.physicalLevelTechnique?r:(function(l,c,p){const m=$i(c,p,2);return{physicalStreamType:l.physicalStreamType,logicalStreamType:l.logicalStreamType,logicalLevelTechnique1:l.logicalLevelTechnique1,logicalLevelTechnique2:l.logicalLevelTechnique2,physicalLevelTechnique:l.physicalLevelTechnique,numValues:l.numValues,byteLength:l.byteLength,decompressedCount:m[1],runs:m[0],numRleValues:m[1]}})(r,n,e)}(function(n){n.NONE="NONE",n.SINGLE="SINGLE",n.SHARED="SHARED",n.VERTEX="VERTEX",n.MORTON="MORTON",n.FSST="FSST"})(zs||(zs={})),(function(n){n.VERTEX="VERTEX",n.INDEX="INDEX",n.STRING="STRING",n.KEY="KEY"})(Hl||(Hl={})),(function(n){n.VAR_BINARY="VAR_BINARY",n.GEOMETRIES="GEOMETRIES",n.PARTS="PARTS",n.RINGS="RINGS",n.TRIANGLES="TRIANGLES",n.SYMBOL="SYMBOL",n.DICTIONARY="DICTIONARY"})(Na||(Na={})),(function(n){n[n.FLAT=0]="FLAT",n[n.CONST=1]="CONST",n[n.SEQUENCE=2]="SEQUENCE",n[n.DICTIONARY=3]="DICTIONARY",n[n.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(Mi||(Mi={}));class Bs{values;_size;constructor(e,r){this.values=e,this._size=r}get(e){const r=Math.floor(e/8);return(this.values[r]>>e%8&1)==1}set(e,r){const l=Math.floor(e/8);this.values[l]=this.values[l]|(r?1:0)<<e%8}getInt(e){const r=Math.floor(e/8);return this.values[r]>>e%8&1}size(){return this._size}getBuffer(){return this.values}}function Oa(n,e,r,l,c){return(function(p,m,x){switch(m.logicalLevelTechnique1){case Vr.DELTA:return m.logicalLevelTechnique2===Vr.RLE?(function(M,D,L){const Q=new Int32Array(L);let Y=0,W=0;for(let ne=0;ne<D;ne++){const oe=M[ne],ce=aa(M[ne+D]);for(let ye=0;ye<oe;ye++)W+=ce,Q[Y++]=W}return Q})(p,m.runs,m.numRleValues):((function(M){M[0]=M[0]>>>1^-(1&M[0]);const D=M.length/4*4;let L=1;if(D>=4)for(;L<D-4;L+=4){const Q=M[L],Y=M[L+1],W=M[L+2],ne=M[L+3];M[L]=(Q>>>1^-(1&Q))+M[L-1],M[L+1]=(Y>>>1^-(1&Y))+M[L],M[L+2]=(W>>>1^-(1&W))+M[L+1],M[L+3]=(ne>>>1^-(1&ne))+M[L+2]}for(;L!=M.length;++L)M[L]=(M[L]>>>1^-(1&M[L]))+M[L-1]})(p),p);case Vr.RLE:return(function(M,D,L){return L?(function(Q,Y,W){const ne=new Int32Array(W);let oe=0;for(let ce=0;ce<Y;ce++){const ye=Q[ce];let Le=Q[ce+Y];Le=Le>>>1^-(1&Le),ne.fill(Le,oe,oe+ye),oe+=ye}return ne})(M,D.runs,D.numRleValues):g1(M,D.runs,D.numRleValues)})(p,m,x);case Vr.MORTON:return Zl(p),p;case Vr.COMPONENTWISE_DELTA:return V0(p),p;case Vr.NONE:return x&&(function(M){for(let D=0;D<M.length;D++){const L=M[D];M[D]=L>>>1^-(1&L)}})(p),p;default:throw new Error(`The specified Logical level technique is not supported: ${m.logicalLevelTechnique1}`)}})(Iu(n,e,r),r,l)}function Xl(n,e,r){return(function(l,c){if(c.logicalLevelTechnique1===Vr.DELTA&&c.logicalLevelTechnique2===Vr.NONE)return(function(m){const x=new Int32Array(m.length+1);x[0]=0,x[1]=aa(m[0]);let M=x[1],D=2;for(;D!=x.length;++D){const L=m[D-1];M+=L>>>1^-(1&L),x[D]=x[D-1]+M}return x})(l);if(c.logicalLevelTechnique1===Vr.RLE&&c.logicalLevelTechnique2===Vr.NONE)return(function(m,x,M){const D=new Int32Array(M+1);D[0]=0;let L=1,Q=D[0];for(let Y=0;Y<x;Y++){const W=m[Y],ne=m[Y+x];for(let oe=L;oe<L+W;oe++)D[oe]=ne+Q,Q=D[oe];L+=W}return D})(l,c.runs,c.numRleValues);if(c.logicalLevelTechnique1===Vr.NONE&&c.logicalLevelTechnique2===Vr.NONE){(function(m){let x=0;for(let M=0;M<m.length;M++)m[M]+=x,x=m[M]})(l);const p=new Int32Array(c.numValues+1);return p[0]=0,p.set(l,1),p}if(c.logicalLevelTechnique1===Vr.DELTA&&c.logicalLevelTechnique2===Vr.RLE){const p=(function(m,x,M){const D=new Int32Array(M+1);D[0]=0;let L=1,Q=D[0];for(let Y=0;Y<x;Y++){const W=m[Y];let ne=m[Y+x];ne=ne>>>1^-(1&ne);for(let oe=L;oe<L+W;oe++)D[oe]=ne+Q,Q=D[oe];L+=W}return D})(l,c.runs,c.numRleValues);return Zl(p),p}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")})(Iu(n,e,r),r)}function Iu(n,e,r){const l=r.physicalLevelTechnique;if(l===ks.FAST_PFOR)return X4();if(l===ks.VARINT)return $i(n,e,r.numValues);if(l===ks.NONE){const c=e.get();e.add(r.byteLength);const p=n.subarray(c,e.get());return new Int32Array(p)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function $0(n,e,r,l){const c=Iu(n,e,r);if(c.length===1){const p=c[0];return l?aa(p):p}return l?(function(p){return aa(p[1])})(c):(function(p){return p[1]})(c)}function Q0(n,e,r){return(function(l){if(l.length==2){const c=aa(l[1]);return[c,c]}return[aa(l[2]),aa(l[3])]})(Iu(n,e,r))}function H2(n,e,r){return(function(l){if(l.length==2){const c=Q2(l[1]);return[c,c]}return[Q2(l[2]),Q2(l[3])]})(W3(n,e,r.numValues))}function Y4(n,e,r,l){return(function(c,p,m){switch(p.logicalLevelTechnique1){case Vr.DELTA:return p.logicalLevelTechnique2===Vr.RLE?(function(x,M,D){const L=new BigInt64Array(D);let Q=0,Y=0n;for(let W=0;W<M;W++){const ne=Number(x[W]),oe=Q2(x[W+M]);for(let ce=0;ce<ne;ce++)Y+=oe,L[Q++]=Y}return L})(c,p.runs,p.numRleValues):((function(x){x[0]=x[0]>>1n^-(1n&x[0]);const M=x.length/4*4;let D=1;if(M>=4)for(;D<M-4;D+=4){const L=x[D],Q=x[D+1],Y=x[D+2],W=x[D+3];x[D]=(L>>1n^-(1n&L))+x[D-1],x[D+1]=(Q>>1n^-(1n&Q))+x[D],x[D+2]=(Y>>1n^-(1n&Y))+x[D+1],x[D+3]=(W>>1n^-(1n&W))+x[D+2]}for(;D!=x.length;++D)x[D]=(x[D]>>1n^-(1n&x[D]))+x[D-1]})(c),c);case Vr.RLE:return(function(x,M,D){return D?(function(L,Q,Y){const W=new BigInt64Array(Y);let ne=0;for(let oe=0;oe<Q;oe++){const ce=Number(L[oe]);let ye=L[oe+Q];ye=ye>>1n^-(1n&ye),W.fill(ye,ne,ne+ce),ne+=ce}return W})(x,M.runs,M.numRleValues):yc(x,M.runs,M.numRleValues)})(c,p,m);case Vr.NONE:return m&&(function(x){for(let M=0;M<x.length;M++){const D=x[M];x[M]=D>>1n^-(1n&D)}})(c),c;default:throw new Error(`The specified Logical level technique is not supported: ${p.logicalLevelTechnique1}`)}})(W3(n,e,r.numValues),r,l)}function H0(n,e,r,l){const c=W3(n,e,r.numValues);if(c.length===1){const p=c[0];return l?Q2(p):p}return l?(function(p){return Q2(p[1])})(c):(function(p){return p[1]})(c)}function Z0(n,e,r,l,c){return(function(p,m,x,M){switch(m.logicalLevelTechnique1){case Vr.DELTA:return m.logicalLevelTechnique2===Vr.RLE&&(p=g1(p,m.runs,m.numRleValues)),(function(D,L){const Q=new Int32Array(D.size());let Y=0;D.get(0)?(Q[0]=D.get(0)?L[0]>>>1^-(1&L[0]):0,Y=1):Q[0]=0;let W=1;for(;W!=Q.length;++W)Q[W]=D.get(W)?Q[W-1]+(L[Y]>>>1^-(1&L[Y++])):Q[W-1];return Q})(M,p);case Vr.RLE:return(function(D,L,Q,Y){const W=L;return Q?(function(ne,oe,ce){const ye=new Int32Array(ne.size());let Le=0;for(let _e=0;_e<ce;_e++){const Se=oe[_e];let Ve=oe[_e+ce];Ve=Ve>>>1^-(1&Ve);for(let Xe=Le;Xe<Le+Se;Xe++)ne.get(Xe)?ye[Xe]=Ve:(ye[Xe]=0,Le++);Le+=Se}return ye})(Y,D,W.runs):(function(ne,oe,ce){const ye=new Int32Array(ne.size());let Le=0;for(let _e=0;_e<ce;_e++){const Se=oe[_e],Ve=oe[_e+ce];for(let Xe=Le;Xe<Le+Se;Xe++)ne.get(Xe)?ye[Xe]=Ve:(ye[Xe]=0,Le++);Le+=Se}return ye})(Y,D,W.runs)})(p,m,x,M);case Vr.MORTON:return Zl(p),p;case Vr.COMPONENTWISE_DELTA:return V0(p),p;case Vr.NONE:return p=x?(function(D,L){const Q=new Int32Array(D.size());let Y=0,W=0;for(;W!=Q.length;++W)if(D.get(W)){const ne=L[Y++];Q[W]=ne>>>1^-(1&ne)}else Q[W]=0;return Q})(M,p):(function(D,L){const Q=new Int32Array(D.size());let Y=0,W=0;for(;W!=Q.length;++W)Q[W]=D.get(W)?L[Y++]:0;return Q})(M,p),p;default:throw new Error("The specified Logical level technique is not supported")}})(r.physicalLevelTechnique===ks.FAST_PFOR?X4():$i(n,e,r.numValues),r,l,c)}function tl(n,e,r,l){const c=n.logicalLevelTechnique1;if(c===Vr.RLE)return n.runs===1?Mi.CONST:Mi.FLAT;const p=e instanceof Bs?e.size():e;if(c===Vr.DELTA&&n.logicalLevelTechnique2===Vr.RLE){const m=n.runs,x=2;if(n.numRleValues!==p)return Mi.FLAT;if(m===1)return Mi.SEQUENCE;if(m===2){const M=l.get();let D;if(n.physicalLevelTechnique===ks.VARINT)D=$i(r,l,4);else{const L=l.get();D=new Int32Array(r.buffer,r.byteOffset+L,4)}if(l.set(M),D[2]===x&&D[3]===x)return Mi.SEQUENCE}}return n.numValues===1?Mi.CONST:Mi.FLAT}class W4 extends Cu{getValueFromBuffer(e){return this.dataBuffer[e]}}class X0 extends U0{constructor(e,r,l,c){super(e,BigInt64Array.of(r),l,c)}getValueFromBuffer(e){return this.dataBuffer[0]+BigInt(e)*this.delta}}class rl{_geometryOffsets;_partOffsets;_ringOffsets;constructor(e,r,l){this._geometryOffsets=e,this._partOffsets=r,this._ringOffsets=l}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function K3(n,e,r){return{x:Nu(n,e)-r,y:Nu(n>>1,e)-r}}function Nu(n,e){let r=0;for(let l=0;l<e;l++)r|=(n&1<<2*l)>>l;return r}(function(n){n[n.POINT=0]="POINT",n[n.LINESTRING=1]="LINESTRING",n[n.POLYGON=2]="POLYGON",n[n.MULTIPOINT=3]="MULTIPOINT",n[n.MULTILINESTRING=4]="MULTILINESTRING",n[n.MULTIPOLYGON=5]="MULTIPOLYGON"})(qi||(qi={})),(function(n){n[n.POINT=0]="POINT",n[n.LINESTRING=1]="LINESTRING",n[n.POLYGON=2]="POLYGON"})(Lo||(Lo={})),(function(n){n[n.MORTON=0]="MORTON",n[n.VEC_2=1]="VEC_2",n[n.VEC_3=2]="VEC_3"})(Ka||(Ka={}));class Du{createPoint(e){return[[e]]}createMultiPoint(e){return e.map((r=>[r]))}createLineString(e){return[e]}createMultiLineString(e){return e}createPolygon(e,r){return[e].concat(r)}createMultiPolygon(e){return e.flat()}}function Y0(n){const e=new Array(n.numGeometries);let r=1,l=1,c=1,p=0;const m=new Du;let x=0,M=0;const D=n.mortonSettings,L=n.topologyVector,Q=L.geometryOffsets,Y=L.partOffsets,W=L.ringOffsets,ne=n.vertexOffsets,oe=n.containsPolygonGeometry(),ce=n.vertexBuffer;for(let ye=0;ye<n.numGeometries;ye++){const Le=n.geometryType(ye);if(Le===qi.POINT){if(ne&&ne.length!==0)if(n.vertexBufferType===Ka.VEC_2){const _e=2*ne[M++],Se=new P(ce[_e],ce[_e+1]);e[p++]=m.createPoint(Se)}else{const _e=K3(ce[ne[M++]],D.numBits,D.coordinateShift),Se=new P(_e.x,_e.y);e[p++]=m.createPoint(Se)}else{const _e=new P(ce[x++],ce[x++]);e[p++]=m.createPoint(_e)}Q&&c++,Y&&r++,W&&l++}else if(Le===qi.MULTIPOINT){const _e=Q[c]-Q[c-1];c++;const Se=new Array(_e);if(ne&&ne.length!==0){for(let Ve=0;Ve<_e;Ve++){const Xe=2*ne[M++];Se[Ve]=new P(ce[Xe],ce[Xe+1])}e[p++]=m.createMultiPoint(Se)}else{for(let Ve=0;Ve<_e;Ve++){const Xe=ce[x++],yt=ce[x++];Se[Ve]=new P(Xe,yt)}e[p++]=m.createMultiPoint(Se)}}else if(Le===qi.LINESTRING){let _e,Se=0;oe?(Se=W[l]-W[l-1],l++):Se=Y[r]-Y[r-1],r++,ne&&ne.length!==0?(_e=n.vertexBufferType===Ka.VEC_2?t5(ce,ne,M,Se,!1):K0(ce,ne,M,Se,!1,D),M+=Se):(_e=W0(ce,x,Se,!1),x+=2*Se),e[p++]=m.createLineString(_e),Q&&c++}else if(Le===qi.POLYGON){const _e=Y[r]-Y[r-1];r++;const Se=new Array(_e-1);let Ve=W[l]-W[l-1];if(l++,ne&&ne.length!==0){const Xe=n.vertexBufferType===Ka.VEC_2?Ou(ce,ne,M,Ve):e5(ce,ne,M,Ve,0,D);M+=Ve;for(let yt=0;yt<Se.length;yt++)Ve=W[l]-W[l-1],l++,Se[yt]=n.vertexBufferType===Ka.VEC_2?Ou(ce,ne,M,Ve):e5(ce,ne,M,Ve,0,D),M+=Ve;e[p++]=m.createPolygon(Xe,Se)}else{const Xe=J3(ce,x,Ve);x+=2*Ve;for(let yt=0;yt<Se.length;yt++)Ve=W[l]-W[l-1],l++,Se[yt]=J3(ce,x,Ve),x+=2*Ve;e[p++]=m.createPolygon(Xe,Se)}Q&&c++}else if(Le===qi.MULTILINESTRING){const _e=Q[c]-Q[c-1];c++;const Se=new Array(_e);if(ne&&ne.length!==0){for(let Ve=0;Ve<_e;Ve++){let Xe=0;oe?(Xe=W[l]-W[l-1],l++):Xe=Y[r]-Y[r-1],r++;const yt=n.vertexBufferType===Ka.VEC_2?t5(ce,ne,M,Xe,!1):K0(ce,ne,M,Xe,!1,D);Se[Ve]=yt,M+=Xe}e[p++]=m.createMultiLineString(Se)}else{for(let Ve=0;Ve<_e;Ve++){let Xe=0;oe?(Xe=W[l]-W[l-1],l++):Xe=Y[r]-Y[r-1],r++,Se[Ve]=W0(ce,x,Xe,!1),x+=2*Xe}e[p++]=m.createMultiLineString(Se)}}else{if(Le!==qi.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const _e=Q[c]-Q[c-1];c++;const Se=new Array(_e);let Ve=0;if(ne&&ne.length!==0){for(let Xe=0;Xe<_e;Xe++){const yt=Y[r]-Y[r-1];r++;const Dt=new Array(yt-1);Ve=W[l]-W[l-1],l++;const Pt=n.vertexBufferType===Ka.VEC_2?Ou(ce,ne,M,Ve):e5(ce,ne,M,Ve,0,D);M+=Ve;for(let Bt=0;Bt<Dt.length;Bt++)Ve=W[l]-W[l-1],l++,Dt[Bt]=n.vertexBufferType===Ka.VEC_2?Ou(ce,ne,M,Ve):e5(ce,ne,M,Ve,0,D),M+=Ve;Se[Xe]=m.createPolygon(Pt,Dt)}e[p++]=m.createMultiPolygon(Se)}else{for(let Xe=0;Xe<_e;Xe++){const yt=Y[r]-Y[r-1];r++;const Dt=new Array(yt-1);Ve=W[l]-W[l-1],l++;const Pt=J3(ce,x,Ve);x+=2*Ve;for(let Bt=0;Bt<Dt.length;Bt++){const Wt=W[l]-W[l-1];l++,Dt[Bt]=J3(ce,x,Wt),x+=2*Wt}Se[Xe]=m.createPolygon(Pt,Dt)}e[p++]=m.createMultiPolygon(Se)}}}}return e}function J3(n,e,r){return W0(n,e,r,!0)}function Ou(n,e,r,l){return t5(n,e,r,l,!0)}function e5(n,e,r,l,c,p){return K0(n,e,r,l,!0,p)}function W0(n,e,r,l){const c=new Array(l?r+1:r);for(let p=0;p<2*r;p+=2)c[p/2]=new P(n[e+p],n[e+p+1]);return l&&(c[c.length-1]=c[0]),c}function t5(n,e,r,l,c){const p=new Array(c?l+1:l);for(let m=0;m<2*l;m+=2){const x=2*e[r+m/2];p[m/2]=new P(n[x],n[x+1])}return c&&(p[p.length-1]=p[0]),p}function K0(n,e,r,l,c,p){const m=new Array(c?l+1:l);for(let x=0;x<l;x++){const M=K3(n[e[r+x]],p.numBits,p.coordinateShift);m[x]=new P(M.x,M.y)}return c&&(m[m.length-1]=m[0]),m}class r5{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(e,r,l,c,p){this._vertexBufferType=e,this._topologyVector=r,this._vertexOffsets=l,this._vertexBuffer=c,this._mortonSettings=p}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const e=Y0(this);let r=0;for(;r<this.numGeometries;)yield{coordinates:e[r],type:this.geometryType(r)},r++}getSimpleEncodedVertex(e){const r=this.vertexOffsets?2*this.vertexOffsets[e]:2*e;return[this.vertexBuffer[r],this.vertexBuffer[r+1]]}getVertex(e){if(this.vertexOffsets&&this.mortonSettings){const l=K3(this.vertexBuffer[this.vertexOffsets[e]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[l.x,l.y]}const r=this.vertexOffsets?2*this.vertexOffsets[e]:2*e;return[this.vertexBuffer[r],this.vertexBuffer[r+1]]}getGeometries(){return Y0(this)}get mortonSettings(){return this._mortonSettings}}class n5 extends r5{_numGeometries;_geometryType;constructor(e,r,l,c,p,m,x){super(l,c,p,m,x),this._numGeometries=e,this._geometryType=r}geometryType(e){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===qi.POLYGON||this._geometryType===qi.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class i5 extends r5{_geometryTypes;constructor(e,r,l,c,p,m){super(e,l,c,p,m),this._geometryTypes=r}geometryType(e){return this._geometryTypes[e]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let e=0;e<this.numGeometries;e++)if(this.geometryType(e)===qi.POLYGON||this.geometryType(e)===qi.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class vc{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(e,r,l,c){this._triangleOffsets=e,this._indexBuffer=r,this._vertexBuffer=l,this._topologyVector=c}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const e=new Array(this.numGeometries),r=this._topologyVector,l=r.partOffsets,c=r.ringOffsets,p=r.geometryOffsets;let m=0,x=1,M=1,D=1;for(let L=0;L<this.numGeometries;L++)switch(this.geometryType(L)){case qi.POLYGON:{const Q=l[x]-l[x-1];x++;const Y=[];for(let W=0;W<Q;W++){const ne=c[M]-c[M-1];M++;const oe=[];for(let ce=0;ce<ne;ce++){const ye=this._vertexBuffer[m++],Le=this._vertexBuffer[m++];oe.push(new P(ye,Le))}oe.length>0&&oe.push(oe[0]),Y.push(oe)}e[L]=Y,p&&D++}break;case qi.MULTIPOLYGON:{const Q=p[D]-p[D-1];D++;const Y=[];for(let W=0;W<Q;W++){const ne=l[x]-l[x-1];x++;for(let oe=0;oe<ne;oe++){const ce=c[M]-c[M-1];M++;const ye=[];for(let Le=0;Le<ce;Le++){const _e=this._vertexBuffer[m++],Se=this._vertexBuffer[m++];ye.push(new P(_e,Se))}ye.length>0&&ye.push(ye[0]),Y.push(ye)}}e[L]=Y}}return e}[Symbol.iterator](){return null}}function K4(n,e,r,l,c,p){return new V7(n,e,r,l,c,p)}class V7 extends vc{_numGeometries;_geometryType;constructor(e,r,l,c,p,m){super(l,c,p,m),this._numGeometries=e,this._geometryType=r}geometryType(e){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function J0(n,e,r,l,c){return new bc(n,e,r,l,c)}class bc extends vc{_geometryTypes;constructor(e,r,l,c,p){super(r,l,c,p),this._geometryTypes=e}geometryType(e){return this._geometryTypes[e]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function xc(n,e,r,l,c){const p=Da(n,r);let m=null,x=null,M=null,D=null,L=null,Q=null,Y=null,W=null;if(tl(p,l,n,r)===Mi.CONST){const oe=$0(n,r,p,!1);for(let ce=0;ce<e-1;ce++){const ye=Da(n,r);switch(ye.physicalStreamType){case ia.LENGTH:switch(ye.logicalStreamType.lengthType){case Na.GEOMETRIES:m=Xl(n,r,ye);break;case Na.PARTS:x=Xl(n,r,ye);break;case Na.RINGS:M=Xl(n,r,ye);break;case Na.TRIANGLES:Y=Xl(n,r,ye)}break;case ia.OFFSET:switch(ye.logicalStreamType.offsetType){case Hl.VERTEX:D=Oa(n,r,ye,!1);break;case Hl.INDEX:W=Oa(n,r,ye,!1)}break;case ia.DATA:zs.VERTEX===ye.logicalStreamType.dictionaryType?L=Oa(n,r,ye,!0):(Q={numBits:ye.numBits,coordinateShift:ye.coordinateShift},L=Oa(n,r,ye,!1))}}return W!==null?m!=null||x!=null?K4(l,oe,Y,W,L,new rl(m,x,M)):K4(l,oe,Y,W,L):Q===null?(function(ce,ye,Le,_e,Se){return new n5(ce,ye,Ka.VEC_2,Le,_e,Se)})(l,oe,new rl(m,x,M),D,L):(function(ce,ye,Le,_e,Se,Ve){return new n5(ce,ye,Ka.MORTON,Le,_e,Se,Ve)})(l,oe,new rl(m,x,M),D,L,Q)}const ne=Oa(n,r,p,!1);for(let oe=0;oe<e-1;oe++){const ce=Da(n,r);switch(ce.physicalStreamType){case ia.LENGTH:switch(ce.logicalStreamType.lengthType){case Na.GEOMETRIES:m=Oa(n,r,ce,!1);break;case Na.PARTS:x=Oa(n,r,ce,!1);break;case Na.RINGS:M=Oa(n,r,ce,!1);break;case Na.TRIANGLES:Y=Xl(n,r,ce)}break;case ia.OFFSET:switch(ce.logicalStreamType.offsetType){case Hl.VERTEX:D=Oa(n,r,ce,!1);break;case Hl.INDEX:W=Oa(n,r,ce,!1)}break;case ia.DATA:zs.VERTEX===ce.logicalStreamType.dictionaryType?L=Oa(n,r,ce,!0):(Q={numBits:ce.numBits,coordinateShift:ce.coordinateShift},L=Oa(n,r,ce,!1))}}return W!==null&&x===null?J0(ne,Y,W,L):(m!==null?(m=Fu(ne,m,2),x!==null&&M!==null?(x=ku(ne,m,x,!1),M=(function(oe,ce,ye,Le){const _e=new Int32Array(ye[ye.length-1]+1);let Se=0;_e[0]=Se;let Ve=1,Xe=1,yt=0;for(let Dt=0;Dt<oe.length;Dt++){const Pt=oe[Dt],Bt=ce[Dt+1]-ce[Dt];if(Pt!==0&&Pt!==3)for(let Wt=0;Wt<Bt;Wt++){const jt=ye[Ve]-ye[Ve-1];Ve++;for(let Nt=0;Nt<jt;Nt++)Se=_e[Xe++]=Se+Le[yt++]}else for(let Wt=0;Wt<Bt;Wt++)_e[Xe++]=++Se,Ve++}return _e})(ne,m,x,M)):x!==null&&(x=(function(oe,ce,ye){const Le=new Int32Array(ce[ce.length-1]+1);let _e=0;Le[0]=_e;let Se=1,Ve=0;for(let Xe=0;Xe<oe.length;Xe++){const yt=oe[Xe],Dt=ce[Xe+1]-ce[Xe];if(yt===4||yt===1)for(let Pt=0;Pt<Dt;Pt++)_e=Le[Se++]=_e+ye[Ve++];else for(let Pt=0;Pt<Dt;Pt++)Le[Se++]=++_e}return Le})(ne,m,x))):x!==null&&M!==null?(x=Fu(ne,x,1),M=ku(ne,x,M,!0)):x!==null&&(x=Fu(ne,x,0)),W!==null?J0(ne,Y,W,L,new rl(m,x,M)):Q===null?(function(oe,ce,ye,Le){return new i5(Ka.VEC_2,oe,ce,ye,Le)})(ne,new rl(m,x,M),D,L):(function(oe,ce,ye,Le,_e){return new i5(Ka.MORTON,oe,ce,ye,Le,_e)})(ne,new rl(m,x,M),D,L,Q))}function Fu(n,e,r){const l=new Int32Array(n.length+1);let c=0;l[0]=c;let p=0;for(let m=0;m<n.length;m++)c=l[m+1]=c+(n[m]>r?e[p++]:1);return l}function ku(n,e,r,l){const c=new Int32Array(e[e.length-1]+1);let p=0;c[0]=p;let m=1,x=0;for(let M=0;M<n.length;M++){const D=n[M],L=e[M+1]-e[M];if(D===5||D===2||l&&(D===4||D===1))for(let Q=0;Q<L;Q++)p=c[m++]=p+r[x++];else for(let Q=0;Q<L;Q++)c[m++]=++p}return c}class wc extends $l{dataVector;constructor(e,r,l){super(e,r.getBuffer(),l),this.dataVector=r}getValueFromBuffer(e){return this.dataVector.get(e)}}class Sc extends Cu{getValueFromBuffer(e){return this.dataBuffer[e]}}class a5 extends $l{constructor(e,r,l){super(e,BigInt64Array.of(r),l)}getValueFromBuffer(e){return this.dataBuffer[0]}}function o5(n,e,r){return Tc(n,Math.ceil(e/8),r)}function Tc(n,e,r){const l=new Uint8Array(e);let c=0;for(;c<e;){const p=n[r.increment()];if(p<=127){const m=p+3,x=n[r.increment()],M=c+m;l.fill(x,c,M),c=M}else{const m=256-p;for(let x=0;x<m;x++)l[c++]=n[r.increment()]}}return l}const e6=new TextDecoder;function s5(n,e,r){return r-e>=12?e6.decode(n.subarray(e,r)):(function(l,c,p){let m="",x=c;for(;x<p;){const M=l[x];let D,L,Q,Y=null,W=M>239?4:M>223?3:M>191?2:1;if(x+W>p)break;W===1?M<128&&(Y=M):W===2?(D=l[x+1],(192&D)==128&&(Y=(31&M)<<6|63&D,Y<=127&&(Y=null))):W===3?(D=l[x+1],L=l[x+2],(192&D)==128&&(192&L)==128&&(Y=(15&M)<<12|(63&D)<<6|63&L,(Y<=2047||Y>=55296&&Y<=57343)&&(Y=null))):W===4&&(D=l[x+1],L=l[x+2],Q=l[x+3],(192&D)==128&&(192&L)==128&&(192&Q)==128&&(Y=(15&M)<<18|(63&D)<<12|(63&L)<<6|63&Q,(Y<=65535||Y>=1114112)&&(Y=null))),Y===null?(Y=65533,W=1):Y>65535&&(Y-=65536,m+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),m+=String.fromCharCode(Y),x+=W}return m})(n,e,r)}class J4 extends $l{offsetBuffer;constructor(e,r,l,c){super(e,l,c),this.offsetBuffer=r}}class zu extends J4{textEncoder;constructor(e,r,l,c){super(e,r,l,c??r.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(e){return s5(this.dataBuffer,this.offsetBuffer[e],this.offsetBuffer[e+1])}}class Z2 extends J4{indexBuffer;textEncoder;constructor(e,r,l,c,p){super(e,l,c,p??r.length),this.indexBuffer=r,this.indexBuffer=r,this.textEncoder=new TextEncoder}getValueFromBuffer(e){const r=this.indexBuffer[e];return s5(this.dataBuffer,this.offsetBuffer[r],this.offsetBuffer[r+1])}}class Bu extends J4{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(e,r,l,c,p,m,x){super(e,l,c,x),this.indexBuffer=r,this.symbolOffsetBuffer=p,this.symbolTableBuffer=m,this.textEncoder=new TextEncoder}getValueFromBuffer(e){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(l,c,p){const m=[],x=new Array(c.length).fill(0);for(let M=1;M<c.length;M++)x[M]=x[M-1]+c[M-1];for(let M=0;M<p.length;M++)if(p[M]===255)m.push(p[++M]);else{const D=c[p[M]],L=x[p[M]];for(let Q=0;Q<D;Q++)m.push(l[L+Q])}return new Uint8Array(m)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const r=this.indexBuffer[e];return s5(this.decodedDictionary,this.offsetBuffer[r],this.offsetBuffer[r+1])}offsetToLengthBuffer(e){const r=new Uint32Array(e.length-1);let l=e[0];for(let c=1;c<e.length;c++){const p=e[c];r[c-1]=p-l,l=p}return r}}function Yl(n,e,r,l,c,p){return r.type==="scalarType"?(function(m,x,M,D,L,Q){let Y=null,W=0;if(m===0)return null;if(Q.nullable){const oe=Da(x,M);W=oe.numValues;const ce=M.get(),ye=o5(x,W,M);M.set(ce+oe.byteLength),Y=new Bs(ye,oe.numValues)}const ne=Y??D;switch(L.physicalType){case 4:case 3:return(function(oe,ce,ye,Le,_e){const Se=Da(oe,ce),Ve=tl(Se,_e,oe,ce),Xe=Le.physicalType===3;if(Ve===Mi.FLAT){const yt=fs(_e)?Z0(oe,ce,Se,Xe,_e):Oa(oe,ce,Se,Xe);return new Pu(ye.name,yt,_e)}if(Ve===Mi.SEQUENCE){const yt=Q0(oe,ce,Se);return new j0(ye.name,yt[0],yt[1],Se.numRleValues)}{const yt=$0(oe,ce,Se,Xe);return new G0(ye.name,yt,_e)}})(x,M,Q,L,ne);case 9:return(function(oe,ce,ye,Le,_e){let Se=null,Ve=null,Xe=null,yt=null,Dt=null,Pt=null,Bt=null,Wt=null;for(let jt=0;jt<Le;jt++){const Nt=Da(ce,ye);if(Nt.byteLength!==0)switch(Nt.physicalStreamType){case ia.PRESENT:{const St=o5(ce,Nt.numValues,ye);Pt=new Bs(St,Nt.numValues);break}case ia.OFFSET:Ve=_e!=null||Pt!=null?Z0(ce,ye,Nt,!1,_e??Pt):Oa(ce,ye,Nt,!1);break;case ia.LENGTH:{const St=Xl(ce,ye,Nt);Na.DICTIONARY===Nt.logicalStreamType.lengthType?Se=St:Na.SYMBOL===Nt.logicalStreamType.lengthType?yt=St:Bt=St;break}case ia.DATA:{const St=ce.subarray(ye.get(),ye.get()+Nt.byteLength);ye.add(Nt.byteLength);const ar=Nt.logicalStreamType.dictionaryType;zs.FSST===ar?Dt=St:zs.SINGLE===ar||zs.SHARED===ar?Xe=St:zs.NONE===ar&&(Wt=St);break}}}return(function(jt,Nt,St,ar,nr,or,er){return Nt?new Bu(jt,St,ar,nr,or,Nt,er):null})(oe,Dt,Ve,Se,Xe,yt,_e??Pt)??(function(jt,Nt,St,ar,nr){return Nt?nr?new Z2(jt,St,ar,Nt,nr):new Z2(jt,St,ar,Nt):null})(oe,Xe,Ve,Se,_e??Pt)??(function(jt,Nt,St,ar,nr){if(!Nt||!St)return null;if(ar)return nr?new Z2(jt,ar,Nt,St,nr):new Z2(jt,ar,Nt,St);if(nr&&nr.size()!==Nt.length-1){const or=new Int32Array(nr.size());let er=0;for(let mr=0;mr<nr.size();mr++)or[mr]=nr.get(mr)?er++:0;return new Z2(jt,or,Nt,St,nr)}return nr?new zu(jt,Nt,St,nr):new zu(jt,Nt,St)})(oe,Bt,Wt,Ve,_e??Pt)})(Q.name,x,M,Q.nullable?m-1:m,Y);case 0:return(function(oe,ce,ye,Le,_e){const Se=Da(oe,ce),Ve=Se.numValues,Xe=ce.get(),yt=fs(_e)?(function(Pt,Bt,Wt,jt){const Nt=Tc(Pt,Math.ceil(Bt/8),Wt),St=new Bs(Nt,Bt),ar=jt.size(),nr=new Bs(new Uint8Array(ar),ar);let or=0;for(let er=0;er<jt.size();er++){const mr=!!jt.get(er)&&St.get(or++);nr.set(er,mr)}return nr.getBuffer()})(oe,Ve,ce,_e):o5(oe,Ve,ce);ce.set(Xe+Se.byteLength);const Dt=new Bs(yt,Ve);return new wc(ye.name,Dt,_e)})(x,M,Q,0,ne);case 6:case 5:return(function(oe,ce,ye,Le,_e){const Se=Da(oe,ce),Ve=tl(Se,Le,oe,ce),Xe=_e.physicalType===5;if(Ve===Mi.FLAT){const yt=fs(Le)?(function(Dt,Pt,Bt,Wt,jt){return(function(Nt,St,ar,nr){switch(St.logicalLevelTechnique1){case Vr.DELTA:return St.logicalLevelTechnique2===Vr.RLE&&(Nt=yc(Nt,St.runs,St.numRleValues)),(function(or,er){const mr=new BigInt64Array(or.size());let cn=0;or.get(0)?(mr[0]=or.get(0)?er[0]>>1n^-(1n&er[0]):0n,cn=1):mr[0]=0n;let Xr=1;for(;Xr!=mr.length;++Xr)mr[Xr]=or.get(Xr)?mr[Xr-1]+(er[cn]>>1n^-(1n&er[cn++])):mr[Xr-1];return mr})(nr,Nt);case Vr.RLE:return(function(or,er,mr,cn){const Xr=er;return mr?(function(ii,Fa,Qi){const ai=new BigInt64Array(ii.size());let Yn=0;for(let wn=0;wn<Qi;wn++){const _i=Number(Fa[wn]);let Ci=Fa[wn+Qi];Ci=Ci>>1n^-(1n&Ci);for(let Qn=Yn;Qn<Yn+_i;Qn++)ii.get(Qn)?ai[Qn]=Ci:(ai[Qn]=0n,Yn++);Yn+=_i}return ai})(cn,or,Xr.runs):(function(ii,Fa,Qi){const ai=new BigInt64Array(ii.size());let Yn=0;for(let wn=0;wn<Qi;wn++){const _i=Number(Fa[wn]),Ci=Fa[wn+Qi];for(let Qn=Yn;Qn<Yn+_i;Qn++)ii.get(Qn)?ai[Qn]=Ci:(ai[Qn]=0n,Yn++);Yn+=_i}return ai})(cn,or,Xr.runs)})(Nt,St,ar,nr);case Vr.NONE:return Nt=ar?(function(or,er){const mr=new BigInt64Array(or.size());let cn=0,Xr=0;for(;Xr!=mr.length;++Xr)if(or.get(Xr)){const ii=er[cn++];mr[Xr]=ii>>1n^-(1n&ii)}else mr[Xr]=0n;return mr})(nr,Nt):(function(or,er){const mr=new BigInt64Array(or.size());let cn=0,Xr=0;for(;Xr!=mr.length;++Xr)mr[Xr]=or.get(Xr)?er[cn++]:0n;return mr})(nr,Nt),Nt;default:throw new Error("The specified Logical level technique is not supported")}})(W3(Dt,Pt,Bt.numValues),Bt,Wt,jt)})(oe,ce,Se,Xe,Le):Y4(oe,ce,Se,Xe);return new W4(ye.name,yt,Le)}if(Ve===Mi.SEQUENCE){const yt=H2(oe,ce,Se);return new X0(ye.name,yt[0],yt[1],Se.numRleValues)}{const yt=H0(oe,ce,Se,Xe);return new a5(ye.name,yt,Le)}})(x,M,Q,ne,L);case 7:return(function(oe,ce,ye,Le){const _e=Da(oe,ce),Se=fs(Le)?(function(Ve,Xe,yt,Dt){const Pt=Xe.get(),Bt=Pt+Dt*Float32Array.BYTES_PER_ELEMENT,Wt=new Uint8Array(Ve.subarray(Pt,Bt)).buffer,jt=new Float32Array(Wt);Xe.set(Bt);const Nt=yt.size(),St=new Float32Array(Nt);let ar=0;for(let nr=0;nr<Nt;nr++)St[nr]=yt.get(nr)?jt[ar++]:0;return St})(oe,ce,Le,_e.numValues):(function(Ve,Xe,yt){const Dt=Xe.get(),Pt=Dt+yt*Float32Array.BYTES_PER_ELEMENT,Bt=new Uint8Array(Ve.subarray(Dt,Pt)).buffer,Wt=new Float32Array(Bt);return Xe.set(Pt),Wt})(oe,ce,_e.numValues);return new Sc(ye.name,Se,Le)})(x,M,Q,ne);case 8:return(function(oe,ce,ye,Le){const _e=Da(oe,ce),Se=fs(Le)?(function(Ve,Xe,yt,Dt){const Pt=Xe.get(),Bt=Pt+Dt*Float64Array.BYTES_PER_ELEMENT,Wt=new Uint8Array(Ve.subarray(Pt,Bt)).buffer,jt=new Float64Array(Wt);Xe.set(Bt);const Nt=yt.size(),St=new Float64Array(Nt);let ar=0;for(let nr=0;nr<Nt;nr++)St[nr]=yt.get(nr)?jt[ar++]:0;return St})(oe,ce,Le,_e.numValues):(function(Ve,Xe,yt){const Dt=Xe.get(),Pt=Dt+yt*Float64Array.BYTES_PER_ELEMENT,Bt=new Uint8Array(Ve.subarray(Dt,Pt)).buffer,Wt=new Float64Array(Bt);return Xe.set(Pt),Wt})(oe,ce,_e.numValues);return new L0(ye.name,Se,Le)})(x,M,Q,ne);default:throw new Error(`The specified data type for the field is currently not supported: ${L}`)}})(l,n,e,c,r.scalarType,r):l!=1?null:(function(m,x,M,D){let L=null,Q=null,Y=null,W=null,ne=!1;for(;!ne;){const Le=Da(m,x);switch(Le.physicalStreamType){case ia.LENGTH:Na.DICTIONARY===Le.logicalStreamType.lengthType?L=Xl(m,x,Le):Y=Xl(m,x,Le);break;case ia.DATA:zs.SINGLE===Le.logicalStreamType.dictionaryType||zs.SHARED===Le.logicalStreamType.dictionaryType?(Q=m.subarray(x.get(),x.get()+Le.byteLength),ne=!0):W=m.subarray(x.get(),x.get()+Le.byteLength),x.add(Le.byteLength)}}const oe=M.complexType.children,ce=[];let ye=0;for(const Le of oe){const _e=$i(m,x,1)[0];if(_e==0)continue;const Se=`${M.name}${Le.name==="default"?"":":"+Le.name}`;if(_e!==2||Le.type!=="scalarField"||Le.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const Ve=Da(m,x),Xe=o5(m,Ve.numValues,x),yt=Da(m,x),Dt=yt.decompressedCount!==D?Z0(m,x,yt,!1,new Bs(Xe,Ve.numValues)):Oa(m,x,yt,!1);ce[ye++]=W?new Bu(Se,Dt,L,Q,Y,W,new Bs(Xe,Ve.numValues)):new Z2(Se,Dt,L,Q,new Bs(Xe,Ve.numValues))}return ce})(n,e,r,c)}function fs(n){return n instanceof Bs}function Wl(n){if(n.name==="id")return!1;if(n.type==="scalarType"){const e=n.scalarType;if(e.type==="physicalType")switch(e.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(e.type==="logicalType")return!1}else if(n.type==="complexType"){const e=n.complexType;if(e.type==="physicalType")switch(e.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",n),!1}const l5=new TextDecoder;function e3(n,e){const r=$i(n,e,1)[0];if(r===0)return"";const l=e.get(),c=n.subarray(l,l+r);return e.add(r),l5.decode(c)}function nl(n,e){const r=$i(n,e,1)[0]>>>0,l=!!(4&r),c=!!(2&r),p=$i(n,e,1)[0]>>>0,m={};if(1&r&&(m.nullable=!0),c){const x={};if(l?(x.type="logicalType",x.logicalType=p):(x.type="physicalType",x.physicalType=p),8&r){const M=$i(n,e,1)[0]>>>0;x.children=new Array(M);for(let D=0;D<M;D++)x.children[D]=nl(n,e)}m.type="complexField",m.complexField=x}else{const x={};l?(x.type="logicalType",x.logicalType=p):(x.type="physicalType",x.physicalType=p),m.type="scalarField",m.scalarField=x}return m}function q7(n,e){const r=$i(n,e,1)[0]>>>0,l=(function(c){switch(c){case 0:case 1:case 2:case 3:{const p={};p.nullable=!!(1&c),p.columnScope=0;const m={};return m.physicalType=c>1?6:4,m.type="physicalType",p.scalarType=m,p.type="scalarType",p}case 4:{const p={nullable:!1,columnScope:0},m={type:"physicalType",physicalType:0};return p.type="complexType",p.complexType=m,p}case 30:{const p={nullable:!1,columnScope:0},m={type:"physicalType",physicalType:1};return p.type="complexType",p.complexType=m,p}default:return(function(p){let m=null;switch(p){case 10:case 11:m=0;break;case 12:case 13:m=1;break;case 14:case 15:m=2;break;case 16:case 17:m=3;break;case 18:case 19:m=4;break;case 20:case 21:m=5;break;case 22:case 23:m=6;break;case 24:case 25:m=7;break;case 26:case 27:m=8;break;case 28:case 29:m=9;break;default:return null}const x={};x.nullable=!!(1&p),x.columnScope=0;const M={type:"physicalType"};return M.physicalType=m,x.type="scalarType",x.scalarType=M,x})(c)}})(r);if(!l)throw new Error(`Unsupported column type code: ${r}`);if((function(c){return c>=10})(r)?l.name=e3(n,e):r>=0&&r<=3?l.name="id":r===4&&(l.name="geometry"),(function(c){return c===30})(r)){const c=$i(n,e,1)[0]>>>0,p=l.complexType;p.children=new Array(c);for(let m=0;m<c;m++)p.children[m]=nl(n,e)}return l}function Ac(n,e){const r={featureTables:[]},l={};l.name=e3(n,e);const c=$i(n,e,1)[0]>>>0,p=$i(n,e,1)[0]>>>0;l.columns=new Array(p);for(let m=0;m<p;m++)l.columns[m]=q7(n,e);return r.featureTables.push(l),[r,c]}function u5(n,e,r,l,c,p,m=!1){const x=e.scalarType.physicalType,M=tl(c,p,n,r);if(x===4)switch(M){case Mi.FLAT:{const D=Oa(n,r,c,!1);return new Pu(l,D,p)}case Mi.SEQUENCE:{const D=Q0(n,r,c);return new j0(l,D[0],D[1],c.numRleValues)}case Mi.CONST:{const D=$0(n,r,c,!1);return new G0(l,D,p)}}else switch(M){case Mi.FLAT:{if(m){const L=(function(Q,Y,W,ne){const oe=(function(ce,ye,Le){const _e=new Float64Array(ye);for(let Se=0;Se<ye;Se++)_e[Se]=gc(ce,Le);return _e})(Q,W.numValues,Y);return(function(ce,ye,Le){switch(ye.logicalLevelTechnique1){case Vr.DELTA:return ye.logicalLevelTechnique2===Vr.RLE&&(ce=_c(ce,ye.runs,ye.numRleValues)),(function(_e){_e[0]=_e[0]%2==1?(_e[0]+1)/-2:_e[0]/2;const Se=_e.length/4*4;let Ve=1;if(Se>=4)for(;Ve<Se-4;Ve+=4){const Xe=_e[Ve],yt=_e[Ve+1],Dt=_e[Ve+2],Pt=_e[Ve+3];_e[Ve]=(Xe%2==1?(Xe+1)/-2:Xe/2)+_e[Ve-1],_e[Ve+1]=(yt%2==1?(yt+1)/-2:yt/2)+_e[Ve],_e[Ve+2]=(Dt%2==1?(Dt+1)/-2:Dt/2)+_e[Ve+1],_e[Ve+3]=(Pt%2==1?(Pt+1)/-2:Pt/2)+_e[Ve+2]}for(;Ve!=_e.length;++Ve)_e[Ve]=(_e[Ve]%2==1?(_e[Ve]+1)/-2:_e[Ve]/2)+_e[Ve-1]})(ce),ce;case Vr.RLE:return(function(_e,Se,Ve){return _c(_e,Se.runs,Se.numRleValues)})(ce,ye);case Vr.NONE:return ce;default:throw new Error(`The specified Logical level technique is not supported: ${ye.logicalLevelTechnique1}`)}})(oe,W)})(n,r,c);return new L0(l,L,p)}const D=Y4(n,r,c,!1);return new W4(l,D,p)}case Mi.SEQUENCE:{const D=H2(n,r,c);return new X0(l,D[0],D[1],c.numRleValues)}case Mi.CONST:{const D=H0(n,r,c,!1);return new a5(l,D,p)}}throw new Error("Vector type not supported for id column.")}class $7{constructor(e,r){var l;switch(this._featureData=e,this.properties=this._featureData.properties||{},(l=this._featureData.geometry)===null||l===void 0?void 0:l.type){case qi.POINT:case qi.MULTIPOINT:this.type=1;break;case qi.LINESTRING:case qi.MULTILINESTRING:this.type=2;break;case qi.POLYGON:case qi.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=r,this.id=Number(this._featureData.id)}loadGeometry(){const e=[];for(const r of this._featureData.geometry.coordinates){const l=[];for(const c of r)l.push(new P(c.x,c.y));e.push(l)}return e}}class Ec{constructor(e){this.features=[],this.featureTable=e,this.name=e.name,this.extent=e.extent,this.version=2,this.features=e.getFeatures(),this.length=this.features.length}feature(e){return new $7(this.features[e],this.extent)}}class c5{constructor(e){this.layers={};const r=(function(l,c,p=!0){const m=new mc(0),x=[];for(;m.get()<l.length;){const M=$i(l,m,1)[0]>>>0,D=m.get()+M;if(D>l.length)throw new Error(`Block overruns tile: ${D} > ${l.length}`);if($i(l,m,1)[0]>>>0!=1){m.set(D);continue}const L=Ac(l,m),Q=L[1],Y=L[0].featureTables[0];let W=null,ne=null;const oe=[];let ce=0;for(const Le of Y.columns){const _e=Le.name;if(_e==="id"){let Se=null;if(Le.nullable){const Xe=Da(l,m),yt=m.get(),Dt=o5(l,Xe.numValues,m);m.set(yt+Xe.byteLength),Se=new Bs(Dt,Xe.numValues)}const Ve=Da(l,m);ce=Ve.decompressedCount,W=u5(l,Le,m,_e,Ve,Se??ce,p)}else if(_e==="geometry"){const Se=$i(l,m,1)[0];if(ce===0){const Ve=m.get();ce=Da(l,m).decompressedCount,m.set(Ve)}ne=xc(l,Se,m,ce)}else{const Se=Wl(Le)?$i(l,m,1)[0]:1;if(Se===0&&Le.type==="scalarType")continue;const Ve=Yl(l,m,Le,Se,ce);if(Ve)if(Array.isArray(Ve))for(const Xe of Ve)oe.push(Xe);else oe.push(Ve)}}const ye=new Ql(Y.name,ne,W,oe,Q);x.push(ye),m.set(D)}return x})(new Uint8Array(e));this.layers=r.reduce(((l,c)=>Object.assign(Object.assign({},l),{[c.name]:new Ec(c)})),{})}}class Mc{constructor(e,r){this.feature=e,this.type=e.type,this.properties=e.tags?e.tags:{},this.extent=r,"id"in e&&(typeof e.id=="string"?this.id=parseInt(e.id,10):typeof e.id!="number"||isNaN(e.id)||(this.id=e.id))}loadGeometry(){const e=[],r=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const l of r){const c=[];for(const p of l)c.push(new P(p[0],p[1]));e.push(c)}return e}}const h5="_geojsonTileLayer";function Lu(n,e){e.writeVarintField(15,n.version||1),e.writeStringField(1,n.name||""),e.writeVarintField(5,n.extent||4096);const r={keys:[],values:[],keycache:{},valuecache:{}};for(let p=0;p<n.length;p++)r.feature=n.feature(p),e.writeMessage(2,Uu,r);const l=r.keys;for(const p of l)e.writeStringField(3,p);const c=r.values;for(const p of c)e.writeMessage(4,ju,p)}function Uu(n,e){if(!n.feature)return;const r=n.feature;r.id!==void 0&&e.writeVarintField(1,r.id),e.writeMessage(2,Cc,n),e.writeVarintField(3,r.type),e.writeMessage(4,r6,r)}function Cc(n,e){for(const r in n.feature?.properties){let l=n.feature.properties[r],c=n.keycache[r];if(l==null)continue;c===void 0&&(n.keys.push(r),c=n.keys.length-1,n.keycache[r]=c),e.writeVarint(c),typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"&&(l=JSON.stringify(l));const p=typeof l+":"+l;let m=n.valuecache[p];m===void 0&&(n.values.push(l),m=n.values.length-1,n.valuecache[p]=m),e.writeVarint(m)}}function Kl(n,e){return(e<<3)+(7&n)}function t6(n){return n<<1^n>>31}function r6(n,e){const r=n.loadGeometry(),l=n.type;let c=0,p=0;for(const m of r){let x=1;l===1&&(x=m.length),e.writeVarint(Kl(1,x));const M=l===3?m.length-1:m.length;for(let D=0;D<M;D++){D===1&&l!==1&&e.writeVarint(Kl(2,M-1));const L=m[D].x-c,Q=m[D].y-p;e.writeVarint(t6(L)),e.writeVarint(t6(Q)),c+=L,p+=Q}n.type===3&&e.writeVarint(Kl(7,1))}}function ju(n,e){const r=typeof n;r==="string"?e.writeStringField(1,n):r==="boolean"?e.writeBooleanField(7,n):r==="number"&&(n%1!=0?e.writeDoubleField(3,n):n<0?e.writeSVarintField(6,n):e.writeVarintField(5,n))}class n6{constructor(e,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new o1(Ze,16,0),this.grid3D=new o1(Ze,16,0),this.featureIndexArray=new pe,this.promoteId=r}insert(e,r,l,c,p,m){const x=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(l,c,p);const M=m?this.grid3D:this.grid;for(let D=0;D<r.length;D++){const L=r[D],Q=[1/0,1/0,-1/0,-1/0];for(let Y=0;Y<L.length;Y++){const W=L[Y];Q[0]=Math.min(Q[0],W.x),Q[1]=Math.min(Q[1],W.y),Q[2]=Math.max(Q[2],W.x),Q[3]=Math.max(Q[3],W.y)}Q[0]<Ze&&Q[1]<Ze&&Q[2]>=0&&Q[3]>=0&&M.insert(x,Q[0],Q[1],Q[2],Q[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new on(new fu(this.rawTileData)).layers:new c5(this.rawTileData).layers,this.sourceLayerCoder=new B0(this.vtLayers?Object.keys(this.vtLayers).sort():[h5])),this.vtLayers}query(e,r,l,c){this.loadVTLayers();const p=e.params,m=Ze/e.tileSize/e.scale,x=Aa(p.filter,p.globalState),M=e.queryGeometry,D=e.queryPadding*m,L=ql.fromPoints(M),Q=this.grid.query(L.minX-D,L.minY-D,L.maxX+D,L.maxY+D),Y=ql.fromPoints(e.cameraQueryGeometry).expandBy(D),W=this.grid3D.query(Y.minX,Y.minY,Y.maxX,Y.maxY,((ce,ye,Le,_e)=>(function(Se,Ve,Xe,yt,Dt){for(const Bt of Se)if(Ve<=Bt.x&&Xe<=Bt.y&&yt>=Bt.x&&Dt>=Bt.y)return!0;const Pt=[new P(Ve,Xe),new P(Ve,Dt),new P(yt,Dt),new P(yt,Xe)];if(Se.length>2){for(const Bt of Pt)if(h1(Se,Bt))return!0}for(let Bt=0;Bt<Se.length-1;Bt++)if(D6(Se[Bt],Se[Bt+1],Pt))return!0;return!1})(e.cameraQueryGeometry,ce-D,ye-D,Le+D,_e+D)));for(const ce of W)Q.push(ce);Q.sort(Gu);const ne={};let oe;for(let ce=0;ce<Q.length;ce++){const ye=Q[ce];if(ye===oe)continue;oe=ye;const Le=this.featureIndexArray.get(ye);let _e=null;this.loadMatchingFeature(ne,Le.bucketIndex,Le.sourceLayerIndex,Le.featureIndex,x,p.layers,p.availableImages,r,l,c,((Se,Ve,Xe)=>(_e||(_e=Ns(Se)),Ve.queryIntersectsFeature({queryGeometry:M,feature:Se,featureState:Xe,geometry:_e,zoom:this.z,transform:e.transform,pixelsToTileUnits:m,pixelPosMatrix:e.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:e.getElevation}))))}return ne}loadMatchingFeature(e,r,l,c,p,m,x,M,D,L,Q){const Y=this.bucketLayerIDs[r];if(m&&!Y.some((ce=>m.has(ce))))return;const W=this.sourceLayerCoder.decode(l),ne=this.vtLayers[W].feature(c);if(p.needGeometry){const ce=ko(ne,!0);if(!p.filter(new pn(this.tileID.overscaledZ),ce,this.tileID.canonical))return}else if(!p.filter(new pn(this.tileID.overscaledZ),ne))return;const oe=this.getId(ne,W);for(let ce=0;ce<Y.length;ce++){const ye=Y[ce];if(m&&!m.has(ye))continue;const Le=M[ye];if(!Le)continue;let _e={};oe&&L&&(_e=L.getState(Le.sourceLayer||h5,oe));const Se=ue({},D[ye]);Se.paint=Pc(Se.paint,Le.paint,ne,_e,x),Se.layout=Pc(Se.layout,Le.layout,ne,_e,x);const Ve=!Q||Q(ne,Le,_e);if(!Ve)continue;const Xe=new Mu(ne,this.z,this.x,this.y,oe);Xe.layer=Se;let yt=e[ye];yt===void 0&&(yt=e[ye]=[]),yt.push({featureIndex:c,feature:Xe,intersectionZ:Ve})}}lookupSymbolFeatures(e,r,l,c,p,m,x,M){const D={};this.loadVTLayers();const L=Aa(p.filterSpec,p.globalState);for(const Q of e)this.loadMatchingFeature(D,l,c,Q,L,m,x,M,r);return D}hasLayer(e){for(const r of this.bucketLayerIDs)for(const l of r)if(e===l)return!0;return!1}getId(e,r){var l;let c=e.id;return this.promoteId&&(c=e.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]],typeof c=="boolean"&&(c=Number(c)),c===void 0&&(!((l=e.properties)===null||l===void 0)&&l.cluster)&&this.promoteId&&(c=Number(e.properties.cluster_id))),c}}function Pc(n,e,r,l,c){return qe(n,((p,m)=>{const x=e instanceof L1?e.get(m):null;return x&&x.evaluate?x.evaluate(r,l,c):x}))}function Gu(n,e){return e-n}function i(n,e,r,l,c){const p=[];for(let m=0;m<n.length;m++){const x=n[m];let M;for(let D=0;D<x.length-1;D++){let L=x[D],Q=x[D+1];L.x<e&&Q.x<e||(L.x<e?L=new P(e,L.y+(e-L.x)/(Q.x-L.x)*(Q.y-L.y))._round():Q.x<e&&(Q=new P(e,L.y+(e-L.x)/(Q.x-L.x)*(Q.y-L.y))._round()),L.y<r&&Q.y<r||(L.y<r?L=new P(L.x+(r-L.y)/(Q.y-L.y)*(Q.x-L.x),r)._round():Q.y<r&&(Q=new P(L.x+(r-L.y)/(Q.y-L.y)*(Q.x-L.x),r)._round()),L.x>=l&&Q.x>=l||(L.x>=l?L=new P(l,L.y+(l-L.x)/(Q.x-L.x)*(Q.y-L.y))._round():Q.x>=l&&(Q=new P(l,L.y+(l-L.x)/(Q.x-L.x)*(Q.y-L.y))._round()),L.y>=c&&Q.y>=c||(L.y>=c?L=new P(L.x+(c-L.y)/(Q.y-L.y)*(Q.x-L.x),c)._round():Q.y>=c&&(Q=new P(L.x+(c-L.y)/(Q.y-L.y)*(Q.x-L.x),c)._round()),M&&L.equals(M[M.length-1])||(M=[L],p.push(M)),M.push(Q)))))}}return p}function s(n,e,r,l,c){switch(e){case 1:return(function(p,m,x,M){const D=[];for(const L of p)for(const Q of L){const Y=M===0?Q.x:Q.y;Y>=m&&Y<=x&&D.push([Q])}return D})(n,r,l,c);case 2:return v(n,r,l,c,!1);case 3:return v(n,r,l,c,!0)}return[]}function h(n,e,r,l,c){const p=l===0?I:B;let m=[];const x=[];for(let L=0;L<n.length-1;L++){const Q=n[L],Y=n[L+1],W=l===0?Q.x:Q.y,ne=l===0?Y.x:Y.y;let oe=!1;W<e?ne>e&&m.push(p(Q,Y,e)):W>r?ne<r&&m.push(p(Q,Y,r)):m.push(Q),ne<e&&W>=e&&(m.push(p(Q,Y,e)),oe=!0),ne>r&&W<=r&&(m.push(p(Q,Y,r)),oe=!0),!c&&oe&&(x.push(m),m=[])}const M=n.length-1,D=l===0?n[M].x:n[M].y;return D>=e&&D<=r&&m.push(n[M]),c&&m.length>0&&!m[0].equals(m[m.length-1])&&m.push(new P(m[0].x,m[0].y)),m.length>0&&x.push(m),x}function v(n,e,r,l,c){const p=[];for(const m of n){const x=h(m,e,r,l,c);x.length>0&&p.push(...x)}return p}function I(n,e,r){return new P(r,n.y+(r-n.x)/(e.x-n.x)*(e.y-n.y))}function B(n,e,r){return new P(n.x+(r-n.y)/(e.y-n.y)*(e.x-n.x),r)}rr("FeatureIndex",n6,{omit:["rawTileData","sourceLayerCoder"]});class re extends P{constructor(e,r,l,c){super(e,r),this.angle=l,c!==void 0&&(this.segment=c)}clone(){return new re(this.x,this.y,this.angle,this.segment)}}function ve(n,e,r,l,c){if(e.segment===void 0||r===0)return!0;let p=e,m=e.segment+1,x=0;for(;x>-r/2;){if(m--,m<0)return!1;x-=n[m].dist(p),p=n[m]}x+=n[m].dist(n[m+1]),m++;const M=[];let D=0;for(;x<r/2;){const L=n[m],Q=n[m+1];if(!Q)return!1;let Y=n[m-1].angleTo(L)-L.angleTo(Q);for(Y=Math.abs((Y+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:x,angleDelta:Y}),D+=Y;x-M[0].distance>l;)D-=M.shift().angleDelta;if(D>c)return!1;m++,x+=L.dist(Q)}return!0}function Je(n){let e=0;for(let r=0;r<n.length-1;r++)e+=n[r].dist(n[r+1]);return e}function Tt(n,e,r){return n?.6*e*r:0}function kt(n,e){return Math.max(n?n.right-n.left:0,e?e.right-e.left:0)}function qt(n,e,r,l,c,p){const m=Tt(r,c,p),x=kt(r,l)*p;let M=0;const D=Je(n)/2;for(let L=0;L<n.length-1;L++){const Q=n[L],Y=n[L+1],W=Q.dist(Y);if(M+W>D){const ne=(D-M)/W,oe=Gn.number(Q.x,Y.x,ne),ce=Gn.number(Q.y,Y.y,ne),ye=new re(oe,ce,Y.angleTo(Q),L);return ye._round(),!m||ve(n,ye,x,m,e)?ye:void 0}M+=W}}function Mt(n,e,r,l,c,p,m,x,M){const D=Tt(l,p,m),L=kt(l,c),Q=L*m,Y=n[0].x===0||n[0].x===M||n[0].y===0||n[0].y===M;return e-Q<e/4&&(e=Q+e/4),Rt(n,Y?e/2*x%e:(L/2+2*p)*m*x%e,e,D,r,Q,Y,!1,M)}function Rt(n,e,r,l,c,p,m,x,M){const D=p/2,L=Je(n);let Q=0,Y=e-r,W=[];for(let ne=0;ne<n.length-1;ne++){const oe=n[ne],ce=n[ne+1],ye=oe.dist(ce),Le=ce.angleTo(oe);for(;Y+r<Q+ye;){Y+=r;const _e=(Y-Q)/ye,Se=Gn.number(oe.x,ce.x,_e),Ve=Gn.number(oe.y,ce.y,_e);if(Se>=0&&Se<M&&Ve>=0&&Ve<M&&Y-D>=0&&Y+D<=L){const Xe=new re(Se,Ve,Le,ne);Xe._round(),l&&!ve(n,Xe,p,l,c)||W.push(Xe)}}Q+=ye}return x||W.length||m||(W=Rt(n,Q/2,r,l,c,p,m,!0,M)),W}function fr(n,e,r,l){const c=[],p=n.image,m=p.pixelRatio,x=p.paddedRect.w-2,M=p.paddedRect.h-2;let D={x1:n.left,y1:n.top,x2:n.right,y2:n.bottom};const L=p.stretchX||[[0,x]],Q=p.stretchY||[[0,M]],Y=(St,ar)=>St+ar[1]-ar[0],W=L.reduce(Y,0),ne=Q.reduce(Y,0),oe=x-W,ce=M-ne;let ye=0,Le=W,_e=0,Se=ne,Ve=0,Xe=oe,yt=0,Dt=ce;if(p.content&&l){const St=p.content,ar=St[2]-St[0],nr=St[3]-St[1];(p.textFitWidth||p.textFitHeight)&&(D=el(n)),ye=Tr(L,0,St[0]),_e=Tr(Q,0,St[1]),Le=Tr(L,St[0],St[2]),Se=Tr(Q,St[1],St[3]),Ve=St[0]-ye,yt=St[1]-_e,Xe=ar-Le,Dt=nr-Se}const Pt=D.x1,Bt=D.y1,Wt=D.x2-Pt,jt=D.y2-Bt,Nt=(St,ar,nr,or)=>{const er=pt(St.stretch-ye,Le,Wt,Pt),mr=at(St.fixed-Ve,Xe,St.stretch,W),cn=pt(ar.stretch-_e,Se,jt,Bt),Xr=at(ar.fixed-yt,Dt,ar.stretch,ne),ii=pt(nr.stretch-ye,Le,Wt,Pt),Fa=at(nr.fixed-Ve,Xe,nr.stretch,W),Qi=pt(or.stretch-_e,Se,jt,Bt),ai=at(or.fixed-yt,Dt,or.stretch,ne),Yn=new P(er,cn),wn=new P(ii,cn),_i=new P(ii,Qi),Ci=new P(er,Qi),Qn=new P(mr/m,Xr/m),Uo=new P(Fa/m,ai/m),ka=e*Math.PI/180;if(ka){const oa=Math.sin(ka),hi=Math.cos(ka),Hi=[hi,-oa,oa,hi];Yn._matMult(Hi),wn._matMult(Hi),Ci._matMult(Hi),_i._matMult(Hi)}const jo=St.stretch+St.fixed,y1=ar.stretch+ar.fixed;return{tl:Yn,tr:wn,bl:Ci,br:_i,tex:{x:p.paddedRect.x+1+jo,y:p.paddedRect.y+1+y1,w:nr.stretch+nr.fixed-jo,h:or.stretch+or.fixed-y1},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Qn,pixelOffsetBR:Uo,minFontScaleX:Xe/m/Wt,minFontScaleY:Dt/m/jt,isSDF:r}};if(l&&(p.stretchX||p.stretchY)){const St=On(L,oe,W),ar=On(Q,ce,ne);for(let nr=0;nr<St.length-1;nr++){const or=St[nr],er=St[nr+1];for(let mr=0;mr<ar.length-1;mr++)c.push(Nt(or,ar[mr],er,ar[mr+1]))}}else c.push(Nt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:M+1}));return c}function Tr(n,e,r){let l=0;for(const c of n)l+=Math.max(e,Math.min(r,c[1]))-Math.max(e,Math.min(r,c[0]));return l}function On(n,e,r){const l=[{fixed:-1,stretch:0}];for(const[c,p]of n){const m=l[l.length-1];l.push({fixed:c-m.stretch,stretch:m.stretch}),l.push({fixed:c-m.stretch,stretch:m.stretch+(p-c)})}return l.push({fixed:e+1,stretch:r}),l}function pt(n,e,r,l){return n/e*r+l}function at(n,e,r,l){return n-e*r/l}rr("Anchor",re);class wt{constructor(e,r,l,c,p,m,x,M,D,L){var Q;if(this.boxStartIndex=e.length,D){let Y=m.top,W=m.bottom;const ne=m.collisionPadding;ne&&(Y-=ne[1],W+=ne[3]);let oe=W-Y;oe>0&&(oe=Math.max(10,oe),this.circleDiameter=oe)}else{const Y=!((Q=m.image)===null||Q===void 0)&&Q.content&&(m.image.textFitWidth||m.image.textFitHeight)?el(m):{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom};Y.y1=Y.y1*x-M[0],Y.y2=Y.y2*x+M[2],Y.x1=Y.x1*x-M[3],Y.x2=Y.x2*x+M[1];const W=m.collisionPadding;if(W&&(Y.x1-=W[0]*x,Y.y1-=W[1]*x,Y.x2+=W[2]*x,Y.y2+=W[3]*x),L){const ne=new P(Y.x1,Y.y1),oe=new P(Y.x2,Y.y1),ce=new P(Y.x1,Y.y2),ye=new P(Y.x2,Y.y2),Le=L*Math.PI/180;ne._rotate(Le),oe._rotate(Le),ce._rotate(Le),ye._rotate(Le),Y.x1=Math.min(ne.x,oe.x,ce.x,ye.x),Y.x2=Math.max(ne.x,oe.x,ce.x,ye.x),Y.y1=Math.min(ne.y,oe.y,ce.y,ye.y),Y.y2=Math.max(ne.y,oe.y,ce.y,ye.y)}e.emplaceBack(r.x,r.y,Y.x1,Y.y1,Y.x2,Y.y2,l,c,p)}this.boxEndIndex=e.length}}class Ut{constructor(e=[],r=(l,c)=>l<c?-1:l>c?1:0){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return--this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:l}=this,c=r[e];for(;e>0;){const p=e-1>>1,m=r[p];if(l(c,m)>=0)break;r[e]=m,e=p}r[e]=c}_down(e){const{data:r,compare:l}=this,c=this.length>>1,p=r[e];for(;e<c;){let m=1+(e<<1);const x=m+1;if(x<this.length&&l(r[x],r[m])<0&&(m=x),l(r[m],p)>=0)break;r[e]=r[m],e=m}r[e]=p}}function Sr(n,e=1,r=!1){const l=ql.fromPoints(n[0]),c=Math.min(l.width(),l.height());let p=c/2;const m=new Ut([],xn),{minX:x,minY:M,maxX:D,maxY:L}=l;if(c===0)return new P(x,M);for(let W=x;W<D;W+=c)for(let ne=M;ne<L;ne+=c)m.push(new pr(W+p,ne+p,p,n));let Q=(function(W){let ne=0,oe=0,ce=0;const ye=W[0];for(let Le=0,_e=ye.length,Se=_e-1;Le<_e;Se=Le++){const Ve=ye[Le],Xe=ye[Se],yt=Ve.x*Xe.y-Xe.x*Ve.y;oe+=(Ve.x+Xe.x)*yt,ce+=(Ve.y+Xe.y)*yt,ne+=3*yt}return new pr(oe/ne,ce/ne,0,W)})(n),Y=m.length;for(;m.length;){const W=m.pop();(W.d>Q.d||!Q.d)&&(Q=W,r&&console.log("found best %d after %d probes",Math.round(1e4*W.d)/1e4,Y)),W.max-Q.d<=e||(p=W.h/2,m.push(new pr(W.p.x-p,W.p.y-p,p,n)),m.push(new pr(W.p.x+p,W.p.y-p,p,n)),m.push(new pr(W.p.x-p,W.p.y+p,p,n)),m.push(new pr(W.p.x+p,W.p.y+p,p,n)),Y+=4)}return r&&(console.log(`num probes: ${Y}`),console.log(`best distance: ${Q.d}`)),Q.p}function xn(n,e){return e.max-n.max}function pr(n,e,r,l){this.p=new P(n,e),this.h=r,this.d=(function(c,p){let m=!1,x=1/0;for(let M=0;M<p.length;M++){const D=p[M];for(let L=0,Q=D.length,Y=Q-1;L<Q;Y=L++){const W=D[L],ne=D[Y];W.y>c.y!=ne.y>c.y&&c.x<(ne.x-W.x)*(c.y-W.y)/(ne.y-W.y)+W.x&&(m=!m),x=Math.min(x,o0(c,W,ne))}}return(m?1:-1)*Math.sqrt(x)})(this.p,l),this.max=this.d+this.h*Math.SQRT2}var br;w.aP=void 0,(br=w.aP||(w.aP={}))[br.center=1]="center",br[br.left=2]="left",br[br.right=3]="right",br[br.top=4]="top",br[br.bottom=5]="bottom",br[br["top-left"]=6]="top-left",br[br["top-right"]=7]="top-right",br[br["bottom-left"]=8]="bottom-left",br[br["bottom-right"]=9]="bottom-right";const nn=Number.POSITIVE_INFINITY;function gn(n,e){return e[1]!==nn?(function(r,l,c){let p=0,m=0;switch(l=Math.abs(l),c=Math.abs(c),r){case"top-right":case"top-left":case"top":m=c-7;break;case"bottom-right":case"bottom-left":case"bottom":m=7-c}switch(r){case"top-right":case"bottom-right":case"right":p=-l;break;case"top-left":case"bottom-left":case"left":p=l}return[p,m]})(n,e[0],e[1]):(function(r,l){let c=0,p=0;l<0&&(l=0);const m=l/Math.SQRT2;switch(r){case"top-right":case"top-left":p=m-7;break;case"bottom-right":case"bottom-left":p=7-m;break;case"bottom":p=7-l;break;case"top":p=l-7}switch(r){case"top-right":case"bottom-right":c=-m;break;case"top-left":case"bottom-left":c=m;break;case"left":c=l;break;case"right":c=-l}return[c,p]})(n,e[0])}function il(n,e,r){var l;const c=n.layout,p=(l=c.get("text-variable-anchor-offset"))===null||l===void 0?void 0:l.evaluate(e,{},r);if(p){const x=p.values,M=[];for(let D=0;D<x.length;D+=2){const L=M[D]=x[D],Q=x[D+1].map((Y=>Y*Oi));L.startsWith("top")?Q[1]-=7:L.startsWith("bottom")&&(Q[1]+=7),M[D+1]=Q}return new Kn(M)}const m=c.get("text-variable-anchor");if(m){let x;x=n._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[c.get("text-radial-offset").evaluate(e,{},r)*Oi,nn]:c.get("text-offset").evaluate(e,{},r).map((D=>D*Oi));const M=[];for(const D of m)M.push(D,gn(D,x));return new Kn(M)}return null}function i6(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yy(n,e,r,l,c,p,m,x,M,D,L,Q){let Y=p.textMaxSize.evaluate(e,{});Y===void 0&&(Y=m);const W=n.layers[0].layout,ne=W.get("icon-offset").evaluate(e,{},L),oe=hd(r.horizontal),ce=m/24,ye=n.tilePixelRatio*ce,Le=n.tilePixelRatio*Y/24,_e=n.tilePixelRatio*x,Se=n.tilePixelRatio*W.get("symbol-spacing"),Ve=W.get("text-padding")*n.tilePixelRatio,Xe=(function(nr,or,er,mr=1){const cn=nr.get("icon-padding").evaluate(or,{},er),Xr=cn&&cn.values;return[Xr[0]*mr,Xr[1]*mr,Xr[2]*mr,Xr[3]*mr]})(W,e,L,n.tilePixelRatio),yt=W.get("text-max-angle")/180*Math.PI,Dt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",Pt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Bt=W.get("symbol-placement"),Wt=Se/2,jt=W.get("icon-text-fit");let Nt;l&&jt!=="none"&&(n.allowVerticalPlacement&&r.vertical&&(Nt=Fs(l,r.vertical,jt,W.get("icon-text-fit-padding"),ne,ce)),oe&&(l=Fs(l,oe,jt,W.get("icon-text-fit-padding"),ne,ce)));const St=L?Q.line.getGranularityForZoomLevel(L.z):1,ar=(nr,or)=>{or.x<0||or.x>=Ze||or.y<0||or.y>=Ze||(function(er,mr,cn,Xr,ii,Fa,Qi,ai,Yn,wn,_i,Ci,Qn,Uo,ka,jo,y1,oa,hi,Hi,vi,sa,X2,al,s6){const t3=er.addToLineVertexArray(mr,cn);let d5,Vu,qu,$u,md=0,gd=0,yd=0,_d=0,J7=-1,e9=-1;const Y2={};let vd=ri("");if(er.allowVerticalPlacement&&Xr.vertical){const Ja=ai.layout.get("text-rotate").evaluate(vi,{},al)+90;qu=new wt(Yn,mr,wn,_i,Ci,Xr.vertical,Qn,Uo,ka,Ja),Qi&&($u=new wt(Yn,mr,wn,_i,Ci,Qi,y1,oa,ka,Ja))}if(ii){const Ja=ai.layout.get("icon-rotate").evaluate(vi,{}),Ls=ai.layout.get("icon-text-fit")!=="none",f5=fr(ii,Ja,X2,Ls),sl=Qi?fr(Qi,Ja,X2,Ls):void 0;Vu=new wt(Yn,mr,wn,_i,Ci,ii,y1,oa,!1,Ja),md=4*f5.length;const p5=er.iconSizeData;let Jl=null;p5.kind==="source"?(Jl=[Bo*ai.layout.get("icon-size").evaluate(vi,{})],Jl[0]>Gl&&Jt(`${er.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):p5.kind==="composite"&&(Jl=[Bo*sa.compositeIconSizes[0].evaluate(vi,{},al),Bo*sa.compositeIconSizes[1].evaluate(vi,{},al)],(Jl[0]>Gl||Jl[1]>Gl)&&Jt(`${er.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),er.addSymbols(er.icon,f5,Jl,Hi,hi,vi,w.az.none,mr,t3.lineStartIndex,t3.lineLength,-1,al),J7=er.icon.placedSymbolArray.length-1,sl&&(gd=4*sl.length,er.addSymbols(er.icon,sl,Jl,Hi,hi,vi,w.az.vertical,mr,t3.lineStartIndex,t3.lineLength,-1,al),e9=er.icon.placedSymbolArray.length-1)}const bd=Object.keys(Xr.horizontal);for(const Ja of bd){const Ls=Xr.horizontal[Ja];if(!d5){vd=ri(Ls.text);const sl=ai.layout.get("text-rotate").evaluate(vi,{},al);d5=new wt(Yn,mr,wn,_i,Ci,Ls,Qn,Uo,ka,sl)}const f5=Ls.positionedLines.length===1;if(yd+=cd(er,mr,Ls,Fa,ai,ka,vi,jo,t3,Xr.vertical?w.az.horizontal:w.az.horizontalOnly,f5?bd:[Ja],Y2,J7,sa,al),f5)break}Xr.vertical&&(_d+=cd(er,mr,Xr.vertical,Fa,ai,ka,vi,jo,t3,w.az.vertical,["vertical"],Y2,e9,sa,al));const by=d5?d5.boxStartIndex:er.collisionBoxArray.length,xy=d5?d5.boxEndIndex:er.collisionBoxArray.length,wy=qu?qu.boxStartIndex:er.collisionBoxArray.length,Sy=qu?qu.boxEndIndex:er.collisionBoxArray.length,Ty=Vu?Vu.boxStartIndex:er.collisionBoxArray.length,Ay=Vu?Vu.boxEndIndex:er.collisionBoxArray.length,Ey=$u?$u.boxStartIndex:er.collisionBoxArray.length,My=$u?$u.boxEndIndex:er.collisionBoxArray.length;let ol=-1;const Ic=(Ja,Ls)=>Ja&&Ja.circleDiameter?Math.max(Ja.circleDiameter,Ls):Ls;ol=Ic(d5,ol),ol=Ic(qu,ol),ol=Ic(Vu,ol),ol=Ic($u,ol);const xd=ol>-1?1:0;xd&&(ol*=s6/Oi),er.glyphOffsetArray.length>=Q4.MAX_GLYPHS&&Jt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),vi.sortKey!==void 0&&er.addToSortKeyRanges(er.symbolInstances.length,vi.sortKey);const Cy=il(ai,vi,al),[Py,Ry]=(function(Ja,Ls){const f5=Ja.length,sl=Ls?.values;if(sl?.length>0)for(let p5=0;p5<sl.length;p5+=2){const Jl=sl[p5+1];Ja.emplaceBack(w.aP[sl[p5]],Jl[0],Jl[1])}return[f5,Ja.length]})(er.textAnchorOffsets,Cy);er.symbolInstances.emplaceBack(mr.x,mr.y,Y2.right>=0?Y2.right:-1,Y2.center>=0?Y2.center:-1,Y2.left>=0?Y2.left:-1,Y2.vertical||-1,J7,e9,vd,by,xy,wy,Sy,Ty,Ay,Ey,My,wn,yd,_d,md,gd,xd,0,Qn,ol,Py,Ry)})(n,or,nr,r,l,c,Nt,n.layers[0],n.collisionBoxArray,e.index,e.sourceLayerIndex,n.index,ye,[Ve,Ve,Ve,Ve],Dt,M,_e,Xe,Pt,ne,e,p,D,L,m)};if(Bt==="line")for(const nr of i(e.geometry,0,0,Ze,Ze)){const or=X1(nr,St),er=Mt(or,Se,yt,r.vertical||oe,l,24,Le,n.overscaling,Ze);for(const mr of er)oe&&_y(n,oe.text,Wt,mr)||ar(or,mr)}else if(Bt==="line-center"){for(const nr of e.geometry)if(nr.length>1){const or=X1(nr,St),er=qt(or,yt,r.vertical||oe,l,24,Le);er&&ar(or,er)}}else if(e.type==="Polygon")for(const nr of f2(e.geometry,0)){const or=Sr(nr,16);ar(X1(nr[0],St,!0),new re(or.x,or.y,0))}else if(e.type==="LineString")for(const nr of e.geometry){const or=X1(nr,St);ar(or,new re(or[0].x,or[0].y,0))}else if(e.type==="Point")for(const nr of e.geometry)for(const or of nr)ar([or],new re(or.x,or.y,0))}function cd(n,e,r,l,c,p,m,x,M,D,L,Q,Y,W,ne){const oe=(function(Le,_e,Se,Ve,Xe,yt,Dt,Pt){const Bt=Ve.layout.get("text-rotate").evaluate(yt,{})*Math.PI/180,Wt=[];for(const jt of _e.positionedLines)for(const Nt of jt.positionedGlyphs){if(!Nt.rect)continue;const St=Nt.rect||{};let ar=4,nr=!0,or=1,er=0;const mr=(Xe||Pt)&&Nt.vertical,cn=Nt.metrics.advance*Nt.scale/2;if(Pt&&_e.verticalizable&&(er=jt.lineOffset/2-(Nt.imageName?-(Oi-Nt.metrics.width*Nt.scale)/2:(Nt.scale-1)*Oi)),Nt.imageName){const oa=Dt[Nt.imageName];nr=oa.sdf,or=oa.pixelRatio,ar=1/or}const Xr=Xe?[Nt.x+cn,Nt.y]:[0,0];let ii=Xe?[0,0]:[Nt.x+cn+Se[0],Nt.y+Se[1]-er],Fa=[0,0];mr&&(Fa=ii,ii=[0,0]);const Qi=Nt.metrics.isDoubleResolution?2:1,ai=(Nt.metrics.left-ar)*Nt.scale-cn+ii[0],Yn=(-Nt.metrics.top-ar)*Nt.scale+ii[1],wn=ai+St.w/Qi*Nt.scale/or,_i=Yn+St.h/Qi*Nt.scale/or,Ci=new P(ai,Yn),Qn=new P(wn,Yn),Uo=new P(ai,_i),ka=new P(wn,_i);if(mr){const oa=new P(-cn,cn- -17),hi=-Math.PI/2,Hi=12-cn,vi=new P(22-Hi,-(Nt.imageName?Hi:0)),sa=new P(...Fa);Ci._rotateAround(hi,oa)._add(vi)._add(sa),Qn._rotateAround(hi,oa)._add(vi)._add(sa),Uo._rotateAround(hi,oa)._add(vi)._add(sa),ka._rotateAround(hi,oa)._add(vi)._add(sa)}if(Bt){const oa=Math.sin(Bt),hi=Math.cos(Bt),Hi=[hi,-oa,oa,hi];Ci._matMult(Hi),Qn._matMult(Hi),Uo._matMult(Hi),ka._matMult(Hi)}const jo=new P(0,0),y1=new P(0,0);Wt.push({tl:Ci,tr:Qn,bl:Uo,br:ka,tex:St,writingMode:_e.writingMode,glyphOffset:Xr,sectionIndex:Nt.sectionIndex,isSDF:nr,pixelOffsetTL:jo,pixelOffsetBR:y1,minFontScaleX:0,minFontScaleY:0})}return Wt})(0,r,x,c,p,m,l,n.allowVerticalPlacement),ce=n.textSizeData;let ye=null;ce.kind==="source"?(ye=[Bo*c.layout.get("text-size").evaluate(m,{})],ye[0]>Gl&&Jt(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ce.kind==="composite"&&(ye=[Bo*W.compositeTextSizes[0].evaluate(m,{},ne),Bo*W.compositeTextSizes[1].evaluate(m,{},ne)],(ye[0]>Gl||ye[1]>Gl)&&Jt(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),n.addSymbols(n.text,oe,ye,x,p,m,D,e,M.lineStartIndex,M.lineLength,Y,ne);for(const Le of L)Q[Le]=n.text.placedSymbolArray.length-1;return 4*oe.length}function hd(n){for(const e in n)return n[e];return null}function _y(n,e,r,l){const c=n.compareText;if(e in c){const p=c[e];for(let m=p.length-1;m>=0;m--)if(l.dist(p[m])<r)return!0}else c[e]=[];return c[e].push(l),!1}const dd=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Q7{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,l]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const c=l>>4;if(c!==1)throw new Error(`Got v${c} data when expected v1.`);const p=dd[15&l];if(!p)throw new Error("Unrecognized array type.");const[m]=new Uint16Array(e,2,1),[x]=new Uint32Array(e,4,1);return new Q7(x,m,p,e)}constructor(e,r=64,l=Float64Array,c){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=l,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const p=dd.indexOf(this.ArrayType),m=2*e*this.ArrayType.BYTES_PER_ELEMENT,x=e*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-x%8)%8;if(p<0)throw new Error(`Unexpected typed array class: ${l}.`);c&&c instanceof ArrayBuffer?(this.data=c,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+x+M,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+m+x+M),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+x+M,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+p]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const l=this._pos>>1;return this.ids[l]=l,this.coords[this._pos++]=e,this.coords[this._pos++]=r,l}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return H7(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,l,c){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:m,nodeSize:x}=this,M=[0,p.length-1,0],D=[];for(;M.length;){const L=M.pop()||0,Q=M.pop()||0,Y=M.pop()||0;if(Q-Y<=x){for(let ce=Y;ce<=Q;ce++){const ye=m[2*ce],Le=m[2*ce+1];ye>=e&&ye<=l&&Le>=r&&Le<=c&&D.push(p[ce])}continue}const W=Y+Q>>1,ne=m[2*W],oe=m[2*W+1];ne>=e&&ne<=l&&oe>=r&&oe<=c&&D.push(p[W]),(L===0?e<=ne:r<=oe)&&(M.push(Y),M.push(W-1),M.push(1-L)),(L===0?l>=ne:c>=oe)&&(M.push(W+1),M.push(Q),M.push(1-L))}return D}within(e,r,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:c,coords:p,nodeSize:m}=this,x=[0,c.length-1,0],M=[],D=l*l;for(;x.length;){const L=x.pop()||0,Q=x.pop()||0,Y=x.pop()||0;if(Q-Y<=m){for(let ce=Y;ce<=Q;ce++)pd(p[2*ce],p[2*ce+1],e,r)<=D&&M.push(c[ce]);continue}const W=Y+Q>>1,ne=p[2*W],oe=p[2*W+1];pd(ne,oe,e,r)<=D&&M.push(c[W]),(L===0?e-l<=ne:r-l<=oe)&&(x.push(Y),x.push(W-1),x.push(1-L)),(L===0?e+l>=ne:r+l>=oe)&&(x.push(W+1),x.push(Q),x.push(1-L))}return M}}function H7(n,e,r,l,c,p){if(c-l<=r)return;const m=l+c>>1;fd(n,e,m,l,c,p),H7(n,e,r,l,m-1,1-p),H7(n,e,r,m+1,c,1-p)}function fd(n,e,r,l,c,p){for(;c>l;){if(c-l>600){const D=c-l+1,L=r-l+1,Q=Math.log(D),Y=.5*Math.exp(2*Q/3),W=.5*Math.sqrt(Q*Y*(D-Y)/D)*(L-D/2<0?-1:1);fd(n,e,r,Math.max(l,Math.floor(r-L*Y/D+W)),Math.min(c,Math.floor(r+(D-L)*Y/D+W)),p)}const m=e[2*r+p];let x=l,M=c;for(a6(n,e,l,r),e[2*c+p]>m&&a6(n,e,l,c);x<M;){for(a6(n,e,x,M),x++,M--;e[2*x+p]<m;)x++;for(;e[2*M+p]>m;)M--}e[2*l+p]===m?a6(n,e,l,M):(M++,a6(n,e,M,c)),M<=r&&(l=M+1),r<=M&&(c=M-1)}}function a6(n,e,r,l){Z7(n,r,l),Z7(e,2*r,2*l),Z7(e,2*r+1,2*l+1)}function Z7(n,e,r){const l=n[e];n[e]=n[r],n[r]=l}function pd(n,e,r,l){const c=n-r,p=e-l;return c*c+p*p}var X7;w.cH=void 0,(X7=w.cH||(w.cH={})).create="create",X7.load="load",X7.fullLoad="fullLoad";let Rc=null,o6=[];const Y7=1e3/60,W7="loadTime",K7="fullLoadTime",vy={mark(n){performance.mark(n)},frame(n){const e=n;Rc!=null&&o6.push(e-Rc),Rc=e},clearMetrics(){Rc=null,o6=[],performance.clearMeasures(W7),performance.clearMeasures(K7);for(const n in w.cH)performance.clearMarks(w.cH[n])},getPerformanceMetrics(){performance.measure(W7,w.cH.create,w.cH.load),performance.measure(K7,w.cH.create,w.cH.fullLoad);const n=performance.getEntriesByName(W7)[0].duration,e=performance.getEntriesByName(K7)[0].duration,r=o6.length,l=1/(o6.reduce(((p,m)=>p+m),0)/r/1e3),c=o6.filter((p=>p>Y7)).reduce(((p,m)=>p+(m-Y7)/Y7),0);return{loadTime:n,fullLoadTime:e,fps:l,percentDroppedFrames:c/(r+c)*100,totalFrames:r}}};w.$=F,w.A=H,w.B=Po,w.C=Di,w.D=ir,w.E=hr,w.F=function([n,e,r]){return e+=90,e*=Math.PI/180,r*=Math.PI/180,{x:n*Math.cos(e)*Math.sin(r),y:n*Math.sin(e)*Math.sin(r),z:n*Math.cos(r)}},w.G=Gn,w.H=pn,w.I=Pn,w.J=T4,w.K=function(n){if(tr==null){const e=n.navigator?n.navigator.userAgent:null;tr=!!n.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return tr},w.L=class{constructor(n,e){this.target=n,this.mapId=e,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Tu((()=>this.process())),this.subscription=ke(this.target,"message",(r=>this.receive(r)),!1),this.globalScope=cr(self)?n:window}registerMessageHandler(n,e){this.messageHandlers[n]=e}unregisterMessageHandler(n){delete this.messageHandlers[n]}sendAsync(n,e){return new Promise(((r,l)=>{const c=Math.round(1e18*Math.random()).toString(36).substring(0,10),p=e?ke(e.signal,"abort",(()=>{p?.unsubscribe(),delete this.resolveRejects[c];const M={id:c,type:"<cancel>",origin:location.origin,targetMapId:n.targetMapId,sourceMapId:this.mapId};this.target.postMessage(M)}),O0):null;this.resolveRejects[c]={resolve:M=>{p?.unsubscribe(),r(M)},reject:M=>{p?.unsubscribe(),l(M)}};const m=[],x=Object.assign(Object.assign({},n),{id:c,sourceMapId:this.mapId,origin:location.origin,data:Ro(n.data,m)});this.target.postMessage(x,{transfer:m})}))}receive(n){const e=n.data,r=e.id;if(!(e.origin!=="file://"&&location.origin!=="file://"&&e.origin!=="resource://android"&&location.origin!=="resource://android"&&e.origin!==location.origin||e.targetMapId&&this.mapId!==e.targetMapId)){if(e.type==="<cancel>"){delete this.tasks[r];const l=this.abortControllers[r];return delete this.abortControllers[r],void(l&&l.abort())}if(cr(self)||e.mustQueue)return this.tasks[r]=e,this.taskQueue.push(r),void this.invoker.trigger();this.processTask(r,e)}}process(){if(this.taskQueue.length===0)return;const n=this.taskQueue.shift(),e=this.tasks[n];delete this.tasks[n],this.taskQueue.length>0&&this.invoker.trigger(),e&&this.processTask(n,e)}processTask(n,e){return o(this,void 0,void 0,(function*(){if(e.type==="<response>"){const c=this.resolveRejects[n];return delete this.resolveRejects[n],c?void(e.error?c.reject(Nl(e.error)):c.resolve(Nl(e.data))):void 0}if(!this.messageHandlers[e.type])return void this.completeTask(n,new Error(`Could not find a registered handler for ${e.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const r=Nl(e.data),l=new AbortController;this.abortControllers[n]=l;try{const c=yield this.messageHandlers[e.type](e.sourceMapId,r,l);this.completeTask(n,null,c)}catch(c){this.completeTask(n,c)}}))}completeTask(n,e,r){const l=[];delete this.abortControllers[n];const c={id:n,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:e?Ro(e):null,data:Ro(r,l)};this.target.postMessage(c,{transfer:l})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},w.M=ot,w.N=function(){var n=new H(16);return H!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},w.O=function(n,e,r){var l,c,p,m,x,M,D,L,Q,Y,W,ne,oe=r[0],ce=r[1],ye=r[2];return e===n?(n[12]=e[0]*oe+e[4]*ce+e[8]*ye+e[12],n[13]=e[1]*oe+e[5]*ce+e[9]*ye+e[13],n[14]=e[2]*oe+e[6]*ce+e[10]*ye+e[14],n[15]=e[3]*oe+e[7]*ce+e[11]*ye+e[15]):(c=e[1],p=e[2],m=e[3],x=e[4],M=e[5],D=e[6],L=e[7],Q=e[8],Y=e[9],W=e[10],ne=e[11],n[0]=l=e[0],n[1]=c,n[2]=p,n[3]=m,n[4]=x,n[5]=M,n[6]=D,n[7]=L,n[8]=Q,n[9]=Y,n[10]=W,n[11]=ne,n[12]=l*oe+x*ce+Q*ye+e[12],n[13]=c*oe+M*ce+Y*ye+e[13],n[14]=p*oe+D*ce+W*ye+e[14],n[15]=m*oe+L*ce+ne*ye+e[15]),n},w.P=P,w.Q=function(n,e,r){var l=r[0],c=r[1],p=r[2];return n[0]=e[0]*l,n[1]=e[1]*l,n[2]=e[2]*l,n[3]=e[3]*l,n[4]=e[4]*c,n[5]=e[5]*c,n[6]=e[6]*c,n[7]=e[7]*c,n[8]=e[8]*p,n[9]=e[9]*p,n[10]=e[10]*p,n[11]=e[11]*p,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},w.R=Ia,w.S=function(n,e,r){var l=e[0],c=e[1],p=e[2],m=e[3],x=e[4],M=e[5],D=e[6],L=e[7],Q=e[8],Y=e[9],W=e[10],ne=e[11],oe=e[12],ce=e[13],ye=e[14],Le=e[15],_e=r[0],Se=r[1],Ve=r[2],Xe=r[3];return n[0]=_e*l+Se*x+Ve*Q+Xe*oe,n[1]=_e*c+Se*M+Ve*Y+Xe*ce,n[2]=_e*p+Se*D+Ve*W+Xe*ye,n[3]=_e*m+Se*L+Ve*ne+Xe*Le,n[4]=(_e=r[4])*l+(Se=r[5])*x+(Ve=r[6])*Q+(Xe=r[7])*oe,n[5]=_e*c+Se*M+Ve*Y+Xe*ce,n[6]=_e*p+Se*D+Ve*W+Xe*ye,n[7]=_e*m+Se*L+Ve*ne+Xe*Le,n[8]=(_e=r[8])*l+(Se=r[9])*x+(Ve=r[10])*Q+(Xe=r[11])*oe,n[9]=_e*c+Se*M+Ve*Y+Xe*ce,n[10]=_e*p+Se*D+Ve*W+Xe*ye,n[11]=_e*m+Se*L+Ve*ne+Xe*Le,n[12]=(_e=r[12])*l+(Se=r[13])*x+(Ve=r[14])*Q+(Xe=r[15])*oe,n[13]=_e*c+Se*M+Ve*Y+Xe*ce,n[14]=_e*p+Se*D+Ve*W+Xe*ye,n[15]=_e*m+Se*L+Ve*ne+Xe*Le,n},w.T=tu,w.U=function(n,e){const r={};for(let l=0;l<e.length;l++){const c=e[l];c in n&&(r[c]=n[c])}return r},w.V=m1,w.W=me,w.X=F0,w.Y=hc,w.Z=Ue,w._=o,w.a=ge,w.a$=Pe,w.a0=q,w.a1=be,w.a2=xo,w.a3=fc,w.a4=Z3,w.a5=Ze,w.a6=function(n,e,r){if(!n)return e||{};if(!e)return n||{};const l=Y3(n),c=Y3(e);(function(m,x){x.removeAll&&(m.add.clear(),m.update.clear(),m.remove.clear(),x.remove.clear());for(const M of x.remove)m.add.delete(M),m.update.delete(M);for(const[M,D]of x.update){const L=m.update.get(M);L&&(x.update.set(M,z0(L,D)),m.update.delete(M))}})(l,c);const p={};if((l.removeAll||c.removeAll)&&(p.removeAll=!0),p.remove=new Set([...l.remove,...c.remove]),p.add=new Map([...l.add,...c.add]),p.update=new Map([...l.update,...c.update]),p.remove.size&&p.add.size)for(const m of p.add.keys())p.remove.delete(m);return(function(m){const x={};return m.removeAll&&(x.removeAll=m.removeAll),m.remove&&(x.remove=Array.from(m.remove)),m.add&&(x.add=Array.from(m.add.values())),m.update&&(x.update=Array.from(m.update.values())),x})(p)},w.a7=function(n,e){const r=new Map;if(n==null||n.type==null)return r;if(n.type==="Feature"){const l=X3(n,e);return l==null?void 0:(r.set(l,n),r)}if(n.type==="FeatureCollection"){const l=new Set;for(const c of n.features){const p=X3(c,e);if(p==null||l.has(p))return;l.add(p),r.set(p,c)}return r}},w.a8=function(n,e,r){var l,c;const p=[];if(e.removeAll)n.clear();else if(e.remove)for(const m of e.remove){const x=n.get(m);x&&(p.push(x.geometry),n.delete(m))}if(e.add)for(const m of e.add){const x=X3(m,r);if(x==null)continue;const M=n.get(x);M&&p.push(M.geometry),p.push(m.geometry),n.set(x,m)}if(e.update)for(const m of e.update){const x=n.get(m.id);if(!x)continue;const M=!!m.newGeometry,D=m.removeAllProperties||((l=m.removeProperties)===null||l===void 0?void 0:l.length)>0||((c=m.addOrUpdateProperties)===null||c===void 0?void 0:c.length)>0;if(!M&&!D)continue;p.push(x.geometry);const L=Object.assign({},x);if(n.set(m.id,L),M&&(p.push(m.newGeometry),L.geometry=m.newGeometry),D){if(L.properties=m.removeAllProperties?{}:Object.assign({},L.properties||{}),m.removeProperties)for(const Q of m.removeProperties)delete L.properties[Q];if(m.addOrUpdateProperties)for(const{key:Q,value:Y}of m.addOrUpdateProperties)L.properties[Q]=Y}}return p},w.a9=bn,w.aA=function(n,{uSize:e,uSizeT:r},{lowerSize:l,upperSize:c}){return n.kind==="source"?l/Bo:n.kind==="composite"?Gn.number(l/Bo,c/Bo,r):e},w.aB=function(n,e){var r=e[0],l=e[1],c=e[2],p=e[3],m=e[4],x=e[5],M=e[6],D=e[7],L=e[8],Q=e[9],Y=e[10],W=e[11],ne=e[12],oe=e[13],ce=e[14],ye=e[15],Le=r*x-l*m,_e=r*M-c*m,Se=r*D-p*m,Ve=l*M-c*x,Xe=l*D-p*x,yt=c*D-p*M,Dt=L*oe-Q*ne,Pt=L*ce-Y*ne,Bt=L*ye-W*ne,Wt=Q*ce-Y*oe,jt=Q*ye-W*oe,Nt=Y*ye-W*ce,St=Le*Nt-_e*jt+Se*Wt+Ve*Bt-Xe*Pt+yt*Dt;return St?(n[0]=(x*Nt-M*jt+D*Wt)*(St=1/St),n[1]=(c*jt-l*Nt-p*Wt)*St,n[2]=(oe*yt-ce*Xe+ye*Ve)*St,n[3]=(Y*Xe-Q*yt-W*Ve)*St,n[4]=(M*Bt-m*Nt-D*Pt)*St,n[5]=(r*Nt-c*Bt+p*Pt)*St,n[6]=(ce*Se-ne*yt-ye*_e)*St,n[7]=(L*yt-Y*Se+W*_e)*St,n[8]=(m*jt-x*Bt+D*Dt)*St,n[9]=(l*Bt-r*jt-p*Dt)*St,n[10]=(ne*Xe-oe*Se+ye*Le)*St,n[11]=(Q*Se-L*Xe-W*Le)*St,n[12]=(x*Pt-m*Wt-M*Dt)*St,n[13]=(r*Wt-l*Pt+c*Dt)*St,n[14]=(oe*_e-ne*Ve-ce*Le)*St,n[15]=(L*Ve-Q*_e+Y*Le)*St,n):null},w.aC=Te,w.aD=function(n){var e=n[0],r=n[1];return Math.sqrt(e*e+r*r)},w.aE=function(n){return n[0]=0,n[1]=0,n},w.aF=function(n,e,r){return n[0]=e[0]*r,n[1]=e[1]*r,n},w.aG=R0,w.aH=Ke,w.aI=function(n,e,r,l){const c=e.y-n.y,p=e.x-n.x,m=l.y-r.y,x=l.x-r.x,M=m*p-x*c;if(M===0)return null;const D=(x*(n.y-r.y)-m*(n.x-r.x))/M;return new P(n.x+D*p,n.y+D*c)},w.aJ=i,w.aK=L2,w.aL=function(n){let e=1/0,r=1/0,l=-1/0,c=-1/0;for(const p of n)e=Math.min(e,p.x),r=Math.min(r,p.y),l=Math.max(l,p.x),c=Math.max(c,p.y);return[e,r,l,c]},w.aM=Oi,w.aN=Ct,w.aO=function(n,e,r,l,c=!1){if(!r[0]&&!r[1])return[0,0];const p=c?l==="map"?-n.bearingInRadians:0:l==="viewport"?n.bearingInRadians:0;if(p){const m=Math.sin(p),x=Math.cos(p);r=[r[0]*x-r[1]*m,r[0]*m+r[1]*x]}return[c?r[0]:Ct(e,r[0],n.zoom),c?r[1]:Ct(e,r[1],n.zoom)]},w.aQ=vu,w.aR=i6,w.aS=E0,w.aT=Q7,w.aU=Vn,w.aV=B3,w.aW=Ae,w.aX=Yt,w.aY=bt,w.aZ=It,w.a_=k0,w.aa=ql,w.ab=25,w.ac=Wi,w.ad=n=>{const e=window.document.createElement("video");return e.muted=!0,new Promise((r=>{e.onloadstart=()=>{r(e)};for(const l of n){const c=window.document.createElement("source");Oe(l)||(e.crossOrigin="Anonymous"),c.src=l,e.appendChild(c)}}))},w.ae=Ft,w.af=function(){return ut++},w.ag=d,w.ah=Q4,w.ai=h5,w.aj=Aa,w.ak=ko,w.al=Mu,w.am=function(n){const e={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((r,l,c,p)=>{const m=c||p;return e[l]=!m||m.toLowerCase(),""})),e["max-age"]){const r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r}return e},w.an=mt,w.ao=85.051129,w.ap=it,w.aq=function(n){return Math.pow(2,n)},w.ar=fe,w.as=dc,w.at=function(n){return Math.log(n)/Math.LN2},w.au=function(n){var e=n[0],r=n[1];return e*e+r*r},w.av=function(n){if(!n.length)return new Set;const e=Math.max(...n.map((M=>M.canonical.z)));let r=1/0,l=-1/0,c=1/0,p=-1/0;const m=[];for(const M of n){const{x:D,y:L,z:Q}=M.canonical,Y=Math.pow(2,e-Q),W=D*Y,ne=L*Y;m.push({id:M,x:W,y:ne}),W<r&&(r=W),W>l&&(l=W),ne<c&&(c=ne),ne>p&&(p=ne)}const x=new Set;for(const M of m)M.x!==r&&M.x!==l&&M.y!==c&&M.y!==p||x.add(M.id);return x},w.aw=function(n,e){const r=Math.abs(2*n.wrap)-+(n.wrap<0),l=Math.abs(2*e.wrap)-+(e.wrap<0);return n.overscaledZ-e.overscaledZ||l-r||e.canonical.y-n.canonical.y||e.canonical.x-n.canonical.x},w.ax=class{constructor(n,e){this.max=n,this.onRemove=e,this.reset()}reset(){for(const n in this.data)for(const e of this.data[n])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(n,e,r){const l=n.wrapped().key;this.data[l]===void 0&&(this.data[l]=[]);const c={value:e,timeout:void 0};if(r!==void 0&&(c.timeout=setTimeout((()=>{this.remove(n,c)}),r)),this.data[l].push(c),this.order.push(l),this.order.length>this.max){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const e=this.data[n].shift();return e.timeout&&clearTimeout(e.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),e.value}getByKey(n){const e=this.data[n];return e?e[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,e){if(!this.has(n))return this;const r=n.wrapped().key,l=e===void 0?0:this.data[r].indexOf(e),c=this.data[r][l];return this.data[r].splice(l,1),c.timeout&&clearTimeout(c.timeout),this.data[r].length===0&&delete this.data[r],this.onRemove(c.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(n){const e=[];for(const r in this.data)for(const l of this.data[r])n(l.value)||e.push(l);for(const r of e)this.remove(r.value.tileID,r)}},w.ay=function(n,e){let r=0,l=0;if(n.kind==="constant")l=n.layoutSize;else if(n.kind!=="source"){const{interpolationType:c,minZoom:p,maxZoom:m}=n,x=c?mt(ga.interpolationFactor(c,e,p,m),0,1):0;n.kind==="camera"?l=Gn.number(n.minSize,n.maxSize,x):r=x}return{uSizeT:r,uSize:l}},w.b=ur,w.b$=Fo,w.b0=ee,w.b1=function(n){var e=new H(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},w.b2=function(n,e,r){return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],n},w.b3=function(n,e){var r=e[0],l=e[1],c=e[2],p=r*r+l*l+c*c;return p>0&&(p=1/Math.sqrt(p)),n[0]=e[0]*p,n[1]=e[1]*p,n[2]=e[2]*p,n},w.b4=we,w.b5=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]},w.b6=function(n,e,r){return n[0]=e[0]*r[0],n[1]=e[1]*r[1],n[2]=e[2]*r[2],n[3]=e[3]*r[3],n},w.b7=he,w.b8=function(n,e,r){const l=e[0]*r[0]+e[1]*r[1]+e[2]*r[2];return l===0?null:(-(n[0]*r[0]+n[1]*r[1]+n[2]*r[2])-r[3])/l},w.b9=et,w.bA=function(n,e,r,l){return n[0]=e[0]+r[0]*l,n[1]=e[1]+r[1]*l,n[2]=e[2]+r[2]*l,n},w.bB=Ne,w.bC=function(n,e,r){var l=r[0],c=r[1],p=r[2],m=r[3],x=e[0],M=e[1],D=e[2],L=c*D-p*M,Q=p*x-l*D,Y=l*M-c*x;return n[0]=x+m*(L+=L)+c*(Y+=Y)-p*(Q+=Q),n[1]=M+m*Q+p*L-l*Y,n[2]=D+m*Y+l*Q-c*L,n},w.bD=function(n,e,r){const l=(function(M){var D=M[3],L=M[4],Q=M[5],Y=M[6],W=M[7],ne=M[8];return M[0]*(ne*L-Q*W)+M[1]*(-ne*D+Q*Y)+M[2]*(W*D-L*Y)})([n[0],n[1],n[2],e[0],e[1],e[2],r[0],r[1],r[2]]);if(l===0)return null;const c=we([],[e[0],e[1],e[2]],[r[0],r[1],r[2]]),p=we([],[r[0],r[1],r[2]],[n[0],n[1],n[2]]),m=we([],[n[0],n[1],n[2]],[e[0],e[1],e[2]]),x=Pe([],c,-n[3]);return ee(x,x,Pe([],p,-e[3])),ee(x,x,Pe([],m,-r[3])),Pe(x,x,1/l),x},w.bE=Au,w.bF=function(){return new Float64Array(4)},w.bG=function(n,e,r,l){var c=[],p=[];return c[0]=e[0]-r[0],c[1]=e[1]-r[1],c[2]=e[2]-r[2],p[0]=c[0]*Math.cos(l)-c[1]*Math.sin(l),p[1]=c[0]*Math.sin(l)+c[1]*Math.cos(l),p[2]=c[2],n[0]=p[0]+r[0],n[1]=p[1]+r[1],n[2]=p[2]+r[2],n},w.bH=function(n,e,r,l){var c=[],p=[];return c[0]=e[0]-r[0],c[1]=e[1]-r[1],c[2]=e[2]-r[2],p[0]=c[0],p[1]=c[1]*Math.cos(l)-c[2]*Math.sin(l),p[2]=c[1]*Math.sin(l)+c[2]*Math.cos(l),n[0]=p[0]+r[0],n[1]=p[1]+r[1],n[2]=p[2]+r[2],n},w.bI=function(n,e,r,l){var c=[],p=[];return c[0]=e[0]-r[0],c[1]=e[1]-r[1],c[2]=e[2]-r[2],p[0]=c[2]*Math.sin(l)+c[0]*Math.cos(l),p[1]=c[1],p[2]=c[2]*Math.cos(l)-c[0]*Math.sin(l),n[0]=p[0]+r[0],n[1]=p[1]+r[1],n[2]=p[2]+r[2],n},w.bJ=function(n,e,r){var l=Math.sin(r),c=Math.cos(r),p=e[0],m=e[1],x=e[2],M=e[3],D=e[8],L=e[9],Q=e[10],Y=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=p*c-D*l,n[1]=m*c-L*l,n[2]=x*c-Q*l,n[3]=M*c-Y*l,n[8]=p*l+D*c,n[9]=m*l+L*c,n[10]=x*l+Q*c,n[11]=M*l+Y*c,n},w.bK=function(n,e){const r=Ie(n,360),l=Ie(e,360),c=l-r,p=l>r?c-360:c+360;return Math.abs(c)<Math.abs(p)?c:p},w.bL=function(n){return n[0]=0,n[1]=0,n[2]=0,n},w.bM=function(n,e,r,l){const c=Math.sqrt(n*n+e*e),p=Math.sqrt(r*r+l*l);n/=c,e/=c,r/=p,l/=p;const m=Math.acos(n*r+e*l);return-e*r+n*l>0?m:-m},w.bN=function(n,e){const r=Ie(n,2*Math.PI),l=Ie(e,2*Math.PI);return Math.min(Math.abs(r-l),Math.abs(r-l+2*Math.PI),Math.abs(r-l-2*Math.PI))},w.bO=function(){const n={},e=ct.$version;for(const r in ct.$root){const l=ct.$root[r];if(l.required){let c=null;c=r==="version"?e:l.type==="array"?[]:{},c!=null&&(n[r]=c)}}return n},w.bP=st,w.bQ=M4,w.bR=function n(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(let l=0;l<e.length;l++)if(!n(e[l],r[l]))return!1;return!0}if(typeof e=="object"&&e!==null&&r!==null){if(typeof r!="object"||Object.keys(e).length!==Object.keys(r).length)return!1;for(const l in e)if(!n(e[l],r[l]))return!1;return!0}return e===r},w.bS=function(n){n=n.slice();const e=Object.create(null);for(let r=0;r<n.length;r++)e[n[r].id]=n[r];for(let r=0;r<n.length;r++)"ref"in n[r]&&(n[r]=tn(n[r],e[n[r].ref]));return n},w.bT=function(n,e){if(n.type==="custom")return new D0(n,e);switch(n.type){case"background":return new sn(n,e);case"circle":return new K5(n,e);case"color-relief":return new L6(n,e);case"fill":return new q6(n,e);case"fill-extrusion":return new v0(n,e);case"heatmap":return new z6(n,e);case"hillshade":return new ni(n,e);case"line":return new x0(n,e);case"raster":return new Cs(n,e);case"symbol":return new Vl(n,e)}},w.bU=n=>n.type==="raster",w.bV=At,w.bW=function(n,e){if(!n)return[{command:"setStyle",args:[e]}];let r=[];try{if(!vr(n.version,e.version))return[{command:"setStyle",args:[e]}];vr(n.center,e.center)||r.push({command:"setCenter",args:[e.center]}),vr(n.state,e.state)||r.push({command:"setGlobalState",args:[e.state]}),vr(n.centerAltitude,e.centerAltitude)||r.push({command:"setCenterAltitude",args:[e.centerAltitude]}),vr(n.zoom,e.zoom)||r.push({command:"setZoom",args:[e.zoom]}),vr(n.bearing,e.bearing)||r.push({command:"setBearing",args:[e.bearing]}),vr(n.pitch,e.pitch)||r.push({command:"setPitch",args:[e.pitch]}),vr(n.roll,e.roll)||r.push({command:"setRoll",args:[e.roll]}),vr(n.sprite,e.sprite)||r.push({command:"setSprite",args:[e.sprite]}),vr(n.glyphs,e.glyphs)||r.push({command:"setGlyphs",args:[e.glyphs]}),vr(n.transition,e.transition)||r.push({command:"setTransition",args:[e.transition]}),vr(n.light,e.light)||r.push({command:"setLight",args:[e.light]}),vr(n.terrain,e.terrain)||r.push({command:"setTerrain",args:[e.terrain]}),vr(n.sky,e.sky)||r.push({command:"setSky",args:[e.sky]}),vr(n.projection,e.projection)||r.push({command:"setProjection",args:[e.projection]});const l={},c=[];(function(m,x,M,D){let L;for(L in x=x||{},m=m||{})Object.prototype.hasOwnProperty.call(m,L)&&(Object.prototype.hasOwnProperty.call(x,L)||Ur(L,M,D));for(L in x)Object.prototype.hasOwnProperty.call(x,L)&&(Object.prototype.hasOwnProperty.call(m,L)?vr(m[L],x[L])||(m[L].type==="geojson"&&x[L].type==="geojson"&&Zr(m,x,L)?Mr(M,{command:"setGeoJSONSourceData",args:[L,x[L].data]}):zr(L,x,M,D)):Kr(L,x,M))})(n.sources,e.sources,c,l);const p=[];n.layers&&n.layers.forEach((m=>{"source"in m&&l[m.source]?r.push({command:"removeLayer",args:[m.id]}):p.push(m)})),r=r.concat(c),(function(m,x,M){x=x||[];const D=(m=m||[]).map(ua),L=x.map(ua),Q=m.reduce(Fi,{}),Y=x.reduce(Fi,{}),W=D.slice(),ne=Object.create(null);let oe,ce,ye,Le,_e;for(let Se=0,Ve=0;Se<D.length;Se++)oe=D[Se],Object.prototype.hasOwnProperty.call(Y,oe)?Ve++:(Mr(M,{command:"removeLayer",args:[oe]}),W.splice(W.indexOf(oe,Ve),1));for(let Se=0,Ve=0;Se<L.length;Se++)oe=L[L.length-1-Se],W[W.length-1-Se]!==oe&&(Object.prototype.hasOwnProperty.call(Q,oe)?(Mr(M,{command:"removeLayer",args:[oe]}),W.splice(W.lastIndexOf(oe,W.length-Ve),1)):Ve++,Le=W[W.length-Se],Mr(M,{command:"addLayer",args:[Y[oe],Le]}),W.splice(W.length-Se,0,oe),ne[oe]=!0);for(let Se=0;Se<L.length;Se++)if(oe=L[Se],ce=Q[oe],ye=Y[oe],!ne[oe]&&!vr(ce,ye))if(vr(ce.source,ye.source)&&vr(ce["source-layer"],ye["source-layer"])&&vr(ce.type,ye.type)){for(_e in Pr(ce.layout,ye.layout,M,oe,null,"setLayoutProperty"),Pr(ce.paint,ye.paint,M,oe,null,"setPaintProperty"),vr(ce.filter,ye.filter)||Mr(M,{command:"setFilter",args:[oe,ye.filter]}),vr(ce.minzoom,ye.minzoom)&&vr(ce.maxzoom,ye.maxzoom)||Mr(M,{command:"setLayerZoomRange",args:[oe,ye.minzoom,ye.maxzoom]}),ce)Object.prototype.hasOwnProperty.call(ce,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?Pr(ce[_e],ye[_e],M,oe,_e.slice(6),"setPaintProperty"):vr(ce[_e],ye[_e])||Mr(M,{command:"setLayerProperty",args:[oe,_e,ye[_e]]}));for(_e in ye)Object.prototype.hasOwnProperty.call(ye,_e)&&!Object.prototype.hasOwnProperty.call(ce,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?Pr(ce[_e],ye[_e],M,oe,_e.slice(6),"setPaintProperty"):vr(ce[_e],ye[_e])||Mr(M,{command:"setLayerProperty",args:[oe,_e,ye[_e]]}))}else Mr(M,{command:"removeLayer",args:[oe]}),Le=W[W.lastIndexOf(oe)+1],Mr(M,{command:"addLayer",args:[ye,Le]})})(p,e.layers,r)}catch(l){console.warn("Unable to compute style diff:",l),r=[{command:"setStyle",args:[e]}]}return r},w.bX=function(n){const e=[],r=n.id;return r===void 0&&e.push({message:`layers.${r}: missing required property "id"`}),n.render===void 0&&e.push({message:`layers.${r}: missing required method "render"`}),n.renderingMode&&n.renderingMode!=="2d"&&n.renderingMode!=="3d"&&e.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),e},w.bY=qe,w.bZ=Et,w.b_=class extends Pa{constructor(n,e){super(n,e),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},w.ba=function(n,e,r){return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n},w.bb=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]},w.bc=pc,w.bd=Z4,w.be=function(n,e,r,l,c){var p=1/Math.tan(e/2);if(n[0]=p/r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=p,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,c!=null&&c!==1/0){var m=1/(l-c);n[10]=(c+l)*m,n[14]=2*c*l*m}else n[10]=-1,n[14]=-2*l;return n},w.bf=function(n){var e=new H(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},w.bg=function(n,e,r){var l=Math.sin(r),c=Math.cos(r),p=e[0],m=e[1],x=e[2],M=e[3],D=e[4],L=e[5],Q=e[6],Y=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=p*c+D*l,n[1]=m*c+L*l,n[2]=x*c+Q*l,n[3]=M*c+Y*l,n[4]=D*c-p*l,n[5]=L*c-m*l,n[6]=Q*c-x*l,n[7]=Y*c-M*l,n},w.bh=function(n,e,r){var l=Math.sin(r),c=Math.cos(r),p=e[4],m=e[5],x=e[6],M=e[7],D=e[8],L=e[9],Q=e[10],Y=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=p*c+D*l,n[5]=m*c+L*l,n[6]=x*c+Q*l,n[7]=M*c+Y*l,n[8]=D*c-p*l,n[9]=L*c-m*l,n[10]=Q*c-x*l,n[11]=Y*c-M*l,n},w.bi=function(){const n=new Float32Array(16);return fe(n),n},w.bj=function(){const n=new Float64Array(16);return fe(n),n},w.bk=function(){return new Float64Array(16)},w.bl=function(n,e,r){const l=new Float64Array(4);return Ne(l,n,e-90,r),l},w.bm=function(n,e,r,l){var c,p,m,x,M,D=e[0],L=e[1],Q=e[2],Y=e[3],W=r[0],ne=r[1],oe=r[2],ce=r[3];return(p=D*W+L*ne+Q*oe+Y*ce)<0&&(p=-p,W=-W,ne=-ne,oe=-oe,ce=-ce),1-p>V?(c=Math.acos(p),m=Math.sin(c),x=Math.sin((1-l)*c)/m,M=Math.sin(l*c)/m):(x=1-l,M=l),n[0]=x*D+M*W,n[1]=x*L+M*ne,n[2]=x*Q+M*oe,n[3]=x*Y+M*ce,n},w.bn=function(n){const e=new Float64Array(9);(function(p,m){var x=m[0],M=m[1],D=m[2],L=m[3],Q=x+x,Y=M+M,W=D+D,ne=x*Q,oe=M*Q,ce=M*Y,ye=D*Q,Le=D*Y,_e=D*W,Se=L*Q,Ve=L*Y,Xe=L*W;p[0]=1-ce-_e,p[3]=oe-Xe,p[6]=ye+Ve,p[1]=oe+Xe,p[4]=1-ne-_e,p[7]=Le-Se,p[2]=ye-Ve,p[5]=Le+Se,p[8]=1-ne-ce})(e,n);const r=It(-Math.asin(mt(e[2],-1,1)));let l,c;return Math.hypot(e[5],e[8])<.001?(l=0,c=-It(Math.atan2(e[3],e[4]))):(l=It(e[5]===0&&e[8]===0?0:Math.atan2(e[5],e[8])),c=It(e[1]===0&&e[0]===0?0:Math.atan2(e[1],e[0]))),{roll:l,pitch:r+90,bearing:c}},w.bo=function(n,e){return n.roll==e.roll&&n.pitch==e.pitch&&n.bearing==e.bearing},w.bp=Dr,w.bq=q1,w.br=yo,w.bs=Ds,w.bt=Yi,w.bu=rt,w.bv=dt,w.bw=Ii,w.bx=function(n,e,r,l,c){return rt(l,c,mt((n-e)/(r-e),0,1))},w.by=Ie,w.bz=function(){return new Float64Array(3)},w.c=De,w.c$=function(n,e,r,l,c){return o(this,void 0,void 0,(function*(){if(q())try{return yield be(n,e,r,l,c)}catch{}return(function(p,m,x,M,D){const L=p.width,Q=p.height;te&&ie||(te=new OffscreenCanvas(L,Q),ie=te.getContext("2d",{willReadFrequently:!0})),te.width=L,te.height=Q,ie.drawImage(p,0,0,L,Q);const Y=ie.getImageData(m,x,M,D);return ie.clearRect(0,0,L,Q),Y.data})(n,e,r,l,c)}))},w.c0=class extends Pa{constructor(n,e){super(n,e),this.current=Ra}set(n){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}},w.c1=zl,w.c2=class extends Pa{constructor(n,e){super(n,e),this.current=[0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2]))}},w.c3=class extends Pa{constructor(n,e){super(n,e),this.current=[0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1]))}},w.c4=X,w.c5=function(n,e){var r=Math.sin(e),l=Math.cos(e);return n[0]=l,n[1]=r,n[2]=0,n[3]=-r,n[4]=l,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},w.c6=function(n,e,r){var l=e[0],c=e[1],p=e[2];return n[0]=l*r[0]+c*r[3]+p*r[6],n[1]=l*r[1]+c*r[4]+p*r[7],n[2]=l*r[2]+c*r[5]+p*r[8],n},w.c7=function(n,e,r,l,c,p,m){var x=1/(e-r),M=1/(l-c),D=1/(p-m);return n[0]=-2*x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*M,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*D,n[11]=0,n[12]=(e+r)*x,n[13]=(c+l)*M,n[14]=(m+p)*D,n[15]=1,n},w.c8=class extends Pa{constructor(n,e){super(n,e),this.current=new Array}set(n){if(n!=this.current){this.current=n;const e=new Float32Array(4*n.length);for(let r=0;r<n.length;r++)e[4*r]=n[r].r,e[4*r+1]=n[r].g,e[4*r+2]=n[r].b,e[4*r+3]=n[r].a;this.gl.uniform4fv(this.location,e)}}},w.c9=class extends Pa{constructor(n,e){super(n,e),this.current=new Array}set(n){if(n!=this.current){this.current=n;const e=new Float32Array(n);this.gl.uniform1fv(this.location,e)}}},w.cA=function(n,e){return Re[e]&&"touches"in n},w.cB=function(n){return Re[n]||le[n]},w.cC=function(n,e,r){var l=e[0],c=e[1];return n[0]=r[0]*l+r[4]*c+r[12],n[1]=r[1]*l+r[5]*c+r[13],n},w.cD=function(n,e){const{x:r,y:l}=bn.fromLngLat(e);return!(n<0||n>25||l<0||l>=1||r<0||r>=1)},w.cE=function(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},w.cF=class extends U1{},w.cG=vy,w.cI=Ye,w.cJ=function(n,e){De.REGISTERED_PROTOCOLS[n]=e},w.cK=function(n){delete De.REGISTERED_PROTOCOLS[n]},w.cL=function(n,e){const r={};for(let c=0;c<n.length;c++){const p=e&&e[n[c].id]||xs(n[c]);e&&(e[n[c].id]=p);let m=r[p];m||(m=r[p]=[]),m.push(n[c])}const l=[];for(const c in r)l.push(r[c]);return l},w.cM=rr,w.cN=B0,w.cO=n6,w.cP=gu,w.cQ=function(n){n.bucket.createArrays(),n.bucket.tilePixelRatio=Ze/(512*n.bucket.overscaling),n.bucket.compareText={},n.bucket.iconsNeedLinear=!1;const e=n.bucket.layers[0],r=e.layout,l=e._unevaluatedLayout._values,c={layoutIconSize:l["icon-size"].possiblyEvaluate(new pn(n.bucket.zoom+1),n.canonical),layoutTextSize:l["text-size"].possiblyEvaluate(new pn(n.bucket.zoom+1),n.canonical),textMaxSize:l["text-size"].possiblyEvaluate(new pn(18))};if(n.bucket.textSizeData.kind==="composite"){const{minZoom:D,maxZoom:L}=n.bucket.textSizeData;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new pn(D),n.canonical),l["text-size"].possiblyEvaluate(new pn(L),n.canonical)]}if(n.bucket.iconSizeData.kind==="composite"){const{minZoom:D,maxZoom:L}=n.bucket.iconSizeData;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new pn(D),n.canonical),l["icon-size"].possiblyEvaluate(new pn(L),n.canonical)]}const p=r.get("text-line-height")*Oi,m=r.get("text-rotation-alignment")!=="viewport"&&r.get("symbol-placement")!=="point",x=r.get("text-keep-upright"),M=r.get("text-size");for(const D of n.bucket.features){const L=r.get("text-font").evaluate(D,{},n.canonical).join(","),Q=M.evaluate(D,{},n.canonical),Y=c.layoutTextSize.evaluate(D,{},n.canonical),W=c.layoutIconSize.evaluate(D,{},n.canonical),ne={horizontal:{},vertical:void 0},oe=D.text;let ce,ye=[0,0];if(oe){const Se=oe.toString(),Ve=r.get("text-letter-spacing").evaluate(D,{},n.canonical)*Oi,Xe=C4(Se)?Ve:0,yt=r.get("text-anchor").evaluate(D,{},n.canonical),Dt=il(e,D,n.canonical);if(!Dt){const jt=r.get("text-radial-offset").evaluate(D,{},n.canonical);ye=jt?gn(yt,[jt*Oi,nn]):r.get("text-offset").evaluate(D,{},n.canonical).map((Nt=>Nt*Oi))}let Pt=m?"center":r.get("text-justify").evaluate(D,{},n.canonical);const Bt=r.get("symbol-placement")==="point"?r.get("text-max-width").evaluate(D,{},n.canonical)*Oi:1/0,Wt=()=>{n.bucket.allowVerticalPlacement&&is(Se)&&(ne.vertical=$3(oe,n.glyphMap,n.glyphPositions,n.imagePositions,L,Bt,p,yt,"left",Xe,ye,w.az.vertical,!0,Y,Q))};if(!m&&Dt){const jt=new Set;if(Pt==="auto")for(let St=0;St<Dt.values.length;St+=2)jt.add(i6(Dt.values[St]));else jt.add(Pt);let Nt=!1;for(const St of jt)if(!ne.horizontal[St])if(Nt)ne.horizontal[St]=ne.horizontal[0];else{const ar=$3(oe,n.glyphMap,n.glyphPositions,n.imagePositions,L,Bt,p,"center",St,Xe,ye,w.az.horizontal,!1,Y,Q);ar&&(ne.horizontal[St]=ar,Nt=ar.positionedLines.length===1)}Wt()}else{Pt==="auto"&&(Pt=i6(yt));const jt=$3(oe,n.glyphMap,n.glyphPositions,n.imagePositions,L,Bt,p,yt,Pt,Xe,ye,w.az.horizontal,!1,Y,Q);jt&&(ne.horizontal[Pt]=jt),Wt(),is(Se)&&m&&x&&(ne.vertical=$3(oe,n.glyphMap,n.glyphPositions,n.imagePositions,L,Bt,p,yt,Pt,Xe,ye,w.az.vertical,!1,Y,Q))}}let Le=!1;if(D.icon&&D.icon.name){const Se=n.imageMap[D.icon.name];Se&&(ce=C0(n.imagePositions[D.icon.name],r.get("icon-offset").evaluate(D,{},n.canonical),r.get("icon-anchor").evaluate(D,{},n.canonical)),Le=!!Se.sdf,n.bucket.sdfIcons===void 0?n.bucket.sdfIcons=Le:n.bucket.sdfIcons!==Le&&Jt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Se.pixelRatio!==n.bucket.pixelRatio||r.get("icon-rotate").constantOr(1)!==0)&&(n.bucket.iconsNeedLinear=!0))}const _e=hd(ne.horizontal)||ne.vertical;n.bucket.iconsInText=!!_e&&_e.iconsInText,(_e||ce)&&yy(n.bucket,D,ne,ce,n.imageMap,c,Y,W,ye,Le,n.canonical,n.subdivisionGranularity)}n.showCollisionBoxes&&n.bucket.generateCollisionDebugBuffers()},w.cR=j2,w.cS=Ll,w.cT=L4,w.cU=function(n){const e=new fu;return(function(r,l){for(const c in r.layers)l.writeMessage(3,Lu,r.layers[c])})(n,e),e.finish()},w.cV=function(n,e,r,l,c,p){let m=s(n,e,r,c,0);return m=s(m,e,l,p,1),m},w.cW=class{constructor(n){this.maxEntries=n,this.map=new Map}get(n){const e=this.map.get(n);return e!==void 0&&(this.map.delete(n),this.map.set(n,e)),e}set(n,e){if(this.map.has(n))this.map.delete(n);else if(this.map.size>=this.maxEntries){const r=this.map.keys().next().value;this.map.delete(r)}this.map.set(n,e)}clear(){this.map.clear()}},w.cX=on,w.cY=fu,w.cZ=c5,w.c_=class{constructor(n){this._marks={start:[n.url,"start"].join("#"),end:[n.url,"end"].join("#"),measure:n.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let n=performance.getEntriesByName(this._marks.measure);return n.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),n=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),n}},w.ca=class extends Rs{},w.cb=X6,w.cc=class extends qn{},w.cd=R3,w.ce=function(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},w.cf=f1,w.cg=function(n,e,r){var l=e[0],c=e[1],p=e[2],m=r[3]*l+r[7]*c+r[11]*p+r[15];return n[0]=(r[0]*l+r[4]*c+r[8]*p+r[12])/(m=m||1),n[1]=(r[1]*l+r[5]*c+r[9]*p+r[13])/m,n[2]=(r[2]*l+r[6]*c+r[10]*p+r[14])/m,n},w.ch=class extends j1{},w.ci=class extends t{},w.cj=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]},w.ck=function(n,e){var r=n[0],l=n[1],c=n[2],p=n[3],m=n[4],x=n[5],M=n[6],D=n[7],L=n[8],Q=n[9],Y=n[10],W=n[11],ne=n[12],oe=n[13],ce=n[14],ye=n[15],Le=e[0],_e=e[1],Se=e[2],Ve=e[3],Xe=e[4],yt=e[5],Dt=e[6],Pt=e[7],Bt=e[8],Wt=e[9],jt=e[10],Nt=e[11],St=e[12],ar=e[13],nr=e[14],or=e[15];return Math.abs(r-Le)<=V*Math.max(1,Math.abs(r),Math.abs(Le))&&Math.abs(l-_e)<=V*Math.max(1,Math.abs(l),Math.abs(_e))&&Math.abs(c-Se)<=V*Math.max(1,Math.abs(c),Math.abs(Se))&&Math.abs(p-Ve)<=V*Math.max(1,Math.abs(p),Math.abs(Ve))&&Math.abs(m-Xe)<=V*Math.max(1,Math.abs(m),Math.abs(Xe))&&Math.abs(x-yt)<=V*Math.max(1,Math.abs(x),Math.abs(yt))&&Math.abs(M-Dt)<=V*Math.max(1,Math.abs(M),Math.abs(Dt))&&Math.abs(D-Pt)<=V*Math.max(1,Math.abs(D),Math.abs(Pt))&&Math.abs(L-Bt)<=V*Math.max(1,Math.abs(L),Math.abs(Bt))&&Math.abs(Q-Wt)<=V*Math.max(1,Math.abs(Q),Math.abs(Wt))&&Math.abs(Y-jt)<=V*Math.max(1,Math.abs(Y),Math.abs(jt))&&Math.abs(W-Nt)<=V*Math.max(1,Math.abs(W),Math.abs(Nt))&&Math.abs(ne-St)<=V*Math.max(1,Math.abs(ne),Math.abs(St))&&Math.abs(oe-ar)<=V*Math.max(1,Math.abs(oe),Math.abs(ar))&&Math.abs(ce-nr)<=V*Math.max(1,Math.abs(ce),Math.abs(nr))&&Math.abs(ye-or)<=V*Math.max(1,Math.abs(ye),Math.abs(or))},w.cl=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},w.cm=n=>n.type==="symbol",w.cn=n=>n.type==="circle",w.co=n=>n.type==="heatmap",w.cp=n=>n.type==="line",w.cq=n=>n.type==="fill",w.cr=n=>n.type==="fill-extrusion",w.cs=n=>n.type==="hillshade",w.ct=n=>n.type==="color-relief",w.cu=n=>n.type==="background",w.cv=n=>n.type==="custom",w.cw=$e,w.cx=function(n,e,r){const l=lt(e.x-r.x,e.y-r.y),c=lt(n.x-r.x,n.y-r.y),p=Math.atan2(l[0]*c[1]-l[1]*c[0],(function(m,x){return m[0]*x[0]+m[1]*x[1]})(l,c));return It(p)},w.cy=ft,w.cz=function(n,e){return le[e]&&(n instanceof MouseEvent||n instanceof WheelEvent)},w.d=Oe,w.d0=F4,w.d1=N,w.d2=class{constructor(n,e){this.layers={[h5]:this},this.name=h5,this.version=e?e.version:1,this.extent=e?e.extent:4096,this.length=n.length,this.features=n}feature(n){return new Mc(this.features[n],this.extent)}},w.d3=Ml,w.d4=co,w.e=ue,w.f=n=>o(void 0,void 0,void 0,(function*(){if(n.byteLength===0)return createImageBitmap(new ImageData(1,1));const e=new Blob([new Uint8Array(n)],{type:"image/png"});try{return createImageBitmap(e)}catch(r){throw new Error(`Could not load image because of ${r.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),w.g=ht,w.h=n=>new Promise(((e,r)=>{const l=new Image;l.onload=()=>{e(l),URL.revokeObjectURL(l.src),l.onload=null,window.requestAnimationFrame((()=>{l.src=Hr}))},l.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const c=new Blob([new Uint8Array(n)],{type:"image/png"});l.src=n.byteLength?URL.createObjectURL(c):Hr})),w.i=cr,w.j=(n,e)=>Me(ue(n,{type:"json"}),e),w.k=Xt,w.l=Qt,w.m=Me,w.n=(n,e)=>Me(ue(n,{type:"arrayBuffer"}),e),w.o=function(n){return new fu(n).readFields(ic,[])},w.p=A0,w.q=function(n){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(n))},w.r=P3,w.s=ke,w.t=ui,w.u=ct,w.v=A2,w.w=Jt,w.x=R4,w.y=Co,w.z=Ms})),S("worker",["./shared"],(function(w){class o{constructor(le,de){this.keyCache={},le&&this.replace(le,de)}replace(le,de){this._layerConfigs={},this._layers={},this.update(le,[],de)}update(le,de,ge){for(const De of le){this._layerConfigs[De.id]=De;const ht=this._layers[De.id]=w.bT(De,ge);ht._featureFilter=w.aj(ht.filter,ge),this.keyCache[De.id]&&delete this.keyCache[De.id]}for(const De of de)delete this.keyCache[De],delete this._layerConfigs[De],delete this._layers[De];this.familiesBySource={};const Ue=w.cL(Object.values(this._layerConfigs),this.keyCache);for(const De of Ue){const ht=De.map((Ot=>this._layers[Ot.id])),ot=ht[0];if(ot.isHidden())continue;const Ye=ot.source||"";let st=this.familiesBySource[Ye];st||(st=this.familiesBySource[Ye]={});const Me=ot.sourceLayer||w.ai;let Oe=st[Me];Oe||(Oe=st[Me]=[]),Oe.push(ht)}}}class P{constructor(le){const de={},ge=[];for(const ot in le){const Ye=le[ot],st=de[ot]={};for(const Me in Ye){const Oe=Ye[+Me];if(!Oe||Oe.bitmap.width===0||Oe.bitmap.height===0)continue;const Ot={x:0,y:0,w:Oe.bitmap.width+2,h:Oe.bitmap.height+2};ge.push(Ot),st[Me]={rect:Ot,metrics:Oe.metrics}}}const{w:Ue,h:De}=w.p(ge),ht=new w.r({width:Ue||1,height:De||1});for(const ot in le){const Ye=le[ot];for(const st in Ye){const Me=Ye[+st];if(!Me||Me.bitmap.width===0||Me.bitmap.height===0)continue;const Oe=de[ot][st].rect;w.r.copy(Me.bitmap,ht,{x:0,y:0},{x:Oe.x+1,y:Oe.y+1},Me.bitmap)}}this.image=ht,this.positions=de}}w.cM("GlyphAtlas",P);class N{constructor(le){this.tileID=new w.a2(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.uid=le.uid,this.zoom=le.zoom,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.collectResourceTiming,this.returnDependencies=!!le.returnDependencies,this.promoteId=le.promoteId,this.inFlightDependencies=[]}parse(le,de,ge,Ue,De){return w._(this,void 0,void 0,(function*(){this.status="parsing",this.data=le,this.collisionBoxArray=new w.ag;const ht=new w.cN(Object.keys(le.layers).sort()),ot=new w.cO(this.tileID,this.promoteId);ot.bucketLayerIDs=[];const Ye={},st={featureIndex:ot,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:ge,subdivisionGranularity:De},Me=de.familiesBySource[this.source];for(const Zr in Me){const Pr=le.layers[Zr];if(!Pr)continue;Pr.version===1&&w.w(`Vector tile source "${this.source}" layer "${Zr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ua=ht.encode(Zr),Fi=[];for(let Ft=0;Ft<Pr.length;Ft++){const Nn=Pr.feature(Ft),Fn=ot.getId(Nn,Zr);Fi.push({feature:Nn,id:Fn,index:Ft,sourceLayerIndex:ua})}for(const Ft of Me[Zr]){const Nn=Ft[0];Nn.source!==this.source&&w.w(`layer.source = ${Nn.source} does not equal this.source = ${this.source}`),Nn.isHidden(this.zoom,!0)||(z(Ft,this.zoom,ge),(Ye[Nn.id]=Nn.createBucket({index:ot.bucketLayerIDs.length,layers:Ft,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ua,sourceID:this.source})).populate(Fi,st,this.tileID.canonical),ot.bucketLayerIDs.push(Ft.map((Fn=>Fn.id))))}}const Oe=w.bY(st.glyphDependencies,(Zr=>Object.keys(Zr).map(Number)));this.inFlightDependencies.forEach((Zr=>Zr?.abort())),this.inFlightDependencies=[];let Ot=Promise.resolve({});if(Object.keys(Oe).length){const Zr=new AbortController;this.inFlightDependencies.push(Zr),Ot=Ue.sendAsync({type:"GG",data:{stacks:Oe,source:this.source,tileID:this.tileID,type:"glyphs"}},Zr)}const $t=Object.keys(st.iconDependencies);let Qt=Promise.resolve({});if($t.length){const Zr=new AbortController;this.inFlightDependencies.push(Zr),Qt=Ue.sendAsync({type:"GI",data:{icons:$t,source:this.source,tileID:this.tileID,type:"icons"}},Zr)}const Xt=Object.keys(st.patternDependencies);let hr=Promise.resolve({});if(Xt.length){const Zr=new AbortController;this.inFlightDependencies.push(Zr),hr=Ue.sendAsync({type:"GI",data:{icons:Xt,source:this.source,tileID:this.tileID,type:"patterns"}},Zr)}const ct=st.dashDependencies;let gr=Promise.resolve({});if(Object.keys(ct).length){const Zr=new AbortController;this.inFlightDependencies.push(Zr),gr=Ue.sendAsync({type:"GDA",data:{dashes:ct}},Zr)}const[tn,vr,Mr,Kr]=yield Promise.all([Ot,Qt,hr,gr]),Ur=new P(tn),zr=new w.cP(vr,Mr);for(const Zr in Ye){const Pr=Ye[Zr];Pr instanceof w.ah?(z(Pr.layers,this.zoom,ge),w.cQ({bucket:Pr,glyphMap:tn,glyphPositions:Ur.positions,imageMap:vr,imagePositions:zr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:st.subdivisionGranularity})):Pr.hasDependencies&&(Pr instanceof w.cR||Pr instanceof w.cS||Pr instanceof w.cT)&&(z(Pr.layers,this.zoom,ge),Pr.addFeatures(st,this.tileID.canonical,zr.patternPositions,Kr))}return this.status="done",{buckets:Object.values(Ye).filter((Zr=>!Zr.isEmpty())),featureIndex:ot,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ur.image,imageAtlas:zr,dashPositions:Kr,glyphMap:this.returnDependencies?tn:null,iconMap:this.returnDependencies?vr:null,glyphPositions:this.returnDependencies?Ur.positions:null}}))}}function z(Re,le,de){const ge=new w.H(le);for(const Ue of Re)Ue.recalculate(ge,de)}class C{constructor(le,de,ge,Ue,De){this.type=le,this.properties=ge||{},this.extent=De,this.pointsArray=de,this.id=Ue}loadGeometry(){return this.pointsArray.map((le=>le.map((de=>new w.P(de.x,de.y)))))}}class O{constructor(le,de,ge){this.version=2,this._myFeatures=le,this.name=de,this.length=le.length,this.extent=ge}feature(le){return this._myFeatures[le]}}class U{constructor(){this.layers={}}addLayer(le){this.layers[le.name]=le}}function G(Re){let le=w.cU(Re);return le.byteOffset===0&&le.byteLength===le.buffer.byteLength||(le=new Uint8Array(le)),{vectorTile:Re,rawData:le.buffer}}function j(Re,le,de){const{extent:ge}=Re,Ue=Math.pow(2,de.z-le.z),De=(de.x-le.x*Ue)*ge,ht=(de.y-le.y*Ue)*ge,ot=[];for(let Ye=0;Ye<Re.length;Ye++){const st=Re.feature(Ye);let Me=st.loadGeometry();for(const Ot of Me)for(const $t of Ot)$t.x=$t.x*Ue-De,$t.y=$t.y*Ue-ht;const Oe=128;Me=w.cV(Me,st.type,-Oe,-Oe,ge+Oe,ge+Oe),Me.length!==0&&ot.push(new C(st.type,Me,st.properties,st.id,ge))}return new O(ot,Re.name,ge)}class F{constructor(le,de,ge){this.actor=le,this.layerIndex=de,this.availableImages=ge,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new w.cW(1e3)}loadVectorTile(le,de){return w._(this,void 0,void 0,(function*(){const ge=yield w.n(le.request,de);try{return{vectorTile:le.encoding!=="mlt"?new w.cX(new w.cY(ge.data)):new w.cZ(ge.data),rawData:ge.data,cacheControl:ge.cacheControl,expires:ge.expires}}catch(Ue){const De=new Uint8Array(ge.data);let ht=`Unable to parse the tile at ${le.request.url}, `;throw ht+=De[0]===31&&De[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ue.message}`,new Error(ht)}}))}loadTile(le){return w._(this,void 0,void 0,(function*(){const{uid:de,overzoomParameters:ge}=le;ge&&(le.request=ge.overzoomRequest);const Ue=!!(le&&le.request&&le.request.collectResourceTiming)&&new w.c_(le.request),De=new N(le);this.loading[de]=De;const ht=new AbortController;De.abort=ht;try{const ot=yield this.loadVectorTile(le,ht);if(delete this.loading[de],!ot)return null;if(ge){const Ot=this._getOverzoomTile(le,ot.vectorTile);ot.rawData=Ot.rawData,ot.vectorTile=Ot.vectorTile}const Ye=ot.rawData,st={};ot.expires&&(st.expires=ot.expires),ot.cacheControl&&(st.cacheControl=ot.cacheControl);const Me={};if(Ue){const Ot=Ue.finish();Ot&&(Me.resourceTiming=JSON.parse(JSON.stringify(Ot)))}De.vectorTile=ot.vectorTile;const Oe=De.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);this.loaded[de]=De,this.fetching[de]={rawTileData:Ye,cacheControl:st,resourceTiming:Me};try{const Ot=yield Oe;return w.e({rawTileData:Ye.slice(0),encoding:le.encoding},Ot,st,Me)}finally{delete this.fetching[de]}}catch(ot){throw delete this.loading[de],De.status="done",this.loaded[de]=De,ot}}))}_getOverzoomTile(le,de){const{tileID:ge,source:Ue,overzoomParameters:De}=le,{maxZoomTileID:ht}=De,ot=`${ht.key}_${ge.key}`,Ye=this.overzoomedTileResultCache.get(ot);if(Ye)return Ye;const st=new U,Me=this.layerIndex.familiesBySource[Ue];for(const Ot in Me){const $t=de.layers[Ot];if(!$t)continue;const Qt=j($t,ht,ge.canonical);Qt.length>0&&st.addLayer(Qt)}const Oe=G(st);return this.overzoomedTileResultCache.set(ot,Oe),Oe}reloadTile(le){return w._(this,void 0,void 0,(function*(){const de=le.uid;if(!this.loaded||!this.loaded[de])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ge=this.loaded[de];if(ge.showCollisionBoxes=le.showCollisionBoxes,ge.status==="parsing"){const Ue=yield ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);let De;if(this.fetching[de]){const{rawTileData:ht,cacheControl:ot,resourceTiming:Ye}=this.fetching[de];delete this.fetching[de],De=w.e({rawTileData:ht.slice(0),encoding:le.encoding},Ue,ot,Ye)}else De=Ue;return De}if(ge.status==="done"&&ge.vectorTile)return ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity)}))}abortTile(le){return w._(this,void 0,void 0,(function*(){const de=this.loading,ge=le.uid;de&&de[ge]&&de[ge].abort&&(de[ge].abort.abort(),delete de[ge])}))}removeTile(le){return w._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[le.uid]&&delete this.loaded[le.uid]}))}}class q{constructor(){this.loaded={}}loadTile(le){return w._(this,void 0,void 0,(function*(){const{uid:de,encoding:ge,rawImageData:Ue,redFactor:De,greenFactor:ht,blueFactor:ot,baseShift:Ye}=le,st=Ue.width+2,Me=Ue.height+2,Oe=w.b(Ue)?new w.R({width:st,height:Me},yield w.c$(Ue,-1,-1,st,Me)):Ue,Ot=new w.d0(de,Oe,ge,De,ht,ot,Ye);return this.loaded=this.loaded||{},this.loaded[de]=Ot,Ot}))}removeTile(le){const de=this.loaded,ge=le.uid;de&&de[ge]&&delete de[ge]}}var V,H,X=(function(){if(H)return V;function Re(de,ge){if(de.length!==0){le(de[0],ge);for(var Ue=1;Ue<de.length;Ue++)le(de[Ue],!ge)}}function le(de,ge){for(var Ue=0,De=0,ht=0,ot=de.length,Ye=ot-1;ht<ot;Ye=ht++){var st=(de[ht][0]-de[Ye][0])*(de[Ye][1]+de[ht][1]),Me=Ue+st;De+=Math.abs(Ue)>=Math.abs(st)?Ue-Me+st:st-Me+Ue,Ue=Me}Ue+De>=0!=!!ge&&de.reverse()}return H=1,V=function de(ge,Ue){var De,ht=ge&&ge.type;if(ht==="FeatureCollection")for(De=0;De<ge.features.length;De++)de(ge.features[De],Ue);else if(ht==="GeometryCollection")for(De=0;De<ge.geometries.length;De++)de(ge.geometries[De],Ue);else if(ht==="Feature")de(ge.geometry,Ue);else if(ht==="Polygon")Re(ge.coordinates,Ue);else if(ht==="MultiPolygon")for(De=0;De<ge.coordinates.length;De++)Re(ge.coordinates[De],Ue);return ge}})(),fe=w.d1(X);const ae={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},he=Math.fround||(xe=new Float32Array(1),Re=>(xe[0]=+Re,xe[0]));var xe;class ee{constructor(le){this.options=Object.assign(Object.create(ae),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:de,minZoom:ge,maxZoom:Ue}=this.options;de&&console.time("total time");const De=`prepare ${le.length} points`;de&&console.time(De),this.points=le;const ht=[];for(let Ye=0;Ye<le.length;Ye++){const st=le[Ye];if(!st.geometry)continue;const[Me,Oe]=st.geometry.coordinates,Ot=he(Fe(Me)),$t=he(et(Oe));ht.push(Ot,$t,1/0,Ye,-1,1),this.options.reduce&&ht.push(0)}let ot=this.trees[Ue+1]=this._createTree(ht);de&&console.timeEnd(De);for(let Ye=Ue;Ye>=ge;Ye--){const st=+Date.now();ot=this.trees[Ye]=this._createTree(this._cluster(ot,Ye)),de&&console.log("z%d: %d clusters in %dms",Ye,ot.numItems,+Date.now()-st)}return de&&console.timeEnd("total time"),this}getClusters(le,de){let ge=((le[0]+180)%360+360)%360-180;const Ue=Math.max(-90,Math.min(90,le[1]));let De=le[2]===180?180:((le[2]+180)%360+360)%360-180;const ht=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)ge=-180,De=180;else if(ge>De){const Oe=this.getClusters([ge,Ue,180,ht],de),Ot=this.getClusters([-180,Ue,De,ht],de);return Oe.concat(Ot)}const ot=this.trees[this._limitZoom(de)],Ye=ot.range(Fe(ge),et(ht),Fe(De),et(Ue)),st=ot.data,Me=[];for(const Oe of Ye){const Ot=this.stride*Oe;Me.push(st[Ot+5]>1?Pe(st,Ot,this.clusterProps):this.points[st[Ot+3]])}return Me}getChildren(le){const de=this._getOriginId(le),ge=this._getOriginZoom(le),Ue="No cluster with the specified id.",De=this.trees[ge];if(!De)throw new Error(Ue);const ht=De.data;if(de*this.stride>=ht.length)throw new Error(Ue);const ot=this.options.radius/(this.options.extent*Math.pow(2,ge-1)),Ye=De.within(ht[de*this.stride],ht[de*this.stride+1],ot),st=[];for(const Me of Ye){const Oe=Me*this.stride;ht[Oe+4]===le&&st.push(ht[Oe+5]>1?Pe(ht,Oe,this.clusterProps):this.points[ht[Oe+3]])}if(st.length===0)throw new Error(Ue);return st}getLeaves(le,de,ge){const Ue=[];return this._appendLeaves(Ue,le,de=de||10,ge=ge||0,0),Ue}getTile(le,de,ge){const Ue=this.trees[this._limitZoom(le)],De=Math.pow(2,le),{extent:ht,radius:ot}=this.options,Ye=ot/ht,st=(ge-Ye)/De,Me=(ge+1+Ye)/De,Oe={features:[]};return this._addTileFeatures(Ue.range((de-Ye)/De,st,(de+1+Ye)/De,Me),Ue.data,de,ge,De,Oe),de===0&&this._addTileFeatures(Ue.range(1-Ye/De,st,1,Me),Ue.data,De,ge,De,Oe),de===De-1&&this._addTileFeatures(Ue.range(0,st,Ye/De,Me),Ue.data,-1,ge,De,Oe),Oe.features.length?Oe:null}getClusterExpansionZoom(le){let de=this._getOriginZoom(le)-1;for(;de<=this.options.maxZoom;){const ge=this.getChildren(le);if(de++,ge.length!==1)break;le=ge[0].properties.cluster_id}return de}_appendLeaves(le,de,ge,Ue,De){const ht=this.getChildren(de);for(const ot of ht){const Ye=ot.properties;if(Ye&&Ye.cluster?De+Ye.point_count<=Ue?De+=Ye.point_count:De=this._appendLeaves(le,Ye.cluster_id,ge,Ue,De):De<Ue?De++:le.push(ot),le.length===ge)break}return De}_createTree(le){const de=new w.aT(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ge=0;ge<le.length;ge+=this.stride)de.add(le[ge],le[ge+1]);return de.finish(),de.data=le,de}_addTileFeatures(le,de,ge,Ue,De,ht){for(const ot of le){const Ye=ot*this.stride,st=de[Ye+5]>1;let Me,Oe,Ot;if(st)Me=we(de,Ye,this.clusterProps),Oe=de[Ye],Ot=de[Ye+1];else{const Xt=this.points[de[Ye+3]];Me=Xt.properties;const[hr,ct]=Xt.geometry.coordinates;Oe=Fe(hr),Ot=et(ct)}const $t={type:1,geometry:[[Math.round(this.options.extent*(Oe*De-ge)),Math.round(this.options.extent*(Ot*De-Ue))]],tags:Me};let Qt;Qt=st||this.options.generateId?de[Ye+3]:this.points[de[Ye+3]].id,Qt!==void 0&&($t.id=Qt),ht.features.push($t)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,de){const{radius:ge,extent:Ue,reduce:De,minPoints:ht}=this.options,ot=ge/(Ue*Math.pow(2,de)),Ye=le.data,st=[],Me=this.stride;for(let Oe=0;Oe<Ye.length;Oe+=Me){if(Ye[Oe+2]<=de)continue;Ye[Oe+2]=de;const Ot=Ye[Oe],$t=Ye[Oe+1],Qt=le.within(Ye[Oe],Ye[Oe+1],ot),Xt=Ye[Oe+5];let hr=Xt;for(const ct of Qt){const gr=ct*Me;Ye[gr+2]>de&&(hr+=Ye[gr+5])}if(hr>Xt&&hr>=ht){let ct,gr=Ot*Xt,tn=$t*Xt,vr=-1;const Mr=(Oe/Me<<5)+(de+1)+this.points.length;for(const Kr of Qt){const Ur=Kr*Me;if(Ye[Ur+2]<=de)continue;Ye[Ur+2]=de;const zr=Ye[Ur+5];gr+=Ye[Ur]*zr,tn+=Ye[Ur+1]*zr,Ye[Ur+4]=Mr,De&&(ct||(ct=this._map(Ye,Oe,!0),vr=this.clusterProps.length,this.clusterProps.push(ct)),De(ct,this._map(Ye,Ur)))}Ye[Oe+4]=Mr,st.push(gr/hr,tn/hr,1/0,Mr,-1,hr),De&&st.push(vr)}else{for(let ct=0;ct<Me;ct++)st.push(Ye[Oe+ct]);if(hr>1)for(const ct of Qt){const gr=ct*Me;if(!(Ye[gr+2]<=de)){Ye[gr+2]=de;for(let tn=0;tn<Me;tn++)st.push(Ye[gr+tn])}}}}return st}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,de,ge){if(le[de+5]>1){const ht=this.clusterProps[le[de+6]];return ge?Object.assign({},ht):ht}const Ue=this.points[le[de+3]].properties,De=this.options.map(Ue);return ge&&De===Ue?Object.assign({},De):De}}function Pe(Re,le,de){return{type:"Feature",id:Re[le+3],properties:we(Re,le,de),geometry:{type:"Point",coordinates:[(ge=Re[le],360*(ge-.5)),Ke(Re[le+1])]}};var ge}function we(Re,le,de){const ge=Re[le+5],Ue=ge>=1e4?`${Math.round(ge/1e3)}k`:ge>=1e3?Math.round(ge/100)/10+"k":ge,De=Re[le+6],ht=De===-1?{}:Object.assign({},de[De]);return Object.assign(ht,{cluster:!0,cluster_id:Re[le+3],point_count:ge,point_count_abbreviated:Ue})}function Fe(Re){return Re/360+.5}function et(Re){const le=Math.sin(Re*Math.PI/180),de=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return de<0?0:de>1?1:de}function Ke(Re){const le=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function _t(Re,le,de,ge){let Ue=ge;const De=le+(de-le>>1);let ht,ot=de-le;const Ye=Re[le],st=Re[le+1],Me=Re[de],Oe=Re[de+1];for(let Ot=le+3;Ot<de;Ot+=3){const $t=Ne(Re[Ot],Re[Ot+1],Ye,st,Me,Oe);if($t>Ue)ht=Ot,Ue=$t;else if($t===Ue){const Qt=Math.abs(Ot-De);Qt<ot&&(ht=Ot,ot=Qt)}}Ue>ge&&(ht-le>3&&_t(Re,le,ht,ge),Re[ht+2]=Ue,de-ht>3&&_t(Re,ht,de,ge))}function Ne(Re,le,de,ge,Ue,De){let ht=Ue-de,ot=De-ge;if(ht!==0||ot!==0){const Ye=((Re-de)*ht+(le-ge)*ot)/(ht*ht+ot*ot);Ye>1?(de=Ue,ge=De):Ye>0&&(de+=ht*Ye,ge+=ot*Ye)}return ht=Re-de,ot=le-ge,ht*ht+ot*ot}function Te(Re,le,de,ge){const Ue={id:Re??null,type:le,geometry:de,tags:ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")lt(Ue,de);else if(le==="Polygon")lt(Ue,de[0]);else if(le==="MultiLineString")for(const De of de)lt(Ue,De);else if(le==="MultiPolygon")for(const De of de)lt(Ue,De[0]);return Ue}function lt(Re,le){for(let de=0;de<le.length;de+=3)Re.minX=Math.min(Re.minX,le[de]),Re.minY=Math.min(Re.minY,le[de+1]),Re.maxX=Math.max(Re.maxX,le[de]),Re.maxY=Math.max(Re.maxY,le[de+1])}function Ze(Re,le,de,ge){if(!le.geometry)return;const Ue=le.geometry.coordinates;if(Ue&&Ue.length===0)return;const De=le.geometry.type,ht=Math.pow(de.tolerance/((1<<de.maxZoom)*de.extent),2);let ot=[],Ye=le.id;if(de.promoteId?Ye=le.properties[de.promoteId]:de.generateId&&(Ye=ge||0),De==="Point")Ct(Ue,ot);else if(De==="MultiPoint")for(const st of Ue)Ct(st,ot);else if(De==="LineString")Ie(Ue,ot,ht,!1);else if(De==="MultiLineString"){if(de.lineMetrics){for(const st of Ue)ot=[],Ie(st,ot,ht,!1),Re.push(Te(Ye,"LineString",ot,le.properties));return}rt(Ue,ot,ht,!1)}else if(De==="Polygon")rt(Ue,ot,ht,!0);else{if(De!=="MultiPolygon"){if(De==="GeometryCollection"){for(const st of le.geometry.geometries)Ze(Re,{id:Ye,geometry:st,properties:le.properties},de,ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const st of Ue){const Me=[];rt(st,Me,ht,!0),ot.push(Me)}}Re.push(Te(Ye,De,ot,le.properties))}function Ct(Re,le){le.push(dt(Re[0]),$e(Re[1]),0)}function Ie(Re,le,de,ge){let Ue,De,ht=0;for(let Ye=0;Ye<Re.length;Ye++){const st=dt(Re[Ye][0]),Me=$e(Re[Ye][1]);le.push(st,Me,0),Ye>0&&(ht+=ge?(Ue*Me-st*De)/2:Math.sqrt(Math.pow(st-Ue,2)+Math.pow(Me-De,2))),Ue=st,De=Me}const ot=le.length-3;le[2]=1,_t(le,0,ot,de),le[ot+2]=1,le.size=Math.abs(ht),le.start=0,le.end=le.size}function rt(Re,le,de,ge){for(let Ue=0;Ue<Re.length;Ue++){const De=[];Ie(Re[Ue],De,de,ge),le.push(De)}}function dt(Re){return Re/360+.5}function $e(Re){const le=Math.sin(Re*Math.PI/180),de=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return de<0?0:de>1?1:de}function ft(Re,le,de,ge,Ue,De,ht,ot){if(ge/=le,De>=(de/=le)&&ht<ge)return Re;if(ht<de||De>=ge)return null;const Ye=[];for(const st of Re){const Me=st.geometry;let Oe=st.type;const Ot=Ue===0?st.minX:st.minY,$t=Ue===0?st.maxX:st.maxY;if(Ot>=de&&$t<ge){Ye.push(st);continue}if($t<de||Ot>=ge)continue;let Qt=[];if(Oe==="Point"||Oe==="MultiPoint")mt(Me,Qt,de,ge,Ue);else if(Oe==="LineString")me(Me,Qt,de,ge,Ue,!1,ot.lineMetrics);else if(Oe==="MultiLineString")ut(Me,Qt,de,ge,Ue,!1);else if(Oe==="Polygon")ut(Me,Qt,de,ge,Ue,!0);else if(Oe==="MultiPolygon")for(const Xt of Me){const hr=[];ut(Xt,hr,de,ge,Ue,!0),hr.length&&Qt.push(hr)}if(Qt.length){if(ot.lineMetrics&&Oe==="LineString"){for(const Xt of Qt)Ye.push(Te(st.id,Oe,Xt,st.tags));continue}Oe!=="LineString"&&Oe!=="MultiLineString"||(Qt.length===1?(Oe="LineString",Qt=Qt[0]):Oe="MultiLineString"),Oe!=="Point"&&Oe!=="MultiPoint"||(Oe=Qt.length===3?"Point":"MultiPoint"),Ye.push(Te(st.id,Oe,Qt,st.tags))}}return Ye.length?Ye:null}function mt(Re,le,de,ge,Ue){for(let De=0;De<Re.length;De+=3){const ht=Re[De+Ue];ht>=de&&ht<=ge&&qe(le,Re[De],Re[De+1],Re[De+2])}}function me(Re,le,de,ge,Ue,De,ht){let ot=ue(Re);const Ye=Ue===0?Et:At;let st,Me,Oe=Re.start;for(let hr=0;hr<Re.length-3;hr+=3){const ct=Re[hr],gr=Re[hr+1],tn=Re[hr+2],vr=Re[hr+3],Mr=Re[hr+4],Kr=Ue===0?ct:gr,Ur=Ue===0?vr:Mr;let zr=!1;ht&&(st=Math.sqrt(Math.pow(ct-vr,2)+Math.pow(gr-Mr,2))),Kr<de?Ur>de&&(Me=Ye(ot,ct,gr,vr,Mr,de),ht&&(ot.start=Oe+st*Me)):Kr>ge?Ur<ge&&(Me=Ye(ot,ct,gr,vr,Mr,ge),ht&&(ot.start=Oe+st*Me)):qe(ot,ct,gr,tn),Ur<de&&Kr>=de&&(Me=Ye(ot,ct,gr,vr,Mr,de),zr=!0),Ur>ge&&Kr<=ge&&(Me=Ye(ot,ct,gr,vr,Mr,ge),zr=!0),!De&&zr&&(ht&&(ot.end=Oe+st*Me),le.push(ot),ot=ue(Re)),ht&&(Oe+=st)}let Ot=Re.length-3;const $t=Re[Ot],Qt=Re[Ot+1],Xt=Ue===0?$t:Qt;Xt>=de&&Xt<=ge&&qe(ot,$t,Qt,Re[Ot+2]),Ot=ot.length-3,De&&Ot>=3&&(ot[Ot]!==ot[0]||ot[Ot+1]!==ot[1])&&qe(ot,ot[0],ot[1],ot[2]),ot.length&&le.push(ot)}function ue(Re){const le=[];return le.size=Re.size,le.start=Re.start,le.end=Re.end,le}function ut(Re,le,de,ge,Ue,De){for(const ht of Re)me(ht,le,de,ge,Ue,De,!1)}function qe(Re,le,de,ge){Re.push(le,de,ge)}function Et(Re,le,de,ge,Ue,De){const ht=(De-le)/(ge-le);return qe(Re,De,de+(Ue-de)*ht,1),ht}function At(Re,le,de,ge,Ue,De){const ht=(De-de)/(Ue-de);return qe(Re,le+(ge-le)*ht,De,1),ht}function Gt(Re,le){const de=[];for(let ge=0;ge<Re.length;ge++){const Ue=Re[ge],De=Ue.type;let ht;if(De==="Point"||De==="MultiPoint"||De==="LineString")ht=Jt(Ue.geometry,le);else if(De==="MultiLineString"||De==="Polygon"){ht=[];for(const ot of Ue.geometry)ht.push(Jt(ot,le))}else if(De==="MultiPolygon"){ht=[];for(const ot of Ue.geometry){const Ye=[];for(const st of ot)Ye.push(Jt(st,le));ht.push(Ye)}}de.push(Te(Ue.id,De,ht,Ue.tags))}return de}function Jt(Re,le){const de=[];de.size=Re.size,Re.start!==void 0&&(de.start=Re.start,de.end=Re.end);for(let ge=0;ge<Re.length;ge+=3)de.push(Re[ge]+le,Re[ge+1],Re[ge+2]);return de}function Kt(Re,le){if(Re.transformed)return Re;const de=1<<Re.z,ge=Re.x,Ue=Re.y;for(const De of Re.features){const ht=De.geometry,ot=De.type;if(De.geometry=[],ot===1)for(let Ye=0;Ye<ht.length;Ye+=2)De.geometry.push(cr(ht[Ye],ht[Ye+1],le,de,ge,Ue));else for(let Ye=0;Ye<ht.length;Ye++){const st=[];for(let Me=0;Me<ht[Ye].length;Me+=2)st.push(cr(ht[Ye][Me],ht[Ye][Me+1],le,de,ge,Ue));De.geometry.push(st)}}return Re.transformed=!0,Re}function cr(Re,le,de,ge,Ue,De){return[Math.round(de*(Re*ge-Ue)),Math.round(de*(le*ge-De))]}function tr(Re,le,de,ge,Ue){const De=le===Ue.maxZoom?0:Ue.tolerance/((1<<le)*Ue.extent),ht={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:de,y:ge,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const ot of Re)ur(ht,ot,De,Ue);return ht}function ur(Re,le,de,ge){const Ue=le.geometry,De=le.type,ht=[];if(Re.minX=Math.min(Re.minX,le.minX),Re.minY=Math.min(Re.minY,le.minY),Re.maxX=Math.max(Re.maxX,le.maxX),Re.maxY=Math.max(Re.maxY,le.maxY),De==="Point"||De==="MultiPoint")for(let ot=0;ot<Ue.length;ot+=3)ht.push(Ue[ot],Ue[ot+1]),Re.numPoints++,Re.numSimplified++;else if(De==="LineString")Hr(ht,Ue,Re,de,!1,!1);else if(De==="MultiLineString"||De==="Polygon")for(let ot=0;ot<Ue.length;ot++)Hr(ht,Ue[ot],Re,de,De==="Polygon",ot===0);else if(De==="MultiPolygon")for(let ot=0;ot<Ue.length;ot++){const Ye=Ue[ot];for(let st=0;st<Ye.length;st++)Hr(ht,Ye[st],Re,de,!0,st===0)}if(ht.length){let ot=le.tags||null;if(De==="LineString"&&ge.lineMetrics){ot={};for(const st in le.tags)ot[st]=le.tags[st];ot.mapbox_clip_start=Ue.start/Ue.size,ot.mapbox_clip_end=Ue.end/Ue.size}const Ye={geometry:ht,type:De==="Polygon"||De==="MultiPolygon"?3:De==="LineString"||De==="MultiLineString"?2:1,tags:ot};le.id!==null&&(Ye.id=le.id),Re.features.push(Ye)}}function Hr(Re,le,de,ge,Ue,De){const ht=ge*ge;if(ge>0&&le.size<(Ue?ht:ge))return void(de.numPoints+=le.length/3);const ot=[];for(let Ye=0;Ye<le.length;Ye+=3)(ge===0||le[Ye+2]>ht)&&(de.numSimplified++,ot.push(le[Ye],le[Ye+1])),de.numPoints++;Ue&&(function(Ye,st){let Me=0;for(let Oe=0,Ot=Ye.length,$t=Ot-2;Oe<Ot;$t=Oe,Oe+=2)Me+=(Ye[Oe]-Ye[$t])*(Ye[Oe+1]+Ye[$t+1]);if(Me>0===st)for(let Oe=0,Ot=Ye.length;Oe<Ot/2;Oe+=2){const $t=Ye[Oe],Qt=Ye[Oe+1];Ye[Oe]=Ye[Ot-2-Oe],Ye[Oe+1]=Ye[Ot-1-Oe],Ye[Ot-2-Oe]=$t,Ye[Ot-1-Oe]=Qt}})(ot,De),Re.push(ot)}const be={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class te{constructor(le,de){const ge=(de=this.options=(function(De,ht){for(const ot in ht)De[ot]=ht[ot];return De})(Object.create(be),de)).debug;if(ge&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ue=(function(De,ht){const ot=[];if(De.type==="FeatureCollection")for(let Ye=0;Ye<De.features.length;Ye++)Ze(ot,De.features[Ye],ht,Ye);else Ze(ot,De.type==="Feature"?De:{geometry:De},ht);return ot})(le,de);this.tiles={},this.tileCoords=[],ge&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ue=(function(De,ht){const ot=ht.buffer/ht.extent;let Ye=De;const st=ft(De,1,-1-ot,ot,0,-1,2,ht),Me=ft(De,1,1-ot,2+ot,0,-1,2,ht);return(st||Me)&&(Ye=ft(De,1,-ot,1+ot,0,-1,2,ht)||[],st&&(Ye=Gt(st,1).concat(Ye)),Me&&(Ye=Ye.concat(Gt(Me,-1)))),Ye})(Ue,de),Ue.length&&this.splitTile(Ue,0,0,0),ge&&(Ue.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,de,ge,Ue,De,ht,ot){const Ye=[le,de,ge,Ue],st=this.options,Me=st.debug;for(;Ye.length;){Ue=Ye.pop(),ge=Ye.pop(),de=Ye.pop(),le=Ye.pop();const Oe=1<<de,Ot=ie(de,ge,Ue);let $t=this.tiles[Ot];if(!$t&&(Me>1&&console.time("creation"),$t=this.tiles[Ot]=tr(le,de,ge,Ue,st),this.tileCoords.push({z:de,x:ge,y:Ue}),Me)){Me>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,ge,Ue,$t.numFeatures,$t.numPoints,$t.numSimplified),console.timeEnd("creation"));const zr=`z${de}`;this.stats[zr]=(this.stats[zr]||0)+1,this.total++}if($t.source=le,De==null){if(de===st.indexMaxZoom||$t.numPoints<=st.indexMaxPoints)continue}else{if(de===st.maxZoom||de===De)continue;if(De!=null){const zr=De-de;if(ge!==ht>>zr||Ue!==ot>>zr)continue}}if($t.source=null,le.length===0)continue;Me>1&&console.time("clipping");const Qt=.5*st.buffer/st.extent,Xt=.5-Qt,hr=.5+Qt,ct=1+Qt;let gr=null,tn=null,vr=null,Mr=null,Kr=ft(le,Oe,ge-Qt,ge+hr,0,$t.minX,$t.maxX,st),Ur=ft(le,Oe,ge+Xt,ge+ct,0,$t.minX,$t.maxX,st);le=null,Kr&&(gr=ft(Kr,Oe,Ue-Qt,Ue+hr,1,$t.minY,$t.maxY,st),tn=ft(Kr,Oe,Ue+Xt,Ue+ct,1,$t.minY,$t.maxY,st),Kr=null),Ur&&(vr=ft(Ur,Oe,Ue-Qt,Ue+hr,1,$t.minY,$t.maxY,st),Mr=ft(Ur,Oe,Ue+Xt,Ue+ct,1,$t.minY,$t.maxY,st),Ur=null),Me>1&&console.timeEnd("clipping"),Ye.push(gr||[],de+1,2*ge,2*Ue),Ye.push(tn||[],de+1,2*ge,2*Ue+1),Ye.push(vr||[],de+1,2*ge+1,2*Ue),Ye.push(Mr||[],de+1,2*ge+1,2*Ue+1)}}getTile(le,de,ge){le=+le,de=+de,ge=+ge;const Ue=this.options,{extent:De,debug:ht}=Ue;if(le<0||le>24)return null;const ot=1<<le,Ye=ie(le,de=de+ot&ot-1,ge);if(this.tiles[Ye])return Kt(this.tiles[Ye],De);ht>1&&console.log("drilling down to z%d-%d-%d",le,de,ge);let st,Me=le,Oe=de,Ot=ge;for(;!st&&Me>0;)Me--,Oe>>=1,Ot>>=1,st=this.tiles[ie(Me,Oe,Ot)];return st&&st.source?(ht>1&&(console.log("found parent tile z%d-%d-%d",Me,Oe,Ot),console.time("drilling down")),this.splitTile(st.source,Me,Oe,Ot,le,de,ge),ht>1&&console.timeEnd("drilling down"),this.tiles[Ye]?Kt(this.tiles[Ye],De):null):null}}function ie(Re,le,de){return 32*((1<<Re)*de+le)+Re}class ke extends F{constructor(le,de,ge,Ue=it){super(le,de,ge),this._dataUpdateable=new Map,this._createGeoJSONIndex=Ue}loadVectorTile(le,de){return w._(this,void 0,void 0,(function*(){const ge=le.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ue=this._geoJSONIndex.getTile(ge.z,ge.x,ge.y);return Ue?G(new w.d2(Ue.features,{version:2,extent:w.a5})):null}))}loadData(le){return w._(this,void 0,void 0,(function*(){var de;(de=this._pendingRequest)===null||de===void 0||de.abort();const ge=this._startPerformance(le);this._pendingRequest=new AbortController;try{(!this._pendingData||le.request||le.data||le.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(le,this._pendingRequest));const Ue=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(Ue,le),this.loaded={};const De={};return le.request&&(De.data=Ue),this._finishPerformance(ge,le,De),De}catch(Ue){if(delete this._pendingRequest,w.Z(Ue))return{abandoned:!0};throw Ue}}))}_startPerformance(le){var de;if(!((de=le?.request)===null||de===void 0)&&de.collectResourceTiming)return new w.c_(le.request)}_finishPerformance(le,de,ge){if(!le)return;const Ue=le.finish();Ue&&(ge.resourceTiming={},ge.resourceTiming[de.source]=JSON.parse(JSON.stringify(Ue)))}getData(){return w._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(le){const de=this.loaded;return de&&de[le.uid]?super.reloadTile(le):this.loadTile(le)}loadAndProcessGeoJSON(le,de){return w._(this,void 0,void 0,(function*(){let ge;if(le.request?ge=yield this.loadGeoJSONFromUrl(le.request,le.promoteId,de):le.data?ge=this._loadGeoJSONFromObject(le.data,le.promoteId):le.dataDiff&&(ge=this._loadGeoJSONFromDiff(le.dataDiff,le.promoteId,le.source)),delete this._pendingRequest,typeof ge!="object")throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);return fe(ge,!0),le.filter&&(ge=this._filterGeoJSON(ge,le.filter)),ge}))}loadGeoJSONFromUrl(le,de,ge){return w._(this,void 0,void 0,(function*(){const Ue=yield w.j(le,ge);return this._dataUpdateable=w.a7(Ue.data,de),Ue.data}))}_loadGeoJSONFromObject(le,de){return this._dataUpdateable=w.a7(le,de),le}_loadGeoJSONFromDiff(le,de,ge){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ge}`);w.a8(this._dataUpdateable,le,de);const Ue=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(Ue)}_filterGeoJSON(le,de){const ge=w.d3(de,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ge.result==="error")throw new Error(ge.value.map((De=>`${De.key}: ${De.message}`)).join(", "));const Ue=le.features.filter((De=>ge.value.evaluate({zoom:0},De)));return this._toFeatureCollection(Ue)}_toFeatureCollection(le){return{type:"FeatureCollection",features:le}}removeSource(le){return w._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(le){return this._geoJSONIndex.getClusterExpansionZoom(le.clusterId)}getClusterChildren(le){return this._geoJSONIndex.getChildren(le.clusterId)}getClusterLeaves(le){return this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset)}}function it(Re,le){return le.cluster?new ee((function({superclusterOptions:de,clusterProperties:ge}){if(!ge||!de)return de;const Ue={},De={},ht={accumulated:null,zoom:0},ot={properties:null},Ye=Object.keys(ge);for(const st of Ye){const[Me,Oe]=ge[st],Ot=w.d3(Oe),$t=w.d3(typeof Me=="string"?[Me,["accumulated"],["get",st]]:Me);Ue[st]=Ot.value,De[st]=$t.value}return de.map=st=>{ot.properties=st;const Me={};for(const Oe of Ye)Me[Oe]=Ue[Oe].evaluate(ht,ot);return Me},de.reduce=(st,Me)=>{ot.properties=Me;for(const Oe of Ye)ht.accumulated=st[Oe],st[Oe]=De[Oe].evaluate(ht,ot)},de})(le)).load(Re.features):(function(de,ge){return new te(de,ge)})(Re,le.geojsonVtOptions)}class It{constructor(le){this.self=le,this.actor=new w.L(le),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(de,ge)=>{if(this.externalWorkerSourceTypes[de])throw new Error(`Worker source with name "${de}" already registered.`);this.externalWorkerSourceTypes[de]=ge},this.self.addProtocol=w.cJ,this.self.removeProtocol=w.cK,this.self.registerRTLTextPlugin=de=>{w.d4.setMethods(de)},this.actor.registerMessageHandler("LDT",((de,ge)=>this._getDEMWorkerSource(de,ge.source).loadTile(ge))),this.actor.registerMessageHandler("RDT",((de,ge)=>w._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(de,ge.source).removeTile(ge)})))),this.actor.registerMessageHandler("GCEZ",((de,ge)=>w._(this,void 0,void 0,(function*(){return this._getWorkerSource(de,ge.type,ge.source).getClusterExpansionZoom(ge)})))),this.actor.registerMessageHandler("GCC",((de,ge)=>w._(this,void 0,void 0,(function*(){return this._getWorkerSource(de,ge.type,ge.source).getClusterChildren(ge)})))),this.actor.registerMessageHandler("GCL",((de,ge)=>w._(this,void 0,void 0,(function*(){return this._getWorkerSource(de,ge.type,ge.source).getClusterLeaves(ge)})))),this.actor.registerMessageHandler("LD",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).loadData(ge))),this.actor.registerMessageHandler("GD",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).getData())),this.actor.registerMessageHandler("LT",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).loadTile(ge))),this.actor.registerMessageHandler("RT",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).reloadTile(ge))),this.actor.registerMessageHandler("AT",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).abortTile(ge))),this.actor.registerMessageHandler("RMT",((de,ge)=>this._getWorkerSource(de,ge.type,ge.source).removeTile(ge))),this.actor.registerMessageHandler("RS",((de,ge)=>w._(this,void 0,void 0,(function*(){if(!this.workerSources[de]||!this.workerSources[de][ge.type]||!this.workerSources[de][ge.type][ge.source])return;const Ue=this.workerSources[de][ge.type][ge.source];delete this.workerSources[de][ge.type][ge.source],Ue.removeSource!==void 0&&Ue.removeSource(ge)})))),this.actor.registerMessageHandler("RM",(de=>w._(this,void 0,void 0,(function*(){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],this.globalStates.delete(de)})))),this.actor.registerMessageHandler("SR",((de,ge)=>w._(this,void 0,void 0,(function*(){this.referrer=ge})))),this.actor.registerMessageHandler("SRPS",((de,ge)=>this._syncRTLPluginState(de,ge))),this.actor.registerMessageHandler("IS",((de,ge)=>w._(this,void 0,void 0,(function*(){this.self.importScripts(ge)})))),this.actor.registerMessageHandler("SI",((de,ge)=>this._setImages(de,ge))),this.actor.registerMessageHandler("UL",((de,ge)=>w._(this,void 0,void 0,(function*(){this._getLayerIndex(de).update(ge.layers,ge.removedIds,this._getGlobalState(de))})))),this.actor.registerMessageHandler("UGS",((de,ge)=>w._(this,void 0,void 0,(function*(){const Ue=this._getGlobalState(de);for(const De in ge)Ue[De]=ge[De]})))),this.actor.registerMessageHandler("SL",((de,ge)=>w._(this,void 0,void 0,(function*(){this._getLayerIndex(de).replace(ge,this._getGlobalState(de))}))))}_getGlobalState(le){let de=this.globalStates.get(le);return de||(de={},this.globalStates.set(le,de)),de}_setImages(le,de){return w._(this,void 0,void 0,(function*(){this.availableImages[le]=de;for(const ge in this.workerSources[le]){const Ue=this.workerSources[le][ge];for(const De in Ue)Ue[De].availableImages=de}}))}_syncRTLPluginState(le,de){return w._(this,void 0,void 0,(function*(){return yield w.d4.syncState(de,this.self.importScripts)}))}_getAvailableImages(le){let de=this.availableImages[le];return de||(de=[]),de}_getLayerIndex(le){let de=this.layerIndexes[le];return de||(de=this.layerIndexes[le]=new o),de}_getWorkerSource(le,de,ge){if(this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][de]||(this.workerSources[le][de]={}),!this.workerSources[le][de][ge]){const Ue={sendAsync:(De,ht)=>(De.targetMapId=le,this.actor.sendAsync(De,ht))};switch(de){case"vector":this.workerSources[le][de][ge]=new F(Ue,this._getLayerIndex(le),this._getAvailableImages(le));break;case"geojson":this.workerSources[le][de][ge]=new ke(Ue,this._getLayerIndex(le),this._getAvailableImages(le));break;default:this.workerSources[le][de][ge]=new this.externalWorkerSourceTypes[de](Ue,this._getLayerIndex(le),this._getAvailableImages(le))}}return this.workerSources[le][de][ge]}_getDEMWorkerSource(le,de){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][de]||(this.demWorkerSources[le][de]=new q),this.demWorkerSources[le][de]}}return w.i(self)&&(self.worker=new It(self)),It})),S("index",["exports","./shared"],(function(w,o){var P="5.15.0";function N(){var _=new o.A(4);return o.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}let z,C,O;const U={frame(_,t,a){const u=requestAnimationFrame((b=>{d(),t(b)})),{unsubscribe:d}=o.s(_.signal,"abort",(()=>{d(),cancelAnimationFrame(u),a(new o.a(_.signal.reason))}),!1)},frameAsync(_){return new Promise(((t,a)=>{this.frame(_,t,a)}))},getImageData(_,t=0){return this.getImageCanvasContext(_).getImageData(-t,-t,_.width+2*t,_.height+2*t)},getImageCanvasContext(_){const t=window.document.createElement("canvas"),a=t.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return t.width=_.width,t.height=_.height,a.drawImage(_,0,0,_.width,_.height),a},resolveURL:_=>(z||(z=document.createElement("a")),z.href=_,z.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return O!==void 0?O:!!matchMedia&&(C==null&&(C=matchMedia("(prefers-reduced-motion: reduce)")),C.matches)},set prefersReducedMotion(_){O=_}},G=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(_){this._frozenAt=_}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function j(){return G.getCurrentTime()}class F{static testProp(t){if(!F.docStyle)return t[0];for(let a=0;a<t.length;a++)if(t[a]in F.docStyle)return t[a];return t[0]}static create(t,a,u){const d=window.document.createElement(t);return a!==void 0&&(d.className=a),u&&u.appendChild(d),d}static createNS(t,a){return window.document.createElementNS(t,a)}static disableDrag(){F.docStyle&&F.selectProp&&(F.userSelect=F.docStyle[F.selectProp],F.docStyle[F.selectProp]="none")}static enableDrag(){F.docStyle&&F.selectProp&&(F.docStyle[F.selectProp]=F.userSelect)}static setTransform(t,a){t.style[F.transformProp]=a}static addEventListener(t,a,u,d={}){t.addEventListener(a,u,"passive"in d?d:d.capture)}static removeEventListener(t,a,u,d={}){t.removeEventListener(a,u,"passive"in d?d:d.capture)}static suppressClickInternal(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",F.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",F.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",F.suppressClickInternal,!0)}),0)}static getScale(t){const a=t.getBoundingClientRect();return{x:a.width/t.offsetWidth||1,y:a.height/t.offsetHeight||1,boundingClientRect:a}}static getPoint(t,a,u){const d=a.boundingClientRect;return new o.P((u.clientX-d.left)/a.x-t.clientLeft,(u.clientY-d.top)/a.y-t.clientTop)}static mousePos(t,a){const u=F.getScale(t);return F.getPoint(t,u,a)}static touchPos(t,a){const u=[],d=F.getScale(t);for(let b=0;b<a.length;b++)u.push(F.getPoint(t,d,a[b]));return u}static mouseButton(t){return t.button}static remove(t){t.parentNode&&t.parentNode.removeChild(t)}static sanitize(t){const a=new DOMParser().parseFromString(t,"text/html").body||document.createElement("body"),u=a.querySelectorAll("script");for(const d of u)d.remove();return F.clean(a),a.innerHTML}static isPossiblyDangerous(t,a){const u=a.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(t)||!u.includes("javascript:")&&!u.includes("data:"))||!!t.startsWith("on")||void 0}static clean(t){const a=t.children;for(const u of a)F.removeAttributes(u),F.clean(u)}static removeAttributes(t){for(const{name:a,value:u}of t.attributes)F.isPossiblyDangerous(a,u)&&t.removeAttribute(a)}}F.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,F.selectProp=F.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),F.transformProp=F.testProp(["transform","WebkitTransform"]);const q={supported:!1,testSupport:function(_){!X&&H&&(fe?ae(_):V=_)}};let V,H,X=!1,fe=!1;function ae(_){const t=_.createTexture();_.bindTexture(_.TEXTURE_2D,t);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,H),_.isContextLost())return;q.supported=!0}catch{}_.deleteTexture(t),X=!0}var he;typeof document<"u"&&(H=document.createElement("img"),H.onload=()=>{V&&ae(V),V=null,fe=!0},H.onerror=()=>{X=!0,V=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(_){let t,a,u,d;_.resetRequestQueue=()=>{t=[],a=0,u=0,d={}},_.addThrottleControl=k=>{const $=u++;return d[$]=k,$},_.removeThrottleControl=k=>{delete d[k],E()},_.getImage=(k,$,Z=!0)=>new Promise(((J,K)=>{q.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),o.e(k,{type:"image"}),t.push({abortController:$,requestParameters:k,supportImageRefresh:Z,state:"queued",onError:se=>{K(se)},onSuccess:se=>{J(se)}}),E()}));const b=k=>o._(this,void 0,void 0,(function*(){k.state="running";const{requestParameters:$,supportImageRefresh:Z,onError:J,onSuccess:K,abortController:se}=k,pe=Z===!1&&!o.i(self)&&!o.g($.url)&&(!$.headers||Object.keys($.headers).reduce(((Ee,Be)=>Ee&&Be==="accept"),!0));a++;const Ae=pe?R($,se):o.m($,se);try{const Ee=yield Ae;delete k.abortController,k.state="completed",Ee.data instanceof HTMLImageElement||o.b(Ee.data)?K(Ee):Ee.data&&K({data:yield(Ce=Ee.data,typeof createImageBitmap=="function"?o.f(Ce):o.h(Ce)),cacheControl:Ee.cacheControl,expires:Ee.expires})}catch(Ee){delete k.abortController,J(Ee)}finally{a--,E()}var Ce})),E=()=>{const k=(()=>{for(const $ of Object.keys(d))if(d[$]())return!0;return!1})()?o.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let $=a;$<k&&t.length>0;$++){const Z=t.shift();Z.abortController.signal.aborted?$--:b(Z)}},R=(k,$)=>new Promise(((Z,J)=>{const K=new Image,se=k.url,pe=k.credentials;pe&&pe==="include"?K.crossOrigin="use-credentials":(pe&&pe==="same-origin"||!o.d(se))&&(K.crossOrigin="anonymous"),$.signal.addEventListener("abort",(()=>{K.src="",J(new o.a($.signal.reason))})),K.fetchPriority="high",K.onload=()=>{K.onerror=K.onload=null,Z({data:K})},K.onerror=()=>{K.onerror=K.onload=null,$.signal.aborted||J(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},K.src=se}))})(he||(he={})),he.resetRequestQueue();class xe{constructor(t){this._transformRequestFn=t??null}transformRequest(t,a){return this._transformRequestFn&&this._transformRequestFn(t,a)||{url:t}}setTransformRequest(t){this._transformRequestFn=t}}function ee(_){const t=[];if(typeof _=="string")t.push({id:"default",url:_});else if(_&&_.length>0){const a=[];for(const{id:u,url:d}of _){const b=`${u}${d}`;a.indexOf(b)===-1&&(a.push(b),t.push({id:u,url:d}))}}return t}function Pe(_,t,a){try{const u=new URL(_);return u.pathname+=`${t}${a}`,u.toString()}catch{throw new Error(`Invalid sprite URL "${_}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function we(_){const{userImage:t}=_;return!!(t&&t.render&&t.render())&&(_.data.replace(new Uint8Array(t.data.buffer)),!0)}class Fe extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const t of Object.keys(this.images))this.removeImage(t);this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:a,promiseResolve:u}of this.requestors)u(this._getImagesForIds(a));this.requestors=[]}}getImage(t){const a=this.images[t];if(a&&!a.data&&a.spriteData){const u=a.spriteData;a.data=new o.R({width:u.width,height:u.height},u.context.getImageData(u.x,u.y,u.width,u.height).data),a.spriteData=null}return a}addImage(t,a){if(this.images[t])throw new Error(`Image id ${t} already exist, use updateImage instead`);this._validate(t,a)&&(this.images[t]=a)}_validate(t,a){let u=!0;const d=a.data||a.spriteData;return this._validateStretch(a.stretchX,d&&d.width)||(this.fire(new o.k(new Error(`Image "${t}" has invalid "stretchX" value`))),u=!1),this._validateStretch(a.stretchY,d&&d.height)||(this.fire(new o.k(new Error(`Image "${t}" has invalid "stretchY" value`))),u=!1),this._validateContent(a.content,a)||(this.fire(new o.k(new Error(`Image "${t}" has invalid "content" value`))),u=!1),u}_validateStretch(t,a){if(!t)return!0;let u=0;for(const d of t){if(d[0]<u||d[1]<d[0]||a<d[1])return!1;u=d[1]}return!0}_validateContent(t,a){if(!t)return!0;if(t.length!==4)return!1;const u=a.spriteData,d=u&&u.width||a.data.width,b=u&&u.height||a.data.height;return!(t[0]<0||d<t[0]||t[1]<0||b<t[1]||t[2]<0||d<t[2]||t[3]<0||b<t[3]||t[2]<t[0]||t[3]<t[1])}updateImage(t,a,u=!0){const d=this.getImage(t);if(u&&(d.data.width!==a.data.width||d.data.height!==a.data.height))throw new Error(`size mismatch between old image (${d.data.width}x${d.data.height}) and new image (${a.data.width}x${a.data.height}).`);a.version=d.version+1,this.images[t]=a,this.updatedImages[t]=!0}removeImage(t){const a=this.images[t];delete this.images[t],delete this.patterns[t],a.userImage&&a.userImage.onRemove&&a.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t){return new Promise(((a,u)=>{let d=!0;if(!this.isLoaded())for(const b of t)this.images[b]||(d=!1);this.isLoaded()||d?a(this._getImagesForIds(t)):this.requestors.push({ids:t,promiseResolve:a})}))}_getImagesForIds(t){const a={};for(const u of t){let d=this.getImage(u);d||(this.fire(new o.l("styleimagemissing",{id:u})),d=this.getImage(u)),d?a[u]={data:d.data.clone(),pixelRatio:d.pixelRatio,sdf:d.sdf,version:d.version,stretchX:d.stretchX,stretchY:d.stretchY,content:d.content,textFitWidth:d.textFitWidth,textFitHeight:d.textFitHeight,hasRenderCallback:!!(d.userImage&&d.userImage.render)}:o.w(`Image "${u}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return a}getPixelSize(){const{width:t,height:a}=this.atlasImage;return{width:t,height:a}}getPattern(t){const a=this.patterns[t],u=this.getImage(t);if(!u)return null;if(a&&a.position.version===u.version)return a.position;if(a)a.position.version=u.version;else{const d={w:u.data.width+2,h:u.data.height+2,x:0,y:0},b=new o.I(d,u);this.patterns[t]={bin:d,position:b}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const a=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.T(t,this.atlasImage,a.RGBA),this.atlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const b in this.patterns)t.push(this.patterns[b].bin);const{w:a,h:u}=o.p(t),d=this.atlasImage;d.resize({width:a||1,height:u||1});for(const b in this.patterns){const{bin:E}=this.patterns[b],R=E.x+1,k=E.y+1,$=this.getImage(b).data,Z=$.width,J=$.height;o.R.copy($,d,{x:0,y:0},{x:R,y:k},{width:Z,height:J}),o.R.copy($,d,{x:0,y:J-1},{x:R,y:k-1},{width:Z,height:1}),o.R.copy($,d,{x:0,y:0},{x:R,y:k+J},{width:Z,height:1}),o.R.copy($,d,{x:Z-1,y:0},{x:R-1,y:k},{width:1,height:J}),o.R.copy($,d,{x:0,y:0},{x:R+Z,y:k},{width:1,height:J})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const a of t){if(this.callbackDispatchedThisFrame[a])continue;this.callbackDispatchedThisFrame[a]=!0;const u=this.getImage(a);u||o.w(`Image with ID: "${a}" was not found`),we(u)&&this.updateImage(a,u)}}cloneImages(){const t={};for(const a in this.images){const u=this.images[a];t[a]=Object.assign(Object.assign({},u),{data:u.data?u.data.clone():null})}return t}}const et=1e20;function Ke(_,t,a,u,d,b,E,R,k){for(let $=t;$<t+u;$++)_t(_,a*b+$,b,d,E,R,k);for(let $=a;$<a+d;$++)_t(_,$*b+t,1,u,E,R,k)}function _t(_,t,a,u,d,b,E){b[0]=0,E[0]=-et,E[1]=et,d[0]=_[t];for(let R=1,k=0,$=0;R<u;R++){d[R]=_[t+R*a];const Z=R*R;do{const J=b[k];$=(d[R]-d[J]+Z-J*J)/(R-J)/2}while($<=E[k]&&--k>-1);k++,b[k]=R,E[k]=$,E[k+1]=et}for(let R=0,k=0;R<u;R++){for(;E[k+1]<R;)k++;const $=b[k],Z=R-$;_[t+R*a]=d[$]+Z*Z}}const Ne=o.v.layout_symbol["text-font"].default.join(",");class Te{constructor(t,a,u){this.requestManager=t,this.localIdeographFontFamily=a,this.entries={},this.lang=u}setURL(t){this.url=t}getGlyphs(t){return o._(this,void 0,void 0,(function*(){const a=[];for(const b in t)for(const E of t[b])a.push(this._getAndCacheGlyphsPromise(b,E));const u=yield Promise.all(a),d={};for(const{stack:b,id:E,glyph:R}of u)d[b]||(d[b]={}),d[b][E]=R&&{id:R.id,bitmap:R.bitmap.clone(),metrics:R.metrics};return d}))}_getAndCacheGlyphsPromise(t,a){return o._(this,void 0,void 0,(function*(){let u=this.entries[t];u||(u=this.entries[t]={glyphs:{},requests:{},ranges:{}});let d=u.glyphs[a];return d!==void 0?{stack:t,id:a,glyph:d}:!this.url||this._charUsesLocalIdeographFontFamily(a)?(d=u.glyphs[a]=this._drawGlyph(u,t,a),{stack:t,id:a,glyph:d}):yield this._downloadAndCacheRangePromise(t,a)}))}_downloadAndCacheRangePromise(t,a){return o._(this,void 0,void 0,(function*(){const u=this.entries[t],d=Math.floor(a/256);if(u.ranges[d])return{stack:t,id:a,glyph:null};if(!u.requests[d]){const b=Te.loadGlyphRange(t,d,this.url,this.requestManager);u.requests[d]=b}try{const b=yield u.requests[d];for(const E in b)u.glyphs[+E]=b[+E];return u.ranges[d]=!0,{stack:t,id:a,glyph:b[a]||null}}catch(b){const E=u.glyphs[a]=this._drawGlyph(u,t,a);return this._warnOnMissingGlyphRange(E,d,a,b),{stack:t,id:a,glyph:E}}}))}_warnOnMissingGlyphRange(t,a,u,d){const b=256*a,E=b+255,R=u.toString(16).padStart(4,"0").toUpperCase();o.w(`Unable to load glyph range ${a}, ${b}-${E}. Rendering codepoint U+${R} locally instead. ${d}`)}_charUsesLocalIdeographFontFamily(t){return!!this.localIdeographFontFamily&&o.q(t)}_drawGlyph(t,a,u){const d=a===Ne&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(u),b=d?"ideographTinySDF":"tinySDF";t[b]||(t[b]=this._createTinySDF(d?this.localIdeographFontFamily:a));const E=t[b].draw(String.fromCodePoint(u));return{id:u,bitmap:new o.r({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(t){const a=t?t.split(","):[];a.push("sans-serif");const u=a.map((d=>/[-\w]+/.test(d)?d:`'${CSS.escape(d)}'`)).join(",");return new Te.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:u,fontWeight:this._fontWeight(a[0]),fontStyle:this._fontStyle(a[0]),lang:this.lang})}_fontStyle(t){return/italic/i.test(t)?"italic":/oblique/i.test(t)?"oblique":"normal"}_fontWeight(t){const a={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let u;for(const[d,b]of Object.entries(a))new RegExp(`\\b${d}\\b`,"i").test(t)&&(u=`${b}`);return u}destroy(){for(const t in this.entries){const a=this.entries[t];a.tinySDF&&(a.tinySDF=null),a.ideographTinySDF&&(a.ideographTinySDF=null),a.glyphs={},a.requests={},a.ranges={}}this.entries={}}}Te.loadGlyphRange=function(_,t,a,u){return o._(this,void 0,void 0,(function*(){const d=256*t,b=d+255,E=u.transformRequest(a.replace("{fontstack}",_).replace("{range}",`${d}-${b}`),"Glyphs"),R=yield o.n(E,new AbortController);if(!R||!R.data)throw new Error(`Could not load glyph range. range: ${t}, ${d}-${b}`);const k={};for(const $ of o.o(R.data))k[$.id]=$;return k}))},Te.TinySDF=class{constructor({fontSize:_=24,buffer:t=3,radius:a=8,cutoff:u=.25,fontFamily:d="sans-serif",fontWeight:b="normal",fontStyle:E="normal",lang:R=null}={}){this.buffer=t,this.cutoff=u,this.radius=a,this.lang=R;const k=this.size=_+4*t,$=this._createCanvas(k),Z=this.ctx=$.getContext("2d",{willReadFrequently:!0});Z.font=`${E} ${b} ${_}px ${d}`,Z.textBaseline="alphabetic",Z.textAlign="left",Z.fillStyle="black",this.gridOuter=new Float64Array(k*k),this.gridInner=new Float64Array(k*k),this.f=new Float64Array(k),this.z=new Float64Array(k+1),this.v=new Uint16Array(k)}_createCanvas(_){const t=document.createElement("canvas");return t.width=t.height=_,t}draw(_){const{width:t,actualBoundingBoxAscent:a,actualBoundingBoxDescent:u,actualBoundingBoxLeft:d,actualBoundingBoxRight:b}=this.ctx.measureText(_),E=Math.ceil(a),R=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-d))),k=Math.min(this.size-this.buffer,E+Math.ceil(u)),$=R+2*this.buffer,Z=k+2*this.buffer,J=Math.max($*Z,0),K=new Uint8ClampedArray(J),se={data:K,width:$,height:Z,glyphWidth:R,glyphHeight:k,glyphTop:E,glyphLeft:0,glyphAdvance:t};if(R===0||k===0)return se;const{ctx:pe,buffer:Ae,gridInner:Ce,gridOuter:Ee}=this;this.lang&&(pe.lang=this.lang),pe.clearRect(Ae,Ae,R,k),pe.fillText(_,Ae,Ae+E);const Be=pe.getImageData(Ae,Ae,R,k);Ee.fill(et,0,J),Ce.fill(0,0,J);for(let He=0;He<k;He++)for(let ze=0;ze<R;ze++){const Qe=Be.data[4*(He*R+ze)+3]/255;if(Qe===0)continue;const We=(He+Ae)*$+ze+Ae;if(Qe===1)Ee[We]=0,Ce[We]=et;else{const Ge=.5-Qe;Ee[We]=Ge>0?Ge*Ge:0,Ce[We]=Ge<0?Ge*Ge:0}}Ke(Ee,0,0,$,Z,$,this.f,this.v,this.z),Ke(Ce,Ae,Ae,R,k,$,this.f,this.v,this.z);for(let He=0;He<J;He++){const ze=Math.sqrt(Ee[He])-Math.sqrt(Ce[He]);K[He]=Math.round(255-255*(ze/this.radius+this.cutoff))}return se}};class lt{constructor(){this.specification=o.u.light.position}possiblyEvaluate(t,a){return o.F(t.expression.evaluate(a))}interpolate(t,a,u){return{x:o.G.number(t.x,a.x,u),y:o.G.number(t.y,a.y,u),z:o.G.number(t.z,a.z,u)}}}let Ze;class Ct extends o.E{constructor(t){super(),Ze=Ze||new o.t({anchor:new o.D(o.u.light.anchor),position:new lt,color:new o.D(o.u.light.color),intensity:new o.D(o.u.light.intensity)}),this._transitionable=new o.x(Ze,void 0),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,a={}){if(!this._validate(o.y,t,a))for(const u in t){const d=t[u];u.endsWith(o.z)?this._transitionable.setTransition(u.slice(0,-o.z.length),d):this._transitionable.setValue(u,d)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,a,u){return(!u||u.validate!==!1)&&o.B(this,t.call(o.C,{value:a,style:{glyphs:!0,sprite:!0},styleSpec:o.u}))}}const Ie=new o.t({"sky-color":new o.D(o.u.sky["sky-color"]),"horizon-color":new o.D(o.u.sky["horizon-color"]),"fog-color":new o.D(o.u.sky["fog-color"]),"fog-ground-blend":new o.D(o.u.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.u.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.u.sky["atmosphere-blend"])});class rt extends o.E{constructor(t){super(),this._transitionable=new o.x(Ie,void 0),this.setSky(t),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.H(0))}setSky(t,a={}){if(!this._validate(o.J,t,a)){t||(t={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const u in t){const d=t[u];u.endsWith(o.z)?this._transitionable.setTransition(u.slice(0,-o.z.length),d):this._transitionable.setValue(u,d)}}}getSky(){return this._transitionable.serialize()}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,a,u={}){return u?.validate!==!1&&o.B(this,t.call(o.C,o.e({value:a,style:{glyphs:!0,sprite:!0},styleSpec:o.u})))}calculateFogBlendOpacity(t){return t<60?0:t<70?(t-60)/10:1}}class dt{constructor(t,a){this.width=t,this.height=a,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(t,a){const u=t.join(",")+String(a);return this.dashEntry[u]||(this.dashEntry[u]=this.addDash(t,a)),this.dashEntry[u]}getDashRanges(t,a,u){const d=[];let b=t.length%2==1?-t[t.length-1]*u:0,E=t[0]*u,R=!0;d.push({left:b,right:E,isDash:R,zeroLength:t[0]===0});let k=t[0];for(let $=1;$<t.length;$++){R=!R;const Z=t[$];b=k*u,k+=Z,E=k*u,d.push({left:b,right:E,isDash:R,zeroLength:Z===0})}return d}addRoundDash(t,a,u){const d=a/2;for(let b=-u;b<=u;b++){const E=this.width*(this.nextRow+u+b);let R=0,k=t[R];for(let $=0;$<this.width;$++){$/k.right>1&&(k=t[++R]);const Z=Math.abs($-k.left),J=Math.abs($-k.right),K=Math.min(Z,J);let se;const pe=b/u*(d+1);if(k.isDash){const Ae=d-Math.abs(pe);se=Math.sqrt(K*K+Ae*Ae)}else se=d-Math.sqrt(K*K+pe*pe);this.data[E+$]=Math.max(0,Math.min(255,se+128))}}}addRegularDash(t){for(let R=t.length-1;R>=0;--R){const k=t[R],$=t[R+1];k.zeroLength?t.splice(R,1):$&&$.isDash===k.isDash&&($.left=k.left,t.splice(R,1))}const a=t[0],u=t[t.length-1];a.isDash===u.isDash&&(a.left=u.left-this.width,u.right=a.right+this.width);const d=this.width*this.nextRow;let b=0,E=t[b];for(let R=0;R<this.width;R++){R/E.right>1&&(E=t[++b]);const k=Math.abs(R-E.left),$=Math.abs(R-E.right),Z=Math.min(k,$);this.data[d+R]=Math.max(0,Math.min(255,(E.isDash?Z:-Z)+128))}}addDash(t,a){const u=a?7:0,d=2*u+1;if(this.nextRow+d>this.height)return o.w("LineAtlas out of space"),null;let b=0;for(let R=0;R<t.length;R++)b+=t[R];if(b!==0){const R=this.width/b,k=this.getDashRanges(t,this.width,R);a?this.addRoundDash(k,R,u):this.addRegularDash(k)}const E={y:this.nextRow+u,height:2*u,width:b};return this.nextRow+=d,this.dirty=!0,E}bind(t){const a=t.gl;this.texture?(a.bindTexture(a.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,a.texSubImage2D(a.TEXTURE_2D,0,0,0,this.width,this.height,a.ALPHA,a.UNSIGNED_BYTE,this.data))):(this.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.width,this.height,0,a.ALPHA,a.UNSIGNED_BYTE,this.data))}}const $e="maplibre_preloaded_worker_pool";class ft{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<ft.workerCount;)this.workers.push(new Worker(o.c.WORKER_URL));return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],this.numActive()===0&&(this.workers.forEach((a=>{a.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[$e]}numActive(){return Object.keys(this.active).length}}const mt=Math.floor(U.hardwareConcurrency/2);let me,ue;function ut(){return me||(me=new ft),me}ft.workerCount=o.K(globalThis)?Math.max(Math.min(mt,3),1):1;class qe{constructor(t,a){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=a;const u=this.workerPool.acquire(a);for(let d=0;d<u.length;d++){const b=new o.L(u[d],a);b.name=`Worker ${d}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,a){const u=[];for(const d of this.actors)u.push(d.sendAsync({type:t,data:a}));return Promise.all(u)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(t=!0){this.actors.forEach((a=>{a.remove()})),this.actors=[],t&&this.workerPool.release(this.id)}registerMessageHandler(t,a){for(const u of this.actors)u.registerMessageHandler(t,a)}unregisterMessageHandler(t){for(const a of this.actors)a.unregisterMessageHandler(t)}}function Et(){return ue||(ue=new qe(ut(),o.M),ue.registerMessageHandler("GR",((_,t,a)=>o.m(t,a)))),ue}function At(_,t){const a=o.N();return o.O(a,a,[1,1,0]),o.Q(a,a,[.5*_.width,.5*_.height,1]),_.calculatePosMatrix?o.S(a,a,_.calculatePosMatrix(t.toUnwrapped())):a}function Gt(_,t,a,u,d,b,E){var R;const k=(function(K,se,pe){if(K)for(const Ae of K){const Ce=se[Ae];if(Ce&&Ce.source===pe&&Ce.type==="fill-extrusion")return!0}else for(const Ae in se){const Ce=se[Ae];if(Ce.source===pe&&Ce.type==="fill-extrusion")return!0}return!1})((R=d?.layers)!==null&&R!==void 0?R:null,t,_.id),$=b.maxPitchScaleFactor(),Z=_.tilesIn(u,$,k);Z.sort(Jt);const J=[];for(const K of Z)J.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(t,a,_.getState(),K.queryGeometry,K.cameraQueryGeometry,K.scale,d,b,$,At(b,K.tileID),E?(se,pe)=>E(K.tileID,se,pe):void 0)});return(function(K,se){for(const pe in K)for(const Ae of K[pe])Kt(Ae,se);return K})((function(K){const se={},pe={};for(const Ae of K){const Ce=Ae.queryResults,Ee=Ae.wrappedTileID,Be=pe[Ee]=pe[Ee]||{};for(const He in Ce){const ze=Ce[He],Qe=Be[He]=Be[He]||{},We=se[He]=se[He]||[];for(const Ge of ze)Qe[Ge.featureIndex]||(Qe[Ge.featureIndex]=!0,We.push(Ge))}}return se})(J),_)}function Jt(_,t){const a=_.tileID,u=t.tileID;return a.overscaledZ-u.overscaledZ||a.canonical.y-u.canonical.y||a.wrap-u.wrap||a.canonical.x-u.canonical.x}function Kt(_,t){const a=_.feature,u=t.getFeatureState(a.layer["source-layer"],a.id);a.source=a.layer.source,a.layer["source-layer"]&&(a.sourceLayer=a.layer["source-layer"]),a.state=u}function cr(_,t,a){return o._(this,void 0,void 0,(function*(){let u=_;if(_.url?u=(yield o.j(t.transformRequest(_.url,"Source"),a)).data:yield U.frameAsync(a),!u)return null;const d=o.U(o.e(u,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in u&&u.vector_layers&&(d.vectorLayerIds=u.vector_layers.map((b=>b.id))),d}))}class tr{constructor(t,a){t&&(a?this.setSouthWest(t).setNorthEast(a):Array.isArray(t)&&(t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1])))}setNorthEast(t){return this._ne=t instanceof o.V?new o.V(t.lng,t.lat):o.V.convert(t),this}setSouthWest(t){return this._sw=t instanceof o.V?new o.V(t.lng,t.lat):o.V.convert(t),this}extend(t){const a=this._sw,u=this._ne;let d,b;if(t instanceof o.V)d=t,b=t;else{if(!(t instanceof tr))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(tr.convert(t)):this.extend(o.V.convert(t)):t&&("lng"in t||"lon"in t)&&"lat"in t?this.extend(o.V.convert(t)):this;if(d=t._sw,b=t._ne,!d||!b)return this}return a||u?(a.lng=Math.min(d.lng,a.lng),a.lat=Math.min(d.lat,a.lat),u.lng=Math.max(b.lng,u.lng),u.lat=Math.max(b.lat,u.lat)):(this._sw=new o.V(d.lng,d.lat),this._ne=new o.V(b.lng,b.lat)),this}getCenter(){return new o.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.V(this.getWest(),this.getNorth())}getSouthEast(){return new o.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:a,lat:u}=o.V.convert(t);let d=this._sw.lng<=a&&a<=this._ne.lng;return this._sw.lng>this._ne.lng&&(d=this._sw.lng>=a&&a>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&d}intersects(t){if(!((t=tr.convert(t)).getNorth()>=this.getSouth()&&t.getSouth()<=this.getNorth()))return!1;const a=Math.abs(this.getEast()-this.getWest()),u=Math.abs(t.getEast()-t.getWest());if(a>=360||u>=360)return!0;const d=o.W(this.getWest(),-180,180),b=o.W(this.getEast(),-180,180),E=o.W(t.getWest(),-180,180),R=o.W(t.getEast(),-180,180),k=d>=b,$=E>=R;return!(!k||!$)||(k?R>=d||E<=b:$?b>=E||d<=R:E<=b&&R>=d)}static convert(t){return t instanceof tr?t:t&&new tr(t)}static fromLngLat(t,a=0){const u=360*a/40075017,d=u/Math.cos(Math.PI/180*t.lat);return new tr(new o.V(t.lng-d,t.lat-u),new o.V(t.lng+d,t.lat+u))}adjustAntiMeridian(){const t=new o.V(this._sw.lng,this._sw.lat),a=new o.V(this._ne.lng,this._ne.lat);return new tr(t,t.lng>a.lng?new o.V(a.lng+360,a.lat):a)}}class ur{constructor(t,a,u){this.bounds=tr.convert(this.validateBounds(t)),this.minzoom=a||0,this.maxzoom=u||24}validateBounds(t){return Array.isArray(t)&&t.length===4?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(t){const a=Math.pow(2,t.z),u=Math.floor(o.Y(this.bounds.getWest())*a),d=Math.floor(o.X(this.bounds.getNorth())*a),b=Math.ceil(o.Y(this.bounds.getEast())*a),E=Math.ceil(o.X(this.bounds.getSouth())*a);return t.x>=u&&t.x<b&&t.y>=d&&t.y<E}}class Hr extends o.E{constructor(t,a,u,d){if(super(),this.id=t,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.U(a,["url","scheme","tileSize","promoteId","encoding"])),this._options=o.e({type:"vector"},a),this._collectResourceTiming=a.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(d)}load(){return o._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const t=yield cr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),t&&(o.e(this,t),t.bounds&&(this.tileBounds=new ur(t.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(t){this._tileJSONRequest=null,this._loaded=!0,o.Z(t)||this.fire(new o.k(t))}}))}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.abort(),t(),this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(t){return o._(this,void 0,void 0,(function*(){const a=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u={request:this.map._requestManager.transformRequest(a,"Tile"),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(t)};u.request.collectResourceTiming=this._collectResourceTiming;let d="RT";if(t.actor&&t.state!=="expired"){if(t.state==="loading")return new Promise(((b,E)=>{t.reloadPromise={resolve:b,reject:E}}))}else t.actor=this.dispatcher.getActor(),d="LT";t.abortController=new AbortController;try{const b=yield t.actor.sendAsync({type:d,data:u},t.abortController);if(delete t.abortController,t.aborted)return;this._afterTileLoadWorkerResponse(t,b)}catch(b){if(delete t.abortController,t.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(t,null)}}))}_getOverzoomParameters(t){if(t.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const a=t.tileID.scaledTo(this.maxzoom).canonical,u=a.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:a,overzoomRequest:this.map._requestManager.transformRequest(u,"Tile")}}_afterTileLoadWorkerResponse(t,a){if(a&&a.resourceTiming&&(t.resourceTiming=a.resourceTiming),a&&this.map._refreshExpiredTiles&&t.setExpiryData(a),t.loadVectorData(a,this.map.painter),t.reloadPromise){const u=t.reloadPromise;t.reloadPromise=null,this.loadTile(t).then(u.resolve).catch(u.reject)}}abortTile(t){return o._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController),t.actor&&(yield t.actor.sendAsync({type:"AT",data:{uid:t.uid,type:this.type,source:this.id}}))}))}unloadTile(t){return o._(this,void 0,void 0,(function*(){t.unloadVectorData(),t.actor&&(yield t.actor.sendAsync({type:"RMT",data:{uid:t.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class be extends o.E{constructor(t,a,u,d){super(),this.id=t,this.dispatcher=u,this.setEventedParent(d),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},a),o.e(this,o.U(a,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,(function*(t=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const a=yield cr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(o.e(this,a),a.bounds&&(this.tileBounds=new ur(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:t})))}catch(a){this._tileJSONRequest=null,this._loaded=!0,o.Z(a)||this.fire(new o.k(a))}}))}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(t){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),t(),this.load(!0)}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}serialize(){return o.e({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(t){return o._(this,void 0,void 0,(function*(){const a=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.abortController=new AbortController;try{const u=yield he.getImage(this.map._requestManager.transformRequest(a,"Tile"),t.abortController,this.map._refreshExpiredTiles);if(delete t.abortController,t.aborted)return void(t.state="unloaded");if(u&&u.data){this.map._refreshExpiredTiles&&(u.cacheControl||u.expires)&&t.setExpiryData({cacheControl:u.cacheControl,expires:u.expires});const d=this.map.painter.context,b=d.gl,E=u.data;t.texture=this.map.painter.getTileTexture(E.width),t.texture?t.texture.update(E,{useMipmap:!0}):(t.texture=new o.T(d,E,b.RGBA,{useMipmap:!0}),t.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),t.state="loaded"}}catch(u){if(delete t.abortController,t.aborted)t.state="unloaded";else if(u)throw t.state="errored",u}}))}abortTile(t){return o._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController)}))}unloadTile(t){return o._(this,void 0,void 0,(function*(){t.texture&&this.map.painter.saveTileTexture(t.texture)}))}hasTransition(){return!1}}class te extends be{constructor(t,a,u,d){super(t,a,u,d),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox",this.redFactor=a.redFactor,this.greenFactor=a.greenFactor,this.blueFactor=a.blueFactor,this.baseShift=a.baseShift}loadTile(t){return o._(this,void 0,void 0,(function*(){const a=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u=this.map._requestManager.transformRequest(a,"Tile");t.neighboringTiles=this._getNeighboringTiles(t.tileID),t.abortController=new AbortController;try{const d=yield he.getImage(u,t.abortController,this.map._refreshExpiredTiles);if(delete t.abortController,t.aborted)return void(t.state="unloaded");if(d&&d.data){const b=d.data;this.map._refreshExpiredTiles&&(d.cacheControl||d.expires)&&t.setExpiryData({cacheControl:d.cacheControl,expires:d.expires});const E=o.b(b)&&o.$()?b:yield this.readImageNow(b),R={type:this.type,uid:t.uid,source:this.id,rawImageData:E,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!t.actor||t.state==="expired"){t.actor=this.dispatcher.getActor();const k=yield t.actor.sendAsync({type:"LDT",data:R});t.dem=k,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded"}}}catch(d){if(delete t.abortController,t.aborted)t.state="unloaded";else if(d)throw t.state="errored",d}}))}readImageNow(t){return o._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&o.a0()){const a=t.width+2,u=t.height+2;try{return new o.R({width:a,height:u},yield o.a1(t,-1,-1,a,u))}catch{}}return U.getImageData(t,1)}))}_getNeighboringTiles(t){const a=t.canonical,u=Math.pow(2,a.z),d=(a.x-1+u)%u,b=a.x===0?t.wrap-1:t.wrap,E=(a.x+1+u)%u,R=a.x+1===u?t.wrap+1:t.wrap,k={};return k[new o.a2(t.overscaledZ,b,a.z,d,a.y).key]={backfilled:!1},k[new o.a2(t.overscaledZ,R,a.z,E,a.y).key]={backfilled:!1},a.y>0&&(k[new o.a2(t.overscaledZ,b,a.z,d,a.y-1).key]={backfilled:!1},k[new o.a2(t.overscaledZ,t.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},k[new o.a2(t.overscaledZ,R,a.z,E,a.y-1).key]={backfilled:!1}),a.y+1<u&&(k[new o.a2(t.overscaledZ,b,a.z,d,a.y+1).key]={backfilled:!1},k[new o.a2(t.overscaledZ,t.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},k[new o.a2(t.overscaledZ,R,a.z,E,a.y+1).key]={backfilled:!1}),k}unloadTile(t){return o._(this,void 0,void 0,(function*(){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&(yield t.actor.sendAsync({type:"RDT",data:{type:this.type,uid:t.uid,source:this.id}}))}))}}function ie(_){return _.type==="GeometryCollection"?_.geometries.map((t=>t.coordinates)).flat(1/0):_.coordinates.flat(1/0)}function ke(_){const t=new tr;let a;switch(_.type){case"FeatureCollection":a=_.features.map((u=>ie(u.geometry))).flat(1/0);break;case"Feature":a=ie(_.geometry);break;default:a=ie(_)}if(a.length==0)return t;for(let u=0;u<a.length-1;u+=2)t.extend([a[u],a[u+1]]);return t}class it extends o.E{constructor(t,a,u,d){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:a.data},this.actor=u.getActor(),this.setEventedParent(d),this._data=typeof a.data=="string"?{url:a.data}:{geojson:a.data},this._options=o.e({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId,a.clusterMaxZoom!==void 0&&this.maxzoom<=a.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${a.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(a.buffer!==void 0?a.buffer:128),tolerance:this._pixelsToTileUnits(a.tolerance!==void 0?a.tolerance:.375),extent:o.a5,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(a.clusterMaxZoom),minPoints:Math.max(2,a.clusterMinPoints||2),extent:o.a5,radius:this._pixelsToTileUnits(a.clusterRadius||50),log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(t){return t*(o.a5/this.tileSize)}_getClusterMaxZoom(t){const a=t?Math.round(t):this.maxzoom-1;return Number.isInteger(t)||t===void 0||o.w(`Integer expected for option 'clusterMaxZoom': provided value "${t}" rounded to "${a}"`),a}load(){return o._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(t){this.map=t,this.load()}setData(t,a){this._data=typeof t=="string"?{url:t}:{geojson:t},this._pendingWorkerUpdate={data:t};const u=this._updateWorkerData();return a?u:this}updateData(t,a){this._pendingWorkerUpdate.diff=o.a6(this._pendingWorkerUpdate.diff,t);const u=this._updateWorkerData();return a?u:this}getData(){return o._(this,void 0,void 0,(function*(){const t=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:t})}))}getBounds(){return o._(this,void 0,void 0,(function*(){return ke(yield this.getData())}))}setClusterOptions(t){return this.workerOptions.cluster=t.cluster,t.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(t.clusterRadius)),t.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(t.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(t){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:t,source:this.id}})}getClusterChildren(t){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:t,source:this.id}})}getClusterLeaves(t,a,u){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:t,limit:a,offset:u}})}_updateWorkerData(){return o._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void o.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:t,diff:a}=this._pendingWorkerUpdate,u=o.e({type:this.type},this.workerOptions);t!==void 0?(typeof t=="string"?(u.request=this.map._requestManager.transformRequest(U.resolveURL(t),"Source"),u.request.collectResourceTiming=this._collectResourceTiming):u.data=t,this._pendingWorkerUpdate.data=void 0):a&&(u.dataDiff=a,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new o.l("dataloading",{dataType:"source"}));try{const d=yield this.actor.sendAsync({type:"LD",data:u});if(this._isUpdatingWorker=!1,this._removed||d.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));d.data&&(this._data={geojson:d.data});const b=this._applyDiffToSource(a),E=this._getShouldReloadTileOptions(b);let R=null;d.resourceTiming&&d.resourceTiming[this.id]&&(R=d.resourceTiming[this.id].slice(0));const k={dataType:"source"};this._collectResourceTiming&&R&&R.length>0&&o.e(k,{resourceTiming:R}),this.fire(new o.l("data",Object.assign(Object.assign({},k),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},k),{sourceDataType:"content",shouldReloadTileOptions:E})))}catch(d){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(d))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiffToSource(t){if(!t)return;const a=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){const d=o.a7(this._data.geojson,a);if(!d)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:d}}if(!this._data.updateable)return;const u=o.a8(this._data.updateable,t,a);return t.removeAll||this._options.cluster?void 0:u}_getShouldReloadTileOptions(t){if(t)return{affectedBounds:t.filter(Boolean).map((a=>ke(a)))}}shouldReloadTile(t,{affectedBounds:a}){if(t.state==="loading")return!0;if(t.state==="unloaded")return!1;const{buffer:u,extent:d}=this.workerOptions.geojsonVtOptions,b=(function({x:E,y:R,z:k},$=0){const Z=o.a3((E-$)/Math.pow(2,k)),J=o.a4((R+1+$)/Math.pow(2,k)),K=o.a3((E+1+$)/Math.pow(2,k)),se=o.a4((R-$)/Math.pow(2,k));return new tr([Z,J],[K,se])})(t.tileID.canonical,u/d);for(const E of a)if(b.intersects(E))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(t){return o._(this,void 0,void 0,(function*(){const a=t.actor?"RT":"LT";t.actor=this.actor;const u={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};t.abortController=new AbortController;const d=yield this.actor.sendAsync({type:a,data:u},t.abortController);delete t.abortController,t.unloadVectorData(),t.aborted||t.loadVectorData(d,this.map.painter,a==="RT")}))}abortTile(t){return o._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController),t.aborted=!0}))}unloadTile(t){return o._(this,void 0,void 0,(function*(){t.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:t.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class It extends o.E{constructor(t,a,u,d){super(),this.flippedWindingOrder=!1,this.id=t,this.dispatcher=u,this.coordinates=a.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(d),this.options=a}load(t){return o._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const a=yield he.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,a&&a.data&&(this.image=a.data,t&&(this.coordinates=t),this._finishLoading())}catch(a){this._request=null,this._loaded=!0,o.Z(a)||this.fire(new o.k(a))}}))}loaded(){return this._loaded}updateImage(t){return t.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=t.url,this.load(t.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(t){this.coordinates=t;const a=t.map(o.a9.fromLngLat);var u;return this.tileID=(function(d){const b=o.aa.fromPoints(d),E=b.width(),R=b.height(),k=Math.max(E,R),$=Math.max(0,Math.floor(-Math.log(k)/Math.LN2)),Z=Math.pow(2,$);return new o.ac($,Math.floor((b.minX+b.maxX)/2*Z),Math.floor((b.minY+b.maxY)/2*Z))})(a),this.terrainTileRanges=this._getOverlappingTileRanges(a),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=a.map((d=>this.tileID.getTilePoint(d)._round())),this.flippedWindingOrder=((u=this.tileCoords)[1].x-u[0].x)*(u[2].y-u[0].y)-(u[1].y-u[0].y)*(u[2].x-u[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const t=this.map.painter.context,a=t.gl;this.texture||(this.texture=new o.T(t,this.image,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE));let u=!1;for(const d in this.tiles){const b=this.tiles[d];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,u=!0)}u&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(t){return o._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={}):t.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(t){const{minX:a,minY:u,maxX:d,maxY:b}=o.aa.fromPoints(t),E={};for(let R=0;R<=o.ab;R++){const k=Math.pow(2,R),$=Math.floor(a*k),Z=Math.floor(u*k),J=Math.floor(d*k),K=Math.floor(b*k);E[R]={minTileX:$,minTileY:Z,maxTileX:J,maxTileY:K}}return E}}class Re extends It{constructor(t,a,u,d){super(t,a,u,d),this.roundZoom=!0,this.type="video",this.options=a}load(){return o._(this,void 0,void 0,(function*(){this._loaded=!1;const t=this.options;this.urls=[];for(const a of t.urls)this.urls.push(this.map._requestManager.transformRequest(a,"Source").url);try{const a=yield o.ad(this.urls);if(this._loaded=!0,!a)return;this.video=a,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(a){this.fire(new o.k(a))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const a=this.video.seekable;t<a.start(0)||t>a.end(0)?this.fire(new o.k(new o.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const t=this.map.painter.context,a=t.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(t,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE));let u=!1;for(const d in this.tiles){const b=this.tiles[d];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,u=!0)}u&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class le extends It{constructor(t,a,u,d){super(t,a,u,d),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some((b=>!Array.isArray(b)||b.length!==2||b.some((E=>typeof E!="number"))))||this.fire(new o.k(new o.ae(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.k(new o.ae(`sources.${t}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new o.k(new o.ae(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.ae(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.k(new o.ae(`sources.${t}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){return o._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const a=this.map.painter.context,u=a.gl;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new o.T(a,this.canvas,u.RGBA,{premultiply:!0}),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let d=!1;for(const b in this.tiles){const E=this.tiles[b];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture,d=!0)}d&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}const de={},ge=_=>{switch(_){case"geojson":return it;case"image":return It;case"raster":return be;case"raster-dem":return te;case"vector":return Hr;case"video":return Re;case"canvas":return le}return de[_]},Ue="RTLPluginLoaded";class De extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Et()}_syncState(t){return this.status=t,this.dispatcher.broadcast("SRPS",{pluginStatus:t,pluginURL:this.url}).catch((a=>{throw this.status="error",a}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(t){return o._(this,arguments,void 0,(function*(a,u=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=U.resolveURL(a),!this.url)throw new Error(`requested url ${a} is invalid`);if(this.status==="unavailable"){if(!u)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return o._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Ue))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ht=null;function ot(){return ht||(ht=new De),ht}var Ye,st;(function(_){_[_.Base=0]="Base",_[_.Parent=1]="Parent"})(Ye||(Ye={})),(function(_){_[_.Departing=0]="Departing",_[_.Incoming=1]="Incoming"})(st||(st={}));class Me{constructor(t,a){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=t,this.uid=o.af(),this.uses=0,this.tileSize=a,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(t){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(t||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:t,fadingDirection:a,fadingParentID:u,fadeEndTime:d}){this.resetFadeLogic(),this.fadingRole=t,this.fadingDirection=a,this.fadingParentID=u,this.fadeEndTime=d}setSelfFadeLogic(t){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=t}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=j(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(t){this.demTexture&&t.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(t,a,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData,this.latestFeatureIndex.encoding=t.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=(function(d,b){const E={};if(!b)return E;for(const R of d){const k=R.layerIds.map(($=>b.getLayer($))).filter(Boolean);if(k.length!==0){R.layers=k,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(($=>k.filter((Z=>Z.id===$))[0])));for(const $ of k)E[$.id]=R}}return E})(t.buckets,a?.style),this.hasSymbolBuckets=!1;for(const d in this.buckets){const b=this.buckets[d];if(b instanceof o.ah){if(this.hasSymbolBuckets=!0,!u)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const d in this.buckets){const b=this.buckets[d];if(b instanceof o.ah&&b.hasRTLText){this.hasRTLText=!0,ot().lazyLoad();break}}this.queryPadding=0;for(const d in this.buckets){const b=this.buckets[d];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(d).queryRadius(b))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),this.dashPositions=t.dashPositions}else this.collisionBoxArray=new o.ag}unloadVectorData(){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(t){return this.buckets[t.id]}upload(t){for(const u in this.buckets){const d=this.buckets[u];d.uploadPending()&&d.upload(t)}const a=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new o.T(t,this.imageAtlas.image,a.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new o.T(t,this.glyphAtlasImage,a.ALPHA),this.glyphAtlasImage=null)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,a,u,d,b,E,R,k,$,Z,J){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:d,cameraQueryGeometry:b,scale:E,tileSize:this.tileSize,pixelPosMatrix:Z,transform:k,params:R,queryPadding:this.queryPadding*$,getElevation:J},t,a,u):{}}querySourceFeatures(t,a){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const d=u.loadVTLayers(),b=a&&a.sourceLayer?a.sourceLayer:"",E=d[o.ai]||d[b];if(!E)return;const R=o.aj(a?.filter,a?.globalState),{z:k,x:$,y:Z}=this.tileID.canonical,J={z:k,x:$,y:Z};for(let K=0;K<E.length;K++){const se=E.feature(K);if(R.needGeometry){const Ce=o.ak(se,!0);if(!R.filter(new o.H(this.tileID.overscaledZ),Ce,this.tileID.canonical))continue}else if(!R.filter(new o.H(this.tileID.overscaledZ),se))continue;const pe=u.getId(se,b),Ae=new o.al(se,k,$,Z,pe);Ae.tile=J,t.push(Ae)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const a=this.expirationTime;if(t.cacheControl){const u=o.am(t.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const u=Date.now();let d=!1;if(this.expirationTime>u)d=!1;else if(a)if(this.expirationTime<a)d=!0;else{const b=this.expirationTime-a;b?this.expirationTime=u+Math.max(b,3e4):d=!0}else d=!0;d?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,a){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0)return;const u=this.latestFeatureIndex.loadVTLayers();for(const d in this.buckets){if(!a.style.hasLayer(d))continue;const b=this.buckets[d],E=b.layers[0].sourceLayer||o.ai,R=u[E],k=t[E];if(!R||!k||Object.keys(k).length===0)continue;b.update(k,R,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const $=a&&a.style&&a.style.getLayer(d);$&&(this.queryPadding=Math.max(this.queryPadding,$.queryRadius(b)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<j()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(t){this.symbolFadeHoldUntil=j()+t}setDependencies(t,a){const u={};for(const d of a)u[d]=!0;this.dependencies[t]=u}hasDependency(t,a){for(const u of t){const d=this.dependencies[u];if(d){for(const b of a)if(d[b])return!0}}return!1}}class Oe{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,a,u){const d=String(a);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][d]=this.stateChanges[t][d]||{},o.e(this.stateChanges[t][d],u),this.deletedStates[t]===null){this.deletedStates[t]={};for(const b in this.state[t])b!==d&&(this.deletedStates[t][b]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][d]===null){this.deletedStates[t][d]={};for(const b in this.state[t][d])u[b]||(this.deletedStates[t][d][b]=null)}else for(const b in u)this.deletedStates[t]&&this.deletedStates[t][d]&&this.deletedStates[t][d][b]===null&&delete this.deletedStates[t][d][b]}removeFeatureState(t,a,u){if(this.deletedStates[t]===null)return;const d=String(a);if(this.deletedStates[t]=this.deletedStates[t]||{},u&&a!==void 0)this.deletedStates[t][d]!==null&&(this.deletedStates[t][d]=this.deletedStates[t][d]||{},this.deletedStates[t][d][u]=null);else if(a!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][d])for(u in this.deletedStates[t][d]={},this.stateChanges[t][d])this.deletedStates[t][d][u]=null;else this.deletedStates[t][d]=null;else this.deletedStates[t]=null}getState(t,a){const u=String(a),d=o.e({},(this.state[t]||{})[u],(this.stateChanges[t]||{})[u]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const b=this.deletedStates[t][a];if(b===null)return{};for(const E in b)delete d[E]}return d}initializeTileState(t,a){t.setFeatureState(this.state,a)}coalesceChanges(t,a){const u={};for(const d in this.stateChanges){this.state[d]=this.state[d]||{};const b={};for(const E in this.stateChanges[d])this.state[d][E]||(this.state[d][E]={}),o.e(this.state[d][E],this.stateChanges[d][E]),b[E]=this.state[d][E];u[d]=b}for(const d in this.deletedStates){this.state[d]=this.state[d]||{};const b={};if(this.deletedStates[d]===null)for(const E in this.state[d])b[E]={},this.state[d][E]={};else for(const E in this.deletedStates[d]){if(this.deletedStates[d][E]===null)this.state[d][E]={};else for(const R of Object.keys(this.deletedStates[d][E]))delete this.state[d][E][R];b[E]=this.state[d][E]}u[d]=u[d]||{},o.e(u[d],b)}this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0&&t.setFeatureState(u,a)}}const Ot=89.25;function $t(_,t){const a=o.an(t.lat,-o.ao,o.ao);return new o.P(o.Y(t.lng)*_,o.X(a)*_)}function Qt(_,t){return new o.a9(t.x/_,t.y/_).toLngLat()}function Xt(_){return _.cameraToCenterDistance*Math.min(.85*Math.tan(o.ap(90-_.pitch)),Math.tan(o.ap(Ot-_.pitch)))}function hr(_,t){const a=_.canonical,u=t/o.aq(a.z),d=a.x+Math.pow(2,a.z)*_.wrap,b=o.ar(new Float64Array(16));return o.O(b,b,[d*u,a.y*u,0]),o.Q(b,b,[u/o.a5,u/o.a5,1]),b}function ct(_,t,a,u,d){const b=o.a9.fromLngLat(_,t),E=d*o.as(1,_.lat),{x:R,y:k,z:$}=gr(a,u);return new o.a9(b.x+E*-R,b.y+E*-k,b.z+E*-$)}function gr(_,t){const a=o.ap(_),u=o.ap(t),d=Math.cos(-a),b=Math.sin(a);return{x:b*Math.sin(u),y:-b*Math.cos(u),z:d}}function tn(_,t,a){const u=t.intersectsFrustum(_);if(!a||u===0)return u;const d=t.intersectsPlane(a);return d===0?0:u===2&&d===2?2:1}function vr(_,t,a){let u=0;const d=(a-t)/10;for(let b=0;b<10;b++)u+=d*Math.pow(Math.cos(t+(b+.5)/10*(a-t)),_);return u}function Mr(_,t){return function(a,u,d,b,E){const R=2*((_-1)/o.at(Math.cos(o.ap(Ot-E))/Math.cos(o.ap(Ot)))-1),k=Math.acos(d/b),$=2*vr(R-1,0,o.ap(E/2)),Z=Math.min(o.ap(Ot),k+o.ap(E/2)),J=vr(R-1,Math.min(Z,k-o.ap(E/2)),Z),K=Math.atan(u/d),se=Math.hypot(u,d);let pe=a;return pe+=o.at(b/se/Math.max(.5,Math.cos(o.ap(E/2)))),pe+=R*o.at(Math.cos(K))/2,pe-=o.at(Math.max(1,J/$/t))/2,pe}}const Kr=Mr(9.314,3);function Ur(_,t){const a=(t.roundZoom?Math.round:Math.floor)(_.zoom+o.at(_.tileSize/t.tileSize));return Math.max(0,a)}function zr(_,t){const a=_.getCameraFrustum(),u=_.getClippingPlane(),d=_.screenPointToMercatorCoordinate(_.getCameraPoint()),b=o.a9.fromLngLat(_.center,_.elevation);d.z=b.z+Math.cos(_.pitchInRadians)*_.cameraToCenterDistance/_.worldSize;const E=_.getCoveringTilesDetailsProvider(),R=E.allowVariableZoom(_,t),k=Ur(_,t),$=t.minzoom||0,Z=t.maxzoom!==void 0?t.maxzoom:_.maxZoom,J=Math.min(Math.max(0,k),Z),K=Math.pow(2,J),se=[K*d.x,K*d.y,0],pe=[K*b.x,K*b.y,0],Ae=Math.hypot(b.x-d.x,b.y-d.y),Ce=Math.abs(b.z-d.z),Ee=Math.hypot(Ae,Ce),Be=Qe=>({zoom:0,x:0,y:0,wrap:Qe,fullyVisible:!1}),He=[],ze=[];if(_.renderWorldCopies&&E.allowWorldCopies())for(let Qe=1;Qe<=3;Qe++)He.push(Be(-Qe)),He.push(Be(Qe));for(He.push(Be(0));He.length>0;){const Qe=He.pop(),We=Qe.x,Ge=Qe.y;let nt=Qe.fullyVisible;const xt={x:We,y:Ge,z:Qe.zoom},gt=E.getTileBoundingVolume(xt,Qe.wrap,_.elevation,t);if(!nt){const Zt=tn(a,gt,u);if(Zt===0)continue;nt=Zt===2}const vt=E.distanceToTile2d(d.x,d.y,xt,gt);let bt=k;R&&(bt=(t.calculateTileZoom||Kr)(_.zoom+o.at(_.tileSize/t.tileSize),vt,Ce,Ee,_.fov)),bt=(t.roundZoom?Math.round:Math.floor)(bt),bt=Math.max(0,bt);const Ht=Math.min(bt,Z);if(Qe.wrap=E.getWrap(b,xt,Qe.wrap),Qe.zoom>=Ht){if(Qe.zoom<$)continue;const Zt=J-Qe.zoom,zt=se[0]-.5-(We<<Zt),Yt=se[1]-.5-(Ge<<Zt),Er=t.reparseOverscaled?Math.max(Qe.zoom,bt):Qe.zoom;ze.push({tileID:new o.a2(Qe.zoom===Z?Er:Qe.zoom,Qe.wrap,Qe.zoom,We,Ge),distanceSq:o.au([pe[0]-.5-We,pe[1]-.5-Ge]),tileDistanceToCamera:Math.sqrt(zt*zt+Yt*Yt)})}else for(let Zt=0;Zt<4;Zt++)He.push({zoom:Qe.zoom+1,x:(We<<1)+Zt%2,y:(Ge<<1)+(Zt>>1),wrap:Qe.wrap,fullyVisible:nt})}return ze.sort(((Qe,We)=>Qe.distanceSq-We.distanceSq)).map((Qe=>Qe.tileID))}const Zr=o.aa.fromPoints([new o.P(0,0),new o.P(o.a5,o.a5)]);function Pr(_){return _==="raster"||_==="image"||_==="video"}function ua(_,t,a,u,d,b,E){if(!t.hasData())return!1;const{tileID:R,fadingRole:k,fadingDirection:$,fadingParentID:Z}=t;if(k===Ye.Base&&$===st.Incoming&&Z)return a[Z.key]=Z,!0;const J=Math.max(R.overscaledZ-d,b);for(let K=R.overscaledZ-1;K>=J;K--){const se=R.scaledTo(K),pe=_.getLoadedTile(se);if(pe)return t.setCrossFadeLogic({fadingRole:Ye.Base,fadingDirection:st.Incoming,fadingParentID:pe.tileID,fadeEndTime:u+E}),pe.setCrossFadeLogic({fadingRole:Ye.Parent,fadingDirection:st.Departing,fadeEndTime:u+E}),a[se.key]=se,!0}return!1}function Fi(_,t,a,u,d,b){if(!t.hasData())return!1;const E=t.tileID.children(d);let R=Ft(_,t,E,a,u,d,b);if(R)return!0;for(const k of E)Ft(_,t,k.children(d),a,u,d,b)&&(R=!0);return R}function Ft(_,t,a,u,d,b,E){if(a[0].overscaledZ>=b)return!1;let R=!1;for(const k of a){const $=_.getLoadedTile(k);if(!$)continue;const{fadingRole:Z,fadingDirection:J,fadingParentID:K}=$;Z===Ye.Base&&J===st.Departing&&K||($.setCrossFadeLogic({fadingRole:Ye.Base,fadingDirection:st.Departing,fadingParentID:t.tileID,fadeEndTime:d+E}),t.setCrossFadeLogic({fadingRole:Ye.Parent,fadingDirection:st.Incoming,fadeEndTime:d+E})),u[k.key]=k,R=!0}return R}function Nn(_,t,a,u){const d=_.tileID;return!!_.selfFading||!_.hasData()&&!!t.has(d)&&(_.setSelfFadeLogic(a+u),!0)}function Fn(_,t){var a;_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let u=t.tileID.canonical.x-_.tileID.canonical.x;const d=t.tileID.canonical.y-_.tileID.canonical.y,b=Math.pow(2,_.tileID.canonical.z),E=t.tileID.key;u===0&&d===0||Math.abs(d)>1||(Math.abs(u)>1&&(Math.abs(u+b)===1?u+=b:Math.abs(u-b)===1&&(u-=b)),t.dem&&_.dem&&(_.dem.backfillBorder(t.dem,u,d),!((a=_.neighboringTiles)===null||a===void 0)&&a[E]&&(_.neighboringTiles[E].backfilled=!0)))}class wi{constructor(){this._tiles={}}handleWrapJump(t){const a={};for(const u in this._tiles){const d=this._tiles[u];d.tileID=d.tileID.unwrapTo(d.tileID.wrap+t),a[d.tileID.key]=d}this._tiles=a}setFeatureState(t,a){for(const u in this._tiles)this._tiles[u].setFeatureState(t,a)}getAllTiles(){return Object.values(this._tiles)}getAllIds(t=!1){return t?Object.values(this._tiles).map((a=>a.tileID)).sort(o.aw).map((a=>a.key)):Object.keys(this._tiles)}getTileById(t){return this._tiles[t]}setTile(t,a){this._tiles[t]=a}deleteTileById(t){delete this._tiles[t]}getLoadedTile(t){const a=this.getTileById(t.key);return a?.hasData()?a:null}isIdRenderable(t,a=!1){var u;return(u=this.getTileById(t))===null||u===void 0?void 0:u.isRenderable(a)}getRenderableIds(t=0,a){const u=[];for(const d of this.getAllIds())this.isIdRenderable(d,a)&&u.push(this.getTileById(d));return a?u.sort(((d,b)=>{const E=d.tileID,R=b.tileID,k=new o.P(E.canonical.x,E.canonical.y)._rotate(-t),$=new o.P(R.canonical.x,R.canonical.y)._rotate(-t);return E.overscaledZ-R.overscaledZ||$.y-k.y||$.x-k.x})).map((d=>d.tileID.key)):u.map((d=>d.tileID)).sort(o.aw).map((d=>d.key))}}class Yr extends o.E{constructor(t,a,u){super(),this.id=t,this.dispatcher=u,this.on("data",(d=>this._dataHandler(d))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((d,b,E,R)=>{const k=new(ge(b.type))(d,b,E,R);if(k.id!==d)throw new Error(`Expected Source id to be ${d} instead of ${k.id}`);return k})(t,a,u,this),this._inViewTiles=new wi,this._outOfViewCache=new o.ax(0,(d=>this._unloadTile(d))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new Oe,this._didEmitContent=!1,this._updated=!1}onAdd(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._maxTileCacheZoomLevels=t?t._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(t)}onRemove(t){for(const a of this._inViewTiles.getAllTiles())a.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(t),this._inViewTiles=new wi}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const t of this._inViewTiles.getAllTiles())if(t.state!=="loaded"&&t.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(t,a,u){return o._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(t),this._tileLoaded(t,a,u)}catch(d){t.state="errored",d.status!==404?this._source.fire(new o.k(d,{tile:t})):this.update(this.transform,this.terrain)}}))}_unloadTile(t){this._source.unloadTile&&this._source.unloadTile(t)}_abortTile(t){this._source.abortTile&&this._source.abortTile(t),this._source.fire(new o.l("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const a of this._inViewTiles.getAllTiles())a.upload(t),a.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(t){var a;return this._inViewTiles.getRenderableIds((a=this.transform)===null||a===void 0?void 0:a.bearingInRadians,t)}hasRenderableParent(t){const a=t.overscaledZ-1;if(a>=this._source.minzoom){const u=this.getLoadedTile(t.scaledTo(a));if(u)return this._inViewTiles.isIdRenderable(u.tileID.key)}return!1}reload(t,a=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const u of this._inViewTiles.getAllIds()){const d=this._inViewTiles.getTileById(u);a&&!this._source.shouldReloadTile(d,a)||(t?this._reloadTile(u,"expired"):d.state!=="errored"&&this._reloadTile(u,"reloading"))}}}_reloadTile(t,a){return o._(this,void 0,void 0,(function*(){const u=this._inViewTiles.getTileById(t);u&&(u.state!=="loading"&&(u.state=a),yield this._loadTile(u,t,a))}))}_tileLoaded(t,a,u){t.timeAdded=j(),t.selfFading&&(t.fadeEndTime=t.timeAdded+this._rasterFadeDuration),u==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(a,t),this.getSource().type==="raster-dem"&&t.dem&&(function(d,b){var E,R;const k=b.getRenderableIds();for(const $ of k){if(!d.neighboringTiles||!d.neighboringTiles[$])continue;const Z=b.getTileById($);d.neighboringTiles[$].backfilled||Fn(d,Z),!((R=(E=Z.neighboringTiles)===null||E===void 0?void 0:E[d.tileID.key])===null||R===void 0)&&R.backfilled||Fn(Z,d)}})(t,this._inViewTiles),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:t,coord:t.tileID}))}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._inViewTiles.getTileById(t)}_retainLoadedChildren(t,a){const u=this._getLoadedDescendents(a),d=new Set;for(const b of a){const E=u[b.key];if(!E?.length){d.add(b);continue}const R=b.overscaledZ+Yr.maxOverzooming,k=E.filter((J=>J.tileID.overscaledZ<=R));if(!k.length){d.add(b);continue}const $=Math.min(...k.map((J=>J.tileID.overscaledZ))),Z=k.filter((J=>J.tileID.overscaledZ===$)).map((J=>J.tileID));for(const J of Z)t[J.key]=J;this._areDescendentsComplete(Z,$,b.overscaledZ)||d.add(b)}return d}_getLoadedDescendents(t){var a;const u={};for(const d of this._inViewTiles.getAllTiles().filter((b=>b.hasData())))for(const b of t)d.tileID.isChildOf(b)&&(u[a=b.key]||(u[a]=[])).push(d);return u}_areDescendentsComplete(t,a,u){return t.length===1&&t[0].isOverscaled()?t[0].overscaledZ===a:Math.pow(4,a-u)===t.length}getLoadedTile(t){return this._inViewTiles.getLoadedTile(t)}updateCacheSize(t){const a=Math.ceil(t.width/this._source.tileSize)+1,u=Math.ceil(t.height/this._source.tileSize)+1,d=Math.floor(a*u*(this._maxTileCacheZoomLevels===null?o.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,d):d;this._outOfViewCache.setMaxSize(b)}handleWrapJump(t){const a=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);this._prevLng=t,a&&(this._inViewTiles.handleWrapJump(a),this._resetTileReloadTimers())}update(t,a){if(!this._sourceLoaded||this._paused)return;let u;this.transform=t,this.terrain=a,this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?u=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((k=>new o.a2(k.canonical.z,k.wrap,k.canonical.z,k.canonical.x,k.canonical.y))):(u=zr(t,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?t.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:a,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(u=u.filter((k=>this._source.hasTile(k))))):u=[],this.usedForTerrain&&(u=this._addTerrainIdealTiles(u));const d=u.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,d&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const b=Ur(t,this._source),E=this._updateRetainedTiles(u,b),R=Pr(this._source.type);R&&this._rasterFadeDuration>0&&!a&&(function(k,$,Z,J,K,se,pe){const Ae=j(),Ce=o.av($);for(const Ee of $){const Be=k.getTileById(Ee.key);Be.fadingDirection!==st.Departing&&Be.fadeOpacity!==0||Be.resetFadeLogic(),ua(k,Be,Z,Ae,J,K,pe)||Fi(k,Be,Z,Ae,se,pe)||Nn(Be,Ce,Ae,pe)||Be.resetFadeLogic()}})(this._inViewTiles,u,E,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),R?this._cleanUpRasterTiles(E):this._cleanUpVectorTiles(E)}_cleanUpRasterTiles(t){for(const a of this._inViewTiles.getAllIds())t[a]||this._removeTile(a)}_cleanUpVectorTiles(t){for(const a of this._inViewTiles.getAllIds()){const u=this._inViewTiles.getTileById(a);t[a]?u.clearSymbolFadeHold():u.hasSymbolBuckets?u.holdingForSymbolFade()?u.symbolFadeFinished()&&this._removeTile(a):u.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(a)}}_addTerrainIdealTiles(t){const a=[];for(const u of t)if(u.canonical.z>this._source.minzoom){const d=u.scaledTo(u.canonical.z-1);a.push(d);const b=u.scaledTo(Math.max(this._source.minzoom,Math.min(u.canonical.z,5)));a.push(b)}return t.concat(a)}releaseSymbolFadeTiles(){for(const t of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(t).holdingForSymbolFade()&&this._removeTile(t)}_updateRetainedTiles(t,a){var u;const d=new Set;for(const $ of t)this._addTile($).hasData()||d.add($);const b=t.reduce((($,Z)=>($[Z.key]=Z,$)),{}),E=this._retainLoadedChildren(b,d),R={},k=Math.max(a-Yr.maxUnderzooming,this._source.minzoom);for(const $ of E){let Z=this._inViewTiles.getTileById($.key),J=Z?.wasRequested();for(let K=$.overscaledZ-1;K>=k;--K){const se=$.scaledTo(K);if(R[se.key])break;if(R[se.key]=!0,Z=this.getTile(se),!Z&&J&&(Z=this._addTile(se)),Z){const pe=Z.hasData();if((pe||!(!((u=this.map)===null||u===void 0)&&u.cancelPendingTileRequestsWhileZooming)||J)&&(b[se.key]=se),J=Z.wasRequested(),pe)break}}}return b}_addTile(t){let a=this._inViewTiles.getTileById(t.key);if(a)return a;a=this._outOfViewCache.getAndRemove(t),a&&(a.resetFadeLogic(),this._setTileReloadTimer(t.key,a),a.tileID=t,this._state.initializeTileState(a,this.map?this.map.painter:null));const u=a;return a||(a=new Me(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(a,t.key,a.state)),a.uses++,this._inViewTiles.setTile(t.key,a),u||this._source.fire(new o.l("dataloading",{tile:a,coord:a.tileID,dataType:"source"})),a}_setTileReloadTimer(t,a){this._clearTileReloadTimer(t);const u=a.getExpiryTimeout();u&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,"expired"),delete this._timers[t]}),u))}_clearTileReloadTimer(t){const a=this._timers[t];a&&(clearTimeout(a),delete this._timers[t])}_resetTileReloadTimers(){for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t of this._inViewTiles.getAllIds()){const a=this._inViewTiles.getTileById(t);this._setTileReloadTimer(t,a)}}refreshTiles(t){for(const a of this._inViewTiles.getAllIds()){const u=this._inViewTiles.getTileById(a);(this._inViewTiles.isIdRenderable(a)||u.state=="errored")&&t.some((d=>d.equals(u.tileID.canonical)))&&this._reloadTile(a,"expired")}}_removeTile(t){const a=this._inViewTiles.getTileById(t);a&&(a.uses--,this._inViewTiles.deleteTileById(t),this._clearTileReloadTimer(t),a.uses>0||(a.hasData()&&a.state!=="reloading"?this._outOfViewCache.add(a.tileID,a,a.getExpiryTimeout()):(a.aborted=!0,this._abortTile(a),this._unloadTile(a))))}_dataHandler(t){t.dataType==="source"&&(t.sourceDataType!=="metadata"?t.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(t.sourceDataChanged,t.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t of this._inViewTiles.getAllIds())this._removeTile(t);this._outOfViewCache.reset()}tilesIn(t,a,u){const d=[],b=this.transform;if(!b)return d;const E=b.getCoveringTilesDetailsProvider().allowWorldCopies(),R=u?b.getCameraQueryGeometry(t):t,k=se=>b.screenPointToMercatorCoordinate(se,this.terrain),$=this.transformBbox(t,k,!E),Z=this.transformBbox(R,k,!E),J=this.getIds(),K=o.aa.fromPoints(Z);for(let se=0;se<J.length;se++){const pe=this._inViewTiles.getTileById(J[se]);if(pe.holdingForSymbolFade())continue;const Ae=E?[pe.tileID]:[pe.tileID.unwrapTo(-1),pe.tileID.unwrapTo(0)],Ce=Math.pow(2,b.zoom-pe.tileID.overscaledZ),Ee=a*pe.queryPadding*o.a5/pe.tileSize/Ce;for(const Be of Ae){const He=K.map((ze=>Be.getTilePoint(new o.a9(ze.x,ze.y))));if(He.expandBy(Ee),He.intersects(Zr)){const ze=$.map((We=>Be.getTilePoint(We))),Qe=Z.map((We=>Be.getTilePoint(We)));d.push({tile:pe,tileID:E?Be:Be.unwrapTo(0),queryGeometry:ze,cameraQueryGeometry:Qe,scale:Ce})}}}return d}transformBbox(t,a,u){let d=t.map(a);if(u){const b=o.aa.fromPoints(t);b.shrinkBy(.001*Math.min(b.width(),b.height()));const E=b.map(a);o.aa.fromPoints(d).covers(E)||(d=d.map((R=>R.x>.5?new o.a9(R.x-1,R.y,R.z):R)))}return d}getVisibleCoordinates(t){const a=this.getRenderableIds(t).map((u=>this._inViewTiles.getTileById(u).tileID));return this.transform&&this.transform.populateCache(a),a}hasTransition(){return!!this._source.hasTransition()||!(!Pr(this._source.type)||!(function(t,a){if(a<=0)return!1;const u=j();for(const d of t.getAllTiles())if(d.fadeEndTime>=u)return!0;return!1})(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(t){this._rasterFadeDuration=t}setFeatureState(t,a,u){this._state.updateState(t=t||o.ai,a,u)}removeFeatureState(t,a,u){this._state.removeFeatureState(t=t||o.ai,a,u)}getFeatureState(t,a){return this._state.getState(t=t||o.ai,a)}setDependencies(t,a,u){const d=this._inViewTiles.getTileById(t);d&&d.setDependencies(a,u)}reloadTilesForDependencies(t,a){for(const u of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(u).hasDependency(t,a)&&this._reloadTile(u,"reloading");this._outOfViewCache.filter((u=>!u.hasDependency(t,a)))}areTilesLoaded(){for(const t of this._inViewTiles.getAllTiles())if(t.state!=="loaded"&&t.state!=="errored")return!1;return!0}}Yr.maxUnderzooming=10,Yr.maxOverzooming=3;class Lt{constructor(t,a){this.reset(t,a)}reset(t,a){this.points=t||[],this._distances=[0];for(let u=1;u<this.points.length;u++)this._distances[u]=this._distances[u-1]+this.points[u].dist(this.points[u-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(a||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(this.points.length===1)return this.points[0];t=o.an(t,0,1);let a=1,u=this._distances[a];const d=t*this.paddedLength+this.padding;for(;u<d&&a<this._distances.length;)u=this._distances[++a];const b=a-1,E=this._distances[b],R=u-E,k=R>0?(d-E)/R:0;return this.points[b].mult(1-k).add(this.points[a].mult(k))}}function dr(_,t){let a=!0;return _==="always"||_!=="never"&&t!=="never"||(a=!1),a}class wr{constructor(t,a,u){const d=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(t/u),this.yCellCount=Math.ceil(a/u);for(let E=0;E<this.xCellCount*this.yCellCount;E++)d.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=a,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/a,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,a,u,d,b){this._forEachCell(a,u,d,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(d),this.bboxes.push(b)}insertCircle(t,a,u,d){this._forEachCell(a-d,u-d,a+d,u+d,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(a),this.circles.push(u),this.circles.push(d)}_insertBoxCell(t,a,u,d,b,E){this.boxCells[b].push(E)}_insertCircleCell(t,a,u,d,b,E){this.circleCells[b].push(E)}_query(t,a,u,d,b,E,R){if(u<0||t>this.width||d<0||a>this.height)return[];const k=[];if(t<=0&&a<=0&&this.width<=u&&this.height<=d){if(b)return[{key:null,x1:t,y1:a,x2:u,y2:d}];for(let $=0;$<this.boxKeys.length;$++)k.push({key:this.boxKeys[$],x1:this.bboxes[4*$],y1:this.bboxes[4*$+1],x2:this.bboxes[4*$+2],y2:this.bboxes[4*$+3]});for(let $=0;$<this.circleKeys.length;$++){const Z=this.circles[3*$],J=this.circles[3*$+1],K=this.circles[3*$+2];k.push({key:this.circleKeys[$],x1:Z-K,y1:J-K,x2:Z+K,y2:J+K})}}else this._forEachCell(t,a,u,d,this._queryCell,k,{hitTest:b,overlapMode:E,seenUids:{box:{},circle:{}}},R);return k}query(t,a,u,d){return this._query(t,a,u,d,!1,null)}hitTest(t,a,u,d,b,E){return this._query(t,a,u,d,!0,b,E).length>0}hitTestCircle(t,a,u,d,b){const E=t-u,R=t+u,k=a-u,$=a+u;if(R<0||E>this.width||$<0||k>this.height)return!1;const Z=[];return this._forEachCell(E,k,R,$,this._queryCellCircle,Z,{hitTest:!0,overlapMode:d,circle:{x:t,y:a,radius:u},seenUids:{box:{},circle:{}}},b),Z.length>0}_queryCell(t,a,u,d,b,E,R,k){const{seenUids:$,hitTest:Z,overlapMode:J}=R,K=this.boxCells[b];if(K!==null){const pe=this.bboxes;for(const Ae of K)if(!$.box[Ae]){$.box[Ae]=!0;const Ce=4*Ae,Ee=this.boxKeys[Ae];if(t<=pe[Ce+2]&&a<=pe[Ce+3]&&u>=pe[Ce+0]&&d>=pe[Ce+1]&&(!k||k(Ee))&&(!Z||!dr(J,Ee.overlapMode))&&(E.push({key:Ee,x1:pe[Ce],y1:pe[Ce+1],x2:pe[Ce+2],y2:pe[Ce+3]}),Z))return!0}}const se=this.circleCells[b];if(se!==null){const pe=this.circles;for(const Ae of se)if(!$.circle[Ae]){$.circle[Ae]=!0;const Ce=3*Ae,Ee=this.circleKeys[Ae];if(this._circleAndRectCollide(pe[Ce],pe[Ce+1],pe[Ce+2],t,a,u,d)&&(!k||k(Ee))&&(!Z||!dr(J,Ee.overlapMode))){const Be=pe[Ce],He=pe[Ce+1],ze=pe[Ce+2];if(E.push({key:Ee,x1:Be-ze,y1:He-ze,x2:Be+ze,y2:He+ze}),Z)return!0}}}return!1}_queryCellCircle(t,a,u,d,b,E,R,k){const{circle:$,seenUids:Z,overlapMode:J}=R,K=this.boxCells[b];if(K!==null){const pe=this.bboxes;for(const Ae of K)if(!Z.box[Ae]){Z.box[Ae]=!0;const Ce=4*Ae,Ee=this.boxKeys[Ae];if(this._circleAndRectCollide($.x,$.y,$.radius,pe[Ce+0],pe[Ce+1],pe[Ce+2],pe[Ce+3])&&(!k||k(Ee))&&!dr(J,Ee.overlapMode))return E.push(!0),!0}}const se=this.circleCells[b];if(se!==null){const pe=this.circles;for(const Ae of se)if(!Z.circle[Ae]){Z.circle[Ae]=!0;const Ce=3*Ae,Ee=this.circleKeys[Ae];if(this._circlesCollide(pe[Ce],pe[Ce+1],pe[Ce+2],$.x,$.y,$.radius)&&(!k||k(Ee))&&!dr(J,Ee.overlapMode))return E.push(!0),!0}}}_forEachCell(t,a,u,d,b,E,R,k){const $=this._convertToXCellCoord(t),Z=this._convertToYCellCoord(a),J=this._convertToXCellCoord(u),K=this._convertToYCellCoord(d);for(let se=$;se<=J;se++)for(let pe=Z;pe<=K;pe++)if(b.call(this,t,a,u,d,this.xCellCount*pe+se,E,R,k))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,a,u,d,b,E){const R=d-t,k=b-a,$=u+E;return $*$>R*R+k*k}_circleAndRectCollide(t,a,u,d,b,E,R){const k=(E-d)/2,$=Math.abs(t-(d+k));if($>k+u)return!1;const Z=(R-b)/2,J=Math.abs(a-(b+Z));if(J>Z+u)return!1;if($<=k||J<=Z)return!0;const K=$-k,se=J-Z;return K*K+se*se<=u*u}}function Si(_,t,a){const u=o.N();if(!_){const{vecSouth:J,vecEast:K}=oi(t),se=N();se[0]=K[0],se[1]=K[1],se[2]=J[0],se[3]=J[1],d=se,(Z=(E=(b=se)[0])*($=b[3])-(k=b[2])*(R=b[1]))&&(d[0]=$*(Z=1/Z),d[1]=-R*Z,d[2]=-k*Z,d[3]=E*Z),u[0]=se[0],u[1]=se[1],u[4]=se[2],u[5]=se[3]}var d,b,E,R,k,$,Z;return o.Q(u,u,[1/a,1/a,1]),u}function za(_,t,a,u){if(_){const d=o.N();if(!t){const{vecSouth:b,vecEast:E}=oi(a);d[0]=E[0],d[1]=E[1],d[4]=b[0],d[5]=b[1]}return o.Q(d,d,[u,u,1]),d}return a.pixelsToClipSpaceMatrix}function oi(_){const t=Math.cos(_.rollInRadians),a=Math.sin(_.rollInRadians),u=Math.cos(_.pitchInRadians),d=Math.cos(_.bearingInRadians),b=Math.sin(_.bearingInRadians),E=o.aC();E[0]=-d*u*a-b*t,E[1]=-b*u*a+d*t;const R=o.aD(E);R<1e-9?o.aE(E):o.aF(E,E,1/R);const k=o.aC();k[0]=d*u*t-b*a,k[1]=b*u*t+d*a;const $=o.aD(k);return $<1e-9?o.aE(k):o.aF(k,k,1/$),{vecEast:k,vecSouth:E}}function yr(_,t,a,u){let d;u?(d=[_,t,u(_,t),1],o.aH(d,d,a)):(d=[_,t,0,1],da(d,d,a));const b=d[3];return{point:new o.P(d[0]/b,d[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function ca(_,t){return .5+_/t*.5}function lr(_,t){return _.x>=-t[0]&&_.x<=t[0]&&_.y>=-t[1]&&_.y<=t[1]}function Ir(_,t,a,u,d,b,E,R,k,$,Z,J,K){const se=a?_.textSizeData:_.iconSizeData,pe=o.ay(se,t.transform.zoom),Ae=[256/t.width*2+1,256/t.height*2+1],Ce=a?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;Ce.clear();const Ee=_.lineVertexArray,Be=a?_.text.placedSymbolArray:_.icon.placedSymbolArray,He=t.transform.width/t.transform.height;let ze=!1;for(let Qe=0;Qe<Be.length;Qe++){const We=Be.get(Qe);if(We.hidden||We.writingMode===o.az.vertical&&!ze){Sa(We.numGlyphs,Ce);continue}ze=!1;const Ge=new o.P(We.anchorX,We.anchorY),nt={getElevation:K,pitchedLabelPlaneMatrix:u,lineVertexArray:Ee,pitchWithMap:b,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:t.transform,tileAnchorPoint:Ge,unwrappedTileID:k,width:$,height:Z,translation:J},xt=ha(We.anchorX,We.anchorY,nt);if(!lr(xt.point,Ae)){Sa(We.numGlyphs,Ce);continue}const gt=ca(t.transform.cameraToCenterDistance,xt.signedDistanceFromCamera),vt=o.aA(se,pe,We),bt=b?vt*t.transform.getPitchedTextCorrection(We.anchorX,We.anchorY,k)/gt:vt*gt,Ht=_r({projectionContext:nt,pitchedLabelPlaneMatrixInverse:d,symbol:We,fontSize:bt,flip:!1,keepUpright:E,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:Ce,aspectRatio:He,rotateToLine:R});ze=Ht.useVertical,(Ht.notEnoughRoom||ze||Ht.needsFlipping&&_r({projectionContext:nt,pitchedLabelPlaneMatrixInverse:d,symbol:We,fontSize:bt,flip:!0,keepUpright:E,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:Ce,aspectRatio:He,rotateToLine:R}).notEnoughRoom)&&Sa(We.numGlyphs,Ce)}a?_.text.dynamicLayoutVertexBuffer.updateData(Ce):_.icon.dynamicLayoutVertexBuffer.updateData(Ce)}function Br(_,t,a,u,d,b,E,R){const k=b.glyphStartIndex+b.numGlyphs,$=b.lineStartIndex,Z=b.lineStartIndex+b.lineLength,J=t.getoffsetX(b.glyphStartIndex),K=t.getoffsetX(k-1),se=wa(_*J,a,u,d,b.segment,$,Z,R,E);if(!se)return null;const pe=wa(_*K,a,u,d,b.segment,$,Z,R,E);return pe?R.projectionCache.anyProjectionOccluded?null:{first:se,last:pe}:null}function Nr(_,t,a,u){return _===o.az.horizontal&&Math.abs(a.y-t.y)>Math.abs(a.x-t.x)*u?{useVertical:!0}:(_===o.az.vertical?t.y<a.y:t.x>a.x)?{needsFlipping:!0}:null}function _r(_){const{projectionContext:t,pitchedLabelPlaneMatrixInverse:a,symbol:u,fontSize:d,flip:b,keepUpright:E,glyphOffsetArray:R,dynamicLayoutVertexArray:k,aspectRatio:$,rotateToLine:Z}=_,J=d/24,K=u.lineOffsetX*J,se=u.lineOffsetY*J;let pe;if(u.numGlyphs>1){const Ae=u.glyphStartIndex+u.numGlyphs,Ce=u.lineStartIndex,Ee=u.lineStartIndex+u.lineLength,Be=Br(J,R,K,se,b,u,Z,t);if(!Be)return{notEnoughRoom:!0};const He=Ti(Be.first.point.x,Be.first.point.y,t,a),ze=Ti(Be.last.point.x,Be.last.point.y,t,a);if(E&&!b){const Qe=Nr(u.writingMode,He,ze,$);if(Qe)return Qe}pe=[Be.first];for(let Qe=u.glyphStartIndex+1;Qe<Ae-1;Qe++){const We=wa(J*R.getoffsetX(Qe),K,se,b,u.segment,Ce,Ee,t,Z);if(!We)return{notEnoughRoom:!0};pe.push(We)}pe.push(Be.last)}else{if(E&&!b){const Ce=kr(t.tileAnchorPoint.x,t.tileAnchorPoint.y,t).point,Ee=u.lineStartIndex+u.segment+1,Be=new o.P(t.lineVertexArray.getx(Ee),t.lineVertexArray.gety(Ee)),He=kr(Be.x,Be.y,t),ze=He.signedDistanceFromCamera>0?He.point:kn(t.tileAnchorPoint,Be,Ce,1,t),Qe=Ti(Ce.x,Ce.y,t,a),We=Ti(ze.x,ze.y,t,a),Ge=Nr(u.writingMode,Qe,We,$);if(Ge)return Ge}const Ae=wa(J*R.getoffsetX(u.glyphStartIndex),K,se,b,u.segment,u.lineStartIndex,u.lineStartIndex+u.lineLength,t,Z);if(!Ae||t.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};pe=[Ae]}for(const Ae of pe)o.aG(k,Ae.point,Ae.angle);return{}}function kn(_,t,a,u,d){const b=_.add(_.sub(t)._unit()),E=kr(b.x,b.y,d).point,R=a.sub(E);return a.add(R._mult(u/R.mag()))}function Ar(_,t,a){const u=t.projectionCache;if(u.projections[_])return u.projections[_];const d=new o.P(t.lineVertexArray.getx(_),t.lineVertexArray.gety(_)),b=kr(d.x,d.y,t);if(b.signedDistanceFromCamera>0)return u.projections[_]=b.point,u.anyProjectionOccluded=u.anyProjectionOccluded||b.isOccluded,b.point;const E=_-a.direction;return kn(a.distanceFromAnchor===0?t.tileAnchorPoint:new o.P(t.lineVertexArray.getx(E),t.lineVertexArray.gety(E)),d,a.previousVertex,a.absOffsetX-a.distanceFromAnchor+1,t)}function kr(_,t,a){const u=_+a.translation[0],d=t+a.translation[1];let b;return a.pitchWithMap?(b=yr(u,d,a.pitchedLabelPlaneMatrix,a.getElevation),b.isOccluded=!1):(b=a.transform.projectTileCoordinates(u,d,a.unwrappedTileID,a.getElevation),b.point.x=(.5*b.point.x+.5)*a.width,b.point.y=(.5*-b.point.y+.5)*a.height),b}function Ti(_,t,a,u){if(a.pitchWithMap){const d=[_,t,0,1];return o.aH(d,d,u),a.transform.projectTileCoordinates(d[0]/d[3],d[1]/d[3],a.unwrappedTileID,a.getElevation).point}return{x:_/a.width*2-1,y:1-t/a.height*2}}function ha(_,t,a){return a.transform.projectTileCoordinates(_,t,a.unwrappedTileID,a.getElevation)}function gs(_,t,a){return _._unit()._perp()._mult(t*a)}function ro(_,t,a,u,d,b,E,R,k){if(R.projectionCache.offsets[_])return R.projectionCache.offsets[_];const $=a.add(t);if(_+k.direction<u||_+k.direction>=d)return R.projectionCache.offsets[_]=$,$;const Z=Ar(_+k.direction,R,k),J=gs(Z.sub(a),E,k.direction),K=a.add(J),se=Z.add(J);return R.projectionCache.offsets[_]=o.aI(b,$,K,se)||$,R.projectionCache.offsets[_]}function wa(_,t,a,u,d,b,E,R,k){const $=u?_-t:_+t;let Z=$>0?1:-1,J=0;u&&(Z*=-1,J=Math.PI),Z<0&&(J+=Math.PI);let K,se=Z>0?b+d:b+d+1;R.projectionCache.cachedAnchorPoint?K=R.projectionCache.cachedAnchorPoint:(K=kr(R.tileAnchorPoint.x,R.tileAnchorPoint.y,R).point,R.projectionCache.cachedAnchorPoint=K);let pe,Ae,Ce=K,Ee=K,Be=0,He=0;const ze=Math.abs($),Qe=[];let We;for(;Be+He<=ze;){if(se+=Z,se<b||se>=E)return null;Be+=He,Ee=Ce,Ae=pe;const xt={absOffsetX:ze,direction:Z,distanceFromAnchor:Be,previousVertex:Ee};if(Ce=Ar(se,R,xt),a===0)Qe.push(Ee),We=Ce.sub(Ee);else{let gt;const vt=Ce.sub(Ee);gt=vt.mag()===0?gs(Ar(se+Z,R,xt).sub(Ce),a,Z):gs(vt,a,Z),Ae||(Ae=Ee.add(gt)),pe=ro(se,gt,Ce,b,E,Ae,a,R,xt),Qe.push(Ae),We=pe.sub(Ae)}He=We.mag()}const Ge=We._mult((ze-Be)/He)._add(Ae||Ee),nt=J+Math.atan2(Ce.y-Ee.y,Ce.x-Ee.x);return Qe.push(Ge),{point:Ge,angle:k?nt:0,path:Qe}}const Gs=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Sa(_,t){for(let a=0;a<_;a++){const u=t.length;t.resize(u+4),t.float32.set(Gs,3*u)}}function da(_,t,a){const u=t[0],d=t[1];return _[0]=a[0]*u+a[4]*d+a[12],_[1]=a[1]*u+a[5]*d+a[13],_[3]=a[3]*u+a[7]*d+a[15],_}const Jr=100;class fl{constructor(t,a=new wr(t.width+200,t.height+200,25),u=new wr(t.width+200,t.height+200,25)){this.transform=t,this.grid=a,this.ignoredGrid=u,this.pitchFactor=Math.cos(t.pitch*Math.PI/180)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+Jr,this.screenBottomBoundary=t.height+Jr,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(t,a,u,d,b,E,R,k,$,Z,J,K){const se=this.projectAndGetPerspectiveRatio(t.anchorPointX+k[0],t.anchorPointY+k[1],b,Z,K),pe=u*se.perspectiveRatio;let Ae;if(E||R)Ae=this._projectCollisionBox(t,pe,d,b,E,R,k,se,Z,J,K);else{const We=se.x+(J?J.x*pe:0),Ge=se.y+(J?J.y*pe:0);Ae={allPointsOccluded:!1,box:[We+t.x1*pe,Ge+t.y1*pe,We+t.x2*pe,Ge+t.y2*pe]}}const[Ce,Ee,Be,He]=Ae.box,ze=E?Ae.allPointsOccluded:se.isOccluded;let Qe=ze;return Qe||(Qe=se.perspectiveRatio<this.perspectiveRatioCutoff),Qe||(Qe=!this.isInsideGrid(Ce,Ee,Be,He)),Qe||a!=="always"&&this.grid.hitTest(Ce,Ee,Be,He,a,$)?{box:[Ce,Ee,Be,He],placeable:!1,offscreen:!1,occluded:ze}:{box:[Ce,Ee,Be,He],placeable:!0,offscreen:this.isOffscreen(Ce,Ee,Be,He),occluded:ze}}placeCollisionCircles(t,a,u,d,b,E,R,k,$,Z,J,K,se,pe){const Ae=[],Ce=new o.P(a.anchorX,a.anchorY),Ee=this.getPerspectiveRatio(Ce.x,Ce.y,E,pe),Be=($?b*this.transform.getPitchedTextCorrection(a.anchorX,a.anchorY,E)/Ee:b*Ee)/o.aM,He={getElevation:pe,pitchedLabelPlaneMatrix:R,lineVertexArray:u,pitchWithMap:$,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Ce,unwrappedTileID:E,width:this.transform.width,height:this.transform.height,translation:se},ze=Br(Be,d,a.lineOffsetX*Be,a.lineOffsetY*Be,!1,a,!1,He);let Qe=!1,We=!1,Ge=!0;if(ze){const nt=.5*J*Ee+K,xt=new o.P(-100,-100),gt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),vt=new Lt,bt=ze.first,Ht=ze.last;let Zt=[];for(let Er=bt.path.length-1;Er>=1;Er--)Zt.push(bt.path[Er]);for(let Er=1;Er<Ht.path.length;Er++)Zt.push(Ht.path[Er]);const zt=2.5*nt;if($){const Er=this.projectPathToScreenSpace(Zt,He);Zt=Er.some((fn=>fn.signedDistanceFromCamera<=0))?[]:Er.map((fn=>fn.point))}let Yt=[];if(Zt.length>0){const Er=Zt[0].clone(),fn=Zt[0].clone();for(let In=1;In<Zt.length;In++)Er.x=Math.min(Er.x,Zt[In].x),Er.y=Math.min(Er.y,Zt[In].y),fn.x=Math.max(fn.x,Zt[In].x),fn.y=Math.max(fn.y,Zt[In].y);Yt=Er.x>=xt.x&&fn.x<=gt.x&&Er.y>=xt.y&&fn.y<=gt.y?[Zt]:fn.x<xt.x||Er.x>gt.x||fn.y<xt.y||Er.y>gt.y?[]:o.aJ([Zt],xt.x,xt.y,gt.x,gt.y)}for(const Er of Yt){vt.reset(Er,.25*nt);let fn=0;fn=vt.length<=.5*nt?1:Math.ceil(vt.paddedLength/zt)+1;for(let In=0;In<fn;In++){const En=In/Math.max(fn-1,1),Bn=vt.lerp(En),vn=Bn.x+Jr,Xn=Bn.y+Jr;Ae.push(vn,Xn,nt,0);const Ln=vn-nt,Bi=Xn-nt,ti=vn+nt,ri=Xn+nt;if(Ge=Ge&&this.isOffscreen(Ln,Bi,ti,ri),We=We||this.isInsideGrid(Ln,Bi,ti,ri),t!=="always"&&this.grid.hitTestCircle(vn,Xn,nt,t,Z)&&(Qe=!0,!k))return{circles:[],offscreen:!1,collisionDetected:Qe}}}}return{circles:!k&&Qe||!We||Ee<this.perspectiveRatioCutoff?[]:Ae,offscreen:Ge,collisionDetected:Qe}}projectPathToScreenSpace(t,a){const u=(function(d,b){const E=o.N();return o.aB(E,b.pitchedLabelPlaneMatrix),d.map((R=>{const k=yr(R.x,R.y,E,b.getElevation),$=b.transform.projectTileCoordinates(k.point.x,k.point.y,b.unwrappedTileID,b.getElevation);return $.point.x=(.5*$.point.x+.5)*b.width,$.point.y=(.5*-$.point.y+.5)*b.height,$}))})(t,a);return(function(d){let b=0,E=0,R=0,k=0;for(let $=0;$<d.length;$++)d[$].isOccluded?(R=$+1,k=0):(k++,k>E&&(E=k,b=R));return d.slice(b,b+E)})(u)}queryRenderedSymbols(t){if(t.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const a=[],u=new o.aa;for(const J of t){const K=new o.P(J.x+Jr,J.y+Jr);u.extend(K),a.push(K)}const{minX:d,minY:b,maxX:E,maxY:R}=u,k=this.grid.query(d,b,E,R).concat(this.ignoredGrid.query(d,b,E,R)),$={},Z={};for(const J of k){const K=J.key;if($[K.bucketInstanceId]===void 0&&($[K.bucketInstanceId]={}),$[K.bucketInstanceId][K.featureIndex])continue;const se=[new o.P(J.x1,J.y1),new o.P(J.x2,J.y1),new o.P(J.x2,J.y2),new o.P(J.x1,J.y2)];o.aK(a,se)&&($[K.bucketInstanceId][K.featureIndex]=!0,Z[K.bucketInstanceId]===void 0&&(Z[K.bucketInstanceId]=[]),Z[K.bucketInstanceId].push(K.featureIndex))}return Z}insertCollisionBox(t,a,u,d,b,E){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:d,featureIndex:b,collisionGroupID:E,overlapMode:a},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,a,u,d,b,E){const R=u?this.ignoredGrid:this.grid,k={bucketInstanceId:d,featureIndex:b,collisionGroupID:E,overlapMode:a};for(let $=0;$<t.length;$+=4)R.insertCircle(k,t[$],t[$+1],t[$+2])}projectAndGetPerspectiveRatio(t,a,u,d,b){if(b){let E;d?(E=[t,a,d(t,a),1],o.aH(E,E,b)):(E=[t,a,0,1],da(E,E,b));const R=E[3];return{x:(E[0]/R+1)/2*this.transform.width+Jr,y:(-E[1]/R+1)/2*this.transform.height+Jr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/R*.5,isOccluded:!1,signedDistanceFromCamera:R}}{const E=this.transform.projectTileCoordinates(t,a,u,d);return{x:(E.point.x+1)/2*this.transform.width+Jr,y:(1-E.point.y)/2*this.transform.height+Jr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5,isOccluded:E.isOccluded,signedDistanceFromCamera:E.signedDistanceFromCamera}}}getPerspectiveRatio(t,a,u,d){const b=this.transform.projectTileCoordinates(t,a,u,d);return .5+this.transform.cameraToCenterDistance/b.signedDistanceFromCamera*.5}isOffscreen(t,a,u,d){return u<Jr||t>=this.screenRightBoundary||d<Jr||a>this.screenBottomBoundary}isInsideGrid(t,a,u,d){return u>=0&&t<this.gridRightBoundary&&d>=0&&a<this.gridBottomBoundary}getViewportMatrix(){const t=o.ar([]);return o.O(t,t,[-100,-100,0]),t}_projectCollisionBox(t,a,u,d,b,E,R,k,$,Z,J){let K=1,se=0,pe=0,Ae=1;const Ce=t.anchorPointX+R[0],Ee=t.anchorPointY+R[1];if(E&&!b){const Zt=this.projectAndGetPerspectiveRatio(Ce+1,Ee,d,$,J),zt=Zt.x-k.x,Yt=Math.atan((Zt.y-k.y)/zt)+(zt<0?Math.PI:0),Er=Math.sin(Yt),fn=Math.cos(Yt);K=fn,se=Er,pe=-Er,Ae=fn}else if(!E&&b){const Zt=oi(this.transform);K=Zt.vecEast[0],se=Zt.vecEast[1],pe=Zt.vecSouth[0],Ae=Zt.vecSouth[1]}let Be=k.x,He=k.y,ze=a;b&&(Be=Ce,He=Ee,ze=Math.pow(2,-(this.transform.zoom-u.overscaledZ)),ze*=this.transform.getPitchedTextCorrection(Ce,Ee,d),Z||(ze*=o.an(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),Z&&(Be+=K*Z.x*ze+pe*Z.y*ze,He+=se*Z.x*ze+Ae*Z.y*ze);const Qe=t.x1*ze,We=t.x2*ze,Ge=(Qe+We)/2,nt=t.y1*ze,xt=t.y2*ze,gt=(nt+xt)/2,vt=[{offsetX:Qe,offsetY:nt},{offsetX:Ge,offsetY:nt},{offsetX:We,offsetY:nt},{offsetX:We,offsetY:gt},{offsetX:We,offsetY:xt},{offsetX:Ge,offsetY:xt},{offsetX:Qe,offsetY:xt},{offsetX:Qe,offsetY:gt}];let bt=[];for(const{offsetX:Zt,offsetY:zt}of vt)bt.push(new o.P(Be+K*Zt+pe*zt,He+se*Zt+Ae*zt));let Ht=!1;if(b){const Zt=bt.map((zt=>this.projectAndGetPerspectiveRatio(zt.x,zt.y,d,$,J)));Ht=Zt.some((zt=>!zt.isOccluded)),bt=Zt.map((zt=>new o.P(zt.x,zt.y)))}else Ht=!0;return{box:o.aL(bt),allPointsOccluded:!Ht}}}class r2{constructor(t,a,u,d){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?a:-a))):d&&u?1:0,this.placed=u}isHidden(){return this.opacity===0&&!this.placed}}class Vo{constructor(t,a,u,d,b){this.text=new r2(t?t.text:null,a,u,b),this.icon=new r2(t?t.icon:null,a,d,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class b1{constructor(t,a,u){this.text=t,this.icon=a,this.skipFade=u}}class ys{constructor(t,a,u,d,b){this.bucketInstanceId=t,this.featureIndex=a,this.sourceLayerIndex=u,this.bucketIndex=d,this.tileID=b}}class pl{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const a=++this.maxGroupID;this.collisionGroups[t]={ID:a,predicate:u=>u.collisionGroupID===a}}return this.collisionGroups[t]}}function Pi(_,t,a,u,d){const{horizontalAlign:b,verticalAlign:E}=o.aS(_);return new o.P(-(b-.5)*t+u[0]*d,-(E-.5)*a+u[1]*d)}class Vs{constructor(t,a,u,d,b){this.transform=t.clone(),this.terrain=a,this.collisionIndex=new fl(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new pl(d),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(t){const a=this.terrain;return a?(u,d)=>a.getElevation(t,u,d):null}getBucketParts(t,a,u,d){const b=u.getBucket(a),E=u.latestFeatureIndex;if(!b||!E||a.id!==b.layerIds[0])return;const R=u.collisionBoxArray,k=b.layers[0].layout,$=b.layers[0].paint,Z=Math.pow(2,this.transform.zoom-u.tileID.overscaledZ),J=u.tileSize/o.a5,K=u.tileID.toUnwrapped(),se=k.get("text-rotation-alignment")==="map",pe=o.aN(u,1,this.transform.zoom),Ae=o.aO(this.collisionIndex.transform,u,$.get("text-translate"),$.get("text-translate-anchor")),Ce=o.aO(this.collisionIndex.transform,u,$.get("icon-translate"),$.get("icon-translate-anchor")),Ee=Si(se,this.transform,pe);this.retainedQueryData[b.bucketInstanceId]=new ys(b.bucketInstanceId,E,b.sourceLayerIndex,b.index,u.tileID);const Be={bucket:b,layout:k,translationText:Ae,translationIcon:Ce,unwrappedTileID:K,pitchedLabelPlaneMatrix:Ee,scale:Z,textPixelRatio:J,holdingForFade:u.holdingForSymbolFade(),collisionBoxArray:R,partiallyEvaluatedTextSize:o.ay(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(d)for(const He of b.sortKeyRanges){const{sortKey:ze,symbolInstanceStart:Qe,symbolInstanceEnd:We}=He;t.push({sortKey:ze,symbolInstanceStart:Qe,symbolInstanceEnd:We,parameters:Be})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:Be})}attemptAnchorPlacement(t,a,u,d,b,E,R,k,$,Z,J,K,se,pe,Ae,Ce,Ee,Be,He,ze){const Qe=o.aP[t.textAnchor],We=[t.textOffset0,t.textOffset1],Ge=Pi(Qe,u,d,We,b),nt=this.collisionIndex.placeCollisionBox(a,K,k,$,Z,R,E,Ce,J.predicate,He,Ge,ze);if((!Be||this.collisionIndex.placeCollisionBox(Be,K,k,$,Z,R,E,Ee,J.predicate,He,Ge,ze).placeable)&&nt.placeable){let xt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID].text&&(xt=this.prevPlacement.variableOffsets[se.crossTileID].anchor),se.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[se.crossTileID]={textOffset:We,width:u,height:d,anchor:Qe,textBoxScale:b,prevAnchor:xt},this.markUsedJustification(pe,Qe,se,Ae),pe.allowVerticalPlacement&&(this.markUsedOrientation(pe,Ae,se),this.placedOrientations[se.crossTileID]=Ae),{shift:Ge,placedGlyphBoxes:nt}}}placeLayerBucketPart(t,a,u){const{bucket:d,layout:b,translationText:E,translationIcon:R,unwrappedTileID:k,pitchedLabelPlaneMatrix:$,textPixelRatio:Z,holdingForFade:J,collisionBoxArray:K,partiallyEvaluatedTextSize:se,collisionGroup:pe}=t.parameters,Ae=b.get("text-optional"),Ce=b.get("icon-optional"),Ee=o.aQ(b,"text-overlap","text-allow-overlap"),Be=Ee==="always",He=o.aQ(b,"icon-overlap","icon-allow-overlap"),ze=He==="always",Qe=b.get("text-rotation-alignment")==="map",We=b.get("text-pitch-alignment")==="map",Ge=b.get("icon-text-fit")!=="none",nt=b.get("symbol-z-order")==="viewport-y",xt=Be&&(ze||!d.hasIconData()||Ce),gt=ze&&(Be||!d.hasTextData()||Ae);!d.collisionArrays&&K&&d.deserializeCollisionBoxes(K);const vt=this.retainedQueryData[d.bucketInstanceId].tileID,bt=this._getTerrainElevationFunc(vt),Ht=this.transform.getFastPathSimpleProjectionMatrix(vt),Zt=(zt,Yt,Er)=>{var fn,In;if(a[zt.crossTileID])return;if(J)return void(this.placements[zt.crossTileID]=new b1(!1,!1,!1));let En=!1,Bn=!1,vn=!0,Xn=null,Ln={box:null,placeable:!1,offscreen:null,occluded:!1},Bi={placeable:!1},ti=null,ri=null,Li=null,us=0,cs=0,Oo=0;Yt.textFeatureIndex?us=Yt.textFeatureIndex:zt.useRuntimeCollisionCircles&&(us=zt.featureIndex),Yt.verticalTextFeatureIndex&&(cs=Yt.verticalTextFeatureIndex);const Pa=Yt.textBox;if(Pa){const Ra=mn=>{let Mn=o.az.horizontal;if(d.allowVerticalPlacement&&!mn&&this.prevPlacement){const gi=this.prevPlacement.placedOrientations[zt.crossTileID];gi&&(this.placedOrientations[zt.crossTileID]=gi,Mn=gi,this.markUsedOrientation(d,Mn,zt))}return Mn},Za=(mn,Mn)=>{if(d.allowVerticalPlacement&&zt.numVerticalGlyphVertices>0&&Yt.verticalTextBox){for(const gi of d.writingModes)if(gi===o.az.vertical?(Ln=Mn(),Bi=Ln):Ln=mn(),Ln&&Ln.placeable)break}else Ln=mn()},po=zt.textAnchorOffsetStartIndex,mo=zt.textAnchorOffsetEndIndex;if(mo===po){const mn=(Mn,gi)=>{const Ei=this.collisionIndex.placeCollisionBox(Mn,Ee,Z,vt,k,We,Qe,E,pe.predicate,bt,void 0,Ht);return Ei&&Ei.placeable&&(this.markUsedOrientation(d,gi,zt),this.placedOrientations[zt.crossTileID]=gi),Ei};Za((()=>mn(Pa,o.az.horizontal)),(()=>{const Mn=Yt.verticalTextBox;return d.allowVerticalPlacement&&zt.numVerticalGlyphVertices>0&&Mn?mn(Mn,o.az.vertical):{box:null,offscreen:null}})),Ra(Ln&&Ln.placeable)}else{let mn=o.aP[(In=(fn=this.prevPlacement)===null||fn===void 0?void 0:fn.variableOffsets[zt.crossTileID])===null||In===void 0?void 0:In.anchor];const Mn=(Ei,I4,N4)=>{const u1=Ei.x2-Ei.x1,q5=Ei.y2-Ei.y1,c1=zt.textBoxScale,D4=Ge&&He==="never"?I4:null;let Is=null,Ns=Ee==="never"?1:2,ko="never";mn&&Ns++;for(let O4=0;O4<Ns;O4++){for(let z2=po;z2<mo;z2++){const B2=d.textAnchorOffsets.get(z2);if(mn&&B2.textAnchor!==mn)continue;const L2=this.attemptAnchorPlacement(B2,Ei,u1,q5,c1,Qe,We,Z,vt,k,pe,ko,zt,d,N4,E,R,D4,bt);if(L2&&(Is=L2.placedGlyphBoxes,Is&&Is.placeable))return En=!0,Xn=L2.shift,Is}mn?mn=null:ko=Ee}return u&&!Is&&(Is={box:this.collisionIndex.placeCollisionBox(Pa,"always",Z,vt,k,We,Qe,E,pe.predicate,bt,void 0,Ht).box,offscreen:!1,placeable:!1,occluded:!1}),Is};Za((()=>Mn(Pa,Yt.iconBox,o.az.horizontal)),(()=>{const Ei=Yt.verticalTextBox;return d.allowVerticalPlacement&&(!Ln||!Ln.placeable)&&zt.numVerticalGlyphVertices>0&&Ei?Mn(Ei,Yt.verticalIconBox,o.az.vertical):{box:null,occluded:!0,offscreen:null}})),Ln&&(En=Ln.placeable,vn=Ln.offscreen);const gi=Ra(Ln&&Ln.placeable);if(!En&&this.prevPlacement){const Ei=this.prevPlacement.variableOffsets[zt.crossTileID];Ei&&(this.variableOffsets[zt.crossTileID]=Ei,this.markUsedJustification(d,Ei.anchor,zt,gi))}}}if(ti=Ln,En=ti&&ti.placeable,vn=ti&&ti.offscreen,zt.useRuntimeCollisionCircles&&zt.centerJustifiedTextSymbolIndex>=0){const Ra=d.text.placedSymbolArray.get(zt.centerJustifiedTextSymbolIndex),Za=o.aA(d.textSizeData,se,Ra),po=b.get("text-padding");ri=this.collisionIndex.placeCollisionCircles(Ee,Ra,d.lineVertexArray,d.glyphOffsetArray,Za,k,$,u,We,pe.predicate,zt.collisionCircleDiameter,po,E,bt),ri.circles.length&&ri.collisionDetected&&!u&&o.w("Collisions detected, but collision boxes are not shown"),En=Be||ri.circles.length>0&&!ri.collisionDetected,vn=vn&&ri.offscreen}if(Yt.iconFeatureIndex&&(Oo=Yt.iconFeatureIndex),Yt.iconBox){const Ra=Za=>this.collisionIndex.placeCollisionBox(Za,He,Z,vt,k,We,Qe,R,pe.predicate,bt,Ge&&Xn?Xn:void 0,Ht);Bi&&Bi.placeable&&Yt.verticalIconBox?(Li=Ra(Yt.verticalIconBox),Bn=Li.placeable):(Li=Ra(Yt.iconBox),Bn=Li.placeable),vn=vn&&Li.offscreen}const q1=Ae||zt.numHorizontalGlyphVertices===0&&zt.numVerticalGlyphVertices===0,zl=Ce||zt.numIconVertices===0;q1||zl?zl?q1||(Bn=Bn&&En):En=Bn&&En:Bn=En=Bn&&En;const Fo=Bn&&Li.placeable;if(En&&ti.placeable&&this.collisionIndex.insertCollisionBox(ti.box,Ee,b.get("text-ignore-placement"),d.bucketInstanceId,Bi&&Bi.placeable&&cs?cs:us,pe.ID),Fo&&this.collisionIndex.insertCollisionBox(Li.box,He,b.get("icon-ignore-placement"),d.bucketInstanceId,Oo,pe.ID),ri&&En&&this.collisionIndex.insertCollisionCircles(ri.circles,Ee,b.get("text-ignore-placement"),d.bucketInstanceId,us,pe.ID),u&&this.storeCollisionData(d.bucketInstanceId,Er,Yt,ti,Li,ri),zt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(d.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[zt.crossTileID]=new b1((En||xt)&&!ti?.occluded,(Bn||gt)&&!Li?.occluded,vn||d.justReloaded),a[zt.crossTileID]=!0};if(nt){if(t.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const zt=d.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Yt=zt.length-1;Yt>=0;--Yt){const Er=zt[Yt];Zt(d.symbolInstances.get(Er),d.collisionArrays[Er],Er)}}else for(let zt=t.symbolInstanceStart;zt<t.symbolInstanceEnd;zt++)Zt(d.symbolInstances.get(zt),d.collisionArrays[zt],zt);d.justReloaded=!1}storeCollisionData(t,a,u,d,b,E){if(u.textBox||u.iconBox){let R,k;this.collisionBoxArrays.has(t)?R=this.collisionBoxArrays.get(t):(R=new Map,this.collisionBoxArrays.set(t,R)),R.has(a)?k=R.get(a):(k={text:null,icon:null},R.set(a,k)),u.textBox&&(k.text=d.box),u.iconBox&&(k.icon=b.box)}if(E){let R=this.collisionCircleArrays[t];R===void 0&&(R=this.collisionCircleArrays[t]=[]);for(let k=0;k<E.circles.length;k+=4)R.push(E.circles[k+0]-Jr),R.push(E.circles[k+1]-Jr),R.push(E.circles[k+2]),R.push(E.collisionDetected?1:0)}}markUsedJustification(t,a,u,d){let b;b=d===o.az.vertical?u.verticalPlacedTextSymbolIndex:{left:u.leftJustifiedTextSymbolIndex,center:u.centerJustifiedTextSymbolIndex,right:u.rightJustifiedTextSymbolIndex}[o.aR(a)];const E=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex,u.verticalPlacedTextSymbolIndex];for(const R of E)R>=0&&(t.text.placedSymbolArray.get(R).crossTileID=b>=0&&R!==b?0:u.crossTileID)}markUsedOrientation(t,a,u){const d=a===o.az.horizontal||a===o.az.horizontalOnly?a:0,b=a===o.az.vertical?a:0,E=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex];for(const R of E)t.text.placedSymbolArray.get(R).placedOrientation=d;u.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const a=this.prevPlacement;let u=!1;this.prevZoomAdjustment=a?a.zoomAdjustment(this.transform.zoom):0;const d=a?a.symbolFadeChange(t):1,b=a?a.opacities:{},E=a?a.variableOffsets:{},R=a?a.placedOrientations:{};for(const k in this.placements){const $=this.placements[k],Z=b[k];Z?(this.opacities[k]=new Vo(Z,d,$.text,$.icon),u=u||$.text!==Z.text.placed||$.icon!==Z.icon.placed):(this.opacities[k]=new Vo(null,d,$.text,$.icon,$.skipFade),u=u||$.text||$.icon)}for(const k in b){const $=b[k];if(!this.opacities[k]){const Z=new Vo($,d,!1,!1);Z.isHidden()||(this.opacities[k]=Z,u=u||$.text.placed||$.icon.placed)}}for(const k in E)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=E[k]);for(const k in R)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=R[k]);if(a&&a.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");u?this.lastPlacementChangeTime=t:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=a?a.lastPlacementChangeTime:t)}updateLayerOpacities(t,a){const u={};for(const d of a){const b=d.getBucket(t);b&&d.latestFeatureIndex&&t.id===b.layerIds[0]&&this.updateBucketOpacities(b,d.tileID,u,d.collisionBoxArray)}}updateBucketOpacities(t,a,u,d){t.hasTextData()&&(t.text.opacityVertexArray.clear(),t.text.hasVisibleVertices=!1),t.hasIconData()&&(t.icon.opacityVertexArray.clear(),t.icon.hasVisibleVertices=!1),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const b=t.layers[0],E=b.layout,R=new Vo(null,0,!1,!1,!0),k=E.get("text-allow-overlap"),$=E.get("icon-allow-overlap"),Z=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),J=E.get("text-rotation-alignment")==="map",K=E.get("text-pitch-alignment")==="map",se=E.get("icon-text-fit")!=="none",pe=new Vo(null,0,k&&($||!t.hasIconData()||E.get("icon-optional")),$&&(k||!t.hasTextData()||E.get("text-optional")),!0);!t.collisionArrays&&d&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(d);const Ae=(Ee,Be,He)=>{for(let ze=0;ze<Be/4;ze++)Ee.opacityVertexArray.emplaceBack(He);Ee.hasVisibleVertices=Ee.hasVisibleVertices||He!==w1},Ce=this.collisionBoxArrays.get(t.bucketInstanceId);for(let Ee=0;Ee<t.symbolInstances.length;Ee++){const Be=t.symbolInstances.get(Ee),{numHorizontalGlyphVertices:He,numVerticalGlyphVertices:ze,crossTileID:Qe}=Be;let We=this.opacities[Qe];u[Qe]?We=R:We||(We=pe,this.opacities[Qe]=We),u[Qe]=!0;const Ge=Be.numIconVertices>0,nt=this.placedOrientations[Be.crossTileID],xt=nt===o.az.vertical,gt=nt===o.az.horizontal||nt===o.az.horizontalOnly;if(He>0||ze>0){const bt=a4(We.text);Ae(t.text,He,xt?w1:bt),Ae(t.text,ze,gt?w1:bt);const Ht=We.text.isHidden();[Be.rightJustifiedTextSymbolIndex,Be.centerJustifiedTextSymbolIndex,Be.leftJustifiedTextSymbolIndex].forEach((Yt=>{Yt>=0&&(t.text.placedSymbolArray.get(Yt).hidden=Ht||xt?1:0)})),Be.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(Be.verticalPlacedTextSymbolIndex).hidden=Ht||gt?1:0);const Zt=this.variableOffsets[Be.crossTileID];Zt&&this.markUsedJustification(t,Zt.anchor,Be,nt);const zt=this.placedOrientations[Be.crossTileID];zt&&(this.markUsedJustification(t,"left",Be,zt),this.markUsedOrientation(t,zt,Be))}if(Ge){const bt=a4(We.icon),Ht=!(se&&Be.verticalPlacedIconSymbolIndex&&xt);Be.placedIconSymbolIndex>=0&&(Ae(t.icon,Be.numIconVertices,Ht?bt:w1),t.icon.placedSymbolArray.get(Be.placedIconSymbolIndex).hidden=We.icon.isHidden()),Be.verticalPlacedIconSymbolIndex>=0&&(Ae(t.icon,Be.numVerticalIconVertices,Ht?w1:bt),t.icon.placedSymbolArray.get(Be.verticalPlacedIconSymbolIndex).hidden=We.icon.isHidden())}const vt=Ce&&Ce.has(Ee)?Ce.get(Ee):{text:null,icon:null};if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const bt=t.collisionArrays[Ee];if(bt){let Ht=new o.P(0,0);if(bt.textBox||bt.verticalTextBox){let Zt=!0;if(Z){const zt=this.variableOffsets[Qe];zt?(Ht=Pi(zt.anchor,zt.width,zt.height,zt.textOffset,zt.textBoxScale),J&&Ht._rotate(K?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Zt=!1}if(bt.textBox||bt.verticalTextBox){let zt;bt.textBox&&(zt=xt),bt.verticalTextBox&&(zt=gt),qs(t.textCollisionBox.collisionVertexArray,We.text.placed,!Zt||zt,vt.text,Ht.x,Ht.y)}}if(bt.iconBox||bt.verticalIconBox){const Zt=!!(!gt&&bt.verticalIconBox);let zt;bt.iconBox&&(zt=Zt),bt.verticalIconBox&&(zt=!Zt),qs(t.iconCollisionBox.collisionVertexArray,We.icon.placed,zt,vt.icon,se?Ht.x:0,se?Ht.y:0)}}}}if(t.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);t.bucketInstanceId in this.collisionCircleArrays&&(t.collisionCircleArray=this.collisionCircleArrays[t.bucketInstanceId],delete this.collisionCircleArrays[t.bucketInstanceId])}symbolFadeChange(t){return this.fadeDuration===0?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,a){const u=this.zoomAtLastRecencyCheck===a?1-this.zoomAdjustment(a):1;return this.zoomAtLastRecencyCheck=a,this.commitTime+this.fadeDuration*u>t}setStale(){this.stale=!0}}function qs(_,t,a,u,d,b){u&&u.length!==0||(u=[0,0,0,0]);const E=u[0]-Jr,R=u[1]-Jr,k=u[2]-Jr,$=u[3]-Jr;_.emplaceBack(t?1:0,a?1:0,d||0,b||0,E,R),_.emplaceBack(t?1:0,a?1:0,d||0,b||0,k,R),_.emplaceBack(t?1:0,a?1:0,d||0,b||0,k,$),_.emplaceBack(t?1:0,a?1:0,d||0,b||0,E,$)}const qo=Math.pow(2,25),tt=Math.pow(2,24),M5=Math.pow(2,17),ml=Math.pow(2,16),_s=Math.pow(2,9),C5=Math.pow(2,8),x1=Math.pow(2,1);function a4(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const t=_.placed?1:0,a=Math.floor(127*_.opacity);return a*qo+t*tt+a*M5+t*ml+a*_s+t*C5+a*x1+t}const w1=0;class $s{constructor(t){this._sortAcrossTiles=t.layout.get("symbol-z-order")!=="viewport-y"&&!t.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,a,u,d,b){const E=this._bucketParts;for(;this._currentTileIndex<t.length;)if(a.getBucketParts(E,d,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort(((R,k)=>R.sortKey-k.sortKey)));this._currentPartIndex<E.length;)if(a.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,u),this._currentPartIndex++,b())return!0;return!1}}class gl{constructor(t,a,u,d,b,E,R,k){this.placement=new Vs(t,a,E,R,k),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=d,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(t,a,u){const d=j(),b=()=>!this._forceFullPlacement&&j()-d>2;for(;this._currentPlacementIndex>=0;){const E=a[t[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=R)&&(!E.maxzoom||E.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new $s(E)),this._inProgressLayer.continuePlacement(u[E.source],this.placement,this._showCollisionBoxes,E,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const Dr=512/o.a5/2;class Eo{constructor(t,a,u){this.tileID=t,this.bucketInstanceId=u,this._symbolsByKey={};const d=new Map;for(let b=0;b<a.length;b++){const E=a.get(b),R=E.key,k=d.get(R);k?k.push(E):d.set(R,[E])}for(const[b,E]of d){const R={positions:E.map((k=>({x:Math.floor(k.anchorX*Dr),y:Math.floor(k.anchorY*Dr)}))),crossTileIDs:E.map((k=>k.crossTileID))};if(R.positions.length>128){const k=new o.aT(R.positions.length,16,Uint16Array);for(const{x:$,y:Z}of R.positions)k.add($,Z);k.finish(),delete R.positions,R.index=k}this._symbolsByKey[b]=R}}getScaledCoordinates(t,a){const{x:u,y:d,z:b}=this.tileID.canonical,{x:E,y:R,z:k}=a.canonical,$=Dr/Math.pow(2,k-b),Z=(R*o.a5+t.anchorY)*$,J=d*o.a5*Dr;return{x:Math.floor((E*o.a5+t.anchorX)*$-u*o.a5*Dr),y:Math.floor(Z-J)}}findMatches(t,a,u){const d=this.tileID.canonical.z<a.canonical.z?1:Math.pow(2,this.tileID.canonical.z-a.canonical.z);for(let b=0;b<t.length;b++){const E=t.get(b);if(E.crossTileID)continue;const R=this._symbolsByKey[E.key];if(!R)continue;const k=this.getScaledCoordinates(E,a);if(R.index){const $=R.index.range(k.x-d,k.y-d,k.x+d,k.y+d).sort();for(const Z of $){const J=R.crossTileIDs[Z];if(!u[J]){u[J]=!0,E.crossTileID=J;break}}}else if(R.positions)for(let $=0;$<R.positions.length;$++){const Z=R.positions[$],J=R.crossTileIDs[$];if(Math.abs(Z.x-k.x)<=d&&Math.abs(Z.y-k.y)<=d&&!u[J]){u[J]=!0,E.crossTileID=J;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:t})=>t))}}class s3{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class n2{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const a=Math.round((t-this.lng)/360);if(a!==0)for(const u in this.indexes){const d=this.indexes[u],b={};for(const E in d){const R=d[E];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+a),b[R.tileID.key]=R}this.indexes[u]=b}this.lng=t}addBucket(t,a,u){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===a.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let b=0;b<a.symbolInstances.length;b++)a.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const d=this.usedCrossTileIDs[t.overscaledZ];for(const b in this.indexes){const E=this.indexes[b];if(Number(b)>t.overscaledZ)for(const R in E){const k=E[R];k.tileID.isChildOf(t)&&k.findMatches(a.symbolInstances,t,d)}else{const R=E[t.scaledTo(Number(b)).key];R&&R.findMatches(a.symbolInstances,t,d)}}for(let b=0;b<a.symbolInstances.length;b++){const E=a.symbolInstances.get(b);E.crossTileID||(E.crossTileID=u.generate(),d[E.crossTileID]=!0)}return this.indexes[t.overscaledZ]===void 0&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Eo(t,a.symbolInstances,a.bucketInstanceId),!0}removeBucketCrossTileIDs(t,a){for(const u of a.getCrossTileIDsLists())for(const d of u)delete this.usedCrossTileIDs[t][d]}removeStaleBuckets(t){let a=!1;for(const u in this.indexes){const d=this.indexes[u];for(const b in d)t[d[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,d[b]),delete d[b],a=!0)}return a}}class Ri{constructor(){this.layerIndexes={},this.crossTileIDs=new s3,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,a,u){let d=this.layerIndexes[t.id];d===void 0&&(d=this.layerIndexes[t.id]=new n2);let b=!1;const E={};d.handleWrapJump(u);for(const R of a){const k=R.getBucket(t);k&&t.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),d.addBucket(R.tileID,k,this.crossTileIDs)&&(b=!0),E[k.bucketInstanceId]=!0)}return d.removeStaleBuckets(E)&&(b=!0),b}pruneUnusedLayers(t){const a={};t.forEach((u=>{a[u]=!0}));for(const u in this.layerIndexes)a[u]||delete this.layerIndexes[u]}}var pi="void main() {fragColor=vec4(1.0);}";const Un={prelude:xr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:xr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:xr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:xr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:xr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:xr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:xr(pi,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:xr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:xr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:xr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:xr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:xr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:xr(pi,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:xr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:xr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:xr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:xr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:xr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:xr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:xr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:xr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:xr(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:xr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:xr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:xr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:xr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:xr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:xr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:xr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:xr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:xr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:xr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:xr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function xr(_,t){const a=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,u=t.match(/in ([\w]+) ([\w]+)/g),d=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=b?b.concat(d):d,R={};return{fragmentSource:_=_.replace(a,((k,$,Z,J,K)=>(R[K]=!0,$==="define"?`
#ifndef HAS_UNIFORM_u_${K}
in ${Z} ${J} ${K};
#else
uniform ${Z} ${J} u_${K};
#endif
`:`
#ifdef HAS_UNIFORM_u_${K}
    ${Z} ${J} ${K} = u_${K};
#endif
`))),vertexSource:t=t.replace(a,((k,$,Z,J,K)=>{const se=J==="float"?"vec2":"vec4",pe=K.match(/color/)?"color":se;return R[K]?$==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
in ${Z} ${se} a_${K};
out ${Z} ${J} ${K};
#else
uniform ${Z} ${J} u_${K};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = a_${K};
#else
    ${Z} ${J} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = unpack_mix_${pe}(a_${K}, u_${K}_t);
#else
    ${Z} ${J} ${K} = u_${K};
#endif
`:$==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
in ${Z} ${se} a_${K};
#else
uniform ${Z} ${J} u_${K};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${Z} ${J} ${K} = a_${K};
#else
    ${Z} ${J} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${Z} ${J} ${K} = unpack_mix_${pe}(a_${K}, u_${K}_t);
#else
    ${Z} ${J} ${K} = u_${K};
#endif
`})),staticAttributes:u,staticUniforms:E}}class Tn{constructor(t,a,u){this.vertexBuffer=t,this.indexBuffer=a,this.segments=u}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var no=o.aU([{name:"a_pos",type:"Int16",components:2}]);const Kn="#define PROJECTION_MERCATOR",fa="mercator";class Ii{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return fa}get shaderDefine(){return Kn}get shaderPreludeCode(){return Un.projectionMercator}get vertexShaderPreludeCode(){return Un.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(t){}getMeshFromTileID(t,a,u,d,b){if(this._cachedMesh)return this._cachedMesh;const E=new o.aW;E.emplaceBack(0,0),E.emplaceBack(o.a5,0),E.emplaceBack(0,o.a5),E.emplaceBack(o.a5,o.a5);const R=t.createVertexBuffer(E,no.members),k=o.aX.simpleSegment(0,0,4,2),$=new o.aY;$.emplaceBack(1,0,2),$.emplaceBack(1,2,3);const Z=t.createIndexBuffer($);return this._cachedMesh=new Tn(R,Z,k),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(t){}}class Ba{constructor(t=0,a=0,u=0,d=0){if(isNaN(t)||t<0||isNaN(a)||a<0||isNaN(u)||u<0||isNaN(d)||d<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=a,this.left=u,this.right=d}interpolate(t,a,u){return a.top!=null&&t.top!=null&&(this.top=o.G.number(t.top,a.top,u)),a.bottom!=null&&t.bottom!=null&&(this.bottom=o.G.number(t.bottom,a.bottom,u)),a.left!=null&&t.left!=null&&(this.left=o.G.number(t.left,a.left,u)),a.right!=null&&t.right!=null&&(this.right=o.G.number(t.right,a.right,u)),this}getCenter(t,a){const u=o.an((this.left+t-this.right)/2,0,t),d=o.an((this.top+a-this.bottom)/2,0,a);return new o.P(u,d)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new Ba(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function $o(_,t){if(!_.renderWorldCopies||_.lngRange)return;const a=t.lng-_.center.lng;t.lng+=a>180?-360:a<-180?360:0}function jn(_){return Math.max(0,Math.floor(_))}class Qs{constructor(t,a){var u;this.applyConstrain=(d,b)=>this._constrainOverride!==null?this._constrainOverride(d,b):this._callbacks.defaultConstrain(d,b),this._callbacks=t,this._tileSize=512,this._renderWorldCopies=a?.renderWorldCopies===void 0||!!a?.renderWorldCopies,this._minZoom=a?.minZoom||0,this._maxZoom=a?.maxZoom||22,this._minPitch=a?.minPitch==null?0:a?.minPitch,this._maxPitch=a?.maxPitch==null?60:a?.maxPitch,this._constrainOverride=(u=a?.constrainOverride)!==null&&u!==void 0?u:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=jn(this._zoom),this._scale=o.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Ba,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(t,a,u){this._constrainOverride=t.constrainOverride,this._latRange=t.latRange,this._lngRange=t.lngRange,this._width=t.width,this._height=t.height,this._center=t.center,this._elevation=t.elevation,this._minElevationForCurrentTile=t.minElevationForCurrentTile,this._zoom=t.zoom,this._tileZoom=jn(this._zoom),this._scale=o.aq(this._zoom),this._bearingInRadians=t.bearingInRadians,this._fovInRadians=t.fovInRadians,this._pitchInRadians=t.pitchInRadians,this._rollInRadians=t.rollInRadians,this._unmodified=t.unmodified,this._edgeInsets=new Ba(t.padding.top,t.padding.bottom,t.padding.left,t.padding.right),this._minZoom=t.minZoom,this._maxZoom=t.maxZoom,this._minPitch=t.minPitch,this._maxPitch=t.maxPitch,this._renderWorldCopies=t.renderWorldCopies,this._cameraToCenterDistance=t.cameraToCenterDistance,this._nearZ=t.nearZ,this._farZ=t.farZ,this._autoCalculateNearFarZ=!u&&t.autoCalculateNearFarZ,a&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(t){this._minElevationForCurrentTile=t}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(t){this._minZoom!==t&&(this._minZoom=t,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(t){this._minPitch!==t&&(this._minPitch=t,this.setPitch(Math.max(this.pitch,t)))}get maxPitch(){return this._maxPitch}setMaxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.setPitch(Math.min(this.pitch,t)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(t){t===void 0?t=!0:t===null&&(t=!1),this._renderWorldCopies=t}get constrainOverride(){return this._constrainOverride}setConstrainOverride(t){t===void 0&&(t=null),this._constrainOverride!==t&&(this._constrainOverride=t,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(t){const a=o.W(t,-180,180)*Math.PI/180;var u,d,b,E,R,k,$,Z,J;this._bearingInRadians!==a&&(this._unmodified=!1,this._bearingInRadians=a,this._calcMatrices(),this._rotationMatrix=N(),u=this._rotationMatrix,b=-this._bearingInRadians,E=(d=this._rotationMatrix)[0],R=d[1],k=d[2],$=d[3],Z=Math.sin(b),J=Math.cos(b),u[0]=E*J+k*Z,u[1]=R*J+$*Z,u[2]=E*-Z+k*J,u[3]=R*-Z+$*J)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(t){const a=o.an(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==a&&(this._unmodified=!1,this._pitchInRadians=a,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(t){const a=t/180*Math.PI;this._rollInRadians!==a&&(this._unmodified=!1,this._rollInRadians=a,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aZ(this._fovInRadians)}setFov(t){t=o.an(t,.1,150),this.fov!==t&&(this._unmodified=!1,this._fovInRadians=o.ap(t),this._calcMatrices())}get zoom(){return this._zoom}setZoom(t){const a=this.applyConstrain(this._center,t).zoom;this._zoom!==a&&(this._unmodified=!1,this._zoom=a,this._tileZoom=Math.max(0,Math.floor(a)),this._scale=o.aq(a),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(t){t!==this._elevation&&(this._elevation=t,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(t,a){this._autoCalculateNearFarZ=!1,this._nearZ=t,this._farZ=a,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,a,u){this._unmodified=!1,this._edgeInsets.interpolate(t,a,u),this.constrainInternal(),this._calcMatrices()}resize(t,a,u=!0){this._width=t,this._height=a,u&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new tr([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(t){t?(this._lngRange=[t.getWest(),t.getEast()],this._latRange=[t.getSouth(),t.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-o.ao,o.ao])}getCameraQueryGeometry(t,a){if(a.length===1)return[a[0],t];{const{minX:u,minY:d,maxX:b,maxY:E}=o.aa.fromPoints(a).extend(t);return[new o.P(u,d),new o.P(b,d),new o.P(b,E),new o.P(u,E),new o.P(u,d)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const t=this._unmodified,{center:a,zoom:u}=this.applyConstrain(this.center,this.zoom);this.setCenter(a),this.setZoom(u),this._unmodified=t,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let t=o.ar(new Float64Array(16));o.Q(t,t,[this._width/2,-this._height/2,1]),o.O(t,t,[1,-1,0]),this._clipSpaceToPixelsMatrix=t,t=o.ar(new Float64Array(16)),o.Q(t,t,[1,-1,1]),o.O(t,t,[-1,-1,0]),o.Q(t,t,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=t,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(t,a,u,d){const b=u!==void 0?u:this.bearing,E=d=d!==void 0?d:this.pitch,{distanceToCenter:R,clampedElevation:k}=this._distanceToCenterFromAltElevationPitch(a,this.elevation,E),{x:$,y:Z}=gr(E,b),J=o.a9.fromLngLat(t,a);let K,se,pe=o.a_(1,J.y),Ae=0;do{if(Ae+=1,Ae>10)break;se=R/pe,K=new o.a9(J.x+$*se,J.y+Z*se),pe=1/K.meterInMercatorCoordinateUnits()}while(Math.abs(R-se*pe)>1e-12);return{center:K.toLngLat(),elevation:k,zoom:o.at(this.height/2/Math.tan(this.fovInRadians/2)/se/this.tileSize)}}recalculateZoomAndCenter(t){if(this.elevation-t==0)return;const a=1/this.worldSize,u=o.as(1,this.center.lat)*this.worldSize,d=o.a9.fromLngLat(this.center,this.elevation),b=d.x/a,E=d.y/a,R=d.z/a,k=this.pitch,$=this.bearing,{x:Z,y:J,z:K}=gr(k,$),se=this.cameraToCenterDistance,pe=b+se*-Z,Ae=E+se*-J,Ce=R+se*K,{distanceToCenter:Ee,clampedElevation:Be}=this._distanceToCenterFromAltElevationPitch(Ce/u,t,k),He=Ee*u,ze=new o.a9((pe+Z*He)*a,(Ae+J*He)*a,0).toLngLat(),Qe=o.as(1,ze.lat),We=o.at(this.height/2/Math.tan(this.fovInRadians/2)/Ee/Qe/this.tileSize);this._elevation=Be,this._center=ze,this.setZoom(We)}_distanceToCenterFromAltElevationPitch(t,a,u){const d=-Math.cos(o.ap(u)),b=t-a;let E,R=a;return d*b>=0||Math.abs(d)<.1?(E=1e4,R=t+E*d):E=-b/d,{distanceToCenter:E,clampedElevation:R}}getCameraPoint(){const t=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(t*Math.sin(this.rollInRadians),t*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const t=o.as(1,this.center.lat)*this.worldSize;return ct(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/t).toLngLat()}getMercatorTileCoordinates(t){if(!t)return[0,0,1,1];const a=t.canonical.z>=0?1<<t.canonical.z:Math.pow(2,t.canonical.z);return[t.canonical.x/a,t.canonical.y/a,1/a/o.a5,1/a/o.a5]}}class La{constructor(t,a){this.min=t,this.max=a,this.center=o.a$([],o.b0([],this.min,this.max),.5)}quadrant(t){const a=[t%2==0,t<2],u=o.b1(this.min),d=o.b1(this.max);for(let b=0;b<a.length;b++)u[b]=a[b]?this.min[b]:this.center[b],d[b]=a[b]?this.center[b]:this.max[b];return d[2]=this.max[2],new La(u,d)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}intersectsFrustum(t){let a=!0;for(let u=0;u<t.planes.length;u++){const d=this.intersectsPlane(t.planes[u]);if(d===0)return 0;d===1&&(a=!1)}return a?2:t.aabb.min[0]>this.max[0]||t.aabb.min[1]>this.max[1]||t.aabb.min[2]>this.max[2]||t.aabb.max[0]<this.min[0]||t.aabb.max[1]<this.min[1]||t.aabb.max[2]<this.min[2]?0:1}intersectsPlane(t){let a=t[3],u=t[3];for(let d=0;d<3;d++)t[d]>0?(a+=t[d]*this.min[d],u+=t[d]*this.max[d]):(u+=t[d]*this.min[d],a+=t[d]*this.max[d]);return a>=0?2:u<0?0:1}}class S1{distanceToTile2d(t,a,u,d){const b=d.distanceX([t,a]),E=d.distanceY([t,a]);return Math.hypot(b,E)}getWrap(t,a,u){return u}getTileBoundingVolume(t,a,u,d){var b,E;let R=0,k=0;if(d?.terrain){const Z=new o.a2(t.z,a,t.z,t.x,t.y),J=d.terrain.getMinMaxElevation(Z);R=(b=J.minElevation)!==null&&b!==void 0?b:Math.min(0,u),k=(E=J.maxElevation)!==null&&E!==void 0?E:Math.max(0,u)}const $=1<<t.z;return new La([a+t.x/$,t.y/$,R],[a+(t.x+1)/$,(t.y+1)/$,k])}allowVariableZoom(t,a){const u=t.fov*(Math.abs(Math.cos(t.rollInRadians))*t.height+Math.abs(Math.sin(t.rollInRadians))*t.width)/t.height,d=o.an(78.5-u/2,0,60);return!!a.terrain||t.pitch>d}allowWorldCopies(){return!0}prepareNextFrame(){}}class pa{constructor(t,a,u){this.points=t,this.planes=a,this.aabb=u}static fromInvProjectionMatrix(t,a=1,u=0,d,b){const E=b?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],R=Math.pow(2,u),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((K=>(function(se,pe,Ae,Ce){const Ee=o.aH([],se,pe),Be=1/Ee[3]/Ae*Ce;return o.b6(Ee,Ee,[Be,Be,1/Ee[3],Be])})(K,t,a,R)));d&&(function(K,se,pe,Ae){const Ce=Ae?4:0,Ee=Ae?0:4;let Be=0;const He=[],ze=[];for(let Ge=0;Ge<4;Ge++){const nt=o.b2([],K[Ge+Ee],K[Ge+Ce]),xt=o.b7(nt);o.a$(nt,nt,1/xt),He.push(xt),ze.push(nt)}for(let Ge=0;Ge<4;Ge++){const nt=o.b8(K[Ge+Ce],ze[Ge],pe);Be=nt!==null&&nt>=0?Math.max(Be,nt):Math.max(Be,He[Ge])}const Qe=(function(Ge,nt){const xt=o.b2([],Ge[nt[0]],Ge[nt[1]]),gt=o.b2([],Ge[nt[2]],Ge[nt[1]]),vt=[0,0,0,0];return o.b3(vt,o.b4([],xt,gt)),vt[3]=-o.b5(vt,Ge[nt[0]]),vt})(K,se),We=(function(Ge,nt){const xt=o.b9(Ge),gt=o.ba([],Ge,1/xt),vt=o.b2([],nt,o.a$([],gt,o.b5(nt,gt))),bt=o.b9(vt);if(bt>0){const Ht=Math.sqrt(1-gt[3]*gt[3]),Zt=o.a$([],gt,-gt[3]),zt=o.b0([],Zt,o.a$([],vt,Ht/bt));return o.bb(nt,zt)}return null})(pe,Qe);if(We!==null){const Ge=We/o.b5(ze[0],Qe);Be=Math.min(Be,Ge)}for(let Ge=0;Ge<4;Ge++){const nt=Math.min(Be,He[Ge]);K[Ge+Ee]=[K[Ge+Ce][0]+ze[Ge][0]*nt,K[Ge+Ce][1]+ze[Ge][1]*nt,K[Ge+Ce][2]+ze[Ge][2]*nt,1]}})(k,E[0],d,b);const $=E.map((K=>{const se=o.b2([],k[K[0]],k[K[1]]),pe=o.b2([],k[K[2]],k[K[1]]),Ae=o.b3([],o.b4([],se,pe)),Ce=-o.b5(Ae,k[K[1]]);return Ae.concat(Ce)})),Z=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],J=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const K of k)for(let se=0;se<3;se++)Z[se]=Math.min(Z[se],K[se]),J[se]=Math.max(J[se],K[se]);return new pa(k,$,new La(Z,J))}}class Ai{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(t){this._helper.setMinZoom(t)}setMaxZoom(t){this._helper.setMaxZoom(t)}setMinPitch(t){this._helper.setMinPitch(t)}setMaxPitch(t){this._helper.setMaxPitch(t)}setRenderWorldCopies(t){this._helper.setRenderWorldCopies(t)}setBearing(t){this._helper.setBearing(t)}setPitch(t){this._helper.setPitch(t)}setRoll(t){this._helper.setRoll(t)}setFov(t){this._helper.setFov(t)}setZoom(t){this._helper.setZoom(t)}setCenter(t){this._helper.setCenter(t)}setElevation(t){this._helper.setElevation(t)}setMinElevationForCurrentTile(t){this._helper.setMinElevationForCurrentTile(t)}setPadding(t){this._helper.setPadding(t)}interpolatePadding(t,a,u){return this._helper.interpolatePadding(t,a,u)}isPaddingEqual(t){return this._helper.isPaddingEqual(t)}resize(t,a,u=!0){this._helper.resize(t,a,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(t){this._helper.setMaxBounds(t)}setConstrainOverride(t){this._helper.setConstrainOverride(t)}overrideNearFarZ(t,a){this._helper.overrideNearFarZ(t,a)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(t){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),t)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(t,a){}constructor(t){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(a,u)=>{u=o.an(+u,this.minZoom,this.maxZoom);const d={center:new o.V(a.lng,a.lat),zoom:u};let b=this._helper._lngRange;if(!this._helper._renderWorldCopies&&b===null){const ze=179.9999999999;b=[-ze,ze]}const E=this.tileSize*o.aq(d.zoom);let R=0,k=E,$=0,Z=E,J=0,K=0;const{x:se,y:pe}=this.size;if(this._helper._latRange){const ze=this._helper._latRange;R=o.X(ze[1])*E,k=o.X(ze[0])*E,k-R<pe&&(J=pe/(k-R))}b&&($=o.W(o.Y(b[0])*E,0,E),Z=o.W(o.Y(b[1])*E,0,E),Z<$&&(Z+=E),Z-$<se&&(K=se/(Z-$)));const{x:Ae,y:Ce}=$t(E,a);let Ee,Be;const He=Math.max(K||0,J||0);if(He){const ze=new o.P(K?(Z+$)/2:Ae,J?(k+R)/2:Ce);return d.center=Qt(E,ze).wrap(),d.zoom+=o.at(He),d}if(this._helper._latRange){const ze=pe/2;Ce-ze<R&&(Be=R+ze),Ce+ze>k&&(Be=k-ze)}if(b){const ze=($+Z)/2;let Qe=Ae;this._helper._renderWorldCopies&&(Qe=o.W(Ae,ze-E/2,ze+E/2));const We=se/2;Qe-We<$&&(Ee=$+We),Qe+We>Z&&(Ee=Z-We)}if(Ee!==void 0||Be!==void 0){const ze=new o.P(Ee??Ae,Be??Ce);d.center=Qt(E,ze).wrap()}return d},this.applyConstrain=(a,u)=>this._helper.applyConstrain(a,u),this._helper=new Qs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(a,u)=>this.defaultConstrain(a,u)},t),this._coveringTilesDetailsProvider=new S1}clone(){const t=new Ai;return t.apply(this),t}apply(t,a,u){this._helper.apply(t,a,u)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(t){const a=[new o.bc(0,t)];if(this._helper._renderWorldCopies){const u=this.screenPointToMercatorCoordinate(new o.P(0,0)),d=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),b=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),E=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),R=Math.floor(Math.min(u.x,d.x,b.x,E.x)),k=Math.floor(Math.max(u.x,d.x,b.x,E.x)),$=1;for(let Z=R-$;Z<=k+$;Z++)Z!==0&&a.push(new o.bc(Z,t))}return a}getCameraFrustum(){return pa.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(t){const a=this.screenPointToLocation(this.centerPoint,t),u=t?t.getElevationForLngLatZoom(a,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(u)}setLocationAtPoint(t,a){const u=o.as(this.elevation,this.center.lat),d=this.screenPointToMercatorCoordinateAtZ(a,u),b=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,u),E=o.a9.fromLngLat(t),R=new o.a9(E.x-(d.x-b.x),E.y-(d.y-b.y));this.setCenter(R?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(t,a){return a?this.coordinatePoint(o.a9.fromLngLat(t),a.getElevationForLngLat(t,this),this._pixelMatrix3D):this.coordinatePoint(o.a9.fromLngLat(t))}screenPointToLocation(t,a){var u;return(u=this.screenPointToMercatorCoordinate(t,a))===null||u===void 0?void 0:u.toLngLat()}screenPointToMercatorCoordinate(t,a){if(a){const u=a.pointCoordinate(t);if(u!=null)return u}return this.screenPointToMercatorCoordinateAtZ(t)}screenPointToMercatorCoordinateAtZ(t,a){const u=a||0,d=[t.x,t.y,0,1],b=[t.x,t.y,1,1];o.aH(d,d,this._pixelMatrixInverse),o.aH(b,b,this._pixelMatrixInverse);const E=d[3],R=b[3],k=d[1]/E,$=b[1]/R,Z=d[2]/E,J=b[2]/R,K=Z===J?0:(u-Z)/(J-Z);return new o.a9(o.G.number(d[0]/E,b[0]/R,K)/this.worldSize,o.G.number(k,$,K)/this.worldSize,u)}coordinatePoint(t,a=0,u=this._pixelMatrix){const d=[t.x*this.worldSize,t.y*this.worldSize,a,1];return o.aH(d,d,u),new o.P(d[0]/d[3],d[1]/d[3])}getBounds(){const t=Math.max(0,this._helper._height/2-Xt(this));return new tr().extend(this.screenPointToLocation(new o.P(0,t))).extend(this.screenPointToLocation(new o.P(this._helper._width,t))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(t,a){return a?a.pointCoordinate(t)!=null:t.y>this.height/2-Xt(this)}calculatePosMatrix(t,a=!1,u){var d;const b=(d=t.key)!==null&&d!==void 0?d:o.bd(t.wrap,t.canonical.z,t.canonical.z,t.canonical.x,t.canonical.y),E=a?this._alignedPosMatrixCache:this._posMatrixCache;if(E.has(b)){const $=E.get(b);return u?$.f32:$.f64}const R=hr(t,this.worldSize);o.S(R,a?this._alignedProjMatrix:this._viewProjMatrix,R);const k={f64:R,f32:new Float32Array(R)};return E.set(b,k),u?k.f32:k.f64}calculateFogMatrix(t){const a=t.key,u=this._fogMatrixCacheF32;if(u.has(a))return u.get(a);const d=hr(t,this.worldSize);return o.S(d,this._fogMatrix,d),u.set(a,new Float32Array(d)),u.get(a)}calculateCenterFromCameraLngLatAlt(t,a,u,d){return this._helper.calculateCenterFromCameraLngLatAlt(t,a,u,d)}_calculateNearFarZIfNeeded(t,a,u){if(!this._helper.autoCalculateNearFarZ)return;const d=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),b=t-d*this._helper._pixelPerMeter/Math.cos(a),E=d<0?b:t,R=Math.PI/2+this.pitchInRadians,k=o.ap(this.fov)*(Math.abs(Math.cos(o.ap(this.roll)))*this.height+Math.abs(Math.sin(o.ap(this.roll)))*this.width)/this.height*(.5+u.y/this.height),$=Math.sin(k)*E/Math.sin(o.an(Math.PI-R-k,.01,Math.PI-.01)),Z=Xt(this),J=Math.atan(Z/this._helper.cameraToCenterDistance),K=o.ap(.75),se=J>K?2*J*(.5+u.y/(2*Z)):K,pe=Math.sin(se)*E/Math.sin(o.an(Math.PI-R-se,.01,Math.PI-.01)),Ae=Math.min($,pe);this._helper._farZ=1.01*(Math.cos(Math.PI/2-a)*Ae+E),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const t=this.centerOffset,a=$t(this.worldSize,this.center),u=a.x,d=a.y;this._helper._pixelPerMeter=o.as(1,this.center.lat)*this.worldSize;const b=o.ap(Math.min(this.pitch,Ot)),E=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(b));let R;this._calculateNearFarZIfNeeded(E,b,t),R=new Float64Array(16),o.be(R,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.aB(this._invProjMatrix,R),R[8]=2*-t.x/this._helper._width,R[9]=2*t.y/this._helper._height,this._projectionMatrix=o.bf(R),o.Q(R,R,[1,-1,1]),o.O(R,R,[0,0,-this._helper.cameraToCenterDistance]),o.bg(R,R,-this.rollInRadians),o.bh(R,R,this.pitchInRadians),o.bg(R,R,-this.bearingInRadians),o.O(R,R,[-u,-d,0]),this._mercatorMatrix=o.Q([],R,[this.worldSize,this.worldSize,this.worldSize]),o.Q(R,R,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,R),o.O(R,R,[0,0,-this.elevation]),this._viewProjMatrix=R,this._invViewProjMatrix=o.aB([],R);const k=[0,0,-1,1];o.aH(k,k,this._invViewProjMatrix),this._cameraPosition=[k[0]/k[3],k[1]/k[3],k[2]/k[3]],this._fogMatrix=new Float64Array(16),o.be(this._fogMatrix,this.fovInRadians,this.width/this.height,E,this._helper._farZ),this._fogMatrix[8]=2*-t.x/this.width,this._fogMatrix[9]=2*t.y/this.height,o.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.O(this._fogMatrix,this._fogMatrix,[-u,-d,0]),o.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,R);const $=this._helper._width%2/2,Z=this._helper._height%2/2,J=Math.cos(this.bearingInRadians),K=Math.sin(-this.bearingInRadians),se=u-Math.round(u)+J*$+K*Z,pe=d-Math.round(d)+J*Z+K*$,Ae=new Float64Array(R);if(o.O(Ae,Ae,[se>.5?se-1:se,pe>.5?pe-1:pe,0]),this._alignedProjMatrix=Ae,R=o.aB(new Float64Array(16),this._pixelMatrix),!R)throw new Error("failed to invert matrix");this._pixelMatrixInverse=R,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const t=this.screenPointToMercatorCoordinate(new o.P(0,0)),a=[t.x*this.worldSize,t.y*this.worldSize,0,1];return o.aH(a,a,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const t=o.as(1,this.center.lat)*this.worldSize;return ct(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/t).toLngLat()}lngLatToCameraDepth(t,a){const u=o.a9.fromLngLat(t),d=[u.x*this.worldSize,u.y*this.worldSize,a,1];return o.aH(d,d,this._viewProjMatrix),d[2]/d[3]}getProjectionData(t){const{overscaledTileID:a,aligned:u,applyTerrainMatrix:d}=t,b=this._helper.getMercatorTileCoordinates(a),E=a?this.calculatePosMatrix(a,u,!0):null;let R;return R=a&&a.terrainRttPosMatrix32f&&d?a.terrainRttPosMatrix32f:E||o.bi(),{mainMatrix:R,tileMercatorCoords:b,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:R}}isLocationOccluded(t){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(t,a,u){return 1}transformLightDirection(t){return o.b1(t)}getRayDirectionFromPixel(t){throw new Error("Not implemented.")}projectTileCoordinates(t,a,u,d){const b=this.calculatePosMatrix(u);let E;d?(E=[t,a,d(t,a),1],o.aH(E,E,b)):(E=[t,a,0,1],da(E,E,b));const R=E[3];return{point:new o.P(E[0]/R,E[1]/R),signedDistanceFromCamera:R,isOccluded:!1}}populateCache(t){for(const a of t)this.calculatePosMatrix(a)}getMatrixForModel(t,a){const u=o.a9.fromLngLat(t,a),d=u.meterInMercatorCoordinateUnits(),b=o.bj();return o.O(b,b,[u.x,u.y,u.z]),o.bg(b,b,Math.PI),o.bh(b,b,Math.PI/2),o.Q(b,b,[-d,d,d]),b}getProjectionDataForCustomLayer(t=!0){const a=new o.a2(0,0,0,0,0),u=this.getProjectionData({overscaledTileID:a,applyGlobeMatrix:t}),d=hr(a,this.worldSize);o.S(d,this._viewProjMatrix,d),u.tileMercatorCoords=[0,0,1,1];const b=[o.a5,o.a5,this.worldSize/this._helper.pixelsPerMeter],E=o.bk();return o.Q(E,d,b),u.fallbackMatrix=E,u.mainMatrix=E,u}getFastPathSimpleProjectionMatrix(t){return this.calculatePosMatrix(t)}}function ma(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function i2(_){if(_.useSlerp)if(_.k<1){const t=o.bl(_.startEulerAngles.roll,_.startEulerAngles.pitch,_.startEulerAngles.bearing),a=o.bl(_.endEulerAngles.roll,_.endEulerAngles.pitch,_.endEulerAngles.bearing),u=new Float64Array(4);o.bm(u,t,a,_.k);const d=o.bn(u);_.tr.setRoll(d.roll),_.tr.setPitch(d.pitch),_.tr.setBearing(d.bearing)}else _.tr.setRoll(_.endEulerAngles.roll),_.tr.setPitch(_.endEulerAngles.pitch),_.tr.setBearing(_.endEulerAngles.bearing);else _.tr.setRoll(o.G.number(_.startEulerAngles.roll,_.endEulerAngles.roll,_.k)),_.tr.setPitch(o.G.number(_.startEulerAngles.pitch,_.endEulerAngles.pitch,_.k)),_.tr.setBearing(o.G.number(_.startEulerAngles.bearing,_.endEulerAngles.bearing,_.k))}function T1(_,t,a,u,d){const b=d.padding,E=$t(d.worldSize,a.getNorthWest()),R=$t(d.worldSize,a.getNorthEast()),k=$t(d.worldSize,a.getSouthEast()),$=$t(d.worldSize,a.getSouthWest()),Z=o.ap(-u),J=E.rotate(Z),K=R.rotate(Z),se=k.rotate(Z),pe=$.rotate(Z),Ae=new o.P(Math.max(J.x,K.x,pe.x,se.x),Math.max(J.y,K.y,pe.y,se.y)),Ce=new o.P(Math.min(J.x,K.x,pe.x,se.x),Math.min(J.y,K.y,pe.y,se.y)),Ee=Ae.sub(Ce),Be=(d.width-(b.left+b.right+t.left+t.right))/Ee.x,He=(d.height-(b.top+b.bottom+t.top+t.bottom))/Ee.y;if(He<0||Be<0)return void ma();const ze=Math.min(o.at(d.scale*Math.min(Be,He)),_.maxZoom),Qe=o.P.convert(_.offset),We=new o.P((t.left-t.right)/2,(t.top-t.bottom)/2).rotate(o.ap(u)),Ge=Qe.add(We).mult(d.scale/o.aq(ze));return{center:Qt(d.worldSize,E.add(k).div(2).sub(Ge)),zoom:ze,bearing:u}}class A1{get useGlobeControls(){return!1}handlePanInertia(t,a){const u=t.mag(),d=Math.abs(Xt(a));return{easingOffset:t.mult(Math.min(.75*d/u,1)),easingCenter:a.center}}handleMapControlsRollPitchBearingZoom(t,a){t.bearingDelta&&a.setBearing(a.bearing+t.bearingDelta),t.pitchDelta&&a.setPitch(a.pitch+t.pitchDelta),t.rollDelta&&a.setRoll(a.roll+t.rollDelta),t.zoomDelta&&a.setZoom(a.zoom+t.zoomDelta)}handleMapControlsPan(t,a,u){t.around.distSqr(a.centerPoint)<.01||a.setLocationAtPoint(u,t.around)}cameraForBoxAndBearing(t,a,u,d,b){return T1(t,a,u,d,b)}handleJumpToCenterZoom(t,a){t.zoom!==(a.zoom!==void 0?+a.zoom:t.zoom)&&t.setZoom(+a.zoom),a.center!==void 0&&t.setCenter(o.V.convert(a.center))}handleEaseTo(t,a){const u=t.zoom,d=t.padding,b={roll:t.roll,pitch:t.pitch,bearing:t.bearing},E={roll:a.roll===void 0?t.roll:a.roll,pitch:a.pitch===void 0?t.pitch:a.pitch,bearing:a.bearing===void 0?t.bearing:a.bearing},R=a.zoom!==void 0,k=!t.isPaddingEqual(a.padding);let $=!1;const Z=R?+a.zoom:t.zoom;let J=t.centerPoint.add(a.offsetAsPoint);const K=t.screenPointToLocation(J),{center:se,zoom:pe}=t.applyConstrain(o.V.convert(a.center||K),Z??u);$o(t,se);const Ae=$t(t.worldSize,K),Ce=$t(t.worldSize,se).sub(Ae),Ee=o.aq(pe-u);return $=pe!==u,{easeFunc:Be=>{if($&&t.setZoom(o.G.number(u,pe,Be)),o.bo(b,E)||i2({startEulerAngles:b,endEulerAngles:E,tr:t,k:Be,useSlerp:b.roll!=E.roll}),k&&(t.interpolatePadding(d,a.padding,Be),J=t.centerPoint.add(a.offsetAsPoint)),a.around)t.setLocationAtPoint(a.around,a.aroundPoint);else{const He=o.aq(t.zoom-u),ze=pe>u?Math.min(2,Ee):Math.max(.5,Ee),Qe=Math.pow(ze,1-Be),We=Qt(t.worldSize,Ae.add(Ce.mult(Be*Qe)).mult(He));t.setLocationAtPoint(t.renderWorldCopies?We.wrap():We,J)}},isZooming:$,elevationCenter:se}}handleFlyTo(t,a){const u=a.zoom!==void 0,d=t.zoom,b=t.applyConstrain(o.V.convert(a.center||a.locationAtOffset),u?+a.zoom:d),E=b.center,R=b.zoom;$o(t,E);const k=$t(t.worldSize,a.locationAtOffset),$=$t(t.worldSize,E).sub(k),Z=$.mag(),J=o.aq(R-d);let K;if(a.minZoom!==void 0){const se=Math.min(+a.minZoom,d,R),pe=t.applyConstrain(E,se).zoom;K=o.aq(pe-d)}return{easeFunc:(se,pe,Ae,Ce)=>{t.setZoom(se===1?R:d+o.at(pe));const Ee=se===1?E:Qt(t.worldSize,k.add($.mult(Ae)).mult(pe));t.setLocationAtPoint(t.renderWorldCopies?Ee.wrap():Ee,Ce)},scaleOfZoom:J,targetCenter:E,scaleOfMinZoom:K,pixelPathLength:Z}}}class _n{constructor(t,a,u){this.blendFunction=t,this.blendColor=a,this.mask=u}}_n.Replace=[1,0],_n.disabled=new _n(_n.Replace,o.bp.transparent,[!1,!1,!1,!1]),_n.unblended=new _n(_n.Replace,o.bp.transparent,[!0,!0,!0,!0]),_n.alphaBlended=new _n([1,771],o.bp.transparent,[!0,!0,!0,!0]);const Hs=2305;class Gr{constructor(t,a,u){this.enable=t,this.mode=a,this.frontFace=u}}Gr.disabled=new Gr(!1,1029,Hs),Gr.backCCW=new Gr(!0,1029,Hs),Gr.frontCCW=new Gr(!0,1028,Hs);class Cr{constructor(t,a,u){this.func=t,this.mask=a,this.range=u}}Cr.ReadOnly=!1,Cr.ReadWrite=!0,Cr.disabled=new Cr(519,Cr.ReadOnly,[0,1]);const E1=7680;class rn{constructor(t,a,u,d,b,E){this.test=t,this.ref=a,this.mask=u,this.fail=d,this.depthFail=b,this.pass=E}}rn.disabled=new rn({func:519,mask:0},0,0,E1,E1,E1);const a2=new WeakMap;function io(_){var t;if(a2.has(_))return a2.get(_);{const a=(t=_.getParameter(_.VERSION))===null||t===void 0?void 0:t.startsWith("WebGL 2.0");return a2.set(_,a),a}}class Zs{get awaitingQuery(){return!!this._readbackQueue}constructor(t){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=t;const a=t.context,u=a.gl;this._texFormat=u.RGBA,this._texType=u.UNSIGNED_BYTE;const d=new o.aW;d.emplaceBack(-1,-1),d.emplaceBack(2,-1),d.emplaceBack(-1,2);const b=new o.aY;b.emplaceBack(0,1,2),this._fullscreenTriangle=new Tn(a.createVertexBuffer(d,no.members),a.createIndexBuffer(b),o.aX.simpleSegment(0,0,d.length,b.length)),this._resultBuffer=new Uint8Array(4),a.activeTexture.set(u.TEXTURE1);const E=u.createTexture();u.bindTexture(u.TEXTURE_2D,E),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texImage2D(u.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=a.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(E),io(u)&&(this._pbo=u.createBuffer(),u.bindBuffer(u.PIXEL_PACK_BUFFER,this._pbo),u.bufferData(u.PIXEL_PACK_BUFFER,4,u.STREAM_READ),u.bindBuffer(u.PIXEL_PACK_BUFFER,null))}destroy(){const t=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),t.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(t,a){const u=this._updateCount;return this._readbackQueue?u>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():u>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(t,a),this._updateCount++,this._measuredError}_bindFramebuffer(){const t=this._cachedRenderContext.context,a=t.gl;t.activeTexture.set(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this._fbo.colorAttachment.get()),t.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(t,a){const u=this._cachedRenderContext.context,d=u.gl;if(this._bindFramebuffer(),u.viewport.set([0,0,this._texWidth,this._texHeight]),u.clear({color:o.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(u,d.TRIANGLES,Cr.disabled,rn.disabled,_n.unblended,Gr.disabled,((b,E)=>({u_input:b,u_output_expected:E}))(t,a),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&io(d)){d.bindBuffer(d.PIXEL_PACK_BUFFER,this._pbo),d.readBuffer(d.COLOR_ATTACHMENT0),d.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),d.bindBuffer(d.PIXEL_PACK_BUFFER,null);const b=d.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE,0);d.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:b}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const t=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&io(t)){const a=t.clientWaitSync(this._readbackQueue.sync,0,0);if(a===t.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(a===t.TIMEOUT_EXPIRED)return;t.bindBuffer(t.PIXEL_PACK_BUFFER,this._pbo),t.getBufferSubData(t.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),t.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Zs._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(t){let a=0;return a+=t[0]/256,a+=t[1]/65536,a+=t[2]/16777216,t[3]<127&&(a=-a),a/128}}const Xs=o.a5/128;function P5(_,t){const a=_.granularity!==void 0?Math.max(_.granularity,1):1,u=a+(_.generateBorders?2:0),d=a+(_.extendToNorthPole||_.generateBorders?1:0)+(_.extendToSouthPole||_.generateBorders?1:0),b=u+1,E=d+1,R=_.generateBorders?-1:0,k=_.generateBorders||_.extendToNorthPole?-1:0,$=a+(_.generateBorders?1:0),Z=a+(_.generateBorders||_.extendToSouthPole?1:0),J=b*E,K=u*d*6,se=b*E>65536;if(se&&t==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const pe=se||t==="32bit",Ae=new Int16Array(2*J);let Ce=0;for(let He=k;He<=Z;He++)for(let ze=R;ze<=$;ze++){let Qe=ze/a*o.a5;ze===-1&&(Qe=-Xs),ze===a+1&&(Qe=o.a5+Xs);let We=He/a*o.a5;He===-1&&(We=_.extendToNorthPole?o.br:-Xs),He===a+1&&(We=_.extendToSouthPole?o.bs:o.a5+Xs),Ae[Ce++]=Qe,Ae[Ce++]=We}const Ee=pe?new Uint32Array(K):new Uint16Array(K);let Be=0;for(let He=0;He<d;He++)for(let ze=0;ze<u;ze++){const Qe=ze+1+He*b,We=ze+(He+1)*b,Ge=ze+1+(He+1)*b;Ee[Be++]=ze+He*b,Ee[Be++]=We,Ee[Be++]=Qe,Ee[Be++]=Qe,Ee[Be++]=We,Ee[Be++]=Ge}return{vertices:Ae.buffer.slice(0),indices:Ee.buffer.slice(0),uses32bitIndices:pe}}const o2=new o.aV({fill:new o.bt(128,2),line:new o.bt(512,0),tile:new o.bt(128,32),stencil:new o.bt(128,1),circle:3});class l3{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Un.projectionGlobe}get vertexShaderPreludeCode(){return Un.projectionMercator.vertexSource}get subdivisionGranularity(){return o2}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(t){this._errorMeasurement||(this._errorMeasurement=new Zs(t));const a=o.X(this._errorQueryLatitudeDegrees),u=2*Math.atan(Math.exp(Math.PI-a*Math.PI*2))-.5*Math.PI,d=this._errorMeasurement.updateErrorLoop(a,u),b=j();d!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=d,this._errorMeasurementLastChangeTime=b);const E=Math.min(Math.max((b-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bv(E))}_getMeshKey(t){return`${t.granularity.toString(36)}_${t.generateBorders?"b":""}${t.extendToNorthPole?"n":""}${t.extendToSouthPole?"s":""}`}getMeshFromTileID(t,a,u,d,b){const E=(b==="stencil"?o2.stencil:o2.tile).getGranularityForZoomLevel(a.z);return this._getMesh(t,{granularity:E,generateBorders:u,extendToNorthPole:a.y===0&&d,extendToSouthPole:a.y===(1<<a.z)-1&&d})}_getMesh(t,a){const u=this._getMeshKey(a);if(u in this._tileMeshCache)return this._tileMeshCache[u];const d=(function(b,E){const R=P5(E,"16bit"),k=o.aW.deserialize({arrayBuffer:R.vertices,length:R.vertices.byteLength/2/2}),$=o.aY.deserialize({arrayBuffer:R.indices,length:R.indices.byteLength/2/3});return new Tn(b.createVertexBuffer(k,no.members),b.createIndexBuffer($),o.aX.simpleSegment(0,0,k.length,$.length))})(t,a);return this._tileMeshCache[u]=d,d}recalculate(t){}hasTransition(){const t=j();let a=!1;return a=a||(t-this._errorMeasurementLastChangeTime)/1e3<.7,a=a||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,a}setErrorQueryLatitudeDegrees(t){this._errorQueryLatitudeDegrees=t}}const r0=new o.t({type:new o.D(o.u.projection.type)});class u3 extends o.E{constructor(t){super(),this._transitionable=new o.x(r0,void 0),this.setProjection(t),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.H(0)),this._mercatorProjection=new Ii,this._verticalPerspectiveProjection=new l3}get transitionState(){const t=this.properties.get("type");if(typeof t=="string"&&t==="mercator")return 0;if(typeof t=="string"&&t==="vertical-perspective")return 1;if(t instanceof o.bw){if(t.from==="vertical-perspective"&&t.to==="mercator")return 1-t.transition;if(t.from==="mercator"&&t.to==="vertical-perspective")return t.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(t){this._mercatorProjection.updateGPUdependent(t),this._verticalPerspectiveProjection.updateGPUdependent(t)}getMeshFromTileID(t,a,u,d,b){return this.currentProjection.getMeshFromTileID(t,a,u,d,b)}setProjection(t){this._transitionable.setValue("type",t?.type||"mercator")}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}setErrorQueryLatitudeDegrees(t){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(t),this._mercatorProjection.setErrorQueryLatitudeDegrees(t)}}function ga(_){const t=M1(_.worldSize,_.center.lat);return 2*Math.PI*t}function Qo(_,t,a,u,d){const b=1/(1<<d),E=t/o.a5*b+u*b,R=o.by((_/o.a5*b+a*b)*Math.PI*2+Math.PI,2*Math.PI),k=2*Math.atan(Math.exp(Math.PI-E*Math.PI*2))-.5*Math.PI,$=Math.cos(k),Z=new Float64Array(3);return Z[0]=Math.sin(R)*$,Z[1]=Math.sin(k),Z[2]=Math.cos(R)*$,Z}function Gn(_){return(function(t,a){const u=Math.cos(a),d=new Float64Array(3);return d[0]=Math.sin(t)*u,d[1]=Math.sin(a),d[2]=Math.cos(t)*u,d})(_.lng*Math.PI/180,_.lat*Math.PI/180)}function M1(_,t){return _/(2*Math.PI)/Math.cos(t*Math.PI/180)}function s2(_){const t=Math.asin(_[1])/Math.PI*180,a=Math.sqrt(_[0]*_[0]+_[2]*_[2]);if(a>1e-6){const u=_[0]/a,d=Math.acos(_[2]/a),b=(u>0?d:-d)/Math.PI*180;return new o.V(o.W(b,-180,180),t)}return new o.V(0,t)}function l2(_){return Math.cos(_*Math.PI/180)}function Jn(_,t){const a=l2(_),u=l2(t);return o.at(u/a)}function R5(_,t){const a=_.rotate(t.bearingInRadians),u=t.zoom+Jn(t.center.lat,0),d=o.bu(1/l2(t.center.lat),1/l2(Math.min(Math.abs(t.center.lat),60)),o.bx(u,7,3,0,1)),b=360/ga({worldSize:t.worldSize,center:{lat:t.center.lat}});return new o.V(t.center.lng-a.x*b*d,o.an(t.center.lat+a.y*b,-o.ao,o.ao))}function o4(_){const t=.5*_,a=Math.sin(t),u=Math.cos(t);return Math.log(a+u)-Math.log(u-a)}function I5(_,t,a,u){const d=_.lat+a*u;if(Math.abs(a)>1){const b=(Math.sign(_.lat+a)!==Math.sign(_.lat)?-Math.abs(_.lat):Math.abs(_.lat))*Math.PI/180,E=Math.abs(_.lat+a)*Math.PI/180,R=o4(b+u*(E-b)),k=o4(b),$=o4(E);return new o.V(_.lng+t*((R-k)/($-k)),d)}return new o.V(_.lng+t*u,d)}class n0{constructor(t){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=t}swapBuffers(){if(!this._hadAnyChanges)return;const t=this._cachePrevious;this._cachePrevious=this._cache,this._cache=t,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(t,a,u,d){const b=`${t.z}_${t.x}_${t.y}_${d?.terrain?"t":""}`,E=this._cache.get(b);if(E)return E;const R=this._cachePrevious.get(b);if(R)return this._cache.set(b,R),R;const k=this._boundingVolumeFactory(t,a,u,d);return this._cache.set(b,k),this._hadAnyChanges=!0,k}}class yl{constructor(t,a,u,d){this.min=u,this.max=d,this.points=t,this.planes=a}static fromAabb(t,a){const u=[];for(let d=0;d<8;d++)u.push([1&~d?t[0]:a[0],(d>>1&1)==1?a[1]:t[1],(d>>2&1)==1?a[2]:t[2]]);return new yl(u,[[-1,0,0,a[0]],[1,0,0,-t[0]],[0,-1,0,a[1]],[0,1,0,-t[1]],[0,0,-1,a[2]],[0,0,1,-t[2]]],t,a)}static fromCenterSizeAngles(t,a,u){const d=o.bB([],u[0],u[1],u[2]),b=o.bC([],[a[0],0,0],d),E=o.bC([],[0,a[1],0],d),R=o.bC([],[0,0,a[2]],d),k=[...t],$=[...t];for(let J=0;J<8;J++)for(let K=0;K<3;K++){const se=t[K]+b[K]*(1&~J?-1:1)+E[K]*((J>>1&1)==1?1:-1)+R[K]*((J>>2&1)==1?1:-1);k[K]=Math.min(k[K],se),$[K]=Math.max($[K],se)}const Z=[];for(let J=0;J<8;J++){const K=[...t];o.b0(K,K,o.a$([],b,1&~J?-1:1)),o.b0(K,K,o.a$([],E,(J>>1&1)==1?1:-1)),o.b0(K,K,o.a$([],R,(J>>2&1)==1?1:-1)),Z.push(K)}return new yl(Z,[[...b,-o.b5(b,Z[0])],[...E,-o.b5(E,Z[0])],[...R,-o.b5(R,Z[0])],[-b[0],-b[1],-b[2],-o.b5(b,Z[7])],[-E[0],-E[1],-E[2],-o.b5(E,Z[7])],[-R[0],-R[1],-R[2],-o.b5(R,Z[7])]],k,$)}intersectsFrustum(t){let a=!0;const u=this.points.length,d=this.planes.length,b=t.planes.length,E=t.points.length;for(let R=0;R<b;R++){const k=t.planes[R];let $=0;for(let Z=0;Z<u;Z++){const J=this.points[Z];k[0]*J[0]+k[1]*J[1]+k[2]*J[2]+k[3]>=0&&$++}if($===0)return 0;$<u&&(a=!1)}if(a)return 2;for(let R=0;R<d;R++){const k=this.planes[R];let $=0;for(let Z=0;Z<E;Z++){const J=t.points[Z];k[0]*J[0]+k[1]*J[1]+k[2]*J[2]+k[3]>=0&&$++}if($===0)return 0}return 1}intersectsPlane(t){const a=this.points.length;let u=0;for(let d=0;d<a;d++){const b=this.points[d];t[0]*b[0]+t[1]*b[1]+t[2]*b[2]+t[3]>=0&&u++}return u===a?2:u===0?0:1}}function s4(_,t,a){const u=_-t;return u<0?-u:Math.max(0,u-a)}function _l(_,t,a,u,d){const b=_-a;let E;return E=b<0?Math.min(-b,1+b-d):b>1?Math.min(Math.max(b-d,0),1-b):0,Math.max(E,s4(t,u,d))}class c3{constructor(){this._boundingVolumeCache=new n0(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(t,a,u,d){const b=1<<u.z,E=1/b,R=u.x/b,k=u.y/b;let $=2;return $=Math.min($,_l(t,a,R,k,E)),$=Math.min($,_l(t,a,R+.5,-k-E,E)),$=Math.min($,_l(t,a,R+.5,2-k-E,E)),$}getWrap(t,a,u){const d=1<<a.z,b=1/d,E=a.x/d,R=s4(t.x,E,b),k=s4(t.x,E-1,b),$=s4(t.x,E+1,b),Z=Math.min(R,k,$);return Z===$?1:Z===k?-1:0}allowVariableZoom(t,a){return Ur(t,a)>4}allowWorldCopies(){return!1}getTileBoundingVolume(t,a,u,d){return this._boundingVolumeCache.getTileBoundingVolume(t,a,u,d)}_computeTileBoundingVolume(t,a,u,d){var b,E;let R=0,k=0;if(d?.terrain){const $=new o.a2(t.z,a,t.z,t.x,t.y),Z=d.terrain.getMinMaxElevation($);R=(b=Z.minElevation)!==null&&b!==void 0?b:Math.min(0,u),k=(E=Z.maxElevation)!==null&&E!==void 0?E:Math.max(0,u)}if(R/=o.bE,k/=o.bE,R+=1,k+=1,t.z<=0)return yl.fromAabb([-k,-k,-k],[k,k,k]);if(t.z===1)return yl.fromAabb([t.x===0?-k:0,t.y===0?0:-k,-k],[t.x===0?0:k,t.y===0?k:0,k]);{const $=[Qo(0,0,t.x,t.y,t.z),Qo(o.a5,0,t.x,t.y,t.z),Qo(o.a5,o.a5,t.x,t.y,t.z),Qo(0,o.a5,t.x,t.y,t.z)],Z=[];for(const vt of $)Z.push(o.a$([],vt,k));if(k!==R)for(const vt of $)Z.push(o.a$([],vt,R));t.y===0&&Z.push([0,1,0]),t.y===(1<<t.z)-1&&Z.push([0,-1,0]);const J=[1,1,1],K=[-1,-1,-1];for(const vt of Z)for(let bt=0;bt<3;bt++)J[bt]=Math.min(J[bt],vt[bt]),K[bt]=Math.max(K[bt],vt[bt]);const se=Qo(o.a5/2,o.a5/2,t.x,t.y,t.z),pe=o.b4([],[0,1,0],se);o.b3(pe,pe);const Ae=o.b4([],se,pe);o.b3(Ae,Ae);const Ce=o.b4([],$[2],$[1]);o.b3(Ce,Ce);const Ee=o.b4([],$[0],$[3]);o.b3(Ee,Ee),Z.push(o.a$([],se,k)),t.y>=(1<<t.z)/2&&Z.push(o.a$([],Qo(o.a5/2,0,t.x,t.y,t.z),k)),t.y<(1<<t.z)/2&&Z.push(o.a$([],Qo(o.a5/2,o.a5,t.x,t.y,t.z),k));const Be=u2(se,Z),He=u2(Ae,Z),ze=[-se[0],-se[1],-se[2],Be.max],Qe=[se[0],se[1],se[2],-Be.min],We=[-Ae[0],-Ae[1],-Ae[2],He.max],Ge=[Ae[0],Ae[1],Ae[2],-He.min],nt=[...Ce,0],xt=[...Ee,0],gt=[];return t.y===0?gt.push(o.bD(xt,nt,ze),o.bD(xt,nt,Qe)):gt.push(o.bD(We,nt,ze),o.bD(We,nt,Qe),o.bD(We,xt,ze),o.bD(We,xt,Qe)),t.y===(1<<t.z)-1?gt.push(o.bD(xt,nt,ze),o.bD(xt,nt,Qe)):gt.push(o.bD(Ge,nt,ze),o.bD(Ge,nt,Qe),o.bD(Ge,xt,ze),o.bD(Ge,xt,Qe)),new yl(gt,[ze,Qe,We,Ge,nt,xt],J,K)}}}function u2(_,t){let a=1/0,u=-1/0;for(const d of t){const b=o.b5(_,d);a=Math.min(a,b),u=Math.max(u,b)}return{min:a,max:u}}class vl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(t){this._helper.setMinZoom(t)}setMaxZoom(t){this._helper.setMaxZoom(t)}setMinPitch(t){this._helper.setMinPitch(t)}setMaxPitch(t){this._helper.setMaxPitch(t)}setRenderWorldCopies(t){this._helper.setRenderWorldCopies(t)}setBearing(t){this._helper.setBearing(t)}setPitch(t){this._helper.setPitch(t)}setRoll(t){this._helper.setRoll(t)}setFov(t){this._helper.setFov(t)}setZoom(t){this._helper.setZoom(t)}setCenter(t){this._helper.setCenter(t)}setElevation(t){this._helper.setElevation(t)}setMinElevationForCurrentTile(t){this._helper.setMinElevationForCurrentTile(t)}setPadding(t){this._helper.setPadding(t)}interpolatePadding(t,a,u){return this._helper.interpolatePadding(t,a,u)}isPaddingEqual(t){return this._helper.isPaddingEqual(t)}resize(t,a){this._helper.resize(t,a)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(t){this._helper.setMaxBounds(t)}setConstrainOverride(t){this._helper.setConstrainOverride(t)}overrideNearFarZ(t,a){this._helper.overrideNearFarZ(t,a)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(t){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),t)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(t){}constructor(t){this._cachedClippingPlane=o.bF(),this._projectionMatrix=o.bj(),this._globeViewProjMatrix32f=o.bi(),this._globeViewProjMatrixNoCorrection=o.bj(),this._globeViewProjMatrixNoCorrectionInverted=o.bj(),this._globeProjMatrixInverted=o.bj(),this._cameraPosition=o.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(a,u)=>{const d=o.an(a.lat,-o.ao,o.ao),b=o.an(+u,this.minZoom+Jn(0,d),this.maxZoom);return{center:new o.V(a.lng,d),zoom:b}},this.applyConstrain=(a,u)=>this._helper.applyConstrain(a,u),this._helper=new Qs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(a,u)=>this.defaultConstrain(a,u)},t),this._coveringTilesDetailsProvider=new c3}clone(){const t=new vl;return t.apply(this),t}apply(t,a){this._globeLatitudeErrorCorrectionRadians=a||0,this._helper.apply(t)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const t=o.bz();return t[0]=this._cameraPosition[0],t[1]=this._cameraPosition[1],t[2]=this._cameraPosition[2],t}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(t){const{overscaledTileID:a,applyGlobeMatrix:u}=t,d=this._helper.getMercatorTileCoordinates(a);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:d,clippingPlane:this._cachedClippingPlane,projectionTransition:u?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(t){const a=this.pitchInRadians,u=this.cameraToCenterDistance/t,d=Math.sin(a)*u,b=Math.cos(a)*u+1,E=1/Math.sqrt(d*d+b*b)*1;let R=-d,k=b;const $=Math.sqrt(R*R+k*k);R/=$,k/=$;const Z=[0,R,k];o.bG(Z,Z,[0,0,0],-this.bearingInRadians),o.bH(Z,Z,[0,0,0],-1*this.center.lat*Math.PI/180),o.bI(Z,Z,[0,0,0],this.center.lng*Math.PI/180);const J=1/o.b7(Z);return o.a$(Z,Z,J),[...Z,-E*J]}isLocationOccluded(t){return!this.isSurfacePointVisible(Gn(t))}transformLightDirection(t){const a=this._helper._center.lng*Math.PI/180,u=this._helper._center.lat*Math.PI/180,d=Math.cos(u),b=[Math.sin(a)*d,Math.sin(u),Math.cos(a)*d],E=[b[2],0,-b[0]],R=[0,0,0];o.b4(R,E,b),o.b3(E,E),o.b3(R,R);const k=[0,0,0];return o.b3(k,[E[0]*t[0]+R[0]*t[1]+b[0]*t[2],E[1]*t[0]+R[1]*t[1]+b[1]*t[2],E[2]*t[0]+R[2]*t[1]+b[2]*t[2]]),k}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(t,a,u){const d=(function(R,k,$){const Z=1/(1<<$.z);return new o.a9(R/o.a5*Z+$.x*Z,k/o.a5*Z+$.y*Z)})(t,a,u.canonical),b=(E=d.y,[o.by(d.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-E*Math.PI*2))-.5*Math.PI]);var E;return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(t,a,u,d){const b=u.canonical,E=Qo(t,a,b.x,b.y,b.z),R=1+(d?d(t,a):0)/o.bE,k=[E[0]*R,E[1]*R,E[2]*R,1];o.aH(k,k,this._globeViewProjMatrixNoCorrection);const $=this._cachedClippingPlane,Z=$[0]*E[0]+$[1]*E[1]+$[2]*E[2]+$[3]<0;return{point:new o.P(k[0]/k[3],k[1]/k[3]),signedDistanceFromCamera:k[3],isOccluded:Z}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const t=M1(this.worldSize,this.center.lat),a=o.bk(),u=o.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*t),o.be(a,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const d=this.centerOffset;a[8]=2*-d.x/this._helper._width,a[9]=2*d.y/this._helper._height,this._projectionMatrix=o.bf(a),this._globeProjMatrixInverted=o.bk(),o.aB(this._globeProjMatrixInverted,a),o.O(a,a,[0,0,-this.cameraToCenterDistance]),o.bg(a,a,this.rollInRadians),o.bh(a,a,-this.pitchInRadians),o.bg(a,a,this.bearingInRadians),o.O(a,a,[0,0,-t]);const b=o.bz();b[0]=t,b[1]=t,b[2]=t,o.bh(u,a,this.center.lat*Math.PI/180),o.bJ(u,u,-this.center.lng*Math.PI/180),o.Q(u,u,b),this._globeViewProjMatrixNoCorrection=u,o.bh(a,a,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bJ(a,a,-this.center.lng*Math.PI/180),o.Q(a,a,b),this._globeViewProjMatrix32f=new Float32Array(a),this._globeViewProjMatrixNoCorrectionInverted=o.bk(),o.aB(this._globeViewProjMatrixNoCorrectionInverted,u);const E=o.bz();this._cameraPosition=o.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/t,o.bG(this._cameraPosition,this._cameraPosition,E,-this.rollInRadians),o.bH(this._cameraPosition,this._cameraPosition,E,this.pitchInRadians),o.bG(this._cameraPosition,this._cameraPosition,E,-this.bearingInRadians),o.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bH(this._cameraPosition,this._cameraPosition,E,-this.center.lat*Math.PI/180),o.bI(this._cameraPosition,this._cameraPosition,E,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(t);const R=o.bf(this._globeViewProjMatrixNoCorrectionInverted);o.Q(R,R,[1,1,-1]),this._cachedFrustum=pa.fromInvProjectionMatrix(R,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(t){o.w("calculateFogMatrix is not supported on globe projection.");const a=o.bk();return o.ar(a),a}getVisibleUnwrappedCoordinates(t){return[new o.bc(0,t)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(t){t&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(t,a){if(!this._globeViewProjMatrixNoCorrection)return 1;const u=Gn(t);o.a$(u,u,1+a/o.bE);const d=o.bF();return o.aH(d,[u[0],u[1],u[2],1],this._globeViewProjMatrixNoCorrection),d[2]/d[3]}populateCache(t){}getBounds(){const t=.5*this.width,a=.5*this.height,u=[new o.P(0,0),new o.P(t,0),new o.P(this.width,0),new o.P(this.width,a),new o.P(this.width,this.height),new o.P(t,this.height),new o.P(0,this.height),new o.P(0,a)],d=[];for(const J of u)d.push(this.unprojectScreenPoint(J));let b=0,E=0,R=0,k=0;const $=this.center;for(const J of d){const K=o.bK($.lng,J.lng),se=o.bK($.lat,J.lat);K<E&&(E=K),K>b&&(b=K),se<k&&(k=se),se>R&&(R=se)}const Z=[$.lng+E,$.lat+k,$.lng+b,$.lat+R];return this.isSurfacePointOnScreen([0,1,0])&&(Z[3]=90,Z[0]=-180,Z[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(Z[1]=-90,Z[0]=-180,Z[2]=180),new tr(Z)}calculateCenterFromCameraLngLatAlt(t,a,u,d){return this._helper.calculateCenterFromCameraLngLatAlt(t,a,u,d)}setLocationAtPoint(t,a){const u=Gn(this.unprojectScreenPoint(a)),d=Gn(t),b=o.bz();o.bL(b);const E=o.bz();o.bI(E,u,b,-this.center.lng*Math.PI/180),o.bH(E,E,b,this.center.lat*Math.PI/180);const R=d[0]*d[0]+d[2]*d[2],k=E[0]*E[0];if(R<k)return;const $=Math.sqrt(R-k),Z=-$,J=o.bM(d[0],d[2],E[0],$),K=o.bM(d[0],d[2],E[0],Z),se=o.bz();o.bI(se,d,b,-J);const pe=o.bM(se[1],se[2],E[1],E[2]),Ae=o.bz();o.bI(Ae,d,b,-K);const Ce=o.bM(Ae[1],Ae[2],E[1],E[2]),Ee=.5*Math.PI,Be=pe>=-Ee&&pe<=Ee,He=Ce>=-Ee&&Ce<=Ee;let ze,Qe;if(Be&&He){const xt=this.center.lng*Math.PI/180,gt=this.center.lat*Math.PI/180;o.bN(J,xt)+o.bN(pe,gt)<o.bN(K,xt)+o.bN(Ce,gt)?(ze=J,Qe=pe):(ze=K,Qe=Ce)}else if(Be)ze=J,Qe=pe;else{if(!He)return;ze=K,Qe=Ce}const We=ze/Math.PI*180,Ge=Qe/Math.PI*180,nt=this.center.lat;this.setCenter(new o.V(We,o.an(Ge,-90,90))),this.setZoom(this.zoom+Jn(nt,this.center.lat))}locationToScreenPoint(t,a){const u=Gn(t);if(a){const d=a.getElevationForLngLatZoom(t,this._helper._tileZoom);o.a$(u,u,1+d/o.bE)}return this._projectSurfacePointToScreen(u)}_projectSurfacePointToScreen(t){const a=o.bF();return o.aH(a,[...t,1],this._globeViewProjMatrixNoCorrection),a[0]/=a[3],a[1]/=a[3],new o.P((.5*a[0]+.5)*this.width,(.5*-a[1]+.5)*this.height)}screenPointToMercatorCoordinate(t,a){if(a){const u=a.pointCoordinate(t);if(u)return u}return o.a9.fromLngLat(this.unprojectScreenPoint(t))}screenPointToLocation(t,a){var u;return(u=this.screenPointToMercatorCoordinate(t,a))===null||u===void 0?void 0:u.toLngLat()}isPointOnMapSurface(t,a){const u=this._cameraPosition,d=this.getRayDirectionFromPixel(t);return!!this.rayPlanetIntersection(u,d)}getRayDirectionFromPixel(t){const a=o.bF();a[0]=t.x/this.width*2-1,a[1]=-1*(t.y/this.height*2-1),a[2]=1,a[3]=1,o.aH(a,a,this._globeViewProjMatrixNoCorrectionInverted),a[0]/=a[3],a[1]/=a[3],a[2]/=a[3];const u=o.bz();u[0]=a[0]-this._cameraPosition[0],u[1]=a[1]-this._cameraPosition[1],u[2]=a[2]-this._cameraPosition[2];const d=o.bz();return o.b3(d,u),d}isSurfacePointVisible(t){const a=this._cachedClippingPlane;return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]+a[3]>=0}isSurfacePointOnScreen(t){if(!this.isSurfacePointVisible(t))return!1;const a=o.bF();return o.aH(a,[...t,1],this._globeViewProjMatrixNoCorrection),a[0]/=a[3],a[1]/=a[3],a[2]/=a[3],a[0]>-1&&a[0]<1&&a[1]>-1&&a[1]<1&&a[2]>-1&&a[2]<1}rayPlanetIntersection(t,a){const u=o.b5(t,a),d=o.bz(),b=o.bz();o.a$(b,a,u),o.b2(d,t,b);const E=1-o.b5(d,d);if(E<0)return null;const R=o.b5(t,t)-1,k=-u+(u<0?1:-1)*Math.sqrt(E),$=R/k,Z=k;return{tMin:Math.min($,Z),tMax:Math.max($,Z)}}unprojectScreenPoint(t){const a=this._cameraPosition,u=this.getRayDirectionFromPixel(t),d=this.rayPlanetIntersection(a,u);if(d){const Z=o.bz();o.b0(Z,a,[u[0]*d.tMin,u[1]*d.tMin,u[2]*d.tMin]);const J=o.bz();return o.b3(J,Z),s2(J)}const b=this._cachedClippingPlane,E=b[0]*u[0]+b[1]*u[1]+b[2]*u[2],R=-o.bb(b,a)/E,k=o.bz();if(R>0)o.b0(k,a,[u[0]*R,u[1]*R,u[2]*R]);else{const Z=o.bz();o.b0(Z,a,[2*u[0],2*u[1],2*u[2]]);const J=o.bb(this._cachedClippingPlane,Z);o.b2(k,Z,[this._cachedClippingPlane[0]*J,this._cachedClippingPlane[1]*J,this._cachedClippingPlane[2]*J])}const $=(function(Z){const J=o.bz();return J[0]=Z[0]*-Z[3],J[1]=Z[1]*-Z[3],J[2]=Z[2]*-Z[3],{center:J,radius:Math.sqrt(1-Z[3]*Z[3])}})(b);return s2((function(Z,J,K){const se=o.bz();o.b2(se,K,Z);const pe=o.bz();return o.bA(pe,Z,se,J/o.b9(se)),pe})($.center,$.radius,k))}getMatrixForModel(t,a){const u=o.V.convert(t),d=1/o.bE,b=o.bj();return o.bJ(b,b,u.lng/180*Math.PI),o.bh(b,b,-u.lat/180*Math.PI),o.O(b,b,[0,0,1+a/o.bE]),o.bh(b,b,.5*Math.PI),o.Q(b,b,[d,d,d]),b}getProjectionDataForCustomLayer(t=!0){const a=this.getProjectionData({overscaledTileID:new o.a2(0,0,0,0,0),applyGlobeMatrix:t});return a.tileMercatorCoords=[0,0,1,1],a}getFastPathSimpleProjectionMatrix(t){}}class bl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(t){this._helper.setMinZoom(t)}setMaxZoom(t){this._helper.setMaxZoom(t)}setMinPitch(t){this._helper.setMinPitch(t)}setMaxPitch(t){this._helper.setMaxPitch(t)}setRenderWorldCopies(t){this._helper.setRenderWorldCopies(t)}setBearing(t){this._helper.setBearing(t)}setPitch(t){this._helper.setPitch(t)}setRoll(t){this._helper.setRoll(t)}setFov(t){this._helper.setFov(t)}setZoom(t){this._helper.setZoom(t)}setCenter(t){this._helper.setCenter(t)}setElevation(t){this._helper.setElevation(t)}setMinElevationForCurrentTile(t){this._helper.setMinElevationForCurrentTile(t)}setPadding(t){this._helper.setPadding(t)}interpolatePadding(t,a,u){return this._helper.interpolatePadding(t,a,u)}isPaddingEqual(t){return this._helper.isPaddingEqual(t)}resize(t,a,u=!0){this._helper.resize(t,a,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(t){this._helper.setMaxBounds(t)}setConstrainOverride(t){this._helper.setConstrainOverride(t)}overrideNearFarZ(t,a){this._helper.overrideNearFarZ(t,a)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(t){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),t)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(t,a){this._globeness=t,this._globeLatitudeErrorCorrectionRadians=a,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(t){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(a,u)=>this.currentTransform.defaultConstrain(a,u),this.applyConstrain=(a,u)=>this._helper.applyConstrain(a,u),this._helper=new Qs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(a,u)=>this.defaultConstrain(a,u)},t),this._globeness=1,this._mercatorTransform=new Ai,this._verticalPerspectiveTransform=new vl}clone(){const t=new bl;return t._globeness=this._globeness,t._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,t.apply(this),t}apply(t){this._helper.apply(t),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(t){const a=this._mercatorTransform.getProjectionData(t),u=this._verticalPerspectiveTransform.getProjectionData(t);return{mainMatrix:this.isGlobeRendering?u.mainMatrix:a.mainMatrix,clippingPlane:u.clippingPlane,tileMercatorCoords:u.tileMercatorCoords,projectionTransition:t.applyGlobeMatrix?this._globeness:0,fallbackMatrix:a.fallbackMatrix}}isLocationOccluded(t){return this.currentTransform.isLocationOccluded(t)}transformLightDirection(t){return this.currentTransform.transformLightDirection(t)}getPixelScale(){return o.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(t,a,u){const d=this._mercatorTransform.getPitchedTextCorrection(t,a,u),b=this._verticalPerspectiveTransform.getPitchedTextCorrection(t,a,u);return o.bu(d,b,this._globeness)}projectTileCoordinates(t,a,u,d){return this.currentTransform.projectTileCoordinates(t,a,u,d)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(t){return this.currentTransform.calculateFogMatrix(t)}getVisibleUnwrappedCoordinates(t){return this.currentTransform.getVisibleUnwrappedCoordinates(t)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(t){this._mercatorTransform.recalculateZoomAndCenter(t),this._verticalPerspectiveTransform.recalculateZoomAndCenter(t)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(t,a){return this.currentTransform.lngLatToCameraDepth(t,a)}populateCache(t){this._mercatorTransform.populateCache(t),this._verticalPerspectiveTransform.populateCache(t)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(t,a,u,d){return this._helper.calculateCenterFromCameraLngLatAlt(t,a,u,d)}setLocationAtPoint(t,a){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(t,a),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(t,a),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(t,a){return this.currentTransform.locationToScreenPoint(t,a)}screenPointToMercatorCoordinate(t,a){return this.currentTransform.screenPointToMercatorCoordinate(t,a)}screenPointToLocation(t,a){return this.currentTransform.screenPointToLocation(t,a)}isPointOnMapSurface(t,a){return this.currentTransform.isPointOnMapSurface(t,a)}getRayDirectionFromPixel(t){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(t)}getMatrixForModel(t,a){return this.currentTransform.getMatrixForModel(t,a)}getProjectionDataForCustomLayer(t=!0){const a=this._mercatorTransform.getProjectionDataForCustomLayer(t);if(!this.isGlobeRendering)return a;const u=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(t);return u.fallbackMatrix=a.mainMatrix,u}getFastPathSimpleProjectionMatrix(t){return this.currentTransform.getFastPathSimpleProjectionMatrix(t)}}class si{get useGlobeControls(){return!0}handlePanInertia(t,a){const u=R5(t,a);return Math.abs(u.lng-a.center.lng)>180&&(u.lng=a.center.lng+179.5*Math.sign(u.lng-a.center.lng)),{easingCenter:u,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(t,a){const u=t.around,d=a.screenPointToLocation(u);t.bearingDelta&&a.setBearing(a.bearing+t.bearingDelta),t.pitchDelta&&a.setPitch(a.pitch+t.pitchDelta),t.rollDelta&&a.setRoll(a.roll+t.rollDelta);const b=a.zoom;t.zoomDelta&&a.setZoom(a.zoom+t.zoomDelta);const E=a.zoom-b;if(E===0)return;const R=o.bK(a.center.lng,d.lng),k=R/(Math.abs(R/180)+1),$=o.bK(a.center.lat,d.lat),Z=a.getRayDirectionFromPixel(u),J=a.cameraPosition,K=-1*o.b5(J,Z),se=o.bz();o.b0(se,J,[Z[0]*K,Z[1]*K,Z[2]*K]);const pe=o.b7(se)-1,Ae=Math.exp(.5*-Math.max(pe-.3,0)),Ce=M1(a.worldSize,a.center.lat)/Math.min(a.width,a.height),Ee=o.bx(Ce,.9,.5,1,.25),Be=(1-o.aq(-E))*Math.min(Ae,Ee),He=a.center.lat,ze=a.zoom,Qe=new o.V(a.center.lng+k*Be,o.an(a.center.lat+$*Be,-o.ao,o.ao));a.setLocationAtPoint(d,u);const We=a.center,Ge=o.bx(Math.abs(R),45,85,0,1),nt=o.bx(Ce,.75,.35,0,1),xt=Math.pow(Math.max(Ge,nt),.25),gt=o.bK(We.lng,Qe.lng),vt=o.bK(We.lat,Qe.lat);a.setCenter(new o.V(We.lng+gt*xt,We.lat+vt*xt).wrap()),a.setZoom(ze+Jn(He,a.center.lat))}handleMapControlsPan(t,a,u){if(!t.panDelta)return;const d=a.center.lat,b=a.zoom;a.setCenter(R5(t.panDelta,a).wrap()),a.setZoom(b+Jn(d,a.center.lat))}cameraForBoxAndBearing(t,a,u,d,b){const E=T1(t,a,u,d,b),R=a.left/b.width*2-1,k=(b.width-a.right)/b.width*2-1,$=a.top/b.height*-2+1,Z=(b.height-a.bottom)/b.height*-2+1,J=o.bK(u.getWest(),u.getEast())<0,K=J?u.getEast():u.getWest(),se=J?u.getWest():u.getEast(),pe=Math.max(u.getNorth(),u.getSouth()),Ae=Math.min(u.getNorth(),u.getSouth()),Ce=K+.5*o.bK(K,se),Ee=pe+.5*o.bK(pe,Ae),Be=b.clone();Be.setCenter(E.center),Be.setBearing(E.bearing),Be.setPitch(0),Be.setRoll(0),Be.setZoom(E.zoom);const He=Be.modelViewProjectionMatrix,ze=[Gn(u.getNorthWest()),Gn(u.getNorthEast()),Gn(u.getSouthWest()),Gn(u.getSouthEast()),Gn(new o.V(se,Ee)),Gn(new o.V(K,Ee)),Gn(new o.V(Ce,pe)),Gn(new o.V(Ce,Ae))],Qe=Gn(E.center);let We=Number.POSITIVE_INFINITY;for(const Ge of ze)R<0&&(We=si.getLesserNonNegativeNonNull(We,si.solveVectorScale(Ge,Qe,He,"x",R))),k>0&&(We=si.getLesserNonNegativeNonNull(We,si.solveVectorScale(Ge,Qe,He,"x",k))),$>0&&(We=si.getLesserNonNegativeNonNull(We,si.solveVectorScale(Ge,Qe,He,"y",$))),Z<0&&(We=si.getLesserNonNegativeNonNull(We,si.solveVectorScale(Ge,Qe,He,"y",Z)));if(Number.isFinite(We)&&We!==0)return E.zoom=Be.zoom+o.at(We),E;ma()}handleJumpToCenterZoom(t,a){const u=t.center.lat,d=t.applyConstrain(a.center?o.V.convert(a.center):t.center,t.zoom).center;t.setCenter(d.wrap());const b=a.zoom!==void 0?+a.zoom:t.zoom+Jn(u,d.lat);t.zoom!==b&&t.setZoom(b)}handleEaseTo(t,a){const u=t.zoom,d=t.center,b=t.padding,E={roll:t.roll,pitch:t.pitch,bearing:t.bearing},R={roll:a.roll===void 0?t.roll:a.roll,pitch:a.pitch===void 0?t.pitch:a.pitch,bearing:a.bearing===void 0?t.bearing:a.bearing},k=a.zoom!==void 0,$=!t.isPaddingEqual(a.padding);let Z=!1;const J=a.center?o.V.convert(a.center):d,K=t.applyConstrain(J,u).center;$o(t,K);const se=t.clone();se.setCenter(K),se.setZoom(k?+a.zoom:u+Jn(d.lat,J.lat)),se.setBearing(a.bearing);const pe=new o.P(o.an(t.centerPoint.x+a.offsetAsPoint.x,0,t.width),o.an(t.centerPoint.y+a.offsetAsPoint.y,0,t.height));se.setLocationAtPoint(K,pe);const Ae=(a.offset&&a.offsetAsPoint.mag())>0?se.center:K,Ce=k?+a.zoom:u+Jn(d.lat,Ae.lat),Ee=u+Jn(d.lat,0),Be=Ce+Jn(Ae.lat,0),He=o.bK(d.lng,Ae.lng),ze=o.bK(d.lat,Ae.lat),Qe=o.aq(Be-Ee);return Z=Ce!==u,{easeFunc:We=>{if(o.bo(E,R)||i2({startEulerAngles:E,endEulerAngles:R,tr:t,k:We,useSlerp:E.roll!=R.roll}),$&&t.interpolatePadding(b,a.padding,We),a.around)o.w("Easing around a point is not supported under globe projection."),t.setLocationAtPoint(a.around,a.aroundPoint);else{const Ge=Be>Ee?Math.min(2,Qe):Math.max(.5,Qe),nt=Math.pow(Ge,1-We),xt=I5(d,He,ze,We*nt);t.setCenter(xt.wrap())}if(Z){const Ge=o.G.number(Ee,Be,We)+Jn(0,t.center.lat);t.setZoom(Ge)}},isZooming:Z,elevationCenter:Ae}}handleFlyTo(t,a){const u=a.zoom!==void 0,d=t.center,b=t.zoom,E=t.padding,R=!t.isPaddingEqual(a.padding),k=t.applyConstrain(o.V.convert(a.center||a.locationAtOffset),b).center,$=u?+a.zoom:t.zoom+Jn(t.center.lat,k.lat),Z=t.clone();Z.setCenter(k),Z.setZoom($),Z.setBearing(a.bearing);const J=new o.P(o.an(t.centerPoint.x+a.offsetAsPoint.x,0,t.width),o.an(t.centerPoint.y+a.offsetAsPoint.y,0,t.height));Z.setLocationAtPoint(k,J);const K=Z.center;$o(t,K);const se=(function(ze,Qe,We){const Ge=Gn(Qe),nt=Gn(We),xt=o.b5(Ge,nt),gt=Math.acos(xt),vt=ga(ze);return gt/(2*Math.PI)*vt})(t,d,K),pe=b+Jn(d.lat,0),Ae=$+Jn(K.lat,0),Ce=o.aq(Ae-pe);let Ee;if(typeof a.minZoom=="number"){const ze=+a.minZoom+Jn(K.lat,0),Qe=Math.min(ze,pe,Ae)+Jn(0,K.lat),We=t.applyConstrain(K,Qe).zoom+Jn(K.lat,0);Ee=o.aq(We-pe)}const Be=o.bK(d.lng,K.lng),He=o.bK(d.lat,K.lat);return{easeFunc:(ze,Qe,We,Ge)=>{const nt=I5(d,Be,He,We);R&&t.interpolatePadding(E,a.padding,ze);const xt=ze===1?K:nt;t.setCenter(xt.wrap());const gt=pe+o.at(Qe);t.setZoom(ze===1?$:gt+Jn(0,xt.lat))},scaleOfZoom:Ce,targetCenter:K,scaleOfMinZoom:Ee,pixelPathLength:se}}static solveVectorScale(t,a,u,d,b){const E=d==="x"?[u[0],u[4],u[8],u[12]]:[u[1],u[5],u[9],u[13]],R=[u[3],u[7],u[11],u[15]],k=t[0]*E[0]+t[1]*E[1]+t[2]*E[2],$=t[0]*R[0]+t[1]*R[1]+t[2]*R[2],Z=a[0]*E[0]+a[1]*E[1]+a[2]*E[2],J=a[0]*R[0]+a[1]*R[1]+a[2]*R[2];return Z+b*$===k+b*J||R[3]*(k-Z)+E[3]*(J-$)+k*J==Z*$?null:(Z+E[3]-b*J-b*R[3])/(Z-k-b*J+b*$)}static getLesserNonNegativeNonNull(t,a){return a!==null&&a>=0&&a<t?a:t}}class xl{constructor(t){this._globe=t,this._mercatorCameraHelper=new A1,this._verticalPerspectiveCameraHelper=new si}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(t,a){return this.currentHelper.handlePanInertia(t,a)}handleMapControlsRollPitchBearingZoom(t,a){return this.currentHelper.handleMapControlsRollPitchBearingZoom(t,a)}handleMapControlsPan(t,a,u){this.currentHelper.handleMapControlsPan(t,a,u)}cameraForBoxAndBearing(t,a,u,d,b){return this.currentHelper.cameraForBoxAndBearing(t,a,u,d,b)}handleJumpToCenterZoom(t,a){this.currentHelper.handleJumpToCenterZoom(t,a)}handleEaseTo(t,a){return this.currentHelper.handleEaseTo(t,a)}handleFlyTo(t,a){return this.currentHelper.handleFlyTo(t,a)}}const wl=(_,t)=>o.B(_,t&&t.filter((a=>a.identifier!=="source.canvas"))),Sl=o.bO();class Ys extends o.E{constructor(t,a={}){var u,d;super(),this._rtlPluginLoaded=()=>{for(const E in this.tileManagers){const R=this.tileManagers[E].getSource().type;R!=="vector"&&R!=="geojson"||this.tileManagers[E].reload()}},this.map=t,this.dispatcher=new qe(ut(),t._getMapId()),this.dispatcher.registerMessageHandler("GG",((E,R)=>this.getGlyphs(E,R))),this.dispatcher.registerMessageHandler("GI",((E,R)=>this.getImages(E,R))),this.dispatcher.registerMessageHandler("GDA",((E,R)=>this.getDashes(E,R))),this.imageManager=new Fe,this.imageManager.setEventedParent(this);const b=((u=t._container)===null||u===void 0?void 0:u.lang)||typeof document<"u"&&((d=document.documentElement)===null||d===void 0?void 0:d.lang)||void 0;this.glyphManager=new Te(t._requestManager,a.localIdeographFontFamily,b),this.lineAtlas=new dt(256,512),this.crossTileSymbolIndex=new Ri,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",o.bP()),ot().on(Ue,this._rtlPluginLoaded),this.on("data",(E=>{if(E.dataType!=="source"||E.sourceDataType!=="metadata")return;const R=this.tileManagers[E.sourceId];if(!R)return;const k=R.getSource();if(k&&k.vectorLayerIds)for(const $ in this._layers){const Z=this._layers[$];Z.source===k.id&&this._validateLayer(Z)}}))}_setInitialValues(){var t;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new o.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((t=this.crossTileSymbolIndex)===null||t===void 0?void 0:t.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(t,a){var u,d,b;this._checkLoaded();const E=a===null?(b=(d=(u=this.stylesheet.state)===null||u===void 0?void 0:u[t])===null||d===void 0?void 0:d.default)!==null&&b!==void 0?b:null:a;if(o.bR(E,this._globalState[t]))return this;this._globalState[t]=E,this._applyGlobalStateChanges([t])}getGlobalState(){return this._globalState}setGlobalState(t){this._checkLoaded();const a=[];for(const u in t)!o.bR(this._globalState[u],t[u].default)&&(a.push(u),this._globalState[u]=t[u].default);this._applyGlobalStateChanges(a)}_applyGlobalStateChanges(t){if(t.length===0)return;const a=new Set,u={};for(const d of t){u[d]=this._globalState[d];for(const b in this._layers){const E=this._layers[b],R=E.getLayoutAffectingGlobalStateRefs(),k=E.getPaintAffectingGlobalStateRefs(),$=E.getVisibilityAffectingGlobalStateRefs();if(R.has(d)&&a.add(E.source),k.has(d))for(const{name:Z,value:J}of k.get(d))this._updatePaintProperty(E,Z,J);$?.has(d)&&(E.recalculateVisibility(),this._updateLayer(E))}}this.dispatcher.broadcast("UGS",u);for(const d in this.tileManagers)a.has(d)&&(this._reloadSource(d),this._changed=!0)}loadURL(t,a={},u){this.fire(new o.l("dataloading",{dataType:"style"})),a.validate=typeof a.validate!="boolean"||a.validate;const d=this.map._requestManager.transformRequest(t,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;o.j(d,this._loadStyleRequest).then((E=>{this._loadStyleRequest=null,this._load(E.data,a,u)})).catch((E=>{this._loadStyleRequest=null,E&&!b.signal.aborted&&this.fire(new o.k(E))}))}loadJSON(t,a={},u){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,U.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,a.validate=a.validate!==!1,this._load(t,a,u)})).catch((()=>{}))}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(Sl,{validate:!1})}_load(t,a,u){var d,b;let E=a.transformStyle?a.transformStyle(u,t):t;if(!a.validate||!wl(this,o.C(E))){E=Object.assign({},E),this._loaded=!0,this.stylesheet=E;for(const R in E.sources)this.addSource(R,E.sources[R],{validate:!1});E.sprite?this._loadSprite(E.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(E.glyphs),this._createLayers(),this.light=new Ct(this.stylesheet.light),this._setProjectionInternal(((d=this.stylesheet.projection)===null||d===void 0?void 0:d.type)||"mercator"),this.sky=new rt(this.stylesheet.sky),this.map.setTerrain((b=this.stylesheet.terrain)!==null&&b!==void 0?b:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){var t,a,u;const d=o.bS(this.stylesheet.layers);this.setGlobalState((t=this.stylesheet.state)!==null&&t!==void 0?t:null),this.dispatcher.broadcast("SL",d),this._order=d.map((b=>b.id)),this._layers={},this._serializedLayers=null;for(const b of d){const E=o.bT(b,this._globalState);if(E.setEventedParent(this,{layer:{id:b.id}}),this._layers[b.id]=E,o.bU(E)&&this.tileManagers[E.source]){const R=(u=(a=b.paint)===null||a===void 0?void 0:a["raster-fade-duration"])!==null&&u!==void 0?u:E.paint.get("raster-fade-duration");this.tileManagers[E.source].setRasterFadeDuration(R)}}}_loadSprite(t,a=!1,u=void 0){this.imageManager.setLoaded(!1);const d=new AbortController;let b;this._spriteRequest=d,(function(E,R,k,$){return o._(this,void 0,void 0,(function*(){const Z=ee(E),J=k>1?"@2x":"",K={},se={};for(const{id:pe,url:Ae}of Z){const Ce=R.transformRequest(Pe(Ae,J,".json"),"SpriteJSON");K[pe]=o.j(Ce,$);const Ee=R.transformRequest(Pe(Ae,J,".png"),"SpriteImage");se[pe]=he.getImage(Ee,$)}return yield Promise.all([...Object.values(K),...Object.values(se)]),(function(pe,Ae){return o._(this,void 0,void 0,(function*(){const Ce={};for(const Ee in pe){Ce[Ee]={};const Be=U.getImageCanvasContext((yield Ae[Ee]).data),He=(yield pe[Ee]).data;for(const ze in He){const{width:Qe,height:We,x:Ge,y:nt,sdf:xt,pixelRatio:gt,stretchX:vt,stretchY:bt,content:Ht,textFitWidth:Zt,textFitHeight:zt}=He[ze];Ce[Ee][ze]={data:null,pixelRatio:gt,sdf:xt,stretchX:vt,stretchY:bt,content:Ht,textFitWidth:Zt,textFitHeight:zt,spriteData:{width:Qe,height:We,x:Ge,y:nt,context:Be}}}}return Ce}))})(K,se)}))})(t,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((E=>{if(this._spriteRequest=null,E)for(const R in E){this._spritesImagesIds[R]=[];const k=this._spritesImagesIds[R]?this._spritesImagesIds[R].filter(($=>!($ in E))):[];for(const $ of k)this.imageManager.removeImage($),this._changedImages[$]=!0;for(const $ in E[R]){const Z=R==="default"?$:`${R}:${$}`;this._spritesImagesIds[R].push(Z),Z in this.imageManager.images?this.imageManager.updateImage(Z,E[R][$],!1):this.imageManager.addImage(Z,E[R][$]),a&&(this._changedImages[Z]=!0)}}})).catch((E=>{this._spriteRequest=null,b=E,d.signal.aborted||this.fire(new o.k(b))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),a&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),u&&u(b)}))}_unloadSprite(){for(const t of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(t),this._changedImages[t]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(t){const a=this.tileManagers[t.source];if(!a)return;const u=t.sourceLayer;if(!u)return;const d=a.getSource();(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(u)===-1)&&this.fire(new o.k(new Error(`Source layer "${u}" does not exist on source "${d.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const t in this.tileManagers)if(!this.tileManagers[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(t,a=!1){const u=this._serializedAllLayers();if(!t||t.length===0)return Object.values(a?o.bV(u):u);const d=[];for(const b of t)if(u[b]){const E=a?o.bV(u[b]):u[b];d.push(E)}return d}_serializedAllLayers(){let t=this._serializedLayers;if(t)return t;t=this._serializedLayers={};const a=Object.keys(this._layers);for(const u of a){const d=this._layers[u];d.type!=="custom"&&(t[u]=d.serialize())}return t}hasTransitions(){var t,a,u;if(!((t=this.light)===null||t===void 0)&&t.hasTransition()||!((a=this.sky)===null||a===void 0)&&a.hasTransition()||!((u=this.projection)===null||u===void 0)&&u.hasTransition())return!0;for(const d in this.tileManagers)if(this.tileManagers[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const a=this._changed;if(a){const d=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(d.length||b.length)&&this._updateWorkerLayers(d,b);for(const E in this._updatedSources){const R=this._updatedSources[E];if(R==="reload")this._reloadSource(E);else{if(R!=="clear")throw new Error(`Invalid action ${R}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(t);this.light.updateTransitions(t),this.sky.updateTransitions(t),this._resetUpdates()}const u={};for(const d in this.tileManagers){const b=this.tileManagers[d];u[d]=b.used,b.used=!1}for(const d of this._order){const b=this._layers[d];b.recalculate(t,this._availableImages),!b.isHidden(t.zoom)&&b.source&&(this.tileManagers[b.source].used=!0)}for(const d in u){const b=this.tileManagers[d];!!u[d]!=!!b.used&&b.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(t),this.sky.recalculate(t),this.projection.recalculate(t),this.z=t.zoom,a&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const a in this.tileManagers)this.tileManagers[a].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const t in this.tileManagers)this.tileManagers[t].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(t,a){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(t,!1),removedIds:a})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(t,a={}){var u;this._checkLoaded();const d=this.serialize();if(t=a.transformStyle?a.transformStyle(d,t):t,((u=a.validate)===null||u===void 0||u)&&wl(this,o.C(t)))return!1;(t=o.bV(t)).layers=o.bS(t.layers);const b=o.bW(d,t),E=this._getOperationsToPerform(b);if(E.unimplemented.length>0)throw new Error(`Unimplemented: ${E.unimplemented.join(", ")}.`);if(E.operations.length===0)return!1;for(const R of E.operations)R();return this.stylesheet=t,this._serializedLayers=null,!0}_getOperationsToPerform(t){const a=[],u=[];for(const d of t)switch(d.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":a.push((()=>this.addLayer.apply(this,d.args)));break;case"removeLayer":a.push((()=>this.removeLayer.apply(this,d.args)));break;case"setPaintProperty":a.push((()=>this.setPaintProperty.apply(this,d.args)));break;case"setLayoutProperty":a.push((()=>this.setLayoutProperty.apply(this,d.args)));break;case"setFilter":a.push((()=>this.setFilter.apply(this,d.args)));break;case"addSource":a.push((()=>this.addSource.apply(this,d.args)));break;case"removeSource":a.push((()=>this.removeSource.apply(this,d.args)));break;case"setLayerZoomRange":a.push((()=>this.setLayerZoomRange.apply(this,d.args)));break;case"setLight":a.push((()=>this.setLight.apply(this,d.args)));break;case"setGeoJSONSourceData":a.push((()=>this.setGeoJSONSourceData.apply(this,d.args)));break;case"setGlyphs":a.push((()=>this.setGlyphs.apply(this,d.args)));break;case"setSprite":a.push((()=>this.setSprite.apply(this,d.args)));break;case"setTerrain":a.push((()=>this.map.setTerrain.apply(this,d.args)));break;case"setSky":a.push((()=>this.setSky.apply(this,d.args)));break;case"setProjection":this.setProjection.apply(this,d.args);break;case"setGlobalState":a.push((()=>this.setGlobalState.apply(this,d.args)));break;case"setTransition":a.push((()=>{}));break;default:u.push(d.command)}return{operations:a,unimplemented:u}}addImage(t,a){if(this.getImage(t))return this.fire(new o.k(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,a),this._afterImageUpdated(t)}updateImage(t,a){this.imageManager.updateImage(t,a)}getImage(t){return this.imageManager.getImage(t)}removeImage(t){if(!this.getImage(t))return this.fire(new o.k(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,a,u={}){if(this._checkLoaded(),this.tileManagers[t]!==void 0)throw new Error(`Source "${t}" already exists.`);if(!a.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(a).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(a.type)>=0&&this._validate(o.C.source,`sources.${t}`,a,null,u))return;this.map&&this.map._collectResourceTiming&&(a.collectResourceTiming=!0);const d=this.tileManagers[t]=new Yr(t,a,this.dispatcher);d.style=this,d.setEventedParent(this,(()=>({isSourceLoaded:d.loaded(),source:d.serialize(),sourceId:t}))),d.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),this.tileManagers[t]===void 0)throw new Error("There is no source with this ID");for(const u in this._layers)if(this._layers[u].source===t)return this.fire(new o.k(new Error(`Source "${t}" cannot be removed while layer "${u}" is using it.`)));const a=this.tileManagers[t];delete this.tileManagers[t],delete this._updatedSources[t],a.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),a.setEventedParent(null),a.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,a){if(this._checkLoaded(),this.tileManagers[t]===void 0)throw new Error(`There is no source with this ID=${t}`);const u=this.tileManagers[t].getSource();if(u.type!=="geojson")throw new Error(`geojsonSource.type is ${u.type}, which is !== 'geojson`);u.setData(a),this._changed=!0}getSource(t){return this.tileManagers[t]&&this.tileManagers[t].getSource()}addLayer(t,a,u={}){this._checkLoaded();const d=t.id;if(this.getLayer(d))return void this.fire(new o.k(new Error(`Layer "${d}" already exists on this map.`)));let b;if(t.type==="custom"){if(wl(this,o.bX(t)))return;b=o.bT(t,this._globalState)}else{if("source"in t&&typeof t.source=="object"&&(this.addSource(d,t.source),t=o.bV(t),t=o.e(t,{source:d})),this._validate(o.C.layer,`layers.${d}`,t,{arrayIndex:-1},u))return;b=o.bT(t,this._globalState),this._validateLayer(b),b.setEventedParent(this,{layer:{id:d}})}const E=a?this._order.indexOf(a):this._order.length;if(a&&E===-1)this.fire(new o.k(new Error(`Cannot add layer "${d}" before non-existing layer "${a}".`)));else{if(this._order.splice(E,0,d),this._layerOrderChanged=!0,this._layers[d]=b,this._removedLayers[d]&&b.source&&b.type!=="custom"){const R=this._removedLayers[d];delete this._removedLayers[d],R.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.tileManagers[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(t,a){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new o.k(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===a)return;const u=this._order.indexOf(t);this._order.splice(u,1);const d=a?this._order.indexOf(a):this._order.length;a&&d===-1?this.fire(new o.k(new Error(`Cannot move layer "${t}" before non-existing layer "${a}".`))):(this._order.splice(d,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const a=this._layers[t];if(!a)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${t}".`)));a.setEventedParent(null);const u=this._order.indexOf(t);this._order.splice(u,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=a,delete this._layers[t],this._serializedLayers&&delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],a.onRemove&&a.onRemove(this.map)}getLayer(t){return this._layers[t]}getLayersOrder(){return[...this._order]}hasLayer(t){return t in this._layers}setLayerZoomRange(t,a,u){this._checkLoaded();const d=this.getLayer(t);d?d.minzoom===a&&d.maxzoom===u||(a!=null&&(d.minzoom=a),u!=null&&(d.maxzoom=u),this._updateLayer(d)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,a,u={}){this._checkLoaded();const d=this.getLayer(t);if(d){if(!o.bR(d.filter,a))return a==null?(d.setFilter(void 0),void this._updateLayer(d)):void(this._validate(o.C.filter,`layers.${d.id}.filter`,a,null,u)||(d.setFilter(o.bV(a)),this._updateLayer(d)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return o.bV(this.getLayer(t).filter)}setLayoutProperty(t,a,u,d={}){this._checkLoaded();const b=this.getLayer(t);b?o.bR(b.getLayoutProperty(a),u)||(b.setLayoutProperty(a,u,d),this._updateLayer(b)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,a){const u=this.getLayer(t);if(u)return u.getLayoutProperty(a);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,a,u,d={}){this._checkLoaded();const b=this.getLayer(t);b?o.bR(b.getPaintProperty(a),u)||this._updatePaintProperty(b,a,u,d):this.fire(new o.k(new Error(`Cannot style non-existing layer "${t}".`)))}_updatePaintProperty(t,a,u,d={}){t.setPaintProperty(a,u,d)&&this._updateLayer(t),o.bU(t)&&a==="raster-fade-duration"&&this.tileManagers[t.source].setRasterFadeDuration(u),this._changed=!0,this._updatedPaintProps[t.id]=!0,this._serializedLayers=null}getPaintProperty(t,a){return this.getLayer(t).getPaintProperty(a)}setFeatureState(t,a){this._checkLoaded();const u=t.source,d=t.sourceLayer,b=this.tileManagers[u];if(b===void 0)return void this.fire(new o.k(new Error(`The source '${u}' does not exist in the map's style.`)));const E=b.getSource().type;E==="geojson"&&d?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||d?(t.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),b.setFeatureState(d,t.id,a)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,a){this._checkLoaded();const u=t.source,d=this.tileManagers[u];if(d===void 0)return void this.fire(new o.k(new Error(`The source '${u}' does not exist in the map's style.`)));const b=d.getSource().type,E=b==="vector"?t.sourceLayer:void 0;b!=="vector"||E?a&&typeof t.id!="string"&&typeof t.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):d.removeFeatureState(E,t.id,a):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const a=t.source,u=t.sourceLayer,d=this.tileManagers[a];if(d!==void 0)return d.getSource().type!=="vector"||u?(t.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),d.getFeatureState(u,t.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${a}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const t=o.bY(this.tileManagers,(b=>b.serialize())),a=this._serializeByIds(this._order,!0),u=this.map.getTerrain()||void 0,d=this.stylesheet;return o.bZ({version:d.version,name:d.name,metadata:d.metadata,light:d.light,sky:d.sky,center:d.center,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch,sprite:d.sprite,glyphs:d.glyphs,transition:d.transition,projection:d.projection,sources:t,layers:a,terrain:u},(b=>b!==void 0))}_updateLayer(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&this.tileManagers[t.source].getSource().type!=="raster"&&(this._updatedSources[t.source]="reload",this.tileManagers[t.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(t){const a=E=>this._layers[E].type==="fill-extrusion",u={},d=[];for(let E=this._order.length-1;E>=0;E--){const R=this._order[E];if(a(R)){u[R]=E;for(const k of t){const $=k[R];if($)for(const Z of $)d.push(Z)}}}d.sort(((E,R)=>R.intersectionZ-E.intersectionZ));const b=[];for(let E=this._order.length-1;E>=0;E--){const R=this._order[E];if(a(R))for(let k=d.length-1;k>=0;k--){const $=d[k].feature;if(u[$.layer.id]<E)break;b.push($),d.pop()}else for(const k of t){const $=k[R];if($)for(const Z of $)b.push(Z.feature)}}return b}queryRenderedFeatures(t,a,u){a&&a.filter&&this._validate(o.C.filter,"queryRenderedFeatures.filter",a.filter,null,a);const d={};if(a&&a.layers){if(!(Array.isArray(a.layers)||a.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const $ of a.layers){const Z=this._layers[$];if(!Z)return this.fire(new o.k(new Error(`The layer '${$}' does not exist in the map's style and cannot be queried for features.`))),[];d[Z.source]=!0}}const b=[];a.availableImages=this._availableImages;const E=this._serializedAllLayers(),R=a.layers instanceof Set?a.layers:Array.isArray(a.layers)?new Set(a.layers):null,k=Object.assign(Object.assign({},a),{layers:R,globalState:this._globalState});for(const $ in this.tileManagers)a.layers&&!d[$]||b.push(Gt(this.tileManagers[$],this._layers,E,t,k,u,this.map.terrain?(Z,J,K)=>this.map.terrain.getElevation(Z,J,K):void 0));return this.placement&&b.push((function($,Z,J,K,se,pe,Ae){const Ce={},Ee=pe.queryRenderedSymbols(K),Be=[];for(const He of Object.keys(Ee).map(Number))Be.push(Ae[He]);Be.sort(Jt);for(const He of Be){const ze=He.featureIndex.lookupSymbolFeatures(Ee[He.bucketInstanceId],Z,He.bucketIndex,He.sourceLayerIndex,{filterSpec:se.filter,globalState:se.globalState},se.layers,se.availableImages,$);for(const Qe in ze){const We=Ce[Qe]=Ce[Qe]||[],Ge=ze[Qe];Ge.sort(((nt,xt)=>{const gt=He.featureSortOrder;if(gt){const vt=gt.indexOf(nt.featureIndex);return gt.indexOf(xt.featureIndex)-vt}return xt.featureIndex-nt.featureIndex}));for(const nt of Ge)We.push(nt)}}return(function(He,ze,Qe){for(const We in He)for(const Ge of He[We])Kt(Ge,Qe[ze[We].source]);return He})(Ce,$,J)})(this._layers,E,this.tileManagers,t,k,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(t,a){a?.filter&&this._validate(o.C.filter,"querySourceFeatures.filter",a.filter,null,a);const u=this.tileManagers[t];return u?(function(d,b){const E=d.getRenderableIds().map(($=>d.getTileByID($))),R=[],k={};for(let $=0;$<E.length;$++){const Z=E[$],J=Z.tileID.canonical.key;k[J]||(k[J]=!0,Z.querySourceFeatures(R,b))}return R})(u,a?Object.assign(Object.assign({},a),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(t,a={}){this._checkLoaded();const u=this.light.getLight();let d=!1;for(const E in t)if(!o.bR(t[E],u[E])){d=!0;break}if(!d)return;const b={now:j(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,a),this.light.updateTransitions(b)}getProjection(){var t;return(t=this.stylesheet)===null||t===void 0?void 0:t.projection}setProjection(t){if(this._checkLoaded(),this.projection){if(this.projection.name===t.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=t,this._setProjectionInternal(t.type)}getSky(){var t;return(t=this.stylesheet)===null||t===void 0?void 0:t.sky}setSky(t,a={}){this._checkLoaded();const u=this.getSky();let d=!1;if(!t&&!u)return;if(t&&!u)d=!0;else if(!t&&u)d=!0;else for(const E in t)if(!o.bR(t[E],u[E])){d=!0;break}if(!d)return;const b={now:j(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=t,this.sky.setSky(t,a),this.sky.updateTransitions(b)}_setProjectionInternal(t){const a=(function(u,d){const b={constrainOverride:d};if(Array.isArray(u)){const E=new u3({type:u});return{projection:E,transform:new bl(b),cameraHelper:new xl(E)}}switch(u){case"mercator":return{projection:new Ii,transform:new Ai(b),cameraHelper:new A1};case"globe":{const E=new u3({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:E,transform:new bl(b),cameraHelper:new xl(E)}}case"vertical-perspective":return{projection:new l3,transform:new vl(b),cameraHelper:new si};default:return o.w(`Unknown projection name: ${u}. Falling back to mercator projection.`),{projection:new Ii,transform:new Ai(b),cameraHelper:new A1}}})(t,this.map.transformConstrain);this.projection=a.projection,this.map.migrateProjection(a.transform,a.cameraHelper);for(const u in this.tileManagers)this.tileManagers[u].reload()}_validate(t,a,u,d,b={}){return(!b||b.validate!==!1)&&wl(this,t.call(o.C,o.e({key:a,style:this.serialize(),value:u,styleSpec:o.u},d)))}_remove(t=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),ot().off(Ue,this._rtlPluginLoaded);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this.tileManagers){const u=this.tileManagers[a];u.setEventedParent(null),u.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),t&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(t)}_clearSource(t){this.tileManagers[t].clearTiles()}_reloadSource(t){this.tileManagers[t].resume(),this.tileManagers[t].reload()}_updateSources(t){for(const a in this.tileManagers)this.tileManagers[a].update(t,this.map.terrain)}_generateCollisionBoxes(){for(const t in this.tileManagers)this._reloadSource(t)}_updatePlacement(t,a,u,d,b=!1){let E=!1,R=!1;const k={};for(const $ of this._order){const Z=this._layers[$];if(Z.type!=="symbol")continue;if(!k[Z.source]){const K=this.tileManagers[Z.source];k[Z.source]=K.getRenderableIds(!0).map((se=>K.getTileByID(se))).sort(((se,pe)=>pe.tileID.overscaledZ-se.tileID.overscaledZ||(se.tileID.isLessThan(pe.tileID)?-1:1)))}const J=this.crossTileSymbolIndex.addLayer(Z,k[Z.source],t.center.lng);E=E||J}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||u===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(j(),t.zoom))&&(this.pauseablePlacement=new gl(t,this.map.terrain,this._order,b,a,u,d,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(j()),R=!0),E&&this.pauseablePlacement.placement.setStale()),R||E)for(const $ of this._order){const Z=this._layers[$];Z.type==="symbol"&&this.placement.updateLayerOpacities(Z,k[Z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(j())}_releaseSymbolFadeTiles(){for(const t in this.tileManagers)this.tileManagers[t].releaseSymbolFadeTiles()}getImages(t,a){return o._(this,void 0,void 0,(function*(){const u=yield this.imageManager.getImages(a.icons);this._updateTilesForChangedImages();const d=this.tileManagers[a.source];return d&&d.setDependencies(a.tileID.key,a.type,a.icons),u}))}getGlyphs(t,a){return o._(this,void 0,void 0,(function*(){const u=yield this.glyphManager.getGlyphs(a.stacks),d=this.tileManagers[a.source];return d&&d.setDependencies(a.tileID.key,a.type,[""]),u}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(t,a={}){this._checkLoaded(),t&&this._validate(o.C.glyphs,"glyphs",t,null,a)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=t,this.glyphManager.entries={},this.glyphManager.setURL(t))}getDashes(t,a){return o._(this,void 0,void 0,(function*(){const u={};for(const[d,b]of Object.entries(a.dashes))u[d]=this.lineAtlas.getDash(b.dasharray,b.round);return u}))}addSprite(t,a,u={},d){this._checkLoaded();const b=[{id:t,url:a}],E=[...ee(this.stylesheet.sprite),...b];this._validate(o.C.sprite,"sprite",E,null,u)||(this.stylesheet.sprite=E,this._loadSprite(b,!0,d))}removeSprite(t){this._checkLoaded();const a=ee(this.stylesheet.sprite);if(a.find((u=>u.id===t))){if(this._spritesImagesIds[t])for(const u of this._spritesImagesIds[t])this.imageManager.removeImage(u),this._changedImages[u]=!0;a.splice(a.findIndex((u=>u.id===t)),1),this.stylesheet.sprite=a.length>0?a:void 0,delete this._spritesImagesIds[t],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${t}" doesn't exists on this map.`)))}getSprite(){return ee(this.stylesheet.sprite)}setSprite(t,a={},u){this._checkLoaded(),t&&this._validate(o.C.sprite,"sprite",t,null,a)||(this.stylesheet.sprite=t,t?this._loadSprite(t,!0,u):(this._unloadSprite(),u&&u(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const t in this.tileManagers){const a=this.tileManagers[t];a.setEventedParent(null),a.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const t in this._layers){const a=this._layers[t];a.setEventedParent(null),a.onRemove&&a.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var N5=o.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class c2{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,a,u,d,b,E,R,k,$){this.context=t;let Z=this.boundPaintVertexBuffers.length!==d.length;for(let J=0;!Z&&J<d.length;J++)this.boundPaintVertexBuffers[J]!==d[J]&&(Z=!0);!this.vao||this.boundProgram!==a||this.boundLayoutVertexBuffer!==u||Z||this.boundIndexBuffer!==b||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==R||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==$?this.freshBind(a,u,d,b,E,R,k,$):(t.bindVertexArray.set(this.vao),R&&R.bind(),b&&b.dynamicDraw&&b.bind(),k&&k.bind(),$&&$.bind())}freshBind(t,a,u,d,b,E,R,k){const $=t.numAttributes,Z=this.context,J=Z.gl;this.vao&&this.destroy(),this.vao=Z.createVertexArray(),Z.bindVertexArray.set(this.vao),this.boundProgram=t,this.boundLayoutVertexBuffer=a,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=d,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=R,this.boundDynamicVertexBuffer3=k,a.enableAttributes(J,t);for(const K of u)K.enableAttributes(J,t);E&&E.enableAttributes(J,t),R&&R.enableAttributes(J,t),k&&k.enableAttributes(J,t),a.bind(),a.setVertexAttribPointers(J,t,b);for(const K of u)K.bind(),K.setVertexAttribPointers(J,t,b);E&&(E.bind(),E.setVertexAttribPointers(J,t,b)),d&&d.bind(),R&&(R.bind(),R.setVertexAttribPointers(J,t,b)),k&&(k.bind(),k.setVertexAttribPointers(J,t,b)),Z.currentNumAttributes=$}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const D5=(_,t,a,u,d)=>({u_texture:0,u_ele_delta:_,u_fog_matrix:t,u_fog_color:a?a.properties.get("fog-color"):o.bp.white,u_fog_ground_blend:a?a.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:d?0:a?a.calculateFogBlendOpacity(u):0,u_horizon_color:a?a.properties.get("horizon-color"):o.bp.white,u_horizon_fog_blend:a?a.properties.get("horizon-fog-blend"):1,u_is_globe_mode:d?1:0}),Mo={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function l4(_){const t=[];for(let a=0;a<_.length;a++){if(_[a]===null)continue;const u=_[a].split(" ");t.push(u.pop())}return t}class O5{constructor(t,a,u,d,b,E,R,k,$=[]){const Z=t.gl;this.program=Z.createProgram();const J=l4(a.staticAttributes),K=u?u.getBinderAttributes():[],se=J.concat(K),pe=Un.prelude.staticUniforms?l4(Un.prelude.staticUniforms):[],Ae=R.staticUniforms?l4(R.staticUniforms):[],Ce=a.staticUniforms?l4(a.staticUniforms):[],Ee=u?u.getBinderUniforms():[],Be=pe.concat(Ae).concat(Ce).concat(Ee),He=[];for(const gt of Be)He.indexOf(gt)<0&&He.push(gt);const ze=u?u.defines():[];io(Z)&&ze.unshift("#version 300 es"),b&&ze.push("#define OVERDRAW_INSPECTOR;"),E&&ze.push("#define TERRAIN3D;"),k&&ze.push(k),$&&ze.push(...$);let Qe=ze.concat(Un.prelude.fragmentSource,R.fragmentSource,a.fragmentSource).join(`
`),We=ze.concat(Un.prelude.vertexSource,R.vertexSource,a.vertexSource).join(`
`);io(Z)||(Qe=(function(gt){return gt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(Qe),We=(function(gt){return gt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(We));const Ge=Z.createShader(Z.FRAGMENT_SHADER);if(Z.isContextLost())return void(this.failedToCreate=!0);if(Z.shaderSource(Ge,Qe),Z.compileShader(Ge),!Z.getShaderParameter(Ge,Z.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${Z.getShaderInfoLog(Ge)}`);Z.attachShader(this.program,Ge);const nt=Z.createShader(Z.VERTEX_SHADER);if(Z.isContextLost())return void(this.failedToCreate=!0);if(Z.shaderSource(nt,We),Z.compileShader(nt),!Z.getShaderParameter(nt,Z.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${Z.getShaderInfoLog(nt)}`);Z.attachShader(this.program,nt),this.attributes={};const xt={};this.numAttributes=se.length;for(let gt=0;gt<this.numAttributes;gt++)se[gt]&&(Z.bindAttribLocation(this.program,gt,se[gt]),this.attributes[se[gt]]=gt);if(Z.linkProgram(this.program),!Z.getProgramParameter(this.program,Z.LINK_STATUS))throw new Error(`Program failed to link: ${Z.getProgramInfoLog(this.program)}`);Z.deleteShader(nt),Z.deleteShader(Ge);for(let gt=0;gt<He.length;gt++){const vt=He[gt];if(vt&&!xt[vt]){const bt=Z.getUniformLocation(this.program,vt);bt&&(xt[vt]=bt)}}this.fixedUniforms=d(t,xt),this.terrainUniforms=((gt,vt)=>({u_depth:new o.b_(gt,vt.u_depth),u_terrain:new o.b_(gt,vt.u_terrain),u_terrain_dim:new o.bq(gt,vt.u_terrain_dim),u_terrain_matrix:new o.c0(gt,vt.u_terrain_matrix),u_terrain_unpack:new o.c1(gt,vt.u_terrain_unpack),u_terrain_exaggeration:new o.bq(gt,vt.u_terrain_exaggeration)}))(t,xt),this.projectionUniforms=((gt,vt)=>({u_projection_matrix:new o.c0(gt,vt.u_projection_matrix),u_projection_tile_mercator_coords:new o.c1(gt,vt.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.c1(gt,vt.u_projection_clipping_plane),u_projection_transition:new o.bq(gt,vt.u_projection_transition),u_projection_fallback_matrix:new o.c0(gt,vt.u_projection_fallback_matrix)}))(t,xt),this.binderUniforms=u?u.getUniforms(t,xt):[]}draw(t,a,u,d,b,E,R,k,$,Z,J,K,se,pe,Ae,Ce,Ee,Be,He){const ze=t.gl;if(this.failedToCreate)return;if(t.program.set(this.program),t.setDepthMode(u),t.setStencilMode(d),t.setColorMode(b),t.setCullFace(E),k){t.activeTexture.set(ze.TEXTURE2),ze.bindTexture(ze.TEXTURE_2D,k.depthTexture),t.activeTexture.set(ze.TEXTURE3),ze.bindTexture(ze.TEXTURE_2D,k.texture);for(const We in this.terrainUniforms)this.terrainUniforms[We].set(k[We])}if($)for(const We in $)this.projectionUniforms[Mo[We]].set($[We]);if(R)for(const We in this.fixedUniforms)this.fixedUniforms[We].set(R[We]);Ce&&Ce.setUniforms(t,this.binderUniforms,pe,{zoom:Ae});let Qe=0;switch(a){case ze.LINES:Qe=2;break;case ze.TRIANGLES:Qe=3;break;case ze.LINE_STRIP:Qe=1}for(const We of se.get()){const Ge=We.vaos||(We.vaos={});(Ge[Z]||(Ge[Z]=new c2)).bind(t,this,J,Ce?Ce.getPaintVertexBuffers():[],K,We.vertexOffset,Ee,Be,He),ze.drawElements(a,We.primitiveLength*Qe,ze.UNSIGNED_SHORT,We.primitiveOffset*Qe*2)}}}function F5(_,t,a){const u=1/o.aN(a,1,t.transform.tileZoom),d=Math.pow(2,a.tileID.overscaledZ),b=a.tileSize*Math.pow(2,t.transform.tileZoom)/d,E=b*(a.tileID.canonical.x+a.tileID.wrap*d),R=b*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_scale:[u,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,R>>16],u_pixel_coord_lower:[65535&E,65535&R]}}const u4=(_,t,a,u)=>{const d=_.style.light,b=d.properties.get("position"),E=[b.x,b.y,b.z],R=o.c4();d.properties.get("anchor")==="viewport"&&o.c5(R,_.transform.bearingInRadians),o.c6(E,E,R);const k=_.transform.transformLightDirection(E),$=d.properties.get("color");return{u_lightpos:E,u_lightpos_globe:k,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[$.r,$.g,$.b],u_vertical_gradient:+t,u_opacity:a,u_fill_translate:u}},c4=(_,t,a,u,d,b,E)=>o.e(u4(_,t,a,u),F5(b,_,E),{u_height_factor:-Math.pow(2,d.overscaledZ)/E.tileSize/8}),C1=(_,t,a,u)=>o.e(F5(t,_,a),{u_fill_translate:u}),Tl=(_,t)=>({u_world:_,u_fill_translate:t}),k5=(_,t,a,u,d)=>o.e(C1(_,t,a,d),{u_world:u}),h2=(_,t,a,u,d)=>{const b=_.transform;let E,R,k=0;if(a.paint.get("circle-pitch-alignment")==="map"){const $=o.aN(t,1,b.zoom);E=!0,R=[$,$],k=$/(o.a5*Math.pow(2,t.tileID.overscaledZ))*2*Math.PI*d}else E=!1,R=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(a.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+E,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:R,u_globe_extrude_scale:k,u_translate:u}},Ws=_=>({u_pixel_extrude_scale:[1/_.width,1/_.height]}),h3=_=>({u_viewport_size:[_.width,_.height]}),d2=(_,t=1)=>({u_color:_,u_overlay:0,u_overlay_scale:t}),Ks=(_,t,a,u)=>{const d=o.aN(_,1,t)/(o.a5*Math.pow(2,_.tileID.overscaledZ))*2*Math.PI*u;return{u_extrude_scale:o.aN(_,1,t),u_intensity:a,u_globe_extrude_scale:d}},d3=(_,t,a,u)=>{const d=o.N();o.c7(d,0,_.width,_.height,0,0,1);const b=_.context.gl;return{u_matrix:d,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:a,u_color_ramp:u,u_opacity:t.paint.get("heatmap-opacity")}},f2=(_,t,a)=>{const u=a.paint.get("hillshade-accent-color");let d;switch(a.paint.get("hillshade-method")){case"basic":d=4;break;case"combined":d=1;break;case"igor":d=2;break;case"multidirectional":d=3;break;default:d=0}const b=a.getIlluminationProperties();for(let E=0;E<b.directionRadians.length;E++)a.paint.get("hillshade-illumination-anchor")==="viewport"&&(b.directionRadians[E]+=_.transform.bearingInRadians);return{u_image:0,u_latrange:i0(0,t.tileID),u_exaggeration:a.paint.get("hillshade-exaggeration"),u_altitudes:b.altitudeRadians,u_azimuths:b.directionRadians,u_accent:u,u_method:d,u_highlights:b.highlightColor,u_shadows:b.shadowColor}},z5=(_,t)=>{const a=t.stride,u=o.N();return o.c7(u,0,o.a5,-o.a5,0,0,1),o.O(u,u,[0,-o.a5,0]),{u_matrix:u,u_image:1,u_dimension:[a,a],u_zoom:_.overscaledZ,u_unpack:t.getUnpackVector()}};function i0(_,t){const a=Math.pow(2,t.canonical.z),u=t.canonical.y;return[new o.a9(0,u/a).toLngLat().lat,new o.a9(0,(u+1)/a).toLngLat().lat]}const B5=(_,t,a=0)=>({u_image:0,u_unpack:t.getUnpackVector(),u_dimension:[t.stride,t.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:a,u_opacity:_.paint.get("color-relief-opacity")}),p2=(_,t,a,u)=>{const d=_.transform;return{u_translation:m2(_,t,a),u_ratio:u/o.aN(t,1,d.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/d.pixelsToGLUnits[0],1/d.pixelsToGLUnits[1]]}},L5=(_,t,a,u,d)=>o.e(p2(_,t,a,u),{u_image:0,u_image_height:d}),f3=(_,t,a,u,d)=>{const b=_.transform,E=ao(t,b);return{u_translation:m2(_,t,a),u_texsize:t.imageAtlasTexture.size,u_ratio:u/o.aN(t,1,b.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,d.fromScale,d.toScale],u_fade:d.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Ta=(_,t,a,u,d)=>{const b=ao(t,_.transform);return o.e(p2(_,t,a,u),{u_tileratio:b,u_crossfade_from:d.fromScale,u_crossfade_to:d.toScale,u_image:0,u_mix:d.t,u_lineatlas_width:_.lineAtlas.width,u_lineatlas_height:_.lineAtlas.height})},Js=(_,t,a,u,d,b)=>{const E=ao(t,_.transform);return o.e(p2(_,t,a,u),{u_image:0,u_image_height:b,u_tileratio:E,u_crossfade_from:d.fromScale,u_crossfade_to:d.toScale,u_image_dash:1,u_mix:d.t,u_lineatlas_width:_.lineAtlas.width,u_lineatlas_height:_.lineAtlas.height})};function ao(_,t){return 1/o.aN(_,1,t.tileZoom)}function m2(_,t,a){return o.aO(_.transform,t,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"))}const h4=(_,t,a,u,d)=>{return{u_tl_parent:_,u_scale_parent:t,u_buffer_scale:1,u_fade_t:a.mix,u_opacity:a.opacity*u.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:u.paint.get("raster-brightness-min"),u_brightness_high:u.paint.get("raster-brightness-max"),u_saturation_factor:(E=u.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(b=u.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:d4(u.paint.get("raster-hue-rotate")),u_coords_top:[d[0].x,d[0].y,d[1].x,d[1].y],u_coords_bottom:[d[3].x,d[3].y,d[2].x,d[2].y]};var b,E};function d4(_){_*=Math.PI/180;const t=Math.sin(_),a=Math.cos(_);return[(2*a+1)/3,(-Math.sqrt(3)*t-a+1)/3,(Math.sqrt(3)*t-a+1)/3]}const g2=(_,t,a,u,d,b,E,R,k,$,Z,J,K)=>{const se=E.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:se.cameraToCenterDistance,u_pitch:se.pitch/360*2*Math.PI,u_rotate_symbol:+a,u_aspect_ratio:se.width/se.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_label_plane_matrix:R,u_coord_matrix:k,u_is_text:+Z,u_pitch_with_map:+u,u_is_along_line:d,u_is_variable_anchor:b,u_texsize:J,u_texture:0,u_translation:$,u_pitched_scale:K}},f4=(_,t,a,u,d,b,E,R,k,$,Z,J,K,se)=>{const pe=E.transform;return o.e(g2(_,t,a,u,d,b,E,R,k,$,Z,J,se),{u_gamma_scale:u?Math.cos(pe.pitch*Math.PI/180)*pe.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:1})},oo=(_,t,a,u,d,b,E,R,k,$,Z,J,K)=>o.e(f4(_,t,a,u,d,b,E,R,k,$,!0,Z,0,K),{u_texsize_icon:J,u_texture_icon:1}),y2=(_,t)=>({u_opacity:_,u_color:t}),_2=(_,t,a,u,d)=>o.e((function(b,E,R,k){const $=R.imageManager.getPattern(b.from.toString()),Z=R.imageManager.getPattern(b.to.toString()),{width:J,height:K}=R.imageManager.getPixelSize(),se=Math.pow(2,k.tileID.overscaledZ),pe=k.tileSize*Math.pow(2,R.transform.tileZoom)/se,Ae=pe*(k.tileID.canonical.x+k.tileID.wrap*se),Ce=pe*k.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:$.tl,u_pattern_br_a:$.br,u_pattern_tl_b:Z.tl,u_pattern_br_b:Z.br,u_texsize:[J,K],u_mix:E.t,u_pattern_size_a:$.displaySize,u_pattern_size_b:Z.displaySize,u_scale_a:E.fromScale,u_scale_b:E.toScale,u_tile_units_to_pixels:1/o.aN(k,1,R.transform.tileZoom),u_pixel_coord_upper:[Ae>>16,Ce>>16],u_pixel_coord_lower:[65535&Ae,65535&Ce]}})(a,d,t,u),{u_opacity:_}),p4=(_,t)=>{},U5={fillExtrusion:(_,t)=>({u_lightpos:new o.c2(_,t.u_lightpos),u_lightpos_globe:new o.c2(_,t.u_lightpos_globe),u_lightintensity:new o.bq(_,t.u_lightintensity),u_lightcolor:new o.c2(_,t.u_lightcolor),u_vertical_gradient:new o.bq(_,t.u_vertical_gradient),u_opacity:new o.bq(_,t.u_opacity),u_fill_translate:new o.c3(_,t.u_fill_translate)}),fillExtrusionPattern:(_,t)=>({u_lightpos:new o.c2(_,t.u_lightpos),u_lightpos_globe:new o.c2(_,t.u_lightpos_globe),u_lightintensity:new o.bq(_,t.u_lightintensity),u_lightcolor:new o.c2(_,t.u_lightcolor),u_vertical_gradient:new o.bq(_,t.u_vertical_gradient),u_height_factor:new o.bq(_,t.u_height_factor),u_opacity:new o.bq(_,t.u_opacity),u_fill_translate:new o.c3(_,t.u_fill_translate),u_image:new o.b_(_,t.u_image),u_texsize:new o.c3(_,t.u_texsize),u_pixel_coord_upper:new o.c3(_,t.u_pixel_coord_upper),u_pixel_coord_lower:new o.c3(_,t.u_pixel_coord_lower),u_scale:new o.c2(_,t.u_scale),u_fade:new o.bq(_,t.u_fade)}),fill:(_,t)=>({u_fill_translate:new o.c3(_,t.u_fill_translate)}),fillPattern:(_,t)=>({u_image:new o.b_(_,t.u_image),u_texsize:new o.c3(_,t.u_texsize),u_pixel_coord_upper:new o.c3(_,t.u_pixel_coord_upper),u_pixel_coord_lower:new o.c3(_,t.u_pixel_coord_lower),u_scale:new o.c2(_,t.u_scale),u_fade:new o.bq(_,t.u_fade),u_fill_translate:new o.c3(_,t.u_fill_translate)}),fillOutline:(_,t)=>({u_world:new o.c3(_,t.u_world),u_fill_translate:new o.c3(_,t.u_fill_translate)}),fillOutlinePattern:(_,t)=>({u_world:new o.c3(_,t.u_world),u_image:new o.b_(_,t.u_image),u_texsize:new o.c3(_,t.u_texsize),u_pixel_coord_upper:new o.c3(_,t.u_pixel_coord_upper),u_pixel_coord_lower:new o.c3(_,t.u_pixel_coord_lower),u_scale:new o.c2(_,t.u_scale),u_fade:new o.bq(_,t.u_fade),u_fill_translate:new o.c3(_,t.u_fill_translate)}),circle:(_,t)=>({u_camera_to_center_distance:new o.bq(_,t.u_camera_to_center_distance),u_scale_with_map:new o.b_(_,t.u_scale_with_map),u_pitch_with_map:new o.b_(_,t.u_pitch_with_map),u_extrude_scale:new o.c3(_,t.u_extrude_scale),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_globe_extrude_scale:new o.bq(_,t.u_globe_extrude_scale),u_translate:new o.c3(_,t.u_translate)}),collisionBox:(_,t)=>({u_pixel_extrude_scale:new o.c3(_,t.u_pixel_extrude_scale)}),collisionCircle:(_,t)=>({u_viewport_size:new o.c3(_,t.u_viewport_size)}),debug:(_,t)=>({u_color:new o.b$(_,t.u_color),u_overlay:new o.b_(_,t.u_overlay),u_overlay_scale:new o.bq(_,t.u_overlay_scale)}),depth:p4,clippingMask:p4,heatmap:(_,t)=>({u_extrude_scale:new o.bq(_,t.u_extrude_scale),u_intensity:new o.bq(_,t.u_intensity),u_globe_extrude_scale:new o.bq(_,t.u_globe_extrude_scale)}),heatmapTexture:(_,t)=>({u_matrix:new o.c0(_,t.u_matrix),u_world:new o.c3(_,t.u_world),u_image:new o.b_(_,t.u_image),u_color_ramp:new o.b_(_,t.u_color_ramp),u_opacity:new o.bq(_,t.u_opacity)}),hillshade:(_,t)=>({u_image:new o.b_(_,t.u_image),u_latrange:new o.c3(_,t.u_latrange),u_exaggeration:new o.bq(_,t.u_exaggeration),u_altitudes:new o.c9(_,t.u_altitudes),u_azimuths:new o.c9(_,t.u_azimuths),u_accent:new o.b$(_,t.u_accent),u_method:new o.b_(_,t.u_method),u_shadows:new o.c8(_,t.u_shadows),u_highlights:new o.c8(_,t.u_highlights)}),hillshadePrepare:(_,t)=>({u_matrix:new o.c0(_,t.u_matrix),u_image:new o.b_(_,t.u_image),u_dimension:new o.c3(_,t.u_dimension),u_zoom:new o.bq(_,t.u_zoom),u_unpack:new o.c1(_,t.u_unpack)}),colorRelief:(_,t)=>({u_image:new o.b_(_,t.u_image),u_unpack:new o.c1(_,t.u_unpack),u_dimension:new o.c3(_,t.u_dimension),u_elevation_stops:new o.b_(_,t.u_elevation_stops),u_color_stops:new o.b_(_,t.u_color_stops),u_color_ramp_size:new o.b_(_,t.u_color_ramp_size),u_opacity:new o.bq(_,t.u_opacity)}),line:(_,t)=>({u_translation:new o.c3(_,t.u_translation),u_ratio:new o.bq(_,t.u_ratio),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_units_to_pixels:new o.c3(_,t.u_units_to_pixels)}),lineGradient:(_,t)=>({u_translation:new o.c3(_,t.u_translation),u_ratio:new o.bq(_,t.u_ratio),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_units_to_pixels:new o.c3(_,t.u_units_to_pixels),u_image:new o.b_(_,t.u_image),u_image_height:new o.bq(_,t.u_image_height)}),linePattern:(_,t)=>({u_translation:new o.c3(_,t.u_translation),u_texsize:new o.c3(_,t.u_texsize),u_ratio:new o.bq(_,t.u_ratio),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_image:new o.b_(_,t.u_image),u_units_to_pixels:new o.c3(_,t.u_units_to_pixels),u_scale:new o.c2(_,t.u_scale),u_fade:new o.bq(_,t.u_fade)}),lineSDF:(_,t)=>({u_translation:new o.c3(_,t.u_translation),u_ratio:new o.bq(_,t.u_ratio),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_units_to_pixels:new o.c3(_,t.u_units_to_pixels),u_image:new o.b_(_,t.u_image),u_mix:new o.bq(_,t.u_mix),u_tileratio:new o.bq(_,t.u_tileratio),u_crossfade_from:new o.bq(_,t.u_crossfade_from),u_crossfade_to:new o.bq(_,t.u_crossfade_to),u_lineatlas_width:new o.bq(_,t.u_lineatlas_width),u_lineatlas_height:new o.bq(_,t.u_lineatlas_height)}),lineGradientSDF:(_,t)=>({u_translation:new o.c3(_,t.u_translation),u_ratio:new o.bq(_,t.u_ratio),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_units_to_pixels:new o.c3(_,t.u_units_to_pixels),u_image:new o.b_(_,t.u_image),u_image_height:new o.bq(_,t.u_image_height),u_tileratio:new o.bq(_,t.u_tileratio),u_crossfade_from:new o.bq(_,t.u_crossfade_from),u_crossfade_to:new o.bq(_,t.u_crossfade_to),u_image_dash:new o.b_(_,t.u_image_dash),u_mix:new o.bq(_,t.u_mix),u_lineatlas_width:new o.bq(_,t.u_lineatlas_width),u_lineatlas_height:new o.bq(_,t.u_lineatlas_height)}),raster:(_,t)=>({u_tl_parent:new o.c3(_,t.u_tl_parent),u_scale_parent:new o.bq(_,t.u_scale_parent),u_buffer_scale:new o.bq(_,t.u_buffer_scale),u_fade_t:new o.bq(_,t.u_fade_t),u_opacity:new o.bq(_,t.u_opacity),u_image0:new o.b_(_,t.u_image0),u_image1:new o.b_(_,t.u_image1),u_brightness_low:new o.bq(_,t.u_brightness_low),u_brightness_high:new o.bq(_,t.u_brightness_high),u_saturation_factor:new o.bq(_,t.u_saturation_factor),u_contrast_factor:new o.bq(_,t.u_contrast_factor),u_spin_weights:new o.c2(_,t.u_spin_weights),u_coords_top:new o.c1(_,t.u_coords_top),u_coords_bottom:new o.c1(_,t.u_coords_bottom)}),symbolIcon:(_,t)=>({u_is_size_zoom_constant:new o.b_(_,t.u_is_size_zoom_constant),u_is_size_feature_constant:new o.b_(_,t.u_is_size_feature_constant),u_size_t:new o.bq(_,t.u_size_t),u_size:new o.bq(_,t.u_size),u_camera_to_center_distance:new o.bq(_,t.u_camera_to_center_distance),u_pitch:new o.bq(_,t.u_pitch),u_rotate_symbol:new o.b_(_,t.u_rotate_symbol),u_aspect_ratio:new o.bq(_,t.u_aspect_ratio),u_fade_change:new o.bq(_,t.u_fade_change),u_label_plane_matrix:new o.c0(_,t.u_label_plane_matrix),u_coord_matrix:new o.c0(_,t.u_coord_matrix),u_is_text:new o.b_(_,t.u_is_text),u_pitch_with_map:new o.b_(_,t.u_pitch_with_map),u_is_along_line:new o.b_(_,t.u_is_along_line),u_is_variable_anchor:new o.b_(_,t.u_is_variable_anchor),u_texsize:new o.c3(_,t.u_texsize),u_texture:new o.b_(_,t.u_texture),u_translation:new o.c3(_,t.u_translation),u_pitched_scale:new o.bq(_,t.u_pitched_scale)}),symbolSDF:(_,t)=>({u_is_size_zoom_constant:new o.b_(_,t.u_is_size_zoom_constant),u_is_size_feature_constant:new o.b_(_,t.u_is_size_feature_constant),u_size_t:new o.bq(_,t.u_size_t),u_size:new o.bq(_,t.u_size),u_camera_to_center_distance:new o.bq(_,t.u_camera_to_center_distance),u_pitch:new o.bq(_,t.u_pitch),u_rotate_symbol:new o.b_(_,t.u_rotate_symbol),u_aspect_ratio:new o.bq(_,t.u_aspect_ratio),u_fade_change:new o.bq(_,t.u_fade_change),u_label_plane_matrix:new o.c0(_,t.u_label_plane_matrix),u_coord_matrix:new o.c0(_,t.u_coord_matrix),u_is_text:new o.b_(_,t.u_is_text),u_pitch_with_map:new o.b_(_,t.u_pitch_with_map),u_is_along_line:new o.b_(_,t.u_is_along_line),u_is_variable_anchor:new o.b_(_,t.u_is_variable_anchor),u_texsize:new o.c3(_,t.u_texsize),u_texture:new o.b_(_,t.u_texture),u_gamma_scale:new o.bq(_,t.u_gamma_scale),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_is_halo:new o.b_(_,t.u_is_halo),u_translation:new o.c3(_,t.u_translation),u_pitched_scale:new o.bq(_,t.u_pitched_scale)}),symbolTextAndIcon:(_,t)=>({u_is_size_zoom_constant:new o.b_(_,t.u_is_size_zoom_constant),u_is_size_feature_constant:new o.b_(_,t.u_is_size_feature_constant),u_size_t:new o.bq(_,t.u_size_t),u_size:new o.bq(_,t.u_size),u_camera_to_center_distance:new o.bq(_,t.u_camera_to_center_distance),u_pitch:new o.bq(_,t.u_pitch),u_rotate_symbol:new o.b_(_,t.u_rotate_symbol),u_aspect_ratio:new o.bq(_,t.u_aspect_ratio),u_fade_change:new o.bq(_,t.u_fade_change),u_label_plane_matrix:new o.c0(_,t.u_label_plane_matrix),u_coord_matrix:new o.c0(_,t.u_coord_matrix),u_is_text:new o.b_(_,t.u_is_text),u_pitch_with_map:new o.b_(_,t.u_pitch_with_map),u_is_along_line:new o.b_(_,t.u_is_along_line),u_is_variable_anchor:new o.b_(_,t.u_is_variable_anchor),u_texsize:new o.c3(_,t.u_texsize),u_texsize_icon:new o.c3(_,t.u_texsize_icon),u_texture:new o.b_(_,t.u_texture),u_texture_icon:new o.b_(_,t.u_texture_icon),u_gamma_scale:new o.bq(_,t.u_gamma_scale),u_device_pixel_ratio:new o.bq(_,t.u_device_pixel_ratio),u_is_halo:new o.b_(_,t.u_is_halo),u_translation:new o.c3(_,t.u_translation),u_pitched_scale:new o.bq(_,t.u_pitched_scale)}),background:(_,t)=>({u_opacity:new o.bq(_,t.u_opacity),u_color:new o.b$(_,t.u_color)}),backgroundPattern:(_,t)=>({u_opacity:new o.bq(_,t.u_opacity),u_image:new o.b_(_,t.u_image),u_pattern_tl_a:new o.c3(_,t.u_pattern_tl_a),u_pattern_br_a:new o.c3(_,t.u_pattern_br_a),u_pattern_tl_b:new o.c3(_,t.u_pattern_tl_b),u_pattern_br_b:new o.c3(_,t.u_pattern_br_b),u_texsize:new o.c3(_,t.u_texsize),u_mix:new o.bq(_,t.u_mix),u_pattern_size_a:new o.c3(_,t.u_pattern_size_a),u_pattern_size_b:new o.c3(_,t.u_pattern_size_b),u_scale_a:new o.bq(_,t.u_scale_a),u_scale_b:new o.bq(_,t.u_scale_b),u_pixel_coord_upper:new o.c3(_,t.u_pixel_coord_upper),u_pixel_coord_lower:new o.c3(_,t.u_pixel_coord_lower),u_tile_units_to_pixels:new o.bq(_,t.u_tile_units_to_pixels)}),terrain:(_,t)=>({u_texture:new o.b_(_,t.u_texture),u_ele_delta:new o.bq(_,t.u_ele_delta),u_fog_matrix:new o.c0(_,t.u_fog_matrix),u_fog_color:new o.b$(_,t.u_fog_color),u_fog_ground_blend:new o.bq(_,t.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.bq(_,t.u_fog_ground_blend_opacity),u_horizon_color:new o.b$(_,t.u_horizon_color),u_horizon_fog_blend:new o.bq(_,t.u_horizon_fog_blend),u_is_globe_mode:new o.bq(_,t.u_is_globe_mode)}),terrainDepth:(_,t)=>({u_ele_delta:new o.bq(_,t.u_ele_delta)}),terrainCoords:(_,t)=>({u_texture:new o.b_(_,t.u_texture),u_terrain_coords_id:new o.bq(_,t.u_terrain_coords_id),u_ele_delta:new o.bq(_,t.u_ele_delta)}),projectionErrorMeasurement:(_,t)=>({u_input:new o.bq(_,t.u_input),u_output_expected:new o.bq(_,t.u_output_expected)}),atmosphere:(_,t)=>({u_sun_pos:new o.c2(_,t.u_sun_pos),u_atmosphere_blend:new o.bq(_,t.u_atmosphere_blend),u_globe_position:new o.c2(_,t.u_globe_position),u_globe_radius:new o.bq(_,t.u_globe_radius),u_inv_proj_matrix:new o.c0(_,t.u_inv_proj_matrix)}),sky:(_,t)=>({u_sky_color:new o.b$(_,t.u_sky_color),u_horizon_color:new o.b$(_,t.u_horizon_color),u_horizon:new o.c3(_,t.u_horizon),u_horizon_normal:new o.c3(_,t.u_horizon_normal),u_sky_horizon_blend:new o.bq(_,t.u_sky_horizon_blend),u_sky_blend:new o.bq(_,t.u_sky_blend)})};class P1{constructor(t,a,u){this.context=t;const d=t.gl;this.buffer=d.createBuffer(),this.dynamicDraw=!!u,this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?d.DYNAMIC_DRAW:d.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const a=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const R1={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class p3{constructor(t,a,u,d){this.length=a.length,this.attributes=u,this.itemSize=a.bytesPerElement,this.dynamicDraw=d,this.context=t;const b=t.gl;this.buffer=b.createBuffer(),t.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){if(t.length!==this.length)throw new Error(`Length of new data is ${t.length}, which doesn't match current length of ${this.length}`);const a=this.context.gl;this.bind(),a.bufferSubData(a.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,a){for(let u=0;u<this.attributes.length;u++){const d=a.attributes[this.attributes[u].name];d!==void 0&&t.enableVertexAttribArray(d)}}setVertexAttribPointers(t,a,u){for(let d=0;d<this.attributes.length;d++){const b=this.attributes[d],E=a.attributes[b.name];E!==void 0&&t.vertexAttribPointer(E,b.components,t[R1[b.type]],!1,this.itemSize,b.offset+this.itemSize*(u||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ln{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ho extends ln{getDefault(){return o.bp.transparent}set(t){const a=this.current;(t.r!==a.r||t.g!==a.g||t.b!==a.b||t.a!==a.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class v2 extends ln{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class b2 extends ln{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class m4 extends ln{getDefault(){return[!0,!0,!0,!0]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class I1 extends ln{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class x2 extends ln{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class Al extends ln{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const a=this.current;(t.func!==a.func||t.ref!==a.ref||t.mask!==a.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class Ua extends ln{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class m3 extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.STENCIL_TEST):a.disable(a.STENCIL_TEST),this.current=t,this.dirty=!1}}class g4 extends ln{getDefault(){return[0,1]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class ja extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),this.current=t,this.dirty=!1}}class Zo extends ln{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class ya extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.BLEND):a.disable(a.BLEND),this.current=t,this.dirty=!1}}class vs extends ln{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class N1 extends ln{getDefault(){return o.bp.transparent}set(t){const a=this.current;(t.r!==a.r||t.g!==a.g||t.b!==a.b||t.a!==a.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class D1 extends ln{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class w2 extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.CULL_FACE):a.disable(a.CULL_FACE),this.current=t,this.dirty=!1}}class e1 extends ln{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class so extends ln{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class g3 extends ln{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class El extends ln{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class Rr extends ln{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class y4 extends ln{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class Ga extends ln{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindRenderbuffer(a.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class _4 extends ln{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindTexture(a.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class Va extends ln{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class j5 extends ln{getDefault(){return null}set(t){const a=this.gl;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class v4 extends ln{getDefault(){return null}set(t){var a;if(t===this.current&&!this.dirty)return;const u=this.gl;io(u)?u.bindVertexArray(t):(a=u.getExtension("OES_vertex_array_object"))===null||a===void 0||a.bindVertexArrayOES(t),this.current=t,this.dirty=!1}}class t1 extends ln{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class y3 extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class b4 extends ln{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class r1 extends ln{constructor(t,a){super(t),this.context=t,this.parent=a}getDefault(){return null}}class Ml extends r1{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const a=this.gl;a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class _a extends r1{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const a=this.gl;a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class n1 extends r1{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const a=this.gl;a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,t),this.current=t,this.dirty=!1}}const i1="Framebuffer is not complete";class O1{constructor(t,a,u,d,b){this.context=t,this.width=a,this.height=u;const E=t.gl,R=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Ml(t,R),d)this.depthAttachment=b?new n1(t,R):new _a(t,R);else if(b)throw new Error("Stencil cannot be set without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error(i1)}destroy(){const t=this.context.gl,a=this.colorAttachment.get();if(a&&t.deleteTexture(a),this.depthAttachment){const u=this.depthAttachment.get();u&&t.deleteRenderbuffer(u)}t.deleteFramebuffer(this.framebuffer)}}class a1{constructor(t){var a,u;if(this.gl=t,this.clearColor=new Ho(this),this.clearDepth=new v2(this),this.clearStencil=new b2(this),this.colorMask=new m4(this),this.depthMask=new I1(this),this.stencilMask=new x2(this),this.stencilFunc=new Al(this),this.stencilOp=new Ua(this),this.stencilTest=new m3(this),this.depthRange=new g4(this),this.depthTest=new ja(this),this.depthFunc=new Zo(this),this.blend=new ya(this),this.blendFunc=new vs(this),this.blendColor=new N1(this),this.blendEquation=new D1(this),this.cullFace=new w2(this),this.cullFaceSide=new e1(this),this.frontFace=new so(this),this.program=new g3(this),this.activeTexture=new El(this),this.viewport=new Rr(this),this.bindFramebuffer=new y4(this),this.bindRenderbuffer=new Ga(this),this.bindTexture=new _4(this),this.bindVertexBuffer=new Va(this),this.bindElementBuffer=new j5(this),this.bindVertexArray=new v4(this),this.pixelStoreUnpack=new t1(this),this.pixelStoreUnpackPremultiplyAlpha=new y3(this),this.pixelStoreUnpackFlipY=new b4(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),io(t)){this.HALF_FLOAT=t.HALF_FLOAT;const d=t.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(a=t.RGBA16F)!==null&&a!==void 0?a:d?.RGBA16F_EXT,this.RGB16F=(u=t.RGB16F)!==null&&u!==void 0?u:d?.RGB16F_EXT,t.getExtension("EXT_color_buffer_float")}else{t.getExtension("EXT_color_buffer_half_float"),t.getExtension("OES_texture_half_float_linear");const d=t.getExtension("OES_texture_half_float");this.HALF_FLOAT=d?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,a){return new P1(this,t,a)}createVertexBuffer(t,a,u){return new p3(this,t,a,u)}createRenderbuffer(t,a,u){const d=this.gl,b=d.createRenderbuffer();return this.bindRenderbuffer.set(b),d.renderbufferStorage(d.RENDERBUFFER,t,a,u),this.bindRenderbuffer.set(null),b}createFramebuffer(t,a,u,d){return new O1(this,t,a,u,d)}clear({color:t,depth:a,stencil:u}){const d=this.gl;let b=0;t&&(b|=d.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),a!==void 0&&(b|=d.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(a),this.depthMask.set(!0)),u!==void 0&&(b|=d.STENCIL_BUFFER_BIT,this.clearStencil.set(u),this.stencilMask.set(255)),d.clear(b)}setCullFace(t){t.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(t){o.bR(t.blendFunction,_n.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}createVertexArray(){var t;return io(this.gl)?this.gl.createVertexArray():(t=this.gl.getExtension("OES_vertex_array_object"))===null||t===void 0?void 0:t.createVertexArrayOES()}deleteVertexArray(t){var a;return io(this.gl)?this.gl.deleteVertexArray(t):(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.deleteVertexArrayOES(t)}unbindVAO(){this.bindVertexArray.set(null)}}let Ni;function ki(_,t,a,u,d){const b=_.context,E=_.transform,R=b.gl,k=_.useProgram("collisionBox"),$=[];let Z=0,J=0;for(let Ee=0;Ee<u.length;Ee++){const Be=u[Ee],He=t.getTile(Be).getBucket(a);if(!He)continue;const ze=d?He.textCollisionBox:He.iconCollisionBox,Qe=He.collisionCircleArray;Qe.length>0&&($.push({circleArray:Qe,circleOffset:J,coord:Be}),Z+=Qe.length/4,J=Z),ze&&k.draw(b,R.LINES,Cr.disabled,rn.disabled,_.colorModeForRenderPass(),Gr.disabled,Ws(_.transform),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Be),E.getProjectionData({overscaledTileID:Be,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),a.id,ze.layoutVertexBuffer,ze.indexBuffer,ze.segments,null,_.transform.zoom,null,null,ze.collisionVertexBuffer)}if(!d||!$.length)return;const K=_.useProgram("collisionCircle"),se=new o.ca;se.resize(4*Z),se._trim();let pe=0;for(const Ee of $)for(let Be=0;Be<Ee.circleArray.length/4;Be++){const He=4*Be,ze=Ee.circleArray[He+0],Qe=Ee.circleArray[He+1],We=Ee.circleArray[He+2],Ge=Ee.circleArray[He+3];se.emplace(pe++,ze,Qe,We,Ge,0),se.emplace(pe++,ze,Qe,We,Ge,1),se.emplace(pe++,ze,Qe,We,Ge,2),se.emplace(pe++,ze,Qe,We,Ge,3)}(!Ni||Ni.length<2*Z)&&(Ni=(function(Ee){const Be=2*Ee,He=new o.cc;He.resize(Be),He._trim();for(let ze=0;ze<Be;ze++){const Qe=6*ze;He.uint16[Qe+0]=4*ze+0,He.uint16[Qe+1]=4*ze+1,He.uint16[Qe+2]=4*ze+2,He.uint16[Qe+3]=4*ze+2,He.uint16[Qe+4]=4*ze+3,He.uint16[Qe+5]=4*ze+0}return He})(Z));const Ae=b.createIndexBuffer(Ni,!0),Ce=b.createVertexBuffer(se,o.cb.members,!0);for(const Ee of $){const Be=h3(_.transform);K.draw(b,R.TRIANGLES,Cr.disabled,rn.disabled,_.colorModeForRenderPass(),Gr.disabled,Be,_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ee.coord),null,a.id,Ce,Ae,o.aX.simpleSegment(0,2*Ee.circleOffset,Ee.circleArray.length,Ee.circleArray.length/2),null,_.transform.zoom,null,null,null)}Ce.destroy(),Ae.destroy()}const Xo=o.ar(new Float32Array(16));function Yo(_,t,a,u,d,b){const{horizontalAlign:E,verticalAlign:R}=o.aS(_);return new o.P((-(E-.5)*t/d+u[0])*b,(-(R-.5)*a/d+u[1])*b)}function Aa(_,t,a,u,d,b){const E=t.tileAnchorPoint.add(new o.P(t.translation[0],t.translation[1]));if(t.pitchWithMap){let R=u.mult(b);a||(R=R.rotate(-d));const k=E.add(R);return yr(k.x,k.y,t.pitchedLabelPlaneMatrix,t.getElevation).point}if(a){const R=kr(t.tileAnchorPoint.x+1,t.tileAnchorPoint.y,t).point.sub(_),k=Math.atan(R.y/R.x)+(R.x<0?Math.PI:0);return _.add(u.rotate(k))}return _.add(u)}function bs(_,t,a,u,d,b,E,R,k,$,Z,J){const K=_.text.placedSymbolArray,se=_.text.dynamicLayoutVertexArray,pe=_.icon.dynamicLayoutVertexArray,Ae={};se.clear();for(let Ce=0;Ce<K.length;Ce++){const Ee=K.get(Ce),Be=Ee.hidden||!Ee.crossTileID||_.allowVerticalPlacement&&!Ee.placedOrientation?null:u[Ee.crossTileID];if(Be){const He=new o.P(Ee.anchorX,Ee.anchorY),ze={getElevation:J,width:d.width,height:d.height,pitchedLabelPlaneMatrix:b,pitchWithMap:a,transform:d,tileAnchorPoint:He,translation:$,unwrappedTileID:Z},Qe=a?ha(He.x,He.y,ze):kr(He.x,He.y,ze),We=ca(d.cameraToCenterDistance,Qe.signedDistanceFromCamera);let Ge=o.aA(_.textSizeData,R,Ee)*We/o.aM;a&&(Ge*=_.tilePixelRatio/E);const{width:nt,height:xt,anchor:gt,textOffset:vt,textBoxScale:bt}=Be,Ht=Yo(gt,nt,xt,vt,bt,Ge),Zt=d.getPitchedTextCorrection(He.x+$[0],He.y+$[1],Z),zt=Aa(Qe.point,ze,t,Ht,-d.bearingInRadians,Zt),Yt=_.allowVerticalPlacement&&Ee.placedOrientation===o.az.vertical?Math.PI/2:0;for(let Er=0;Er<Ee.numGlyphs;Er++)o.aG(se,zt,Yt);k&&Ee.associatedIconIndex>=0&&(Ae[Ee.associatedIconIndex]={shiftedAnchor:zt,angle:Yt})}else Sa(Ee.numGlyphs,se)}if(k){pe.clear();const Ce=_.icon.placedSymbolArray;for(let Ee=0;Ee<Ce.length;Ee++){const Be=Ce.get(Ee);if(Be.hidden)Sa(Be.numGlyphs,pe);else{const He=Ae[Ee];if(He)for(let ze=0;ze<Be.numGlyphs;ze++)o.aG(pe,He.shiftedAnchor,He.angle);else Sa(Be.numGlyphs,pe)}}_.icon.dynamicLayoutVertexBuffer.updateData(pe)}_.text.dynamicLayoutVertexBuffer.updateData(se)}function _3(_,t,a){return a.iconsInText&&t?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function F1(_,t,a,u,d,b,E,R,k,$,Z,J,K){const se=_.context,pe=se.gl,Ae=_.transform,Ce=R==="map",Ee=k==="map",Be=R!=="viewport"&&a.layout.get("symbol-placement")!=="point",He=Ce&&!Ee&&!Be,ze=!a.layout.get("symbol-sort-key").isConstant();let Qe=!1;const We=_.getDepthModeForSublayer(0,Cr.ReadOnly),Ge=a._unevaluatedLayout.hasValue("text-variable-anchor")||a._unevaluatedLayout.hasValue("text-variable-anchor-offset"),nt=[],xt=Ae.getCircleRadiusCorrection();for(const gt of u){const vt=t.getTile(gt),bt=vt.getBucket(a);if(!bt)continue;const Ht=d?bt.text:bt.icon;if(!Ht||!Ht.segments.get().length||!Ht.hasVisibleVertices)continue;const Zt=Ht.programConfigurations.get(a.id),zt=d||bt.sdfIcons,Yt=d?bt.textSizeData:bt.iconSizeData,Er=Ee||Ae.pitch!==0,fn=_.useProgram(_3(zt,d,bt),Zt),In=o.ay(Yt,Ae.zoom),En=_.style.map.terrain&&_.style.map.terrain.getTerrainData(gt);let Bn,vn,Xn,Ln,Bi=[0,0],ti=null;if(d)vn=vt.glyphAtlasTexture,Xn=pe.LINEAR,Bn=vt.glyphAtlasTexture.size,bt.iconsInText&&(Bi=vt.imageAtlasTexture.size,ti=vt.imageAtlasTexture,Ln=Er||_.options.rotating||_.options.zooming||Yt.kind==="composite"||Yt.kind==="camera"?pe.LINEAR:pe.NEAREST);else{const mn=a.layout.get("icon-size").constantOr(0)!==1||bt.iconsNeedLinear;vn=vt.imageAtlasTexture,Xn=zt||_.options.rotating||_.options.zooming||mn||Er?pe.LINEAR:pe.NEAREST,Bn=vt.imageAtlasTexture.size}const ri=o.aN(vt,1,_.transform.zoom),Li=Si(Ce,_.transform,ri),us=o.N();o.aB(us,Li);const cs=za(Ee,Ce,_.transform,ri),Oo=o.aO(Ae,vt,b,E),Pa=Ae.getProjectionData({overscaledTileID:gt,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),q1=Ge&&bt.hasTextData(),zl=a.layout.get("icon-text-fit")!=="none"&&q1&&bt.hasIconData();if(Be){const mn=_.style.map.terrain?(gi,Ei)=>_.style.map.terrain.getElevation(gt,gi,Ei):null,Mn=a.layout.get("text-rotation-alignment")==="map";Ir(bt,_,d,Li,us,Ee,$,Mn,gt.toUnwrapped(),Ae.width,Ae.height,Oo,mn)}const Fo=d&&Ge||zl,Ra=Be||Fo?Xo:Ee?Li:_.transform.clipSpaceToPixelsMatrix,Za=zt&&a.paint.get(d?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let po;po=zt?bt.iconsInText?oo(Yt.kind,In,He,Ee,Be,Fo,_,Ra,cs,Oo,Bn,Bi,xt):f4(Yt.kind,In,He,Ee,Be,Fo,_,Ra,cs,Oo,d,Bn,0,xt):g2(Yt.kind,In,He,Ee,Be,Fo,_,Ra,cs,Oo,d,Bn,xt);const mo={program:fn,buffers:Ht,uniformValues:po,projectionData:Pa,atlasTexture:vn,atlasTextureIcon:ti,atlasInterpolation:Xn,atlasInterpolationIcon:Ln,isSDF:zt,hasHalo:Za};if(ze&&bt.canOverlap){Qe=!0;const mn=Ht.segments.get();for(const Mn of mn)nt.push({segments:new o.aX([Mn]),sortKey:Mn.sortKey,state:mo,terrainData:En})}else nt.push({segments:Ht.segments,sortKey:0,state:mo,terrainData:En})}Qe&&nt.sort(((gt,vt)=>gt.sortKey-vt.sortKey));for(const gt of nt){const vt=gt.state;if(se.activeTexture.set(pe.TEXTURE0),vt.atlasTexture.bind(vt.atlasInterpolation,pe.CLAMP_TO_EDGE),vt.atlasTextureIcon&&(se.activeTexture.set(pe.TEXTURE1),vt.atlasTextureIcon&&vt.atlasTextureIcon.bind(vt.atlasInterpolationIcon,pe.CLAMP_TO_EDGE)),vt.isSDF){const bt=vt.uniformValues;vt.hasHalo&&(bt.u_is_halo=1,Cl(vt.buffers,gt.segments,a,_,vt.program,We,Z,J,bt,vt.projectionData,gt.terrainData)),bt.u_is_halo=0}Cl(vt.buffers,gt.segments,a,_,vt.program,We,Z,J,vt.uniformValues,vt.projectionData,gt.terrainData)}}function Cl(_,t,a,u,d,b,E,R,k,$,Z){const J=u.context;d.draw(J,J.gl.TRIANGLES,b,E,R,Gr.backCCW,k,Z,$,a.id,_.layoutVertexBuffer,_.indexBuffer,t,a.paint,u.transform.zoom,_.programConfigurations.get(a.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function v3(_,t,a,u,d){const b=_.context,E=b.gl,R=rn.disabled,k=new _n([E.ONE,E.ONE],o.bp.transparent,[!0,!0,!0,!0]),$=t.getBucket(a);if(!$)return;const Z=u.key;let J=a.heatmapFbos.get(Z);J||(J=An(b,t.tileSize,t.tileSize),a.heatmapFbos.set(Z,J)),b.bindFramebuffer.set(J.framebuffer),b.viewport.set([0,0,t.tileSize,t.tileSize]),b.clear({color:o.bp.transparent});const K=$.programConfigurations.get(a.id),se=_.useProgram("heatmap",K,!d),pe=_.transform.getProjectionData({overscaledTileID:t.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ae=_.style.map.terrain.getTerrainData(u);se.draw(b,E.TRIANGLES,Cr.disabled,R,k,Gr.disabled,Ks(t,_.transform.zoom,a.paint.get("heatmap-intensity"),1),Ae,pe,a.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,a.paint,_.transform.zoom,K)}function zi(_,t,a,u,d){const b=_.context,E=b.gl,R=_.transform;b.setColorMode(_.colorModeForRenderPass());const k=Wr(b,t),$=a.key,Z=t.heatmapFbos.get($);if(!Z)return;b.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,Z.colorAttachment.get()),b.activeTexture.set(E.TEXTURE1),k.bind(E.LINEAR,E.CLAMP_TO_EDGE);const J=R.getProjectionData({overscaledTileID:a,applyTerrainMatrix:d,applyGlobeMatrix:!u});_.useProgram("heatmapTexture").draw(b,E.TRIANGLES,Cr.disabled,rn.disabled,_.colorModeForRenderPass(),Gr.disabled,d3(_,t,0,1),null,J,t.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,t.paint,R.zoom),Z.destroy(),t.heatmapFbos.delete($)}function An(_,t,a){var u,d;const b=_.gl,E=b.createTexture();b.bindTexture(b.TEXTURE_2D,E),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const R=(u=_.HALF_FLOAT)!==null&&u!==void 0?u:b.UNSIGNED_BYTE,k=(d=_.RGBA16F)!==null&&d!==void 0?d:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,k,t,a,0,b.RGBA,R,null);const $=_.createFramebuffer(t,a,!1,!1);return $.colorAttachment.set(E),$}function Wr(_,t){return t.colorRampTexture||(t.colorRampTexture=new o.T(_,t.colorRamp,_.gl.RGBA)),t.colorRampTexture}function xs(_,t,a,u,d,b,E,R){let k=256;if(d.stepInterpolant){const $=t.getSource().maxzoom,Z=E.canonical.z===$?Math.ceil(1<<_.transform.maxZoom-E.canonical.z):1;k=o.an(o.ce(b.maxLineLength/o.a5*1024*Z),256,a.maxTextureSize)}return R.gradient=o.cf({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:k,image:R.gradient||void 0,clips:b.lineClipsArray}),R.texture?R.texture.update(R.gradient):R.texture=new o.T(a,R.gradient,u.RGBA),R.version=d.gradientVersion,R.texture}function qa(_,t,a,u,d){_.activeTexture.set(t.TEXTURE0),a.imageAtlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE),u.updatePaintBuffers(d)}function Hn(_,t,a,u,d,b){(d||_.lineAtlas.dirty)&&(t.activeTexture.set(a.TEXTURE0),_.lineAtlas.bind(t)),u.updatePaintBuffers(b)}function Ea(_,t,a,u,d,b,E){const R=b.gradients[d.id];let k=R.texture;d.gradientVersion!==R.version&&(k=xs(_,t,a,u,d,b,E,R)),a.activeTexture.set(u.TEXTURE0),k.bind(d.stepInterpolant?u.NEAREST:u.LINEAR,u.CLAMP_TO_EDGE)}function Ma(_,t,a,u,d,b,E,R,k){const $=b.gradients[d.id];let Z=$.texture;d.gradientVersion!==$.version&&(Z=xs(_,t,a,u,d,b,E,$)),a.activeTexture.set(u.TEXTURE0),Z.bind(d.stepInterpolant?u.NEAREST:u.LINEAR,u.CLAMP_TO_EDGE),a.activeTexture.set(u.TEXTURE1),_.lineAtlas.bind(a),R.updatePaintBuffers(k)}function S2(_,t,a,u,d){if(!a||!u||!u.imageAtlas)return;const b=u.imageAtlas.patternPositions;let E=b[a.to.toString()],R=b[a.from.toString()];if(!E&&R&&(E=R),!R&&E&&(R=E),!E||!R){const k=d.getPaintProperty(t);E=b[k],R=b[k]}E&&R&&_.setConstantPatternPositions(E,R)}function Wo(_,t,a,u,d,b,E,R){const k=_.context.gl,$="fill-pattern",Z=a.paint.get($),J=Z&&Z.constantOr(1),K=a.getCrossfadeParameters();let se,pe,Ae,Ce,Ee;const Be=_.transform,He=a.paint.get("fill-translate"),ze=a.paint.get("fill-translate-anchor");E?(pe=J&&!a.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",se=k.LINES):(pe=J?"fillPattern":"fill",se=k.TRIANGLES);const Qe=Z.constantOr(null);for(const We of u){const Ge=t.getTile(We);if(J&&!Ge.patternsLoaded())continue;const nt=Ge.getBucket(a);if(!nt)continue;const xt=nt.programConfigurations.get(a.id),gt=_.useProgram(pe,xt),vt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(We);J&&(_.context.activeTexture.set(k.TEXTURE0),Ge.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),xt.updatePaintBuffers(K)),S2(xt,$,Qe,Ge,a);const bt=Be.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!R,applyTerrainMatrix:!0}),Ht=o.aO(Be,Ge,He,ze);if(E){Ce=nt.indexBuffer2,Ee=nt.segments2;const zt=[k.drawingBufferWidth,k.drawingBufferHeight];Ae=pe==="fillOutlinePattern"&&J?k5(_,K,Ge,zt,Ht):Tl(zt,Ht)}else Ce=nt.indexBuffer,Ee=nt.segments,Ae=J?C1(_,K,Ge,Ht):{u_fill_translate:Ht};const Zt=_.stencilModeForClipping(We);gt.draw(_.context,se,d,Zt,b,Gr.backCCW,Ae,vt,bt,a.id,nt.layoutVertexBuffer,Ce,Ee,a.paint,_.transform.zoom,xt)}}function Ko(_,t,a,u,d,b,E,R){const k=_.context,$=k.gl,Z="fill-extrusion-pattern",J=a.paint.get(Z),K=J.constantOr(1),se=a.getCrossfadeParameters(),pe=a.paint.get("fill-extrusion-opacity"),Ae=J.constantOr(null),Ce=_.transform;for(const Ee of u){const Be=t.getTile(Ee),He=Be.getBucket(a);if(!He)continue;const ze=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ee),Qe=He.programConfigurations.get(a.id),We=_.useProgram(K?"fillExtrusionPattern":"fillExtrusion",Qe);K&&(_.context.activeTexture.set($.TEXTURE0),Be.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Qe.updatePaintBuffers(se));const Ge=Ce.getProjectionData({overscaledTileID:Ee,applyGlobeMatrix:!R,applyTerrainMatrix:!0});S2(Qe,Z,Ae,Be,a);const nt=o.aO(Ce,Be,a.paint.get("fill-extrusion-translate"),a.paint.get("fill-extrusion-translate-anchor")),xt=a.paint.get("fill-extrusion-vertical-gradient"),gt=K?c4(_,xt,pe,nt,Ee,se,Be):u4(_,xt,pe,nt);We.draw(k,k.gl.TRIANGLES,d,b,E,Gr.backCCW,gt,ze,Ge,a.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,a.paint,_.transform.zoom,Qe,_.style.map.terrain&&He.centroidVertexBuffer)}}function Jo(_,t,a,u,d,b,E,R,k){var $;const Z=_.style.projection,J=_.context,K=_.transform,se=J.gl,pe=[`#define NUM_ILLUMINATION_SOURCES ${a.paint.get("hillshade-highlight-color").values.length}`],Ae=_.useProgram("hillshade",null,!1,pe),Ce=!_.options.moving;for(const Ee of u){const Be=t.getTile(Ee),He=Be.fbo;if(!He)continue;const ze=Z.getMeshFromTileID(J,Ee.canonical,R,!0,"raster"),Qe=($=_.style.map.terrain)===null||$===void 0?void 0:$.getTerrainData(Ee);J.activeTexture.set(se.TEXTURE0),se.bindTexture(se.TEXTURE_2D,He.colorAttachment.get());const We=K.getProjectionData({overscaledTileID:Ee,aligned:Ce,applyGlobeMatrix:!k,applyTerrainMatrix:!0});Ae.draw(J,se.TRIANGLES,b,d[Ee.overscaledZ],E,Gr.backCCW,f2(_,Be,a),Qe,We,a.id,ze.vertexBuffer,ze.indexBuffer,ze.segments)}}function ws(_,t,a,u,d,b,E,R,k){var $;const Z=_.style.projection,J=_.context,K=_.transform,se=J.gl,pe=_.useProgram("colorRelief"),Ae=!_.options.moving;let Ce=!0,Ee=0;for(const Be of u){const He=t.getTile(Be),ze=He.dem;if(Ce){const gt=se.getParameter(se.MAX_TEXTURE_SIZE),{elevationTexture:vt,colorTexture:bt}=a.getColorRampTextures(J,gt,ze.getUnpackVector());J.activeTexture.set(se.TEXTURE1),vt.bind(se.NEAREST,se.CLAMP_TO_EDGE),J.activeTexture.set(se.TEXTURE4),bt.bind(se.LINEAR,se.CLAMP_TO_EDGE),Ce=!1,Ee=vt.size[0]}if(!ze||!ze.data)continue;const Qe=ze.stride,We=ze.getPixels();if(J.activeTexture.set(se.TEXTURE0),J.pixelStoreUnpackPremultiplyAlpha.set(!1),He.demTexture=He.demTexture||_.getTileTexture(Qe),He.demTexture){const gt=He.demTexture;gt.update(We,{premultiply:!1}),gt.bind(se.LINEAR,se.CLAMP_TO_EDGE)}else He.demTexture=new o.T(J,We,se.RGBA,{premultiply:!1}),He.demTexture.bind(se.LINEAR,se.CLAMP_TO_EDGE);const Ge=Z.getMeshFromTileID(J,Be.canonical,R,!0,"raster"),nt=($=_.style.map.terrain)===null||$===void 0?void 0:$.getTerrainData(Be),xt=K.getProjectionData({overscaledTileID:Be,aligned:Ae,applyGlobeMatrix:!k,applyTerrainMatrix:!0});pe.draw(J,se.TRIANGLES,b,d[Be.overscaledZ],E,Gr.backCCW,B5(a,He.dem,Ee),nt,xt,a.id,Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}}const Ss=[new o.P(0,0),new o.P(o.a5,0),new o.P(o.a5,o.a5),new o.P(0,o.a5)];function lo(_,t,a,u,d,b,E,R,k=!1,$=!1){const Z=u[u.length-1].overscaledZ,J=_.context,K=J.gl,se=_.useProgram("raster"),pe=_.transform,Ae=_.style.projection,Ce=_.colorModeForRenderPass(),Ee=!_.options.moving,Be=a.paint.get("raster-opacity"),He=a.paint.get("raster-resampling"),ze=a.paint.get("raster-fade-duration"),Qe=!!_.style.map.terrain;for(const We of u){const Ge=_.getDepthModeForSublayer(We.overscaledZ-Z,Be===1?Cr.ReadWrite:Cr.ReadOnly,K.LESS),nt=t.getTile(We),xt=He==="nearest"?K.NEAREST:K.LINEAR;J.activeTexture.set(K.TEXTURE0),nt.texture.bind(xt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),J.activeTexture.set(K.TEXTURE1);const{parentTile:gt,parentScaleBy:vt,parentTopLeft:bt,fadeValues:Ht}=es(nt,t,ze,Qe);nt.fadeOpacity=Ht.tileOpacity,gt?(gt.fadeOpacity=Ht.parentTileOpacity,gt.texture.bind(xt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST)):nt.texture.bind(xt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),nt.texture.useMipmap&&J.extTextureFilterAnisotropic&&_.transform.pitch>20&&K.texParameterf(K.TEXTURE_2D,J.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,J.extTextureFilterAnisotropicMax);const Zt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(We),zt=pe.getProjectionData({overscaledTileID:We,aligned:Ee,applyGlobeMatrix:!$,applyTerrainMatrix:!0}),Yt=h4(bt,vt,Ht.fadeMix,a,R),Er=Ae.getMeshFromTileID(J,We.canonical,b,E,"raster");se.draw(J,K.TRIANGLES,Ge,d?d[We.overscaledZ]:rn.disabled,Ce,k?Gr.frontCCW:Gr.backCCW,Yt,Zt,zt,a.id,Er.vertexBuffer,Er.indexBuffer,Er.segments)}}function es(_,t,a,u){const d={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(a===0||u)return d;if(_.fadingParentID){const b=t.getLoadedTile(_.fadingParentID);if(!b)return d;const E=Math.pow(2,b.tileID.overscaledZ-_.tileID.overscaledZ),R=[_.tileID.canonical.x*E%1,_.tileID.canonical.y*E%1],k=(function($,Z,J){const K=j(),se=(K-Z.timeAdded)/J,pe=$.fadingDirection===st.Incoming,Ae=o.an((K-$.timeAdded)/J,0,1),Ce=o.an(1-se,0,1),Ee=pe?Ae:Ce;return{tileOpacity:Ee,parentTileOpacity:pe?Ce:Ae,fadeMix:{opacity:1,mix:1-Ee}}})(_,b,a);return{parentTile:b,parentScaleBy:E,parentTopLeft:R,fadeValues:k}}if(_.selfFading){const b=(function(E,R){const k=(j()-E.timeAdded)/R,$=o.an(k,0,1);return{tileOpacity:$,fadeMix:{opacity:$,mix:0}}})(_,a);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:b}}return d}const Ts=new o.bp(1,0,0,1),ts=new o.bp(0,1,0,1),x4=new o.bp(0,0,1,1),w4=new o.bp(1,0,1,1),$a=new o.bp(0,1,1,1);function Pl(_,t,a,u){mi(_,0,t+a/2,_.transform.width,a,u)}function As(_,t,a,u){mi(_,t-a/2,0,a,_.transform.height,u)}function mi(_,t,a,u,d,b){const E=_.context,R=E.gl;R.enable(R.SCISSOR_TEST),R.scissor(t*_.pixelRatio,a*_.pixelRatio,u*_.pixelRatio,d*_.pixelRatio),E.clear({color:b}),R.disable(R.SCISSOR_TEST)}function T2(_,t,a){const u=_.context,d=u.gl,b=_.useProgram("debug"),E=Cr.disabled,R=rn.disabled,k=_.colorModeForRenderPass(),$="$debug",Z=_.style.map.terrain&&_.style.map.terrain.getTerrainData(a);u.activeTexture.set(d.TEXTURE0);const J=t.getTileByID(a.key).latestRawTileData,K=Math.floor((J&&J.byteLength||0)/1024),se=t.getTile(a).tileSize,pe=512/Math.min(se,512)*(a.overscaledZ/_.transform.zoom)*.5;let Ae=a.canonical.toString();a.overscaledZ!==a.canonical.z&&(Ae+=` => ${a.overscaledZ}`),(function(Ee,Be){Ee.initDebugOverlayCanvas();const He=Ee.debugOverlayCanvas,ze=Ee.context.gl,Qe=Ee.debugOverlayCanvas.getContext("2d");Qe.clearRect(0,0,He.width,He.height),Qe.shadowColor="white",Qe.shadowBlur=2,Qe.lineWidth=1.5,Qe.strokeStyle="white",Qe.textBaseline="top",Qe.font="bold 36px Open Sans, sans-serif",Qe.fillText(Be,5,5),Qe.strokeText(Be,5,5),Ee.debugOverlayTexture.update(He),Ee.debugOverlayTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE)})(_,`${Ae} ${K}kB`);const Ce=_.transform.getProjectionData({overscaledTileID:a,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(u,d.TRIANGLES,E,R,_n.alphaBlended,Gr.disabled,d2(o.bp.transparent,pe),null,Ce,$,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),b.draw(u,d.LINE_STRIP,E,R,k,Gr.disabled,d2(o.bp.red),Z,Ce,$,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function S4(_,t,a,u){const{isRenderingGlobe:d}=u,b=_.context,E=b.gl,R=_.transform,k=_.colorModeForRenderPass(),$=_.getDepthModeFor3D(),Z=_.useProgram("terrain");b.bindFramebuffer.set(null),b.viewport.set([0,0,_.width,_.height]);for(const J of a){const K=t.getTerrainMesh(J.tileID),se=_.renderToTexture.getTexture(J),pe=t.getTerrainData(J.tileID);b.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,se.texture);const Ae=t.getMeshFrameDelta(R.zoom),Ce=R.calculateFogMatrix(J.tileID.toUnwrapped()),Ee=D5(Ae,Ce,_.style.sky,R.pitch,d),Be=R.getProjectionData({overscaledTileID:J.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Z.draw(b,E.TRIANGLES,$,rn.disabled,k,Gr.backCCW,Ee,pe,Be,"terrain",K.vertexBuffer,K.indexBuffer,K.segments)}}function b3(_,t){if(!t.mesh){const a=new o.aW;a.emplaceBack(-1,-1),a.emplaceBack(1,-1),a.emplaceBack(1,1),a.emplaceBack(-1,1);const u=new o.aY;u.emplaceBack(0,1,2),u.emplaceBack(0,2,3),t.mesh=new Tn(_.createVertexBuffer(a,no.members),_.createIndexBuffer(u),o.aX.simpleSegment(0,0,a.length,u.length))}return t.mesh}class G5{constructor(t,a){this.context=new a1(t),this.transform=a,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Yr.maxOverzooming+Yr.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ri}resize(t,a,u){if(this.width=Math.floor(t*u),this.height=Math.floor(a*u),this.pixelRatio=u,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const d of this.style._order)this.style._layers[d].resize()}setup(){const t=this.context,a=new o.aW;a.emplaceBack(0,0),a.emplaceBack(o.a5,0),a.emplaceBack(0,o.a5),a.emplaceBack(o.a5,o.a5),this.tileExtentBuffer=t.createVertexBuffer(a,no.members),this.tileExtentSegments=o.aX.simpleSegment(0,0,4,2);const u=new o.aW;u.emplaceBack(0,0),u.emplaceBack(o.a5,0),u.emplaceBack(0,o.a5),u.emplaceBack(o.a5,o.a5),this.debugBuffer=t.createVertexBuffer(u,no.members),this.debugSegments=o.aX.simpleSegment(0,0,4,5);const d=new o.ch;d.emplaceBack(0,0,0,0),d.emplaceBack(o.a5,0,o.a5,0),d.emplaceBack(0,o.a5,0,o.a5),d.emplaceBack(o.a5,o.a5,o.a5,o.a5),this.rasterBoundsBuffer=t.createVertexBuffer(d,N5.members),this.rasterBoundsSegments=o.aX.simpleSegment(0,0,4,2);const b=new o.aW;b.emplaceBack(0,0),b.emplaceBack(o.a5,0),b.emplaceBack(0,o.a5),b.emplaceBack(o.a5,o.a5),this.rasterBoundsBufferPosOnly=t.createVertexBuffer(b,no.members),this.rasterBoundsSegmentsPosOnly=o.aX.simpleSegment(0,0,4,5);const E=new o.aW;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(E,no.members),this.viewportSegments=o.aX.simpleSegment(0,0,4,2);const R=new o.ci;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(R);const k=new o.aY;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(k);const $=this.context.gl;this.stencilClearMode=new rn({func:$.ALWAYS,mask:0},0,255,$.ZERO,$.ZERO,$.ZERO),this.tileExtentMesh=new Tn(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const t=this.context,a=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const u=o.N();o.c7(u,0,this.width,this.height,0,0,1),o.Q(u,u,[a.drawingBufferWidth,a.drawingBufferHeight,0]);const d={mainMatrix:u,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:u};this.useProgram("clippingMask",null,!0).draw(t,a.TRIANGLES,Cr.disabled,this.stencilClearMode,_n.disabled,Gr.disabled,null,null,d,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,a,u){if(this.currentStencilSource===t.source||!t.isTileClipped()||!a||!a.length)return;this.currentStencilSource=t.source,this.nextStencilID+a.length>256&&this.clearStencil();const d=this.context;d.setColorMode(_n.disabled),d.setDepthMode(Cr.disabled);const b={};for(const E of a)b[E.key]=this.nextStencilID++;this._renderTileMasks(b,a,u,!0),this._renderTileMasks(b,a,u,!1),this._tileClippingMaskIDs=b}_renderTileMasks(t,a,u,d){const b=this.context,E=b.gl,R=this.style.projection,k=this.transform,$=this.useProgram("clippingMask");for(const Z of a){const J=t[Z.key],K=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Z),se=R.getMeshFromTileID(this.context,Z.canonical,d,!0,"stencil"),pe=k.getProjectionData({overscaledTileID:Z,applyGlobeMatrix:!u,applyTerrainMatrix:!0});$.draw(b,E.TRIANGLES,Cr.disabled,new rn({func:E.ALWAYS,mask:0},J,255,E.KEEP,E.KEEP,E.REPLACE),_n.disabled,u?Gr.disabled:Gr.backCCW,null,K,pe,"$clipping",se.vertexBuffer,se.indexBuffer,se.segments)}}_renderTilesDepthBuffer(){const t=this.context,a=t.gl,u=this.style.projection,d=this.transform,b=this.useProgram("depth"),E=this.getDepthModeFor3D(),R=zr(d,{tileSize:d.tileSize});for(const k of R){const $=this.style.map.terrain&&this.style.map.terrain.getTerrainData(k),Z=u.getMeshFromTileID(this.context,k.canonical,!0,!0,"raster"),J=d.getProjectionData({overscaledTileID:k,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(t,a.TRIANGLES,E,rn.disabled,_n.disabled,Gr.backCCW,null,$,J,"$clipping",Z.vertexBuffer,Z.indexBuffer,Z.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,a=this.context.gl;return new rn({func:a.NOTEQUAL,mask:255},t,255,a.KEEP,a.KEEP,a.REPLACE)}stencilModeForClipping(t){const a=this.context.gl;return new rn({func:a.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,a.KEEP,a.KEEP,a.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(t){const a=this.context.gl,u=t.sort(((E,R)=>R.overscaledZ-E.overscaledZ)),d=u[u.length-1].overscaledZ,b=u[0].overscaledZ-d+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const E={};for(let R=0;R<b;R++)E[R+d]=new rn({func:a.GEQUAL,mask:255},R+this.nextStencilID,255,a.KEEP,a.KEEP,a.REPLACE);return this.nextStencilID+=b,[E,u]}return[{[d]:rn.disabled},u]}stencilConfigForOverlapTwoPass(t){const a=this.context.gl,u=t.sort(((E,R)=>R.overscaledZ-E.overscaledZ)),d=u[u.length-1].overscaledZ,b=u[0].overscaledZ-d+1;if(this.clearStencil(),b>1){const E={},R={};for(let k=0;k<b;k++)E[k+d]=new rn({func:a.GREATER,mask:255},b+1+k,255,a.KEEP,a.KEEP,a.REPLACE),R[k+d]=new rn({func:a.GREATER,mask:255},1+k,255,a.KEEP,a.KEEP,a.REPLACE);return this.nextStencilID=2*b+1,[E,R,u]}return this.nextStencilID=3,[{[d]:new rn({func:a.GREATER,mask:255},2,255,a.KEEP,a.KEEP,a.REPLACE)},{[d]:new rn({func:a.GREATER,mask:255},1,255,a.KEEP,a.KEEP,a.REPLACE)},u]}colorModeForRenderPass(){const t=this.context.gl;return this._showOverdrawInspector?new _n([t.CONSTANT_COLOR,t.ONE],new o.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?_n.unblended:_n.alphaBlended}getDepthModeForSublayer(t,a,u){if(!this.opaquePassEnabledForLayer())return Cr.disabled;const d=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Cr(u||this.context.gl.LEQUAL,a,[d,d])}getDepthModeFor3D(){return new Cr(this.context.gl.LEQUAL,Cr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,a){var u,d;this.style=t,this.options=a,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(j()),this.imageManager.beginFrame();const b=this.style._order,E=this.style.tileManagers,R={},k={},$={},Z={isRenderingToTexture:!1,isRenderingGlobe:((u=t.projection)===null||u===void 0?void 0:u.transitionState)>0};for(const K in E){const se=E[K];se.used&&se.prepare(this.context),R[K]=se.getVisibleCoordinates(!1),k[K]=R[K].slice().reverse(),$[K]=se.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let K=0;K<b.length;K++)if(this.style._layers[b[K]].is3D()){this.opaquePassCutoff=K;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const K of b){const se=this.style._layers[K];if(!se.hasOffscreenPass()||se.isHidden(this.transform.zoom))continue;const pe=k[se.source];(se.type==="custom"||pe.length)&&this.renderLayer(this,E[se.source],se,pe,Z)}if((d=this.style.projection)===null||d===void 0||d.updateGPUdependent({context:this.context,useProgram:K=>this.useProgram(K)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:a.showOverdrawInspector?o.bp.black:o.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(K,se){const pe=K.context,Ae=pe.gl,Ce=((We,Ge,nt)=>{const xt=Math.cos(Ge.rollInRadians),gt=Math.sin(Ge.rollInRadians),vt=Xt(Ge),bt=Ge.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:We.properties.get("sky-color"),u_horizon_color:We.properties.get("horizon-color"),u_horizon:[(Ge.width/2-vt*gt)*nt,(Ge.height/2+vt*xt)*nt],u_horizon_normal:[-gt,xt],u_sky_horizon_blend:We.properties.get("sky-horizon-blend")*Ge.height/2*nt,u_sky_blend:bt}})(se,K.style.map.transform,K.pixelRatio),Ee=new Cr(Ae.LEQUAL,Cr.ReadWrite,[0,1]),Be=rn.disabled,He=K.colorModeForRenderPass(),ze=K.useProgram("sky"),Qe=b3(pe,se);ze.draw(pe,Ae.TRIANGLES,Ee,Be,He,Gr.disabled,Ce,null,void 0,"sky",Qe.vertexBuffer,Qe.indexBuffer,Qe.segments)})(this,this.style.sky),this._showOverdrawInspector=a.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const K=this.style._layers[b[this.currentLayer]],se=E[K.source],pe=R[K.source];this._renderTileClippingMasks(K,pe,!1),this.renderLayer(this,se,K,pe,Z)}this.renderPass="translucent";let J=!1;for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const K=this.style._layers[b[this.currentLayer]],se=E[K.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(K,Z))continue;this.opaquePassEnabledForLayer()||J||(J=!0,Z.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const pe=(K.type==="symbol"?$:k)[K.source];this._renderTileClippingMasks(K,R[K.source],!!this.renderToTexture),this.renderLayer(this,se,K,pe,Z)}if(Z.isRenderingGlobe&&(function(K,se,pe){const Ae=K.context,Ce=Ae.gl,Ee=K.useProgram("atmosphere"),Be=new Cr(Ce.LEQUAL,Cr.ReadOnly,[0,1]),He=K.transform,ze=(function(bt,Ht){const Zt=bt.properties.get("position"),zt=[-Zt.x,-Zt.y,-Zt.z],Yt=o.ar(new Float64Array(16));return bt.properties.get("anchor")==="map"&&(o.bg(Yt,Yt,Ht.rollInRadians),o.bh(Yt,Yt,-Ht.pitchInRadians),o.bg(Yt,Yt,Ht.bearingInRadians),o.bh(Yt,Yt,Ht.center.lat*Math.PI/180),o.bJ(Yt,Yt,-Ht.center.lng*Math.PI/180)),o.cg(zt,zt,Yt),zt})(pe,K.transform),Qe=He.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),We=se.properties.get("atmosphere-blend")*Qe.projectionTransition;if(We===0)return;const Ge=M1(He.worldSize,He.center.lat),nt=He.inverseProjectionMatrix,xt=new Float64Array(4);xt[3]=1,o.aH(xt,xt,He.modelViewProjectionMatrix),xt[0]/=xt[3],xt[1]/=xt[3],xt[2]/=xt[3],xt[3]=1,o.aH(xt,xt,nt),xt[0]/=xt[3],xt[1]/=xt[3],xt[2]/=xt[3],xt[3]=1;const gt=((bt,Ht,Zt,zt,Yt)=>({u_sun_pos:bt,u_atmosphere_blend:Ht,u_globe_position:Zt,u_globe_radius:zt,u_inv_proj_matrix:Yt}))(ze,We,[xt[0],xt[1],xt[2]],Ge,nt),vt=b3(Ae,se);Ee.draw(Ae,Ce.TRIANGLES,Be,rn.disabled,_n.alphaBlended,Gr.disabled,gt,null,null,"atmosphere",vt.vertexBuffer,vt.indexBuffer,vt.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const K=(function(se,pe){let Ae=null;const Ce=Object.values(se._layers).flatMap((ze=>ze.source&&!ze.isHidden(pe)?[se.tileManagers[ze.source]]:[])),Ee=Ce.filter((ze=>ze.getSource().type==="vector")),Be=Ce.filter((ze=>ze.getSource().type!=="vector")),He=ze=>{(!Ae||Ae.getSource().maxzoom<ze.getSource().maxzoom)&&(Ae=ze)};return Ee.forEach((ze=>He(ze))),Ae||Be.forEach((ze=>He(ze))),Ae})(this.style,this.transform.zoom);K&&(function(se,pe,Ae){for(let Ce=0;Ce<Ae.length;Ce++)T2(se,pe,Ae[Ce])})(this,K,K.getVisibleCoordinates())}this.options.showPadding&&(function(K){const se=K.transform.padding;Pl(K,K.transform.height-(se.top||0),3,Ts),Pl(K,se.bottom||0,3,ts),As(K,se.left||0,3,x4),As(K,K.transform.width-(se.right||0),3,w4);const pe=K.transform.centerPoint;(function(Ae,Ce,Ee,Be){mi(Ae,Ce-1,Ee-10,2,20,Be),mi(Ae,Ce-10,Ee-1,20,2,Be)})(K,pe.x,K.transform.height-pe.y,$a)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(t){if(!this.style||!this.style.map||!this.style.map.terrain)return;const a=this.terrainFacilitator.matrix,u=this.transform.modelViewProjectionMatrix;let d=this.terrainFacilitator.dirty;d||(d=t?!o.cj(a,u):!o.ck(a,u)),d||(d=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),d&&(o.cl(a,u),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(b,E){const R=b.context,k=R.gl,$=b.transform,Z=_n.unblended,J=new Cr(k.LEQUAL,Cr.ReadWrite,[0,1]),K=E.tileManager.getRenderableTiles(),se=b.useProgram("terrainDepth");R.bindFramebuffer.set(E.getFramebuffer("depth").framebuffer),R.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),R.clear({color:o.bp.transparent,depth:1});for(const pe of K){const Ae=E.getTerrainMesh(pe.tileID),Ce=E.getTerrainData(pe.tileID),Ee=$.getProjectionData({overscaledTileID:pe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Be={u_ele_delta:E.getMeshFrameDelta($.zoom)};se.draw(R,k.TRIANGLES,J,rn.disabled,Z,Gr.backCCW,Be,Ce,Ee,"terrain",Ae.vertexBuffer,Ae.indexBuffer,Ae.segments)}R.bindFramebuffer.set(null),R.viewport.set([0,0,b.width,b.height])})(this,this.style.map.terrain),(function(b,E){const R=b.context,k=R.gl,$=b.transform,Z=_n.unblended,J=new Cr(k.LEQUAL,Cr.ReadWrite,[0,1]),K=E.getCoordsTexture(),se=E.tileManager.getRenderableTiles(),pe=b.useProgram("terrainCoords");R.bindFramebuffer.set(E.getFramebuffer("coords").framebuffer),R.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),R.clear({color:o.bp.transparent,depth:1}),E.coordsIndex=[];for(const Ae of se){const Ce=E.getTerrainMesh(Ae.tileID),Ee=E.getTerrainData(Ae.tileID);R.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,K.texture);const Be={u_terrain_coords_id:(255-E.coordsIndex.length)/255,u_texture:0,u_ele_delta:E.getMeshFrameDelta($.zoom)},He=$.getProjectionData({overscaledTileID:Ae.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});pe.draw(R,k.TRIANGLES,J,rn.disabled,Z,Gr.backCCW,Be,Ee,He,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments),E.coordsIndex.push(Ae.tileID.key)}R.bindFramebuffer.set(null),R.viewport.set([0,0,b.width,b.height])})(this,this.style.map.terrain))}renderLayer(t,a,u,d,b){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="custom"||(d||[]).length)&&(this.id=u.id,o.cm(u)?(function(E,R,k,$,Z,J){if(E.renderPass!=="translucent")return;const{isRenderingToTexture:K}=J,se=rn.disabled,pe=E.colorModeForRenderPass();(k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(Ae,Ce,Ee,Be,He,ze,Qe,We,Ge){const nt=Ce.transform,xt=Ce.style.map.terrain,gt=He==="map",vt=ze==="map";for(const bt of Ae){const Ht=Be.getTile(bt),Zt=Ht.getBucket(Ee);if(!Zt||!Zt.text||!Zt.text.segments.get().length)continue;const zt=o.ay(Zt.textSizeData,nt.zoom),Yt=o.aN(Ht,1,Ce.transform.zoom),Er=Si(gt,Ce.transform,Yt),fn=Ee.layout.get("icon-text-fit")!=="none"&&Zt.hasIconData();if(zt){const In=Math.pow(2,nt.zoom-Ht.tileID.overscaledZ),En=xt?(Bn,vn)=>xt.getElevation(bt,Bn,vn):null;bs(Zt,gt,vt,Ge,nt,Er,In,zt,fn,o.aO(nt,Ht,Qe,We),bt.toUnwrapped(),En)}}})($,E,k,R,k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),Z),k.paint.get("icon-opacity").constantOr(1)!==0&&F1(E,R,k,$,!1,k.paint.get("icon-translate"),k.paint.get("icon-translate-anchor"),k.layout.get("icon-rotation-alignment"),k.layout.get("icon-pitch-alignment"),k.layout.get("icon-keep-upright"),se,pe,K),k.paint.get("text-opacity").constantOr(1)!==0&&F1(E,R,k,$,!0,k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.layout.get("text-keep-upright"),se,pe,K),R.map.showCollisionBoxes&&(ki(E,R,k,$,!0),ki(E,R,k,$,!1))})(t,a,u,d,this.style.placement.variableOffsets,b):o.cn(u)?(function(E,R,k,$,Z){if(E.renderPass!=="translucent")return;const{isRenderingToTexture:J}=Z,K=k.paint.get("circle-opacity"),se=k.paint.get("circle-stroke-width"),pe=k.paint.get("circle-stroke-opacity"),Ae=!k.layout.get("circle-sort-key").isConstant();if(K.constantOr(1)===0&&(se.constantOr(1)===0||pe.constantOr(1)===0))return;const Ce=E.context,Ee=Ce.gl,Be=E.transform,He=E.getDepthModeForSublayer(0,Cr.ReadOnly),ze=rn.disabled,Qe=E.colorModeForRenderPass(),We=[],Ge=Be.getCircleRadiusCorrection();for(let nt=0;nt<$.length;nt++){const xt=$[nt],gt=R.getTile(xt),vt=gt.getBucket(k);if(!vt)continue;const bt=k.paint.get("circle-translate"),Ht=k.paint.get("circle-translate-anchor"),Zt=o.aO(Be,gt,bt,Ht),zt=vt.programConfigurations.get(k.id),Yt=E.useProgram("circle",zt),Er=vt.layoutVertexBuffer,fn=vt.indexBuffer,In=E.style.map.terrain&&E.style.map.terrain.getTerrainData(xt),En={programConfiguration:zt,program:Yt,layoutVertexBuffer:Er,indexBuffer:fn,uniformValues:h2(E,gt,k,Zt,Ge),terrainData:In,projectionData:Be.getProjectionData({overscaledTileID:xt,applyGlobeMatrix:!J,applyTerrainMatrix:!0})};if(Ae){const Bn=vt.segments.get();for(const vn of Bn)We.push({segments:new o.aX([vn]),sortKey:vn.sortKey,state:En})}else We.push({segments:vt.segments,sortKey:0,state:En})}Ae&&We.sort(((nt,xt)=>nt.sortKey-xt.sortKey));for(const nt of We){const{programConfiguration:xt,program:gt,layoutVertexBuffer:vt,indexBuffer:bt,uniformValues:Ht,terrainData:Zt,projectionData:zt}=nt.state;gt.draw(Ce,Ee.TRIANGLES,He,ze,Qe,Gr.backCCW,Ht,Zt,zt,k.id,vt,bt,nt.segments,k.paint,E.transform.zoom,xt)}})(t,a,u,d,b):o.co(u)?(function(E,R,k,$,Z){if(k.paint.get("heatmap-opacity")===0)return;const J=E.context,{isRenderingToTexture:K,isRenderingGlobe:se}=Z;if(E.style.map.terrain){for(const pe of $){const Ae=R.getTile(pe);R.hasRenderableParent(pe)||(E.renderPass==="offscreen"?v3(E,Ae,k,pe,se):E.renderPass==="translucent"&&zi(E,k,pe,K,se))}J.viewport.set([0,0,E.width,E.height])}else E.renderPass==="offscreen"?(function(pe,Ae,Ce,Ee){const Be=pe.context,He=Be.gl,ze=pe.transform,Qe=rn.disabled,We=new _n([He.ONE,He.ONE],o.bp.transparent,[!0,!0,!0,!0]);(function(Ge,nt,xt){const gt=Ge.gl;Ge.activeTexture.set(gt.TEXTURE1),Ge.viewport.set([0,0,nt.width/4,nt.height/4]);let vt=xt.heatmapFbos.get(o.cd);vt?(gt.bindTexture(gt.TEXTURE_2D,vt.colorAttachment.get()),Ge.bindFramebuffer.set(vt.framebuffer)):(vt=An(Ge,nt.width/4,nt.height/4),xt.heatmapFbos.set(o.cd,vt))})(Be,pe,Ce),Be.clear({color:o.bp.transparent});for(let Ge=0;Ge<Ee.length;Ge++){const nt=Ee[Ge];if(Ae.hasRenderableParent(nt))continue;const xt=Ae.getTile(nt),gt=xt.getBucket(Ce);if(!gt)continue;const vt=gt.programConfigurations.get(Ce.id),bt=pe.useProgram("heatmap",vt),Ht=ze.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Zt=ze.getCircleRadiusCorrection();bt.draw(Be,He.TRIANGLES,Cr.disabled,Qe,We,Gr.backCCW,Ks(xt,ze.zoom,Ce.paint.get("heatmap-intensity"),Zt),null,Ht,Ce.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,Ce.paint,ze.zoom,vt)}Be.viewport.set([0,0,pe.width,pe.height])})(E,R,k,$):E.renderPass==="translucent"&&(function(pe,Ae){const Ce=pe.context,Ee=Ce.gl;Ce.setColorMode(pe.colorModeForRenderPass());const Be=Ae.heatmapFbos.get(o.cd);Be&&(Ce.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_2D,Be.colorAttachment.get()),Ce.activeTexture.set(Ee.TEXTURE1),Wr(Ce,Ae).bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE),pe.useProgram("heatmapTexture").draw(Ce,Ee.TRIANGLES,Cr.disabled,rn.disabled,pe.colorModeForRenderPass(),Gr.disabled,d3(pe,Ae,0,1),null,null,Ae.id,pe.viewportBuffer,pe.quadTriangleIndexBuffer,pe.viewportSegments,Ae.paint,pe.transform.zoom))})(E,k)})(t,a,u,d,b):o.cp(u)?(function(E,R,k,$,Z){if(E.renderPass!=="translucent")return;const{isRenderingToTexture:J}=Z,K=k.paint.get("line-opacity"),se=k.paint.get("line-width");if(K.constantOr(1)===0||se.constantOr(1)===0)return;const pe=E.getDepthModeForSublayer(0,Cr.ReadOnly),Ae=E.colorModeForRenderPass(),Ce=k.paint.get("line-dasharray"),Ee=Ce.constantOr(1),Be=k.paint.get("line-pattern"),He=Be.constantOr(1),ze=k.paint.get("line-gradient"),Qe=k.getCrossfadeParameters();let We;We=He?"linePattern":Ee&&ze?"lineGradientSDF":Ee?"lineSDF":ze?"lineGradient":"line";const Ge=E.context,nt=Ge.gl,xt=E.transform;let gt=!0;for(const vt of $){const bt=R.getTile(vt);if(He&&!bt.patternsLoaded())continue;const Ht=bt.getBucket(k);if(!Ht)continue;const Zt=Ht.programConfigurations.get(k.id),zt=E.context.program.get(),Yt=E.useProgram(We,Zt),Er=gt||Yt.program!==zt,fn=E.style.map.terrain&&E.style.map.terrain.getTerrainData(vt),In=Be.constantOr(null),En=Ce&&Ce.constantOr(null);if(In&&bt.imageAtlas){const Bi=bt.imageAtlas,ti=Bi.patternPositions[In.to.toString()],ri=Bi.patternPositions[In.from.toString()];ti&&ri&&Zt.setConstantPatternPositions(ti,ri)}else if(En){const Bi=k.layout.get("line-cap")==="round",ti=E.lineAtlas.getDash(En.to,Bi),ri=E.lineAtlas.getDash(En.from,Bi);Zt.setConstantDashPositions(ti,ri)}const Bn=xt.getProjectionData({overscaledTileID:vt,applyGlobeMatrix:!J,applyTerrainMatrix:!0}),vn=xt.getPixelScale();let Xn;He?(Xn=f3(E,bt,k,vn,Qe),qa(Ge,nt,bt,Zt,Qe)):Ee&&ze?(Xn=Js(E,bt,k,vn,Qe,Ht.lineClipsArray.length),Ma(E,R,Ge,nt,k,Ht,vt,Zt,Qe)):Ee?(Xn=Ta(E,bt,k,vn,Qe),Hn(E,Ge,nt,Zt,Er,Qe)):ze?(Xn=L5(E,bt,k,vn,Ht.lineClipsArray.length),Ea(E,R,Ge,nt,k,Ht,vt)):Xn=p2(E,bt,k,vn);const Ln=E.stencilModeForClipping(vt);Yt.draw(Ge,nt.TRIANGLES,pe,Ln,Ae,Gr.disabled,Xn,fn,Bn,k.id,Ht.layoutVertexBuffer,Ht.indexBuffer,Ht.segments,k.paint,E.transform.zoom,Zt,Ht.layoutVertexBuffer2),gt=!1}})(t,a,u,d,b):o.cq(u)?(function(E,R,k,$,Z){const J=k.paint.get("fill-color"),K=k.paint.get("fill-opacity");if(K.constantOr(1)===0)return;const{isRenderingToTexture:se}=Z,pe=E.colorModeForRenderPass(),Ae=k.paint.get("fill-pattern"),Ce=E.opaquePassEnabledForLayer()&&!Ae.constantOr(1)&&J.constantOr(o.bp.transparent).a===1&&K.constantOr(0)===1?"opaque":"translucent";if(E.renderPass===Ce){const Ee=E.getDepthModeForSublayer(1,E.renderPass==="opaque"?Cr.ReadWrite:Cr.ReadOnly);Wo(E,R,k,$,Ee,pe,!1,se)}if(E.renderPass==="translucent"&&k.paint.get("fill-antialias")){const Ee=E.getDepthModeForSublayer(k.getPaintProperty("fill-outline-color")?2:0,Cr.ReadOnly);Wo(E,R,k,$,Ee,pe,!0,se)}})(t,a,u,d,b):o.cr(u)?(function(E,R,k,$,Z){const J=k.paint.get("fill-extrusion-opacity");if(J===0)return;const{isRenderingToTexture:K}=Z;if(E.renderPass==="translucent"){const se=new Cr(E.context.gl.LEQUAL,Cr.ReadWrite,E.depthRangeFor3D);if(J!==1||k.paint.get("fill-extrusion-pattern").constantOr(1))Ko(E,R,k,$,se,rn.disabled,_n.disabled,K),Ko(E,R,k,$,se,E.stencilModeFor3D(),E.colorModeForRenderPass(),K);else{const pe=E.colorModeForRenderPass();Ko(E,R,k,$,se,rn.disabled,pe,K)}}})(t,a,u,d,b):o.cs(u)?(function(E,R,k,$,Z){if(E.renderPass!=="offscreen"&&E.renderPass!=="translucent")return;const{isRenderingToTexture:J}=Z,K=E.context,se=E.style.projection.useSubdivision,pe=E.getDepthModeForSublayer(0,Cr.ReadOnly),Ae=E.colorModeForRenderPass();if(E.renderPass==="offscreen")(function(Ce,Ee,Be,He,ze,Qe,We){const Ge=Ce.context,nt=Ge.gl;for(const xt of Be){const gt=Ee.getTile(xt),vt=gt.dem;if(!vt||!vt.data||!gt.needsHillshadePrepare)continue;const bt=vt.dim,Ht=vt.stride,Zt=vt.getPixels();if(Ge.activeTexture.set(nt.TEXTURE1),Ge.pixelStoreUnpackPremultiplyAlpha.set(!1),gt.demTexture=gt.demTexture||Ce.getTileTexture(Ht),gt.demTexture){const Yt=gt.demTexture;Yt.update(Zt,{premultiply:!1}),Yt.bind(nt.NEAREST,nt.CLAMP_TO_EDGE)}else gt.demTexture=new o.T(Ge,Zt,nt.RGBA,{premultiply:!1}),gt.demTexture.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);Ge.activeTexture.set(nt.TEXTURE0);let zt=gt.fbo;if(!zt){const Yt=new o.T(Ge,{width:bt,height:bt,data:null},nt.RGBA);Yt.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),zt=gt.fbo=Ge.createFramebuffer(bt,bt,!0,!1),zt.colorAttachment.set(Yt.texture)}Ge.bindFramebuffer.set(zt.framebuffer),Ge.viewport.set([0,0,bt,bt]),Ce.useProgram("hillshadePrepare").draw(Ge,nt.TRIANGLES,ze,Qe,We,Gr.disabled,z5(gt.tileID,vt),null,null,He.id,Ce.rasterBoundsBuffer,Ce.quadTriangleIndexBuffer,Ce.rasterBoundsSegments),gt.needsHillshadePrepare=!1}})(E,R,$,k,pe,rn.disabled,Ae),K.viewport.set([0,0,E.width,E.height]);else if(E.renderPass==="translucent")if(se){const[Ce,Ee,Be]=E.stencilConfigForOverlapTwoPass($);Jo(E,R,k,Be,Ce,pe,Ae,!1,J),Jo(E,R,k,Be,Ee,pe,Ae,!0,J)}else{const[Ce,Ee]=E.getStencilConfigForOverlapAndUpdateStencilID($);Jo(E,R,k,Ee,Ce,pe,Ae,!1,J)}})(t,a,u,d,b):o.ct(u)?(function(E,R,k,$,Z){if(E.renderPass!=="translucent"||!$.length)return;const{isRenderingToTexture:J}=Z,K=E.style.projection.useSubdivision,se=E.getDepthModeForSublayer(0,Cr.ReadOnly),pe=E.colorModeForRenderPass();if(K){const[Ae,Ce,Ee]=E.stencilConfigForOverlapTwoPass($);ws(E,R,k,Ee,Ae,se,pe,!1,J),ws(E,R,k,Ee,Ce,se,pe,!0,J)}else{const[Ae,Ce]=E.getStencilConfigForOverlapAndUpdateStencilID($);ws(E,R,k,Ce,Ae,se,pe,!1,J)}})(t,a,u,d,b):o.bU(u)?(function(E,R,k,$,Z){if(E.renderPass!=="translucent"||k.paint.get("raster-opacity")===0||!$.length)return;const{isRenderingToTexture:J}=Z,K=R.getSource(),se=E.style.projection.useSubdivision;if(K instanceof It)lo(E,R,k,$,null,!1,!1,K.tileCoords,K.flippedWindingOrder,J);else if(se){const[pe,Ae,Ce]=E.stencilConfigForOverlapTwoPass($);lo(E,R,k,Ce,pe,!1,!0,Ss,!1,J),lo(E,R,k,Ce,Ae,!0,!0,Ss,!1,J)}else{const[pe,Ae]=E.getStencilConfigForOverlapAndUpdateStencilID($);lo(E,R,k,Ae,pe,!1,!0,Ss,!1,J)}})(t,a,u,d,b):o.cu(u)?(function(E,R,k,$,Z){const J=k.paint.get("background-color"),K=k.paint.get("background-opacity");if(K===0)return;const{isRenderingToTexture:se}=Z,pe=E.context,Ae=pe.gl,Ce=E.style.projection,Ee=E.transform,Be=Ee.tileSize,He=k.paint.get("background-pattern");if(E.isPatternMissing(He))return;const ze=!He&&J.a===1&&K===1&&E.opaquePassEnabledForLayer()?"opaque":"translucent";if(E.renderPass!==ze)return;const Qe=rn.disabled,We=E.getDepthModeForSublayer(0,ze==="opaque"?Cr.ReadWrite:Cr.ReadOnly),Ge=E.colorModeForRenderPass(),nt=E.useProgram(He?"backgroundPattern":"background"),xt=$||zr(Ee,{tileSize:Be,terrain:E.style.map.terrain});He&&(pe.activeTexture.set(Ae.TEXTURE0),E.imageManager.bind(E.context));const gt=k.getCrossfadeParameters();for(const vt of xt){const bt=Ee.getProjectionData({overscaledTileID:vt,applyGlobeMatrix:!se,applyTerrainMatrix:!0}),Ht=He?_2(K,E,He,{tileID:vt,tileSize:Be},gt):y2(K,J),Zt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(vt),zt=Ce.getMeshFromTileID(pe,vt.canonical,!1,!0,"raster");nt.draw(pe,Ae.TRIANGLES,We,Qe,Ge,Gr.backCCW,Ht,Zt,bt,k.id,zt.vertexBuffer,zt.indexBuffer,zt.segments)}})(t,0,u,d,b):o.cv(u)&&(function(E,R,k,$){const{isRenderingGlobe:Z}=$,J=E.context,K=k.implementation,se=E.style.projection,pe=E.transform,Ae=pe.getProjectionDataForCustomLayer(Z),Ce={farZ:pe.farZ,nearZ:pe.nearZ,fov:pe.fov*Math.PI/180,modelViewProjectionMatrix:pe.modelViewProjectionMatrix,projectionMatrix:pe.projectionMatrix,shaderData:{variantName:se.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${se.shaderPreludeCode.vertexSource}`,define:se.shaderDefine},defaultProjectionData:Ae},Ee=K.renderingMode?K.renderingMode:"2d";if(E.renderPass==="offscreen"){const Be=K.prerender;Be&&(E.setCustomLayerDefaults(),J.setColorMode(E.colorModeForRenderPass()),Be.call(K,J.gl,Ce),J.setDirty(),E.setBaseState())}else if(E.renderPass==="translucent"){E.setCustomLayerDefaults(),J.setColorMode(E.colorModeForRenderPass()),J.setStencilMode(rn.disabled);const Be=Ee==="3d"?E.getDepthModeFor3D():E.getDepthModeForSublayer(0,Cr.ReadOnly);J.setDepthMode(Be),K.render(J.gl,Ce),J.setDirty(),E.setBaseState(),J.bindFramebuffer.set(null)}})(t,0,u,b))}saveTileTexture(t){const a=this._tileTextures[t.size[0]];a?a.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const a=this._tileTextures[t];return a&&a.length>0?a.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const a=this.imageManager.getPattern(t.from.toString()),u=this.imageManager.getPattern(t.to.toString());return!a||!u}useProgram(t,a,u=!1,d=[]){this.cache=this.cache||{};const b=!!this.style.map.terrain,E=this.style.projection,R=u?Un.projectionMercator:E.shaderPreludeCode,k=u?Kn:E.shaderDefine,$=t+(a?a.cacheKey:"")+`/${u?fa:E.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(b?"/terrain":"")+(d?`/${d.join("/")}`:"");return this.cache[$]||(this.cache[$]=new O5(this.context,Un[t],a,U5[t],this._showOverdrawInspector,b,R,k,d)),this.cache[$]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var t,a;if(this._tileTextures){for(const u in this._tileTextures){const d=this._tileTextures[u];if(d)for(const b of d)b.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((t=this.tileExtentMesh.vertexBuffer)===null||t===void 0||t.destroy()),this.tileExtentMesh&&((a=this.tileExtentMesh.indexBuffer)===null||a===void 0||a.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const u in this.cache){const d=this.cache[u];d&&d.program&&this.context.gl.deleteProgram(d.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:t,drawingBufferHeight:a}=this.context.gl;return this.width!==t||this.height!==a}}function x3(_,t){let a,u=!1,d=null,b=null;const E=()=>{d=null,u&&(_.apply(b,a),d=setTimeout(E,t),u=!1)};return(...R)=>(u=!0,b=this,a=R,d||E(),d)}class li{constructor(t){this._getCurrentHash=()=>{const a=window.location.hash.replace("#","");if(this._hashName){let u;return a.split("&").map((d=>d.split("="))).forEach((d=>{d[0]===this._hashName&&(u=d)})),(u&&u[1]||"").split("/")}return a.split("/")},this._onHashChange=()=>{const a=this._getCurrentHash();if(!this._isValidHash(a))return!1;const u=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(a[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+a[2],+a[1]],zoom:+a[0],bearing:u,pitch:+(a[4]||0)}),!0},this._updateHashUnthrottled=()=>{const a=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,a)},this._removeHash=()=>{const a=this._getCurrentHash();if(a.length===0)return;const u=a.join("/");let d=u;d.split("&").length>0&&(d=d.split("&")[0]),this._hashName&&(d=`${this._hashName}=${u}`);let b=window.location.hash.replace(d,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let E=window.location.href.replace(/(#.+)?$/,b);E=E.replace("&&","&"),window.history.replaceState(window.history.state,null,E)},this._updateHash=x3(this._updateHashUnthrottled,300),this._hashName=t&&encodeURIComponent(t)}addTo(t){return this._map=t,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(t){const a=this._map.getCenter(),u=Math.round(100*this._map.getZoom())/100,d=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,d),E=Math.round(a.lng*b)/b,R=Math.round(a.lat*b)/b,k=this._map.getBearing(),$=this._map.getPitch();let Z="";if(Z+=t?`/${E}/${R}/${u}`:`${u}/${R}/${E}`,(k||$)&&(Z+="/"+Math.round(10*k)/10),$&&(Z+=`/${Math.round($)}`),this._hashName){const J=this._hashName;let K=!1;const se=window.location.hash.slice(1).split("&").map((pe=>{const Ae=pe.split("=")[0];return Ae===J?(K=!0,`${Ae}=${Z}`):pe})).filter((pe=>pe));return K||se.push(`${J}=${Z}`),`#${se.join("&")}`}return`#${Z}`}_isValidHash(t){if(t.length<3||t.some(isNaN))return!1;try{new o.V(+t[2],+t[1])}catch{return!1}const a=+t[0],u=+(t[3]||0),d=+(t[4]||0);return a>=this._map.getMinZoom()&&a<=this._map.getMaxZoom()&&u>=-180&&u<=180&&d>=this._map.getMinPitch()&&d<=this._map.getMaxPitch()}}const rs={linearity:.3,easing:o.cw(0,0,.3,1)},Rl=o.e({deceleration:2500,maxSpeed:1400},rs),ra=o.e({deceleration:20,maxSpeed:1400},rs),Qa=o.e({deceleration:1e3,maxSpeed:360},rs),k1=o.e({deceleration:1e3,maxSpeed:90},rs),na=o.e({deceleration:1e3,maxSpeed:360},rs);class a0{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:j(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,a=j();for(;t.length>0&&a-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const a={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)a.zoom+=b.zoomDelta||0,a.bearing+=b.bearingDelta||0,a.pitch+=b.pitchDelta||0,a.roll+=b.rollDelta||0,b.panDelta&&a.pan._add(b.panDelta),b.around&&(a.around=b.around),b.pinchAround&&(a.pinchAround=b.pinchAround);const u=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,d={};if(a.pan.mag()){const b=A2(a.pan.mag(),u,o.e({},Rl,t||{})),E=a.pan.mult(b.amount/a.pan.mag()),R=this._map.cameraHelper.handlePanInertia(E,this._map.transform);d.center=R.easingCenter,d.offset=R.easingOffset,Il(d,b)}if(a.zoom){const b=A2(a.zoom,u,ra);d.zoom=this._map.transform.zoom+b.amount,Il(d,b)}if(a.bearing){const b=A2(a.bearing,u,Qa);d.bearing=this._map.transform.bearing+o.an(b.amount,-179,179),Il(d,b)}if(a.pitch){const b=A2(a.pitch,u,k1);d.pitch=this._map.transform.pitch+b.amount,Il(d,b)}if(a.roll){const b=A2(a.roll,u,na);d.roll=this._map.transform.roll+o.an(b.amount,-179,179),Il(d,b)}if(d.zoom||d.bearing){const b=a.pinchAround===void 0?a.around:a.pinchAround;d.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),o.e(d,{noMoveStart:!0})}}function Il(_,t){(!_.duration||_.duration<t.duration)&&(_.duration=t.duration,_.easing=t.easing)}function A2(_,t,a){const{maxSpeed:u,linearity:d,deceleration:b}=a,E=o.an(_*d/(t/1e3),-u,u),R=Math.abs(E)/(b*d);return{easing:a.easing,duration:1e3*R,amount:E*(R/2)}}class Di extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,u,d={}){u=u instanceof MouseEvent?u:new MouseEvent(t,u);const b=F.mousePos(a.getCanvas(),u),E=a.unproject(b);super(t,o.e({point:b,lngLat:E,originalEvent:u},d)),this._defaultPrevented=!1,this.target=a}}class Co extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,u){const d=t==="touchend"?u.changedTouches:u.touches,b=F.touchPos(a.getCanvasContainer(),d),E=b.map((k=>a.unproject(k))),R=b.reduce(((k,$,Z,J)=>k.add($.div(J.length))),new o.P(0,0));super(t,{points:b,point:R,lngLats:E,lngLat:a.unproject(R),originalEvent:u}),this._defaultPrevented=!1}}class T4 extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,u){super(t,{originalEvent:u}),this._defaultPrevented=!1}}class A4{constructor(t,a){this._map=t,this._clickTolerance=a.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new T4(t.type,this._map,t))}mousedown(t,a){return this._mousedownPos=a,this._firePreventable(new Di(t.type,this._map,t))}mouseup(t){this._map.fire(new Di(t.type,this._map,t))}click(t,a){this._mousedownPos&&this._mousedownPos.dist(a)>=this._clickTolerance||this._map.fire(new Di(t.type,this._map,t))}dblclick(t){return this._firePreventable(new Di(t.type,this._map,t))}mouseover(t){this._map.fire(new Di(t.type,this._map,t))}mouseout(t){this._map.fire(new Di(t.type,this._map,t))}touchstart(t){return this._firePreventable(new Co(t.type,this._map,t))}touchmove(t){this._map.fire(new Co(t.type,this._map,t))}touchend(t){this._map.fire(new Co(t.type,this._map,t))}touchcancel(t){this._map.fire(new Co(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class V5{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(t){this._map.fire(new Di(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._ignoreContextMenu||this._map.fire(new Di(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Po{constructor(t){this._map=t}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(t){return this.transform.screenPointToLocation(o.P.convert(t),this._map.terrain)}}class o1{constructor(t,a){this._map=t,this._tr=new Po(t),this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=a.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,a){this.isEnabled()&&t.shiftKey&&t.button===0&&(F.disableDrag(),this._startPos=this._lastPos=a,this._active=!0)}mousemoveWindow(t,a){if(!this._active)return;const u=a;if(this._lastPos.equals(u)||!this._box&&u.dist(this._startPos)<this._clickTolerance)return;const d=this._startPos;this._lastPos=u,this._box||(this._box=F.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",t));const b=Math.min(d.x,u.x),E=Math.max(d.x,u.x),R=Math.min(d.y,u.y),k=Math.max(d.y,u.y);F.setTransform(this._box,`translate(${b}px,${R}px)`),this._box.style.width=E-b+"px",this._box.style.height=k-R+"px"}mouseupWindow(t,a){if(!this._active||t.button!==0)return;const u=this._startPos,d=a;if(this.reset(),F.suppressClick(),u.x!==d.x||u.y!==d.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:t})),{cameraAnimation:b=>b.fitScreenCoordinates(u,d,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(t){this._active&&t.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",t))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(F.remove(this._box),this._box=null),F.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,a){return this._map.fire(new o.l(t,{originalEvent:a}))}}function Ca(_,t){if(_.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${t.length}`);const a={};for(let u=0;u<_.length;u++)a[_[u].identifier]=t[u];return a}class rr{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,a,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=t.timeStamp),u.length===this.numTouches&&(this.centroid=(function(d){const b=new o.P(0,0);for(const E of d)b._add(E);return b.div(d.length)})(a),this.touches=Ca(u,a)))}touchmove(t,a,u){if(this.aborted||!this.centroid)return;const d=Ca(u,a);for(const b in this.touches){const E=d[b];(!E||E.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(t,a,u){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),u.length===0){const d=!this.aborted&&this.centroid;if(this.reset(),d)return d}}}class E2{constructor(t){this.singleTap=new rr(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,a,u){this.singleTap.touchstart(t,a,u)}touchmove(t,a,u){this.singleTap.touchmove(t,a,u)}touchend(t,a,u){const d=this.singleTap.touchend(t,a,u);if(d){const b=t.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(d)<30;if(b&&E||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=d,this.count===this.numTaps)return this.reset(),d}}}class E4{constructor(t){this._tr=new Po(t),this._zoomIn=new E2({numTouches:1,numTaps:2}),this._zoomOut=new E2({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,a,u){this._zoomIn.touchstart(t,a,u),this._zoomOut.touchstart(t,a,u)}touchmove(t,a,u){this._zoomIn.touchmove(t,a,u),this._zoomOut.touchmove(t,a,u)}touchend(t,a,u){const d=this._zoomIn.touchend(t,a,u),b=this._zoomOut.touchend(t,a,u),E=this._tr;return d?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(d)},{originalEvent:t})}):b?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(b)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class uo{constructor(t){this._enabled=!!t.enable,this._moveStateManager=t.moveStateManager,this._clickTolerance=t.clickTolerance||1,this._moveFunction=t.move,this._activateOnStart=!!t.activateOnStart,t.assignEvents(this),this.reset()}reset(t){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(t)}_move(...t){const a=this._moveFunction(...t);if(a.bearingDelta||a.pitchDelta||a.rollDelta||a.around||a.panDelta)return this._active=!0,a}dragStart(t,a){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(t)&&(this._moveStateManager.startMove(t),this._lastPoint=Array.isArray(a)?a[0]:a,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(t,a){if(!this.isEnabled())return;const u=this._lastPoint;if(!u)return;if(t.preventDefault(),!this._moveStateManager.isValidMoveEvent(t))return void this.reset(t);const d=Array.isArray(a)?a[0]:a;return!this._moved&&d.dist(u)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=d,this._move(u,d))}dragEnd(t){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(t)&&(this._moved&&F.suppressClick(),this.reset(t))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ro=0,Nl=2,M4={[Ro]:1,[Nl]:2};class ns{constructor(t){this._correctEvent=t.checkCorrectEvent}startMove(t){const a=F.mouseButton(t);this._eventButton=a}endMove(t){delete this._eventButton}isValidStartEvent(t){return this._correctEvent(t)}isValidMoveEvent(t){return!(function(a,u){const d=M4[u];return a.buttons===void 0||(a.buttons&d)!==d})(t,this._eventButton)}isValidEndEvent(t){return F.mouseButton(t)===this._eventButton}}class z1{constructor(){this._firstTouch=void 0}_isOneFingerTouch(t){return t.targetTouches.length===1}_isSameTouchEvent(t){return t.targetTouches[0].identifier===this._firstTouch}startMove(t){this._firstTouch=t.targetTouches[0].identifier}endMove(t){delete this._firstTouch}isValidStartEvent(t){return this._isOneFingerTouch(t)}isValidMoveEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}isValidEndEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}}class M2{constructor(t=new ns({checkCorrectEvent:()=>!0}),a=new z1){this.mouseMoveStateManager=t,this.oneFingerTouchMoveStateManager=a}_executeRelevantHandler(t,a,u){return t instanceof MouseEvent?a(t):typeof TouchEvent<"u"&&t instanceof TouchEvent?u(t):void 0}startMove(t){this._executeRelevantHandler(t,(a=>this.mouseMoveStateManager.startMove(a)),(a=>this.oneFingerTouchMoveStateManager.startMove(a)))}endMove(t){this._executeRelevantHandler(t,(a=>this.mouseMoveStateManager.endMove(a)),(a=>this.oneFingerTouchMoveStateManager.endMove(a)))}isValidStartEvent(t){return this._executeRelevantHandler(t,(a=>this.mouseMoveStateManager.isValidStartEvent(a)),(a=>this.oneFingerTouchMoveStateManager.isValidStartEvent(a)))}isValidMoveEvent(t){return this._executeRelevantHandler(t,(a=>this.mouseMoveStateManager.isValidMoveEvent(a)),(a=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(a)))}isValidEndEvent(t){return this._executeRelevantHandler(t,(a=>this.mouseMoveStateManager.isValidEndEvent(a)),(a=>this.oneFingerTouchMoveStateManager.isValidEndEvent(a)))}}const is=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=t=>{t.preventDefault()}};class C4{constructor(t,a){this._clickTolerance=t.clickTolerance||1,this._map=a,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(t){return t<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(t,a,u){return this._calculateTransform(t,a,u)}touchmove(t,a,u){if(this._active){if(!this._shouldBePrevented(u.length))return t.preventDefault(),this._calculateTransform(t,a,u);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",t)}}touchend(t,a,u){this._calculateTransform(t,a,u),this._active&&this._shouldBePrevented(u.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,a,u){u.length>0&&(this._active=!0);const d=Ca(u,a),b=new o.P(0,0),E=new o.P(0,0);let R=0;for(const $ in d){const Z=d[$],J=this._touches[$];J&&(b._add(Z),E._add(Z.sub(J)),R++,d[$]=Z)}if(this._touches=d,this._shouldBePrevented(R)||!E.mag())return;const k=E.div(R);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(R),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class C2{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(t,a,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([a[0],a[1]]))}touchmove(t,a,u){if(!this._firstTwoTouches)return;t.preventDefault();const[d,b]=this._firstTwoTouches,E=as(u,a,d),R=as(u,a,b);if(!E||!R)return;const k=this._aroundCenter?null:E.add(R).div(2);return this._move([E,R],k,t)}touchend(t,a,u){if(!this._firstTwoTouches)return;const[d,b]=this._firstTwoTouches,E=as(u,a,d),R=as(u,a,b);E&&R||(this._active&&F.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&t.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function as(_,t,a){for(let u=0;u<_.length;u++)if(_[u].identifier===a)return t[u]}function w3(_,t){return Math.log(_/t)/Math.LN2}class os extends C2{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,a){const u=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(w3(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:w3(this._distance,u),pinchAround:a}}}function P4(_,t){return 180*_.angleWith(t)/Math.PI}class P2 extends C2{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,a,u){const d=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:P4(this._vector,d),pinchAround:a}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const a=25/(Math.PI*this._minDiameter)*360,u=P4(t,this._startVector);return Math.abs(u)<a}}function ss(_){return Math.abs(_.y)>Math.abs(_.x)}class Es extends C2{constructor(t){super(),this._currentTouchCount=0,this._map=t}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(t,a,u){super.touchstart(t,a,u),this._currentTouchCount=u.length}_start(t){this._lastPoints=t,ss(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,a,u){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const d=t[0].sub(this._lastPoints[0]),b=t[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(d,b,u.timeStamp),this._valid?(this._lastPoints=t,this._active=!0,{pitchDelta:(d.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(t,a,u){if(this._valid!==void 0)return this._valid;const d=t.mag()>=2,b=a.mag()>=2;if(!d&&!b)return;if(!d||!b)return this._firstMove===void 0&&(this._firstMove=u),u-this._firstMove<100&&void 0;const E=t.y>0==a.y>0;return ss(t)&&ss(a)&&E}}const co={panStep:100,bearingStep:15,pitchStep:10};class pn{constructor(t){this._tr=new Po(t);const a=co;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let a=0,u=0,d=0,b=0,E=0;switch(t.keyCode){case 61:case 107:case 171:case 187:a=1;break;case 189:case 109:case 173:a=-1;break;case 37:t.shiftKey?u=-1:(t.preventDefault(),b=-1);break;case 39:t.shiftKey?u=1:(t.preventDefault(),b=1);break;case 38:t.shiftKey?d=1:(t.preventDefault(),E=-1);break;case 40:t.shiftKey?d=-1:(t.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(u=0,d=0),{cameraAnimation:R=>{const k=this._tr;R.easeTo({duration:300,easeId:"keyboardHandler",easing:S3,zoom:a?Math.round(k.zoom)+a*(t.shiftKey?2:1):k.zoom,bearing:k.bearing+u*this._bearingStep,pitch:k.pitch+d*this._pitchStep,offset:[-b*this._panStep,-E*this._panStep],center:k.center},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function S3(_){return _*(2-_)}const Ms=4.000244140625,s1=1/450;class R2{constructor(t,a){this._onTimeout=u=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)},this._map=t,this._tr=new Po(t),this._triggerRenderFrame=a,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=s1}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!t&&t.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(t){return!!this._map.cooperativeGestures.isEnabled()&&!(t.ctrlKey||this._map.cooperativeGestures.isBypassed(t))}wheel(t){if(!this.isEnabled())return;if(this._shouldBePrevented(t))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",t);let a=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const u=j(),d=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,a!==0&&a%Ms==0?this._type="wheel":a!==0&&Math.abs(a)<4?this._type="trackpad":d>400?(this._type=null,this._lastValue=a,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(d*a)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,a+=this._lastValue)),t.shiftKey&&a&&(a/=4),this._type&&(this._lastWheelEvent=t,this._delta-=a,this._active||this._start(t)),t.preventDefault()}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const a=F.mousePos(this._map.getCanvas(),t),u=this._tr;this._aroundPoint=this._aroundCenter?u.transform.locationToScreenPoint(o.V.convert(u.center)):a,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const t=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const R=t.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=R),typeof this._targetZoom=="number"&&(this._targetZoom+=R)}if(this._delta!==0){const R=this._type==="wheel"&&Math.abs(this._delta)>Ms?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*R)));this._delta<0&&k!==0&&(k=1/k);const $=typeof this._targetZoom!="number"?t.scale:o.aq(this._targetZoom);this._targetZoom=t.applyConstrain(t.getCameraLngLat(),o.at($*k)).zoom,this._type==="wheel"&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const a=typeof this._targetZoom!="number"?t.zoom:this._targetZoom,u=this._startZoom,d=this._easing;let b,E=!1;if(this._type==="wheel"&&u&&d){const R=j()-this._lastWheelEventTime,k=Math.min((R+5)/200,1),$=d(k);b=o.G.number(u,a,$),k<1?this._frameId||(this._frameId=!0):E=!0}else b=a,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=b,{noInertia:!0,needsRenderFrame:!E,zoomDelta:b-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let a=o.cy;if(this._prevEase){const u=this._prevEase,d=(j()-u.start)/u.duration,b=u.easing(d+.01)-u.easing(d),E=.27/Math.sqrt(b*b+1e-4)*.01,R=Math.sqrt(.0729-E*E);a=o.cw(E,R,.25,1)}return this._prevEase={start:j(),duration:t,easing:a},a}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class R4{constructor(t,a){this._clickZoom=t,this._tapZoom=a}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class B1{constructor(t){this._tr=new Po(t),this.reset()}reset(){this._active=!1}dblclick(t,a){return t.preventDefault(),{cameraAnimation:u=>{u.easeTo({duration:300,zoom:this._tr.zoom+(t.shiftKey?-1:1),around:this._tr.unproject(a)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class I2{constructor(){this._tap=new E2({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(t,a,u){if(!this._swipePoint)if(this._tapTime){const d=a[0],b=t.timeStamp-this._tapTime<500,E=this._tapPoint.dist(d)<30;b&&E?u.length>0&&(this._swipePoint=d,this._swipeTouch=u[0].identifier):this.reset()}else this._tap.touchstart(t,a,u)}touchmove(t,a,u){if(this._tapTime){if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;const d=a[0],b=d.y-this._swipePoint.y;return this._swipePoint=d,t.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(t,a,u)}touchend(t,a,u){if(this._tapTime)this._swipePoint&&u.length===0&&this.reset();else{const d=this._tap.touchend(t,a,u);d&&(this._tapTime=t.timeStamp,this._tapPoint=d)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class T3{constructor(t,a,u){this._el=t,this._mousePan=a,this._touchPan=u}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ha{constructor(t,a,u,d){this._pitchWithRotate=t.pitchWithRotate,this._rollEnabled=t.rollEnabled,this._mouseRotate=a,this._mousePitch=u,this._mouseRoll=d}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class L1{constructor(t,a,u,d){this._el=t,this._touchZoom=a,this._touchRotate=u,this._tapDragZoom=d,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ir{constructor(t,a){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=t,this._options=a,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const t=this._map.getCanvasContainer();t.classList.add("maplibregl-cooperative-gestures"),this._container=F.create("div","maplibregl-cooperative-gesture-screen",t);let a=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(a=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const u=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),d=document.createElement("div");d.className="maplibregl-desktop-message",d.textContent=a,this._container.appendChild(d);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=u,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(F.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(t){return t[this._bypassKey]}notifyGestureBlocked(t,a){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:t,originalEvent:a})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const sr=_=>_.zoom||_.drag||_.roll||_.pitch||_.rotate;class ho extends o.l{}function Dl(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta||_.rollDelta}class N2{constructor(t,a){this.handleWindowEvent=d=>{this.handleEvent(d,`${d.type}Window`)},this.handleEvent=(d,b)=>{if(d.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=d.type==="renderFrame"?void 0:d,R={needsRenderFrame:!1},k={},$={};for(const{handlerName:K,handler:se,allowed:pe}of this._handlers){if(!se.isEnabled())continue;let Ae;if(this._blockedByActive($,pe,K))se.reset();else if(se[b||d.type]){if(o.cz(d,b||d.type)){const Ce=F.mousePos(this._map.getCanvas(),d);Ae=se[b||d.type](d,Ce)}else if(o.cA(d,b||d.type)){const Ce=this._getMapTouches(d.touches),Ee=F.touchPos(this._map.getCanvas(),Ce);Ae=se[b||d.type](d,Ee,Ce)}else o.cB(b||d.type)||(Ae=se[b||d.type](d));this.mergeHandlerResult(R,k,Ae,K,E),Ae&&Ae.needsRenderFrame&&this._triggerRenderFrame()}(Ae||se.isActive())&&($[K]=se)}const Z={};for(const K in this._previousActiveHandlers)$[K]||(Z[K]=E);this._previousActiveHandlers=$,(Object.keys(Z).length||Dl(R))&&(this._changes.push([R,k,Z]),this._triggerRenderFrame()),(Object.keys($).length||Dl(R))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:J}=R;J&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],J(this._map))},this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new a0(t),this._bearingSnap=a.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(a);const u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[window,"blur",void 0]];for(const[d,b,E]of this._listeners)F.addEventListener(d,b,d===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[t,a,u]of this._listeners)F.removeEventListener(t,a,t===document?this.handleWindowEvent:this.handleEvent,u)}_addDefaultHandlers(t){const a=this._map,u=a.getCanvasContainer();this._add("mapEvent",new A4(a,t));const d=a.boxZoom=new o1(a,t);this._add("boxZoom",d),t.interactive&&t.boxZoom&&d.enable();const b=a.cooperativeGestures=new ir(a,t.cooperativeGestures);this._add("cooperativeGestures",b),t.cooperativeGestures&&b.enable();const E=new E4(a),R=new B1(a);a.doubleClickZoom=new R4(R,E),this._add("tapZoom",E),this._add("clickZoom",R),t.interactive&&t.doubleClickZoom&&a.doubleClickZoom.enable();const k=new I2;this._add("tapDragZoom",k);const $=a.touchPitch=new Es(a);this._add("touchPitch",$),t.interactive&&t.touchPitch&&a.touchPitch.enable(t.touchPitch);const Z=()=>a.project(a.getCenter()),J=(function({enable:ze,clickTolerance:Qe,aroundCenter:We=!0,minPixelCenterThreshold:Ge=100,rotateDegreesPerPixelMoved:nt=.8},xt){const gt=new ns({checkCorrectEvent:vt=>F.mouseButton(vt)===0&&vt.ctrlKey||F.mouseButton(vt)===2&&!vt.ctrlKey});return new uo({clickTolerance:Qe,move:(vt,bt)=>{const Ht=xt();if(We&&Math.abs(Ht.y-vt.y)>Ge)return{bearingDelta:o.cx(new o.P(vt.x,bt.y),bt,Ht)};let Zt=(bt.x-vt.x)*nt;return We&&bt.y<Ht.y&&(Zt=-Zt),{bearingDelta:Zt}},moveStateManager:gt,enable:ze,assignEvents:is})})(t,Z),K=(function({enable:ze,clickTolerance:Qe,pitchDegreesPerPixelMoved:We=-.5}){const Ge=new ns({checkCorrectEvent:nt=>F.mouseButton(nt)===0&&nt.ctrlKey||F.mouseButton(nt)===2});return new uo({clickTolerance:Qe,move:(nt,xt)=>({pitchDelta:(xt.y-nt.y)*We}),moveStateManager:Ge,enable:ze,assignEvents:is})})(t),se=(function({enable:ze,clickTolerance:Qe,rollDegreesPerPixelMoved:We=.3},Ge){const nt=new ns({checkCorrectEvent:xt=>F.mouseButton(xt)===2&&xt.ctrlKey});return new uo({clickTolerance:Qe,move:(xt,gt)=>{const vt=Ge();let bt=(gt.x-xt.x)*We;return gt.y<vt.y&&(bt=-bt),{rollDelta:bt}},moveStateManager:nt,enable:ze,assignEvents:is})})(t,Z);a.dragRotate=new Ha(t,J,K,se),this._add("mouseRotate",J,["mousePitch"]),this._add("mousePitch",K,["mouseRotate","mouseRoll"]),this._add("mouseRoll",se,["mousePitch"]),t.interactive&&t.dragRotate&&a.dragRotate.enable();const pe=(function({enable:ze,clickTolerance:Qe}){const We=new ns({checkCorrectEvent:Ge=>F.mouseButton(Ge)===0&&!Ge.ctrlKey});return new uo({clickTolerance:Qe,move:(Ge,nt)=>({around:nt,panDelta:nt.sub(Ge)}),activateOnStart:!0,moveStateManager:We,enable:ze,assignEvents:is})})(t),Ae=new C4(t,a);a.dragPan=new T3(u,pe,Ae),this._add("mousePan",pe),this._add("touchPan",Ae,["touchZoom","touchRotate"]),t.interactive&&t.dragPan&&a.dragPan.enable(t.dragPan);const Ce=new P2,Ee=new os;a.touchZoomRotate=new L1(u,Ee,Ce,k),this._add("touchRotate",Ce,["touchPan","touchZoom"]),this._add("touchZoom",Ee,["touchPan","touchRotate"]),t.interactive&&t.touchZoomRotate&&a.touchZoomRotate.enable(t.touchZoomRotate),this._add("blockableMapEvent",new V5(a));const Be=a.scrollZoom=new R2(a,(()=>this._triggerRenderFrame()));this._add("scrollZoom",Be,["mousePan"]),t.interactive&&t.scrollZoom&&a.scrollZoom.enable(t.scrollZoom);const He=a.keyboard=new pn(a);this._add("keyboard",He),t.interactive&&t.keyboard&&a.keyboard.enable()}_add(t,a,u){this._handlers.push({handlerName:t,handler:a,allowed:u}),this._handlersById[t]=a}stop(t){if(!this._updatingCamera){for(const{handler:a}of this._handlers)a.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!sr(this._eventsInProgress)||this.isZooming()}_blockedByActive(t,a,u){for(const d in t)if(d!==u&&(!a||a.indexOf(d)<0))return!0;return!1}_getMapTouches(t){const a=[];for(const u of t)this._el.contains(u.target)&&a.push(u);return a}mergeHandlerResult(t,a,u,d,b){if(!u)return;o.e(t,u);const E={handlerName:d,originalEvent:u.originalEvent||b};u.zoomDelta!==void 0&&(a.zoom=E),u.panDelta!==void 0&&(a.drag=E),u.rollDelta!==void 0&&(a.roll=E),u.pitchDelta!==void 0&&(a.pitch=E),u.bearingDelta!==void 0&&(a.rotate=E)}_applyChanges(){const t={},a={},u={};for(const[d,b,E]of this._changes)d.panDelta&&(t.panDelta=(t.panDelta||new o.P(0,0))._add(d.panDelta)),d.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+d.zoomDelta),d.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+d.bearingDelta),d.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+d.pitchDelta),d.rollDelta&&(t.rollDelta=(t.rollDelta||0)+d.rollDelta),d.around!==void 0&&(t.around=d.around),d.pinchAround!==void 0&&(t.pinchAround=d.pinchAround),d.noInertia&&(t.noInertia=d.noInertia),o.e(a,b),o.e(u,E);this._updateMapTransform(t,a,u),this._changes=[]}_updateMapTransform(t,a,u){const d=this._map,b=d._getTransformForUpdate(),E=d.terrain;if(!(Dl(t)||E&&this._terrainMovement))return this._fireEvents(a,u,!0);d._stop(!0);let{panDelta:R,zoomDelta:k,bearingDelta:$,pitchDelta:Z,rollDelta:J,around:K,pinchAround:se}=t;se!==void 0&&(K=se),K=K||d.transform.centerPoint,E&&!b.isPointOnMapSurface(K)&&(K=b.centerPoint);const pe={panDelta:R,zoomDelta:k,rollDelta:J,pitchDelta:Z,bearingDelta:$,around:K};this._map.cameraHelper.useGlobeControls&&!b.isPointOnMapSurface(K)&&(K=b.centerPoint);const Ae=K.distSqr(b.centerPoint)<.01?b.center:b.screenPointToLocation(R?K.sub(R):K);this._handleMapControls({terrain:E,tr:b,deltasForHelper:pe,preZoomAroundLoc:Ae,combinedEventsInProgress:a,panDelta:R}),d._applyUpdatedTransform(b),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(a,u,!0)}_handleMapControls({terrain:t,tr:a,deltasForHelper:u,preZoomAroundLoc:d,combinedEventsInProgress:b,panDelta:E}){const R=this._map.cameraHelper;if(R.handleMapControlsRollPitchBearingZoom(u,a),t)return R.useGlobeControls?(this._terrainMovement||!b.drag&&!b.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void R.handleMapControlsPan(u,a,d)):this._terrainMovement||!b.drag&&!b.zoom?void(b.drag&&this._terrainMovement&&E?a.setCenter(a.screenPointToLocation(a.centerPoint.sub(E))):R.handleMapControlsPan(u,a,d)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void R.handleMapControlsPan(u,a,d));R.handleMapControlsPan(u,a,d)}_fireEvents(t,a,u){const d=sr(this._eventsInProgress),b=sr(t),E={};for(const J in t){const{originalEvent:K}=t[J];this._eventsInProgress[J]||(E[`${J}start`]=K),this._eventsInProgress[J]=t[J]}!d&&b&&this._fireEvent("movestart",b.originalEvent);for(const J in E)this._fireEvent(J,E[J]);b&&this._fireEvent("move",b.originalEvent);for(const J in t){const{originalEvent:K}=t[J];this._fireEvent(J,K)}const R={};let k;for(const J in this._eventsInProgress){const{handlerName:K,originalEvent:se}=this._eventsInProgress[J];this._handlersById[K].isActive()||(delete this._eventsInProgress[J],k=a[K]||se,R[`${J}end`]=k)}for(const J in R)this._fireEvent(J,R[J]);const $=sr(this._eventsInProgress),Z=(d||b)&&!$;if(Z&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const J=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&J.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(J)}if(u&&Z){this._updatingCamera=!0;const J=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=se=>se!==0&&-this._bearingSnap<se&&se<this._bearingSnap;!J||!J.essential&&U.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:k})),K(this._map.getBearing())&&this._map.resetNorth()):(K(J.bearing||this._map.getBearing())&&(J.bearing=0),J.freezeElevation=!0,this._map.easeTo(J,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(t,a){this._map.fire(new o.l(t,a?{originalEvent:a}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((t=>{delete this._frameId,this.handleEvent(new ho("renderFrame",{timeStamp:t})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class ui extends o.E{constructor(t,a,u){super(),this._renderFrameCallback=()=>{const d=Math.min((j()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(d)),d<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=u.bearingSnap,this.cameraHelper=a,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(t,a){t.apply(this.transform),this.transform=t,this.cameraHelper=a}getCenter(){return new o.V(this.transform.center.lng,this.transform.center.lat)}setCenter(t,a){return this.jumpTo({center:t},a)}getCenterElevation(){return this.transform.elevation}setCenterElevation(t,a){return this.jumpTo({elevation:t},a),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(t){this._centerClampedToGround=t}panBy(t,a,u){return t=o.P.convert(t).mult(-1),this.panTo(this.transform.center,o.e({offset:t},a),u)}panTo(t,a,u){return this.easeTo(o.e({center:t},a),u)}getZoom(){return this.transform.zoom}setZoom(t,a){return this.jumpTo({zoom:t},a),this}zoomTo(t,a,u){return this.easeTo(o.e({zoom:t},a),u)}zoomIn(t,a){return this.zoomTo(this.getZoom()+1,t,a),this}zoomOut(t,a){return this.zoomTo(this.getZoom()-1,t,a),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(t,a){return t!=this.transform.fov&&(this.transform.setFov(t),this.fire(new o.l("movestart",a)).fire(new o.l("move",a)).fire(new o.l("moveend",a))),this}getBearing(){return this.transform.bearing}setBearing(t,a){return this.jumpTo({bearing:t},a),this}getPadding(){return this.transform.padding}setPadding(t,a){return this.jumpTo({padding:t},a),this}rotateTo(t,a,u){return this.easeTo(o.e({bearing:t},a),u)}resetNorth(t,a){return this.rotateTo(0,o.e({duration:1e3},t),a),this}resetNorthPitch(t,a){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},t),a),this}snapToNorth(t,a){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,a):this}getPitch(){return this.transform.pitch}setPitch(t,a){return this.jumpTo({pitch:t},a),this}getRoll(){return this.transform.roll}setRoll(t,a){return this.jumpTo({roll:t},a),this}cameraForBounds(t,a){t=tr.convert(t).adjustAntiMeridian();const u=a&&a.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),u,a)}_cameraForBoxAndBearing(t,a,u,d){const b={top:0,bottom:0,right:0,left:0};if(typeof(d=o.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const $=d.padding;d.padding={top:$,bottom:$,right:$,left:$}}const E=o.e(b,d.padding);d.padding=E;const R=this.transform,k=new tr(t,a);return this.cameraHelper.cameraForBoxAndBearing(d,E,k,u,R)}fitBounds(t,a,u){return this._fitInternal(this.cameraForBounds(t,a),a,u)}fitScreenCoordinates(t,a,u,d,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(t)),this.transform.screenPointToLocation(o.P.convert(a)),u,d),d,b)}_fitInternal(t,a,u){return t?(delete(a=o.e(t,a)).padding,a.linear?this.easeTo(a,u):this.flyTo(a,u)):this}jumpTo(t,a){this.stop();const u=this._getTransformForUpdate();let d=!1,b=!1,E=!1;const R=u.zoom;this.cameraHelper.handleJumpToCenterZoom(u,t);const k=u.zoom!==R;return"elevation"in t&&u.elevation!==+t.elevation&&u.setElevation(+t.elevation),"bearing"in t&&u.bearing!==+t.bearing&&(d=!0,u.setBearing(+t.bearing)),"pitch"in t&&u.pitch!==+t.pitch&&(b=!0,u.setPitch(+t.pitch)),"roll"in t&&u.roll!==+t.roll&&(E=!0,u.setRoll(+t.roll)),t.padding==null||u.isPaddingEqual(t.padding)||u.setPadding(t.padding),this._applyUpdatedTransform(u),this.fire(new o.l("movestart",a)).fire(new o.l("move",a)),k&&this.fire(new o.l("zoomstart",a)).fire(new o.l("zoom",a)).fire(new o.l("zoomend",a)),d&&this.fire(new o.l("rotatestart",a)).fire(new o.l("rotate",a)).fire(new o.l("rotateend",a)),b&&this.fire(new o.l("pitchstart",a)).fire(new o.l("pitch",a)).fire(new o.l("pitchend",a)),E&&this.fire(new o.l("rollstart",a)).fire(new o.l("roll",a)).fire(new o.l("rollend",a)),this.fire(new o.l("moveend",a))}calculateCameraOptionsFromTo(t,a,u,d=0){const b=o.a9.fromLngLat(t,a),E=o.a9.fromLngLat(u,d),R=E.x-b.x,k=E.y-b.y,$=E.z-b.z,Z=Math.hypot(R,k,$);if(Z===0)throw new Error("Can't calculate camera options with same From and To");const J=Math.hypot(R,k),K=o.at(this.transform.cameraToCenterDistance/Z/this.transform.tileSize),se=180*Math.atan2(R,-k)/Math.PI;let pe=180*Math.acos(J/Z)/Math.PI;return pe=$<0?90-pe:90+pe,{center:E.toLngLat(),elevation:d,zoom:K,pitch:pe,bearing:se}}calculateCameraOptionsFromCameraLngLatAltRotation(t,a,u,d,b){const E=this.transform.calculateCenterFromCameraLngLatAlt(t,a,u,d);return{center:E.center,elevation:E.elevation,zoom:E.zoom,bearing:u,pitch:d,roll:b}}easeTo(t,a){this._stop(!1,t.easeId),((t=o.e({offset:[0,0],duration:500,easing:o.cy},t)).animate===!1||!t.essential&&U.prefersReducedMotion)&&(t.duration=0);const u=this._getTransformForUpdate(),d=this.getBearing(),b=u.pitch,E=u.roll,R="bearing"in t?this._normalizeBearing(t.bearing,d):d,k="pitch"in t?+t.pitch:b,$="roll"in t?this._normalizeBearing(t.roll,E):E,Z="padding"in t?t.padding:u.padding,J=o.P.convert(t.offset);let K,se;t.around&&(K=o.V.convert(t.around),se=u.locationToScreenPoint(K));const pe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ae=this.cameraHelper.handleEaseTo(u,{bearing:R,pitch:k,roll:$,padding:Z,around:K,aroundPoint:se,offsetAsPoint:J,offset:t.offset,zoom:t.zoom,center:t.center});return this._rotating=this._rotating||d!==R,this._pitching=this._pitching||k!==b,this._rolling=this._rolling||$!==E,this._padding=!u.isPaddingEqual(Z),this._zooming=this._zooming||Ae.isZooming,this._easeId=t.easeId,this._prepareEase(a,t.noMoveStart,pe),this.terrain&&this._prepareElevation(Ae.elevationCenter),this._ease((Ce=>{Ae.easeFunc(Ce),this.terrain&&!t.freezeElevation&&this._updateElevation(Ce),this._applyUpdatedTransform(u),this._fireMoveEvents(a)}),(Ce=>{this.terrain&&t.freezeElevation&&this._finalizeElevation(),this._afterEase(a,Ce)}),t),this}_prepareEase(t,a,u={}){this._moving=!0,a||u.moving||this.fire(new o.l("movestart",t)),this._zooming&&!u.zooming&&this.fire(new o.l("zoomstart",t)),this._rotating&&!u.rotating&&this.fire(new o.l("rotatestart",t)),this._pitching&&!u.pitching&&this.fire(new o.l("pitchstart",t)),this._rolling&&!u.rolling&&this.fire(new o.l("rollstart",t))}_prepareElevation(t){this._elevationCenter=t,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(t,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(t){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const a=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(t<1&&a!==this._elevationTarget){const u=this._elevationTarget-this._elevationStart;this._elevationStart+=t*(u-(a-(u*t+this._elevationStart))/(1-t)),this._elevationTarget=a}this.transform.setElevation(o.G.number(this._elevationStart,this._elevationTarget,t))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(t){if(!this.terrain&&t.elevation>=0&&t.pitch<=90)return{};const a=t.getCameraLngLat(),u=t.getCameraAltitude(),d=this.terrain?this.terrain.getElevationForLngLatZoom(a,t.zoom):0;if(u<d){const b=this.calculateCameraOptionsFromTo(a,d,t.center,t.elevation);return{pitch:b.pitch,zoom:b.zoom}}return{}}_applyUpdatedTransform(t){const a=[];if(a.push((d=>this._elevateCameraIfInsideTerrain(d))),this.transformCameraUpdate&&a.push((d=>this.transformCameraUpdate(d))),!a.length)return;const u=t.clone();for(const d of a){const b=u.clone(),{center:E,zoom:R,roll:k,pitch:$,bearing:Z,elevation:J}=d(b);E&&b.setCenter(E),J!==void 0&&b.setElevation(J),R!==void 0&&b.setZoom(R),k!==void 0&&b.setRoll(k),$!==void 0&&b.setPitch($),Z!==void 0&&b.setBearing(Z),u.apply(b)}this.transform.apply(u)}_fireMoveEvents(t){this.fire(new o.l("move",t)),this._zooming&&this.fire(new o.l("zoom",t)),this._rotating&&this.fire(new o.l("rotate",t)),this._pitching&&this.fire(new o.l("pitch",t)),this._rolling&&this.fire(new o.l("roll",t))}_afterEase(t,a){if(this._easeId&&a&&this._easeId===a)return;delete this._easeId;const u=this._zooming,d=this._rotating,b=this._pitching,E=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,u&&this.fire(new o.l("zoomend",t)),d&&this.fire(new o.l("rotateend",t)),b&&this.fire(new o.l("pitchend",t)),E&&this.fire(new o.l("rollend",t)),this.fire(new o.l("moveend",t))}flyTo(t,a){if(!t.essential&&U.prefersReducedMotion){const bt=o.U(t,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(bt,a)}this.stop(),t=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.cy},t);const u=this._getTransformForUpdate(),d=u.bearing,b=u.pitch,E=u.roll,R=u.padding,k="bearing"in t?this._normalizeBearing(t.bearing,d):d,$="pitch"in t?+t.pitch:b,Z="roll"in t?this._normalizeBearing(t.roll,E):E,J="padding"in t?t.padding:u.padding,K=o.P.convert(t.offset);let se=u.centerPoint.add(K);const pe=u.screenPointToLocation(se),Ae=this.cameraHelper.handleFlyTo(u,{bearing:k,pitch:$,roll:Z,padding:J,locationAtOffset:pe,offsetAsPoint:K,center:t.center,minZoom:t.minZoom,zoom:t.zoom});let Ce=t.curve;const Ee=Math.max(u.width,u.height),Be=Ee/Ae.scaleOfZoom,He=Ae.pixelPathLength;typeof Ae.scaleOfMinZoom=="number"&&(Ce=Math.sqrt(Ee/Ae.scaleOfMinZoom/He*2));const ze=Ce*Ce;function Qe(bt){const Ht=(Be*Be-Ee*Ee+(bt?-1:1)*ze*ze*He*He)/(2*(bt?Be:Ee)*ze*He);return Math.log(Math.sqrt(Ht*Ht+1)-Ht)}function We(bt){return(Math.exp(bt)-Math.exp(-bt))/2}function Ge(bt){return(Math.exp(bt)+Math.exp(-bt))/2}const nt=Qe(!1);let xt=function(bt){return Ge(nt)/Ge(nt+Ce*bt)},gt=function(bt){return Ee*((Ge(nt)*(We(Ht=nt+Ce*bt)/Ge(Ht))-We(nt))/ze)/He;var Ht},vt=(Qe(!0)-nt)/Ce;if(Math.abs(He)<2e-6||!isFinite(vt)){if(Math.abs(Ee-Be)<1e-6)return this.easeTo(t,a);const bt=Be<Ee?-1:1;vt=Math.abs(Math.log(Be/Ee))/Ce,gt=()=>0,xt=Ht=>Math.exp(bt*Ce*Ht)}return t.duration="duration"in t?+t.duration:1e3*vt/("screenSpeed"in t?+t.screenSpeed/Ce:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=d!==k,this._pitching=$!==b,this._rolling=Z!==E,this._padding=!u.isPaddingEqual(J),this._prepareEase(a,!1),this.terrain&&this._prepareElevation(Ae.targetCenter),this._ease((bt=>{const Ht=bt*vt,Zt=1/xt(Ht),zt=gt(Ht);this._rotating&&u.setBearing(o.G.number(d,k,bt)),this._pitching&&u.setPitch(o.G.number(b,$,bt)),this._rolling&&u.setRoll(o.G.number(E,Z,bt)),this._padding&&(u.interpolatePadding(R,J,bt),se=u.centerPoint.add(K)),Ae.easeFunc(bt,Zt,zt,se),this.terrain&&!t.freezeElevation&&this._updateElevation(bt),this._applyUpdatedTransform(u),this._fireMoveEvents(a)}),(()=>{this.terrain&&t.freezeElevation&&this._finalizeElevation(),this._afterEase(a)}),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,a){var u;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const d=this._onEaseEnd;delete this._onEaseEnd,d.call(this,a)}return t||(u=this.handlers)===null||u===void 0||u.stop(!1),this}_ease(t,a,u){u.animate===!1||u.duration===0?(t(1),a()):(this._easeStart=j(),this._easeOptions=u,this._onEaseFrame=t,this._onEaseEnd=a,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(t,a){t=o.W(t,-180,180);const u=Math.abs(t-a);return Math.abs(t-360-a)<u&&(t-=360),Math.abs(t+360-a)<u&&(t+=360),t}queryTerrainElevation(t){return this.terrain?this.terrain.getElevationForLngLat(o.V.convert(t),this.transform):null}}const Zn={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ei{constructor(t=Zn){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=a=>{!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"&&a.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=t}getDefaultPosition(){return"bottom-right"}onAdd(t){return this._map=t,this._compact=this.options.compact,this._container=F.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=F.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=F.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){F.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(t,a){const u=this._map._getUIString(`AttributionControl.${a}`);t.title=u,t.setAttribute("aria-label",u)}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((d=>typeof d!="string"?"":d))):typeof this.options.customAttribution=="string"&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const d=this._map.style.stylesheet;this.styleOwner=d.owner,this.styleId=d.id}const a=this._map.style.tileManagers;for(const d in a){const b=a[d];if(b.used||b.usedForTerrain){const E=b.getSource();E.attribution&&t.indexOf(E.attribution)<0&&t.push(E.attribution)}}t=t.filter((d=>String(d).trim())),t.sort(((d,b)=>d.length-b.length)),t=t.filter(((d,b)=>{for(let E=b+1;E<t.length;E++)if(t[E].indexOf(d)>=0)return!1;return!0}));const u=t.join(" | ");u!==this._attribHTML&&(this._attribHTML=u,t.length?(this._innerContainer.innerHTML=F.sanitize(u),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class D2{constructor(t={}){this._updateCompact=()=>{const a=this._container.children;if(a.length){const u=a[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&u.classList.add("maplibregl-compact"):u.classList.remove("maplibregl-compact")}},this.options=t}getDefaultPosition(){return"bottom-left"}onAdd(t){this._map=t,this._compact=this.options&&this.options.compact,this._container=F.create("div","maplibregl-ctrl");const a=F.create("a","maplibregl-ctrl-logo");return a.target="_blank",a.rel="noopener nofollow",a.href="https://maplibre.org/",a.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),a.setAttribute("rel","noopener nofollow"),this._container.appendChild(a),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){F.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Cs{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const a=++this._id;return this._queue.push({callback:t,id:a,cancelled:!1}),a}remove(t){const a=this._currentlyRunning,u=a?this._queue.concat(a):this._queue;for(const d of u)if(d.id===t)return void(d.cancelled=!0)}run(t=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const a=this._currentlyRunning=this._queue;this._queue=[];for(const u of a)if(!u.cancelled&&(u.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var jr=o.aU([{name:"a_pos3d",type:"Int16",components:3}]);class dn extends o.E{constructor(t){super(),this._lastTilesetChange=j(),this.tileManager=t,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=t._source.tileSize*2**this.deltaZoom,t.usedForTerrain=!0,t.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(t,a){this.tileManager.update(t,a),this._renderableTilesKeys=[];const u={};for(const d of zr(t,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:a,calculateTileZoom:this.tileManager._source.calculateTileZoom}))u[d.key]=!0,this._renderableTilesKeys.push(d.key),this._tiles[d.key]||(d.terrainRttPosMatrix32f=new Float64Array(16),o.c7(d.terrainRttPosMatrix32f,0,o.a5,o.a5,0,0,1),this._tiles[d.key]=new Me(d,this.tileSize),this._lastTilesetChange=j());for(const d in this._tiles)u[d]||delete this._tiles[d]}freeRtt(t){for(const a in this._tiles){const u=this._tiles[a];(!t||u.tileID.equals(t)||u.tileID.isChildOf(t)||t.isChildOf(u.tileID))&&(u.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((t=>this.getTileByID(t)))}getTileByID(t){return this._tiles[t]}getTerrainCoords(t,a){return a?this._getTerrainCoordsForTileRanges(t,a):this._getTerrainCoordsForRegularTile(t)}_getTerrainCoordsForRegularTile(t){const a={};for(const u of this._renderableTilesKeys){const d=this._tiles[u].tileID,b=t.clone(),E=o.bk();if(d.canonical.equals(t.canonical))o.c7(E,0,o.a5,o.a5,0,0,1);else if(d.canonical.isChildOf(t.canonical)){const R=d.canonical.z-t.canonical.z,k=d.canonical.x-(d.canonical.x>>R<<R),$=d.canonical.y-(d.canonical.y>>R<<R),Z=o.a5>>R;o.c7(E,0,Z,Z,0,0,1),o.O(E,E,[-k*Z,-$*Z,0])}else{if(!t.canonical.isChildOf(d.canonical))continue;{const R=t.canonical.z-d.canonical.z,k=t.canonical.x-(t.canonical.x>>R<<R),$=t.canonical.y-(t.canonical.y>>R<<R),Z=o.a5>>R;o.c7(E,0,o.a5,o.a5,0,0,1),o.O(E,E,[k*Z,$*Z,0]),o.Q(E,E,[1/2**R,1/2**R,0])}}b.terrainRttPosMatrix32f=new Float32Array(E),a[u]=b}return a}_getTerrainCoordsForTileRanges(t,a){const u={};for(const d of this._renderableTilesKeys){const b=this._tiles[d].tileID;if(!this._isWithinTileRanges(b,a))continue;const E=t.clone(),R=o.bk();if(b.canonical.z===t.canonical.z){const k=t.canonical.x-b.canonical.x,$=t.canonical.y-b.canonical.y;o.c7(R,0,o.a5,o.a5,0,0,1),o.O(R,R,[k*o.a5,$*o.a5,0])}else if(b.canonical.z>t.canonical.z){const k=b.canonical.z-t.canonical.z,$=b.canonical.x-(b.canonical.x>>k<<k),Z=b.canonical.y-(b.canonical.y>>k<<k),J=t.canonical.x-(b.canonical.x>>k),K=t.canonical.y-(b.canonical.y>>k),se=o.a5>>k;o.c7(R,0,se,se,0,0,1),o.O(R,R,[-$*se+J*o.a5,-Z*se+K*o.a5,0])}else{const k=t.canonical.z-b.canonical.z,$=t.canonical.x-(t.canonical.x>>k<<k),Z=t.canonical.y-(t.canonical.y>>k<<k),J=(t.canonical.x>>k)-b.canonical.x,K=(t.canonical.y>>k)-b.canonical.y,se=o.a5<<k;o.c7(R,0,se,se,0,0,1),o.O(R,R,[$*o.a5+J*se,Z*o.a5+K*se,0])}E.terrainRttPosMatrix32f=new Float32Array(R),u[d]=E}return u}getSourceTile(t,a){const u=this.tileManager._source;let d=t.overscaledZ-this.deltaZoom;if(d>u.maxzoom&&(d=u.maxzoom),d<u.minzoom)return;this._sourceTileCache[t.key]||(this._sourceTileCache[t.key]=t.scaledTo(d).key);let b=this.findTileInCaches(this._sourceTileCache[t.key]);if(!b?.dem&&a)for(;d>=u.minzoom&&!b?.dem;)b=this.findTileInCaches(t.scaledTo(d--).key);return b}findTileInCaches(t){let a=this.tileManager.getTileByID(t);return a||(a=this.tileManager._outOfViewCache.getByKey(t),a)}anyTilesAfterTime(t=Date.now()){return this._lastTilesetChange>=t}_isWithinTileRanges(t,a){return a[t.canonical.z]&&t.canonical.x>=a[t.canonical.z].minTileX&&t.canonical.x<=a[t.canonical.z].maxTileX&&t.canonical.y>=a[t.canonical.z].minTileY&&t.canonical.y<=a[t.canonical.z].maxTileY}}class Lr{constructor(t,a,u){this._meshCache={},this.painter=t,this.tileManager=new dn(a),this.options=u,this.exaggeration=typeof u.exaggeration=="number"?u.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(t,a,u,d=o.a5){var b;if(!(a>=0&&a<d&&u>=0&&u<d))return 0;const E=this.getTerrainData(t),R=(b=E.tile)===null||b===void 0?void 0:b.dem;if(!R)return 0;const k=o.cC([],[a/d*o.a5,u/d*o.a5],E.u_terrain_matrix),$=[k[0]*R.dim,k[1]*R.dim],Z=Math.floor($[0]),J=Math.floor($[1]),K=$[0]-Z,se=$[1]-J;return R.get(Z,J)*(1-K)*(1-se)+R.get(Z+1,J)*K*(1-se)+R.get(Z,J+1)*(1-K)*se+R.get(Z+1,J+1)*K*se}getElevationForLngLatZoom(t,a){if(!o.cD(a,t.wrap()))return 0;const{tileID:u,mercatorX:d,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(t,a);return this.getElevation(u,d%o.a5,b%o.a5,o.a5)}getElevationForLngLat(t,a){const u=zr(a,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this});let d=0;for(const b of u)b.canonical.z>d&&(d=Math.min(b.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(t,d)}getElevation(t,a,u,d=o.a5){return this.getDEMElevation(t,a,u,d)*this.exaggeration}getTerrainData(t){if(!this._emptyDemTexture){const d=this.painter.context,b=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new o.T(d,b,d.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new o.T(d,new o.R({width:1,height:1}),d.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(d.gl.NEAREST,d.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ar([])}const a=this.tileManager.getSourceTile(t,!0);if(a&&a.dem&&(!a.demTexture||a.needsTerrainPrepare)){const d=this.painter.context;a.demTexture=this.painter.getTileTexture(a.dem.stride),a.demTexture?a.demTexture.update(a.dem.getPixels(),{premultiply:!1}):a.demTexture=new o.T(d,a.dem.getPixels(),d.gl.RGBA,{premultiply:!1}),a.demTexture.bind(d.gl.NEAREST,d.gl.CLAMP_TO_EDGE),a.needsTerrainPrepare=!1}const u=a&&a.toString()+a.tileID.key+t.key;if(u&&!this._demMatrixCache[u]){const d=this.tileManager.getSource().maxzoom;let b=t.canonical.z-a.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=d?b=t.canonical.z-d:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=t.canonical.x-(t.canonical.x>>b<<b),R=t.canonical.y-(t.canonical.y>>b<<b),k=o.cE(new Float64Array(16),[1/(o.a5<<b),1/(o.a5<<b),0]);o.O(k,k,[E*o.a5,R*o.a5,0]),this._demMatrixCache[t.key]={matrix:k,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:a&&a.dem&&a.dem.dim||1,u_terrain_matrix:u?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:a&&a.dem&&a.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(a&&a.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:a}}getFramebuffer(t){const a=this.painter,u=a.width/devicePixelRatio,d=a.height/devicePixelRatio;return!this._fbo||this._fbo.width===u&&this._fbo.height===d||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new o.T(a.context,{width:u,height:d,data:null},a.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(a.context.gl.NEAREST,a.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new o.T(a.context,{width:u,height:d,data:null},a.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(a.context.gl.NEAREST,a.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=a.context.createFramebuffer(u,d,!0,!1),this._fbo.depthAttachment.set(a.context.createRenderbuffer(a.context.gl.DEPTH_COMPONENT16,u,d))),this._fbo.colorAttachment.set(t==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const t=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const a=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,E=0;b<this._coordsTextureSize;b++)for(let R=0;R<this._coordsTextureSize;R++,E+=4)a[E+0]=255&R,a[E+1]=255&b,a[E+2]=R>>8<<4|b>>8,a[E+3]=0;const u=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(a.buffer)),d=new o.T(t,u,t.gl.RGBA,{premultiply:!1});return d.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=d,d}pointCoordinate(t){this.painter.maybeDrawDepthAndCoords(!0);const a=new Uint8Array(4),u=this.painter.context,d=u.gl,b=Math.round(t.x*this.painter.pixelRatio/devicePixelRatio),E=Math.round(t.y*this.painter.pixelRatio/devicePixelRatio),R=Math.round(this.painter.height/devicePixelRatio);u.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),d.readPixels(b,R-E-1,1,1,d.RGBA,d.UNSIGNED_BYTE,a),u.bindFramebuffer.set(null);const k=a[0]+(a[2]>>4<<8),$=a[1]+((15&a[2])<<8),Z=this.coordsIndex[255-a[3]],J=Z&&this.tileManager.getTileByID(Z);if(!J)return null;const K=this._coordsTextureSize,se=(1<<J.tileID.canonical.z)*K;return new o.a9((J.tileID.canonical.x*K+k)/se+J.tileID.wrap,(J.tileID.canonical.y*K+$)/se,this.getElevation(J.tileID,k,$,K))}depthAtPoint(t){const a=new Uint8Array(4),u=this.painter.context,d=u.gl;return u.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),d.readPixels(t.x,this.painter.height/devicePixelRatio-t.y-1,1,1,d.RGBA,d.UNSIGNED_BYTE,a),u.bindFramebuffer.set(null),(a[0]/16777216+a[1]/65536+a[2]/256+a[3])/256}getTerrainMesh(t){var a;const u=((a=this.painter.style.projection)===null||a===void 0?void 0:a.transitionState)>0,d=u&&t.canonical.y===0,b=u&&t.canonical.y===(1<<t.canonical.z)-1,E=`m_${d?"n":""}_${b?"s":""}`;if(this._meshCache[E])return this._meshCache[E];const R=this.painter.context,k=new o.cF,$=new o.aY,Z=this.meshSize,J=o.a5/Z,K=Z*Z;for(let Ge=0;Ge<=Z;Ge++)for(let nt=0;nt<=Z;nt++)k.emplaceBack(nt*J,Ge*J,0);for(let Ge=0;Ge<K;Ge+=Z+1)for(let nt=0;nt<Z;nt++)$.emplaceBack(nt+Ge,Z+nt+Ge+1,Z+nt+Ge+2),$.emplaceBack(nt+Ge,Z+nt+Ge+2,nt+Ge+1);const se=k.length,pe=se+(Z+1),Ae=(Z+1)*Z,Ce=d?o.br:0,Ee=d?0:1,Be=b?o.bs:o.a5,He=b?0:1;for(let Ge=0;Ge<=Z;Ge++)k.emplaceBack(Ge*J,Ce,Ee);for(let Ge=0;Ge<=Z;Ge++)k.emplaceBack(Ge*J,Be,He);for(let Ge=0;Ge<Z;Ge++)$.emplaceBack(Ae+Ge,pe+Ge,pe+Ge+1),$.emplaceBack(Ae+Ge,pe+Ge+1,Ae+Ge+1),$.emplaceBack(0+Ge,se+Ge+1,se+Ge),$.emplaceBack(0+Ge,0+Ge+1,se+Ge+1);const ze=k.length,Qe=ze+2*(Z+1);for(const Ge of[0,1])for(let nt=0;nt<=Z;nt++)for(const xt of[0,1])k.emplaceBack(Ge*o.a5,nt*J,xt);for(let Ge=0;Ge<2*Z;Ge+=2)$.emplaceBack(ze+Ge,ze+Ge+1,ze+Ge+3),$.emplaceBack(ze+Ge,ze+Ge+3,ze+Ge+2),$.emplaceBack(Qe+Ge,Qe+Ge+3,Qe+Ge+1),$.emplaceBack(Qe+Ge,Qe+Ge+2,Qe+Ge+3);const We=new Tn(R.createVertexBuffer(k,jr.members),R.createIndexBuffer($),o.aX.simpleSegment(0,0,k.length,$.length));return this._meshCache[E]=We,We}getMeshFrameDelta(t){return 2*Math.PI*o.bE/Math.pow(2,Math.max(t,0))/5}getMinTileElevationForLngLatZoom(t,a){var u;if(!o.cD(a,t.wrap()))return 0;const{tileID:d}=this._getOverscaledTileIDFromLngLatZoom(t,a);return(u=this.getMinMaxElevation(d).minElevation)!==null&&u!==void 0?u:0}getMinMaxElevation(t){const a=this.getTerrainData(t).tile,u={minElevation:null,maxElevation:null};return a&&a.dem&&(u.minElevation=a.dem.min*this.exaggeration,u.maxElevation=a.dem.max*this.exaggeration),u}_getOverscaledTileIDFromLngLatZoom(t,a){const u=o.a9.fromLngLat(t.wrap()),d=(1<<a)*o.a5,b=u.x*d,E=u.y*d,R=Math.floor(b/o.a5),k=Math.floor(E/o.a5);return{tileID:new o.a2(a,0,a,R,k),mercatorX:b,mercatorY:E}}}class Vn{constructor(t,a,u){this._context=t,this._size=a,this._tileSize=u,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const t of this._objects)t.texture.destroy(),t.fbo.destroy()}_createObject(t){const a=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),u=new o.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return u.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),a.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),a.colorAttachment.set(u.texture),{id:t,fbo:a,texture:u,stamp:-1,inUse:!1}}getObjectForId(t){return this._objects[t]}useObject(t){t.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((a=>t.id!==a)),this._recentlyUsed.push(t.id)}stampObject(t){t.stamp=++this._stamp}getOrCreateFreeObject(){for(const a of this._recentlyUsed)if(!this._objects[a].inUse)return this._objects[a];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const t=this._createObject(this._objects.length);return this._objects.push(t),t}freeObject(t){t.inUse=!1}freeAllObjects(){for(const t of this._objects)this.freeObject(t)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((t=>!t.inUse))===!1}}const fo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Io{constructor(t,a){this.painter=t,this.terrain=a,this.pool=new Vn(t.context,30,a.tileManager.tileSize*a.qualityFactor)}destruct(){this.pool.destruct()}getTexture(t){return this.pool.getObjectForId(t.rtt[this._stacks.length-1].id).texture}prepareForRender(t,a){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=t._order.filter((u=>!t._layers[u].isHidden(a))),this._coordsAscending={};for(const u in t.tileManagers){this._coordsAscending[u]={};const d=t.tileManagers[u].getVisibleCoordinates(),b=t.tileManagers[u].getSource(),E=b instanceof It?b.terrainTileRanges:null;for(const R of d){const k=this.terrain.tileManager.getTerrainCoords(R,E);for(const $ in k)this._coordsAscending[u][$]||(this._coordsAscending[u][$]=[]),this._coordsAscending[u][$].push(k[$])}}this._coordsAscendingStr={};for(const u of t._order){const d=t._layers[u],b=d.source;if(fo[d.type]&&!this._coordsAscendingStr[b]){this._coordsAscendingStr[b]={};for(const E in this._coordsAscending[b])this._coordsAscendingStr[b][E]=this._coordsAscending[b][E].map((R=>R.key)).sort().join()}}for(const u of this._renderableTiles)for(const d in this._coordsAscendingStr){const b=this._coordsAscendingStr[d][u.tileID.key];b&&b!==u.rttCoords[d]&&(u.rtt=[])}}renderLayer(t,a){if(t.isHidden(this.painter.transform.zoom))return!1;const u=Object.assign(Object.assign({},a),{isRenderingToTexture:!0}),d=t.type,b=this.painter,E=this._renderableLayerIds[this._renderableLayerIds.length-1]===t.id;if(fo[d]&&(this._prevType&&fo[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(t.id),!E))return!0;if(fo[this._prevType]||fo[d]&&E){this._prevType=d;const R=this._stacks.length-1,k=this._stacks[R]||[];for(const $ of this._renderableTiles){if(this.pool.isFull()&&(S4(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push($),$.rtt[R]){const J=this.pool.getObjectForId($.rtt[R].id);if(J.stamp===$.rtt[R].stamp){this.pool.useObject(J);continue}}const Z=this.pool.getOrCreateFreeObject();this.pool.useObject(Z),this.pool.stampObject(Z),$.rtt[R]={id:Z.id,stamp:Z.stamp},b.context.bindFramebuffer.set(Z.fbo.framebuffer),b.context.clear({color:o.bp.transparent,stencil:0}),b.currentStencilSource=void 0;for(let J=0;J<k.length;J++){const K=b.style._layers[k[J]],se=K.source?this._coordsAscending[K.source][$.tileID.key]:[$.tileID];b.context.viewport.set([0,0,Z.fbo.width,Z.fbo.height]),b._renderTileClippingMasks(K,se,!0),b.renderLayer(b,b.style.tileManagers[K.source],K,se,u),K.source&&($.rttCoords[K.source]=this._coordsAscendingStr[K.source][$.tileID.key])}}return S4(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects(),fo[d]}return!1}}const U1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},j1=P,Ps={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Zn,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},A3={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class zn{constructor(t,a,u=!1){this.mousedown=b=>{this.startMove(b,F.mousePos(this.element,b)),F.addEventListener(window,"mousemove",this.mousemove),F.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=b=>{this.move(b,F.mousePos(this.element,b))},this.mouseup=b=>{this._rotatePitchHandler.dragEnd(b),this.offTemp()},this.touchstart=b=>{b.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=F.touchPos(this.element,b.targetTouches)[0],this.startMove(b,this._startPos),F.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.addEventListener(window,"touchend",this.touchend))},this.touchmove=b=>{b.targetTouches.length!==1?this.reset():(this._lastPos=F.touchPos(this.element,b.targetTouches)[0],this.move(b,this._lastPos))},this.touchend=b=>{b.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=a;const d=new M2;this._rotatePitchHandler=new uo({clickTolerance:3,move:(b,E)=>{const R=a.getBoundingClientRect(),k=new o.P((R.bottom-R.top)/2,(R.right-R.left)/2);return{bearingDelta:o.cx(new o.P(b.x,E.y),E,k),pitchDelta:u?-.5*(E.y-b.y):void 0}},moveStateManager:d,enable:!0,assignEvents:()=>{}}),this.map=t,F.addEventListener(a,"mousedown",this.mousedown),F.addEventListener(a,"touchstart",this.touchstart,{passive:!1}),F.addEventListener(a,"touchcancel",this.reset)}startMove(t,a){this._rotatePitchHandler.dragStart(t,a),F.disableDrag()}move(t,a){const u=this.map,{bearingDelta:d,pitchDelta:b}=this._rotatePitchHandler.dragMove(t,a)||{};d&&u.setBearing(u.getBearing()+d),b&&u.setPitch(u.getPitch()+b)}off(){const t=this.element;F.removeEventListener(t,"mousedown",this.mousedown),F.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend),F.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){F.enableDrag(),F.removeEventListener(window,"mousemove",this.mousemove),F.removeEventListener(window,"mouseup",this.mouseup),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend)}}let No;function Ol(_,t,a,u=!1){if(u||!a.getCoveringTilesDetailsProvider().allowWorldCopies())return _?.wrap();const d=new o.V(_.lng,_.lat);if(_=new o.V(_.lng,_.lat),t){const b=new o.V(_.lng-360,_.lat),E=new o.V(_.lng+360,_.lat),R=a.locationToScreenPoint(_).distSqr(t);a.locationToScreenPoint(b).distSqr(t)<R?_=b:a.locationToScreenPoint(E).distSqr(t)<R&&(_=E)}for(;Math.abs(_.lng-a.center.lng)>180;){const b=a.locationToScreenPoint(_);if(b.x>=0&&b.y>=0&&b.x<=a.width&&b.y<=a.height)break;_.lng>a.center.lng?_.lng-=360:_.lng+=360}return _.lng!==d.lng&&a.isPointOnMapSurface(a.locationToScreenPoint(_))?_:d}const Fl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function O2(_,t,a){const u=_.classList;for(const d in Fl)u.remove(`maplibregl-${a}-anchor-${d}`);u.add(`maplibregl-${a}-anchor-${t}`)}class F2 extends o.E{constructor(t){if(super(),this._onKeyPress=a=>{const u=a.code,d=a.charCode||a.keyCode;u!=="Space"&&u!=="Enter"&&d!==32&&d!==13||this.togglePopup()},this._onMapClick=a=>{const u=a.originalEvent.target,d=this._element;this._popup&&(u===d||d.contains(u))&&this.togglePopup()},this._update=a=>{if(!this._map)return;const u=this._map.loaded()&&!this._map.isMoving();(a?.type==="terrain"||a?.type==="render"&&!u)&&this._map.once("render",this._update),this._lngLat=Ol(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let d="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?d=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(d=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||a&&a.type!=="moveend"||(this._pos=this._pos.round()),F.setTransform(this._element,`${Fl[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${d}`),U.frameAsync(new AbortController).then((()=>{this._updateOpacity(a&&a.type==="moveend")})).catch((()=>{}))},this._onMove=a=>{if(!this._isDragging){const u=this._clickTolerance||this._map._clickTolerance;this._isDragging=a.point.dist(this._pointerdownPos)>=u}this._isDragging&&(this._pos=a.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=a=>{this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(this._pos).add(this._offset),this._pointerdownPos=a.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._subpixelPositioning=t&&t.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment!=="auto"?t.pitchAlignment:this._rotationAlignment,this.setOpacity(t?.opacity,t?.opacityWhenCovered),t&&t.element)this._element=t.element,this._offset=o.P.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=F.create("div");const a=F.createNS("http://www.w3.org/2000/svg","svg"),u=41,d=27;a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height",`${u}px`),a.setAttributeNS(null,"width",`${d}px`),a.setAttributeNS(null,"viewBox",`0 0 ${d} ${u}`);const b=F.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const E=F.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const R=F.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"transform","translate(3.0, 29.0)"),R.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ee of k){const Be=F.createNS("http://www.w3.org/2000/svg","ellipse");Be.setAttributeNS(null,"opacity","0.04"),Be.setAttributeNS(null,"cx","10.5"),Be.setAttributeNS(null,"cy","5.80029008"),Be.setAttributeNS(null,"rx",Ee.rx),Be.setAttributeNS(null,"ry",Ee.ry),R.appendChild(Be)}const $=F.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill",this._color);const Z=F.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$.appendChild(Z);const J=F.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"opacity","0.25"),J.setAttributeNS(null,"fill","#000000");const K=F.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),J.appendChild(K);const se=F.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"transform","translate(6.0, 7.0)"),se.setAttributeNS(null,"fill","#FFFFFF");const pe=F.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ae=F.createNS("http://www.w3.org/2000/svg","circle");Ae.setAttributeNS(null,"fill","#000000"),Ae.setAttributeNS(null,"opacity","0.25"),Ae.setAttributeNS(null,"cx","5.5"),Ae.setAttributeNS(null,"cy","5.5"),Ae.setAttributeNS(null,"r","5.4999962");const Ce=F.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#FFFFFF"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962"),pe.appendChild(Ae),pe.appendChild(Ce),E.appendChild(R),E.appendChild($),E.appendChild(J),E.appendChild(se),E.appendChild(pe),a.appendChild(E),a.setAttributeNS(null,"height",u*this._scale+"px"),a.setAttributeNS(null,"width",d*this._scale+"px"),this._element.appendChild(a),this._offset=o.P.convert(t&&t.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(a=>{a.preventDefault()})),this._element.addEventListener("mousedown",(a=>{a.preventDefault()})),O2(this._element,this._anchor,"marker"),t&&t.className)for(const a of t.className.split(" "))this._element.classList.add(a);this._popup=null}addTo(t){return this.remove(),this._map=t,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",t._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("terrain",this._update),t.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),F.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=o.V.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const d=Math.abs(13.5)/Math.SQRT2;t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[d,-1*(38.1-13.5+d)],"bottom-right":[-d,-1*(38.1-13.5+d)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=t,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(t){return this._subpixelPositioning=t,this}getPopup(){return this._popup}togglePopup(){const t=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:t?(t.isOpen()?t.remove():(t.setLngLat(this._lngLat),t.addTo(this._map)),this):this}_updateOpacity(t=!1){var a,u;const d=(a=this._map)===null||a===void 0?void 0:a.terrain,b=this._map.transform.isLocationOccluded(this._lngLat);if(!d||b){const se=b?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==se&&(this._element.style.opacity=se))}if(t)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const E=this._map,R=E.terrain.depthAtPoint(this._pos),k=E.terrain.getElevationForLngLat(this._lngLat,E.transform);if(E.transform.lngLatToCameraDepth(this._lngLat,k)-R<.006)return void(this._element.style.opacity=this._opacity);const $=-this._offset.y/E.transform.pixelsPerMeter,Z=Math.sin(E.getPitch()*Math.PI/180)*$,J=E.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),K=E.transform.lngLatToCameraDepth(this._lngLat,k+Z)-J>.006;!((u=this._popup)===null||u===void 0)&&u.isOpen()&&K&&this._popup.remove(),this._element.style.opacity=K?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(t){return this._offset=o.P.convert(t),this._update(),this}addClassName(t){this._element.classList.add(t)}removeClassName(t){this._element.classList.remove(t)}toggleClassName(t){return this._element.classList.toggle(t)}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&t!=="auto"?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(t,a){return(this._opacity===void 0||t===void 0&&a===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),t!==void 0&&(this._opacity=t),a!==void 0&&(this._opacityWhenCovered=a),this._map&&this._updateOpacity(!0),this}}const k2={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let l1=0,Rs=!1;const Zi={maxWidth:100,unit:"metric"};function qn(_,t,a){const u=a&&a.maxWidth||100,d=_._container.clientHeight/2,b=_._container.clientWidth/2,E=_.unproject([b-u/2,d]),R=_.unproject([b+u/2,d]),k=Math.round(_.project(R).x-_.project(E).x),$=Math.min(u,k,_._container.clientWidth),Z=E.distanceTo(R);if(a&&a.unit==="imperial"){const J=3.2808*Z;J>5280?ls(t,$,J/5280,_._getUIString("ScaleControl.Miles")):ls(t,$,J,_._getUIString("ScaleControl.Feet"))}else a&&a.unit==="nautical"?ls(t,$,Z/1852,_._getUIString("ScaleControl.NauticalMiles")):Z>=1e3?ls(t,$,Z/1e3,_._getUIString("ScaleControl.Kilometers")):ls(t,$,Z,_._getUIString("ScaleControl.Meters"))}function ls(_,t,a,u){const d=(function(b){const E=Math.pow(10,`${Math.floor(b)}`.length-1);let R=b/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:(function(k){const $=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*$)/$})(R),E*R})(a);_.style.width=t*(d/a)+"px",_.innerHTML=`${d}&nbsp;${u}`}const G1={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},V1=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function kl(_){if(_){if(typeof _=="number"){const t=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(t,t),"top-right":new o.P(-t,t),bottom:new o.P(0,-_),"bottom-left":new o.P(t,-t),"bottom-right":new o.P(-t,-t),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){const t=o.P.convert(_);return{center:t,top:t,"top-left":t,"top-right":t,bottom:t,"bottom-left":t,"bottom-right":t,left:t,right:t}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return kl(new o.P(0,0))}const Do=P;w.AJAXError=o.cI,w.Event=o.l,w.Evented=o.E,w.LngLat=o.V,w.MercatorCoordinate=o.a9,w.Point=o.P,w.addProtocol=o.cJ,w.config=o.c,w.removeProtocol=o.cK,w.AttributionControl=ei,w.BoxZoomHandler=o1,w.CanvasSource=le,w.CooperativeGesturesHandler=ir,w.DoubleClickZoomHandler=R4,w.DragPanHandler=T3,w.DragRotateHandler=Ha,w.EdgeInsets=Ba,w.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var t;let a=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((t=a?.shadowRoot)===null||t===void 0)&&t.fullscreenElement;)a=a.shadowRoot.fullscreenElement;a===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){F.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=F.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);F.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},w.GeoJSONSource=it,w.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=t=>{if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(t),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",t)),this._finish()}},this._updateCamera=t=>{const a=new o.V(t.coords.longitude,t.coords.latitude),u=t.coords.accuracy,d=this._map.getBearing(),b=o.e({bearing:d},this.options.fitBoundsOptions),E=tr.fromLngLat(a,u);this._map.fitBounds(E,b,{geolocateSource:!0})},this._updateMarker=t=>{if(t){const a=new o.V(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=t.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=t=>{if(this._map){if(t.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(t.code===3&&Rs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",t)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this._geolocateButton=F.create("button","maplibregl-ctrl-geolocate",this._container),F.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=t=>{if(this._map){if(t===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=F.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new F2({element:this._dotElement}),this._circleElement=F.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new F2({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(a=>{const u=a?.[0]instanceof ResizeObserverEntry;a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))}))}},this.options=o.e({},k2,_)}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return o._(this,arguments,void 0,(function*(t=!1){if(No!==void 0&&!t)return No;if(window.navigator.permissions===void 0)return No=!!window.navigator.geolocation,No;try{No=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{No=!!window.navigator.geolocation}return No}))})().then((t=>this._finishSetupUI(t))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),F.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,l1=0,Rs=!1}_isOutOfMapMaxBounds(_){const t=this._map.getMaxBounds(),a=_.coords;return t&&(a.longitude<t.getWest()||a.longitude>t.getEast()||a.latitude<t.getSouth()||a.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const _=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&_))return;const t=this._map.project(_),a=this._map.unproject([t.x+100,t.y]),u=_.distanceTo(a)/100,d=2*this._accuracy/u;this._circleElement.style.width=`${d.toFixed(2)}px`,this._circleElement.style.height=`${d.toFixed(2)}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":l1--,Rs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),l1++,l1>1?(_={maximumAge:6e5,timeout:0},Rs=!0):(_=this.options.positionOptions,Rs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},w.GlobeControl=class{constructor(){this._toggleProjection=()=>{var _;const t=(_=this._map.getProjection())===null||_===void 0?void 0:_.type;this._map.setProjection(t!=="mercator"&&t?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var _;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((_=this._map.getProjection())===null||_===void 0?void 0:_.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=F.create("button","maplibregl-ctrl-globe",this._container),F.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){F.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},w.Hash=li,w.ImageSource=It,w.KeyboardHandler=pn,w.LngLatBounds=tr,w.LogoControl=D2,w.Map=class extends ui{constructor(_){var t,a;o.cG.mark(o.cH.create);const u=Object.assign(Object.assign(Object.assign({},Ps),_),{canvasContextAttributes:Object.assign(Object.assign({},Ps.canvasContextAttributes),_.canvasContextAttributes)});if(u.minZoom!=null&&u.maxZoom!=null&&u.minZoom>u.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(u.minPitch!=null&&u.maxPitch!=null&&u.minPitch>u.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(u.minPitch!=null&&u.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(u.maxPitch!=null&&u.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const d=new Ai,b=new A1;if(u.minZoom!==void 0&&d.setMinZoom(u.minZoom),u.maxZoom!==void 0&&d.setMaxZoom(u.maxZoom),u.minPitch!==void 0&&d.setMinPitch(u.minPitch),u.maxPitch!==void 0&&d.setMaxPitch(u.maxPitch),u.renderWorldCopies!==void 0&&d.setRenderWorldCopies(u.renderWorldCopies),u.transformConstrain!==null&&d.setConstrainOverride(u.transformConstrain),super(d,b,{bearingSnap:u.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Cs,this._controls=[],this._mapId=o.af(),this._lostContextStyle={style:null,images:null},this._contextLost=R=>{R.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const k of Object.values(this.style._layers))if(k.type==="custom"&&console.warn(`Custom layer with id '${k.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),k._listeners)for(const[$]of Object.entries(k._listeners))console.warn(`Custom layer with id '${k.id}' had event listeners for event '${$}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new o.l("webglcontextlost",{originalEvent:R}))},this._contextRestored=R=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:R}))},this._onMapScroll=R=>{if(R.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=u.interactive,this._maxTileCacheSize=u.maxTileCacheSize,this._maxTileCacheZoomLevels=u.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},u.canvasContextAttributes),this._trackResize=u.trackResize===!0,this._bearingSnap=u.bearingSnap,this._centerClampedToGround=u.centerClampedToGround,this._refreshExpiredTiles=u.refreshExpiredTiles===!0,this._fadeDuration=u.fadeDuration,this._crossSourceCollisions=u.crossSourceCollisions===!0,this._collectResourceTiming=u.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},U1),u.locale),this._clickTolerance=u.clickTolerance,this._overridePixelRatio=u.pixelRatio,this._maxCanvasSize=u.maxCanvasSize,this._zoomLevelsToOverscale=u.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=u.transformCameraUpdate,this.transformConstrain=u.transformConstrain,this.cancelPendingTileRequestsWhileZooming=u.cancelPendingTileRequestsWhileZooming===!0,u.reduceMotion!==void 0&&(U.prefersReducedMotion=u.reduceMotion),this._imageQueueHandle=he.addThrottleControl((()=>this.isMoving())),this._requestManager=new xe(u.transformRequest),typeof u.container=="string"){if(this._container=document.getElementById(u.container),!this._container)throw new Error(`Container '${u.container}' not found.`)}else{if(!(u.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=u.container}if(u.maxBounds&&this.setMaxBounds(u.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let R=!1;const k=x3(($=>{this._trackResize&&!this._removed&&(this.resize($),this.redraw())}),50);this._resizeObserver=new ResizeObserver(($=>{R?k($):R=!0})),this._resizeObserver.observe(this._container)}this.handlers=new N2(this,u),this._hash=u.hash&&new li(typeof u.hash=="string"&&u.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:u.center,elevation:u.elevation,zoom:u.zoom,bearing:u.bearing,pitch:u.pitch,roll:u.roll}),u.bounds&&(this.resize(),this.fitBounds(u.bounds,o.e({},u.fitBoundsOptions,{duration:0}))));const E=typeof u.style=="string"||((a=(t=u.style)===null||t===void 0?void 0:t.projection)===null||a===void 0?void 0:a.type)!=="globe";this.resize(null,E),this._localIdeographFontFamily=u.localIdeographFontFamily,this._validateStyle=u.validateStyle,u.style&&this.setStyle(u.style,{localIdeographFontFamily:u.localIdeographFontFamily}),u.attributionControl&&this.addControl(new ei(typeof u.attributionControl=="boolean"?void 0:u.attributionControl)),u.maplibreLogo&&this.addControl(new D2,u.logoPosition),this.on("style.load",(()=>{if(E||this._resizeTransform(),this.transform.unmodified){const R=o.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(R)}})),this.on("data",(R=>{this._update(R.dataType==="style"),this.fire(new o.l(`${R.dataType}data`,R))})),this.on("dataloading",(R=>{this.fire(new o.l(`${R.dataType}dataloading`,R))})),this.on("dataabort",(R=>{this.fire(new o.l("sourcedataabort",R))}))}_getMapId(){return this._mapId}setGlobalStateProperty(_,t){return this.style.setGlobalStateProperty(_,t),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(_,t){if(t===void 0&&(t=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const a=_.onAdd(this);this._controls.push(_);const u=this._controlPositions[t];return t.indexOf("bottom")!==-1?u.insertBefore(a,u.firstChild):u.appendChild(a),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const t=this._controls.indexOf(_);return t>-1&&this._controls.splice(t,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}coveringTiles(_){return zr(this.transform,_)}calculateCameraOptionsFromTo(_,t,a,u){return u==null&&this.terrain&&(u=this.terrain.getElevationForLngLat(a,this.transform)),super.calculateCameraOptionsFromTo(_,t,a,u)}resize(_,t=!0){const[a,u]=this._containerDimensions(),d=this._getClampedPixelRatio(a,u);if(this._resizeCanvas(a,u,d),this.painter.resize(a,u,d),this.painter.overLimit()){const E=this.painter.context.gl;this._maxCanvasSize=[E.drawingBufferWidth,E.drawingBufferHeight];const R=this._getClampedPixelRatio(a,u);this._resizeCanvas(a,u,R),this.painter.resize(a,u,R)}this._resizeTransform(t);const b=!this._moving;return b&&(this.stop(),this.fire(new o.l("movestart",_)).fire(new o.l("move",_))),this.fire(new o.l("resize",_)),b&&this.fire(new o.l("moveend",_)),this}_resizeTransform(_=!0){var t;const[a,u]=this._containerDimensions();this.transform.resize(a,u,_),(t=this._requestedCameraState)===null||t===void 0||t.resize(a,u,_)}_getClampedPixelRatio(_,t){const{0:a,1:u}=this._maxCanvasSize,d=this.getPixelRatio(),b=_*d,E=t*d;return Math.min(b>a?a/b:1,E>u?u/E:1)*d}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(tr.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom){const t=this._getTransformForUpdate();return t.setMinZoom(_),this._applyUpdatedTransform(t),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom){const t=this._getTransformForUpdate();return t.setMaxZoom(_),this._applyUpdatedTransform(t),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.setMinPitch(_),this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(_>=this.transform.minPitch)return this.transform.setMaxPitch(_),this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.setRenderWorldCopies(_),this._update()}setTransformConstrain(_){return this.transform.setConstrainOverride(_),this._update()}project(_){return this.transform.locationToScreenPoint(o.V.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.screenPointToLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,t,a){if(_==="mouseenter"||_==="mouseover"){let u=!1;return{layers:t,listener:a,delegates:{mousemove:b=>{const E=t.filter((k=>this.getLayer(k))),R=E.length!==0?this.queryRenderedFeatures(b.point,{layers:E}):[];R.length?u||(u=!0,a.call(this,new Di(_,this,b.originalEvent,{features:R}))):u=!1},mouseout:()=>{u=!1}}}}if(_==="mouseleave"||_==="mouseout"){let u=!1;return{layers:t,listener:a,delegates:{mousemove:E=>{const R=t.filter((k=>this.getLayer(k)));(R.length!==0?this.queryRenderedFeatures(E.point,{layers:R}):[]).length?u=!0:u&&(u=!1,a.call(this,new Di(_,this,E.originalEvent)))},mouseout:E=>{u&&(u=!1,a.call(this,new Di(_,this,E.originalEvent)))}}}}{const u=d=>{const b=t.filter((R=>this.getLayer(R))),E=b.length!==0?this.queryRenderedFeatures(d.point,{layers:b}):[];E.length&&(d.features=E,a.call(this,d),delete d.features)};return{layers:t,listener:a,delegates:{[_]:u}}}}_saveDelegatedListener(_,t){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(t)}_removeDelegatedListener(_,t,a){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const u=this._delegatedListeners[_];for(let d=0;d<u.length;d++){const b=u[d];if(b.listener===a&&b.layers.length===t.length&&b.layers.every((E=>t.includes(E)))){for(const E in b.delegates)this.off(E,b.delegates[E]);return void u.splice(d,1)}}}on(_,t,a){if(a===void 0)return super.on(_,t);const u=typeof t=="string"?[t]:t,d=this._createDelegatedListener(_,u,a);this._saveDelegatedListener(_,d);for(const b in d.delegates)this.on(b,d.delegates[b]);return{unsubscribe:()=>{this._removeDelegatedListener(_,u,a)}}}once(_,t,a){if(a===void 0)return super.once(_,t);const u=typeof t=="string"?[t]:t,d=this._createDelegatedListener(_,u,a);for(const b in d.delegates){const E=d.delegates[b];d.delegates[b]=(...R)=>{this._removeDelegatedListener(_,u,a),E(...R)}}this._saveDelegatedListener(_,d);for(const b in d.delegates)this.once(b,d.delegates[b]);return this}off(_,t,a){return a===void 0?super.off(_,t):(this._removeDelegatedListener(_,typeof t=="string"?[t]:t,a),this)}queryRenderedFeatures(_,t){if(!this.style)return[];let a;const u=_ instanceof o.P||Array.isArray(_),d=u?_:[[0,0],[this.transform.width,this.transform.height]];if(t=t||(u?{}:_)||{},d instanceof o.P||typeof d[0]=="number")a=[o.P.convert(d)];else{const b=o.P.convert(d[0]),E=o.P.convert(d[1]);a=[b,new o.P(E.x,b.y),E,new o.P(b.x,E.y),b]}return this.style.queryRenderedFeatures(a,t,this.transform)}querySourceFeatures(_,t){return this.style.querySourceFeatures(_,t)}setStyle(_,t){return(t=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},t)).diff!==!1&&t.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,t),this):(this._localIdeographFontFamily=t.localIdeographFontFamily,this._updateStyle(_,t))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const t=this._locale[_];if(t==null)throw new Error(`Missing UI string '${_}'`);return t}_updateStyle(_,t){var a,u;if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(_,t)));const d=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Ys(this,t||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,t,d):this.style.loadJSON(_,t,d),this):((u=(a=this.style)===null||a===void 0?void 0:a.projection)===null||u===void 0||u.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ys(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,t){if(typeof _=="string"){const a=this._requestManager.transformRequest(_,"Style");o.j(a,new AbortController).then((u=>{this._updateDiff(u.data,t)})).catch((u=>{u&&this.fire(new o.k(u))}))}else typeof _=="object"&&this._updateDiff(_,t)}_updateDiff(_,t){try{this.style.setState(_,t)&&this._update(!0)}catch(a){o.w(`Unable to perform style diff: ${a.message||a.error||a}.  Rebuilding the style from scratch.`),this._updateStyle(_,t)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,t){return this._lazyInitEmptyStyle(),this.style.addSource(_,t),this._update(!0)}isSourceLoaded(_){const t=this.style&&this.style.tileManagers[_];if(t!==void 0)return t.loaded();this.fire(new o.k(new Error(`There is no tile manager with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const t=this.style.tileManagers[_.source];if(!t)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&t.reload();for(const a in this.style._layers){const u=this.style._layers[a];u.type==="hillshade"&&u.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),u.type==="color-relief"&&u.source===_.source&&o.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Lr(this.painter,t,_),this.painter.renderToTexture=new Io(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=a=>{var u;a.dataType==="style"?this.terrain.tileManager.freeRtt():a.dataType==="source"&&a.tile&&(a.sourceId!==_.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((u=a.source)===null||u===void 0?void 0:u.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(a.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:_})),this}getTerrain(){var _,t;return(t=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&t!==void 0?t:null}areTilesLoaded(){const _=this.style&&this.style.tileManagers;for(const t of Object.values(_))if(!t.areTilesLoaded())return!1;return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}setSourceTileLodParams(_,t,a){if(a){const u=this.getSource(a);if(!u)throw new Error(`There is no source with ID "${a}", cannot set LOD parameters`);u.calculateTileZoom=Mr(Math.max(1,_),Math.max(1,t))}else for(const u in this.style.tileManagers)this.style.tileManagers[u].getSource().calculateTileZoom=Mr(Math.max(1,_),Math.max(1,t));return this._update(!0),this}refreshTiles(_,t){const a=this.style.tileManagers[_];if(!a)throw new Error(`There is no tile manager with ID "${_}", cannot refresh tile`);t===void 0?a.reload(!0):a.refreshTiles(t.map((u=>new o.ac(u.z,u.x,u.y))))}addImage(_,t,a={}){const{pixelRatio:u=1,sdf:d=!1,stretchX:b,stretchY:E,content:R,textFitWidth:k,textFitHeight:$}=a;if(this._lazyInitEmptyStyle(),!(t instanceof HTMLImageElement||o.b(t))){if(t.width===void 0||t.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Z,height:J,data:K}=t,se=t;return this.style.addImage(_,{data:new o.R({width:Z,height:J},new Uint8Array(K)),pixelRatio:u,stretchX:b,stretchY:E,content:R,textFitWidth:k,textFitHeight:$,sdf:d,version:0,userImage:se}),se.onAdd&&se.onAdd(this,_),this}}{const{width:Z,height:J,data:K}=U.getImageData(t);this.style.addImage(_,{data:new o.R({width:Z,height:J},K),pixelRatio:u,stretchX:b,stretchY:E,content:R,textFitWidth:k,textFitHeight:$,sdf:d,version:0})}}updateImage(_,t){const a=this.style.getImage(_);if(!a)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const u=t instanceof HTMLImageElement||o.b(t)?U.getImageData(t):t,{width:d,height:b,data:E}=u;if(d===void 0||b===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(d!==a.data.width||b!==a.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const R=!(t instanceof HTMLImageElement||o.b(t));return a.data.replace(E,R),this.style.updateImage(_,a),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return he.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,t){return this._lazyInitEmptyStyle(),this.style.addLayer(_,t),this._update(!0)}moveLayer(_,t){return this.style.moveLayer(_,t),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,t,a){return this.style.setLayerZoomRange(_,t,a),this._update(!0)}setFilter(_,t,a={}){return this.style.setFilter(_,t,a),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,t,a,u={}){return this.style.setPaintProperty(_,t,a,u),this._update(!0)}getPaintProperty(_,t){return this.style.getPaintProperty(_,t)}setLayoutProperty(_,t,a,u={}){return this.style.setLayoutProperty(_,t,a,u),this._update(!0)}getLayoutProperty(_,t){return this.style.getLayoutProperty(_,t)}setGlyphs(_,t={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,t,a={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,t,a,(u=>{u||this._update(!0)})),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,t={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,t,(a=>{a||this._update(!0)})),this}setLight(_,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,t),this._update(!0)}getLight(){return this.style.getLight()}setSky(_,t={}){return this._lazyInitEmptyStyle(),this.style.setSky(_,t),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,t){return this.style.setFeatureState(_,t),this._update()}removeFeatureState(_,t){return this.style.removeFeatureState(_,t),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,t=0;return this._container&&(_=this._container.clientWidth||400,t=this._container.clientHeight||300),[_,t]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const t=this._canvasContainer=F.create("div","maplibregl-canvas-container",_);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=F.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const a=this._containerDimensions(),u=this._getClampedPixelRatio(a[0],a[1]);this._resizeCanvas(a[0],a[1],u);const d=this._controlContainer=F.create("div","maplibregl-control-container",_),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((E=>{b[E]=F.create("div",`maplibregl-ctrl-${E} `,d)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,t,a){this._canvas.width=Math.floor(a*_),this._canvas.height=Math.floor(a*t),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const _=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let t=null;this._canvas.addEventListener("webglcontextcreationerror",(u=>{t={requestedAttributes:_},u&&(t.statusMessage=u.statusMessage,t.type=u.type)}),{once:!0});let a=null;if(a=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,_):this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_),!a){const u="Failed to initialize WebGL";throw t?(t.message=u,new Error(JSON.stringify(t))):new Error(u)}this.painter=new G5(a,this.transform),q.testSupport(a)}migrateProjection(_,t){super.migrateProjection(_,t),this.painter.transform=_,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){var t,a,u,d,b;const E=this._idleTriggered?this._fadeDuration:0,R=((t=this.style.projection)===null||t===void 0?void 0:t.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let k=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const J=this.transform.zoom,K=j();this.style.zoomHistory.update(J,K);const se=new o.H(J,{now:K,fadeDuration:E,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),pe=se.crossFadingFactor();pe===1&&pe===this._crossFadingFactor||(k=!0,this._crossFadingFactor=pe),this.style.update(se)}const $=((a=this.style.projection)===null||a===void 0?void 0:a.transitionState)>0!==R;(u=this.style.projection)===null||u===void 0||u.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((d=this.style.projection)===null||d===void 0?void 0:d.transitionState,(b=this.style.projection)===null||b===void 0?void 0:b.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||$)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,E,this._crossSourceCollisions,$),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:E,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cG.mark(o.cH.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||k)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const Z=this._sourcesDirty||this._styleDirty||this._placementDirty;return Z||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||Z||(this._fullyLoaded=!0,o.cG.mark(o.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),he.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t?.loseContext&&t.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),F.remove(this._canvasContainer),F.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cG.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,U.frame(this._frameRequest,(_=>{o.cG.frame(_),this._frameRequest=null;try{this._render(_)}catch(t){if(!o.Z(t)&&!(function(a){return a.message===i1})(t))throw t}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return j1}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(_){return this._lazyInitEmptyStyle(),this.style.setProjection(_),this._update(!0)}},w.MapMouseEvent=Di,w.MapTouchEvent=Co,w.MapWheelEvent=T4,w.Marker=F2,w.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const t=this._map.getZoom(),a=t===this._map.getMaxZoom(),u=t===this._map.getMinZoom();this._zoomInButton.disabled=a,this._zoomOutButton.disabled=u,this._zoomInButton.setAttribute("aria-disabled",a.toString()),this._zoomOutButton.setAttribute("aria-disabled",u.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(t,a)=>{const u=this._map._getUIString(`NavigationControl.${a}`);t.title=u,t.setAttribute("aria-label",u)},this.options=o.e({},A3,_),this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(t=>this._map.zoomIn({},{originalEvent:t}))),F.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(t=>this._map.zoomOut({},{originalEvent:t}))),F.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})),this._compassIcon=F.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new zn(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){F.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,t){const a=F.create("button",_,this._container);return a.type="button",a.addEventListener("click",t),a}},w.Popup=class extends o.E{constructor(_){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&F.remove(this._content),this._container&&(F.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=t=>{this._update(t.point)},this._onMouseMove=t=>{this._update(t.point)},this._onDrag=t=>{this._update(t.point)},this._update=t=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=F.create("div","maplibregl-popup",this._map.getContainer()),this._tip=F.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const E of this.options.className.split(" "))this._container.classList.add(E);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Ol(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!t)return;const a=this._flatPos=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&t?t:this._map.transform.locationToScreenPoint(this._lngLat));let u=this.options.anchor;const d=kl(this.options.offset);if(!u){const E=this._container.offsetWidth,R=this._container.offsetHeight;let k;k=a.y+d.bottom.y<R?["top"]:a.y>this._map.transform.height-R?["bottom"]:[],a.x<E/2?k.push("left"):a.x>this._map.transform.width-E/2&&k.push("right"),u=k.length===0?"bottom":k.join("-")}let b=a.add(d[u]);this.options.subpixelPositioning||(b=b.round()),F.setTransform(this._container,`${Fl[u]} translate(${b.x}px,${b.y}px)`),O2(this._container,u,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(G1),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.V.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const t=document.createDocumentFragment(),a=document.createElement("body");let u;for(a.innerHTML=_;u=a.firstChild,u;)t.appendChild(u);return this.setDOMContent(t)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=F.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=F.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(V1);_&&_.focus()}},w.RasterDEMTileSource=te,w.RasterTileSource=be,w.ScaleControl=class{constructor(_){this._onMove=()=>{qn(this._map,this._container,this.options)},this.setUnit=t=>{this.options.unit=t,qn(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Zi),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){F.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},w.ScrollZoomHandler=R2,w.Style=Ys,w.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=F.create("button","maplibregl-ctrl-terrain",this._container),F.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){F.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},w.TwoFingersTouchPitchHandler=Es,w.TwoFingersTouchRotateHandler=P2,w.TwoFingersTouchZoomHandler=os,w.TwoFingersTouchZoomRotateHandler=L1,w.VectorTileSource=Hr,w.VideoSource=Re,w.addSourceType=(_,t)=>o._(void 0,void 0,void 0,(function*(){if(ge(_))throw new Error(`A source type called "${_}" already exists.`);((a,u)=>{de[a]=u})(_,t)})),w.clearPrewarmedResources=function(){const _=me;_&&(_.isPreloaded()&&_.numActive()===1?(_.release($e),me=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},w.createTileMesh=P5,w.getMaxParallelImageRequests=function(){return o.c.MAX_PARALLEL_IMAGE_REQUESTS},w.getRTLTextPluginStatus=function(){return ot().getRTLTextPluginStatus()},w.getVersion=function(){return Do},w.getWorkerCount=function(){return ft.workerCount},w.getWorkerUrl=function(){return o.c.WORKER_URL},w.importScriptInWorkers=function(_){return Et().broadcast("IS",_)},w.isTimeFrozen=function(){return G.isFrozen()},w.now=j,w.prewarm=function(){ut().acquire($e)},w.restoreNow=function(){G.restoreNow()},w.setMaxParallelImageRequests=function(_){o.c.MAX_PARALLEL_IMAGE_REQUESTS=_},w.setNow=function(_){G.setNow(_)},w.setRTLTextPlugin=function(_,t){return ot().setRTLTextPlugin(_,t)},w.setWorkerCount=function(_){ft.workerCount=_},w.setWorkerUrl=function(_){o.c.WORKER_URL=_}}));var A=y;return A}))})(i7)),i7.exports}var Cx=Mx();const wh=v7(Cx);var b9={};const Px={},Rx=Object.freeze(Object.defineProperty({__proto__:null,default:Px},Symbol.toStringTag,{value:"Module"})),Sh=Iy(Rx);var Ef;function Ix(){return Ef||(Ef=1,(function(f){(function(g){g.parser=function(me,ue){return new T(me,ue)},g.SAXParser=T,g.SAXStream=z,g.createStream=N,g.MAX_BUFFER_LENGTH=64*1024;var y=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];g.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function T(me,ue){if(!(this instanceof T))return new T(me,ue);var ut=this;A(ut),ut.q=ut.c="",ut.bufferCheckPosition=g.MAX_BUFFER_LENGTH,ut.opt=ue||{},ut.opt.lowercase=ut.opt.lowercase||ut.opt.lowercasetags,ut.looseCase=ut.opt.lowercase?"toLowerCase":"toUpperCase",ut.tags=[],ut.closed=ut.closedRoot=ut.sawRoot=!1,ut.tag=ut.error=null,ut.strict=!!me,ut.noscript=!!(me||ut.opt.noscript),ut.state=ee.BEGIN,ut.strictEntities=ut.opt.strictEntities,ut.ENTITIES=ut.strictEntities?Object.create(g.XML_ENTITIES):Object.create(g.ENTITIES),ut.attribList=[],ut.opt.xmlns&&(ut.ns=Object.create(j)),ut.opt.unquotedAttributeValues===void 0&&(ut.opt.unquotedAttributeValues=!me),ut.trackPosition=ut.opt.position!==!1,ut.trackPosition&&(ut.position=ut.line=ut.column=0),we(ut,"onready")}Object.create||(Object.create=function(me){function ue(){}ue.prototype=me;var ut=new ue;return ut}),Object.keys||(Object.keys=function(me){var ue=[];for(var ut in me)me.hasOwnProperty(ut)&&ue.push(ut);return ue});function S(me){for(var ue=Math.max(g.MAX_BUFFER_LENGTH,10),ut=0,qe=0,Et=y.length;qe<Et;qe++){var At=me[y[qe]].length;if(At>ue)switch(y[qe]){case"textNode":et(me);break;case"cdata":Fe(me,"oncdata",me.cdata),me.cdata="";break;case"script":Fe(me,"onscript",me.script),me.script="";break;default:_t(me,"Max buffer length exceeded: "+y[qe])}ut=Math.max(ut,At)}var Gt=g.MAX_BUFFER_LENGTH-ut;me.bufferCheckPosition=Gt+me.position}function A(me){for(var ue=0,ut=y.length;ue<ut;ue++)me[y[ue]]=""}function w(me){et(me),me.cdata!==""&&(Fe(me,"oncdata",me.cdata),me.cdata=""),me.script!==""&&(Fe(me,"onscript",me.script),me.script="")}T.prototype={end:function(){Ne(this)},write:mt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){w(this)}};var o;try{o=Sh.Stream}catch{o=function(){}}o||(o=function(){});var P=g.EVENTS.filter(function(me){return me!=="error"&&me!=="end"});function N(me,ue){return new z(me,ue)}function z(me,ue){if(!(this instanceof z))return new z(me,ue);o.apply(this),this._parser=new T(me,ue),this.writable=!0,this.readable=!0;var ut=this;this._parser.onend=function(){ut.emit("end")},this._parser.onerror=function(qe){ut.emit("error",qe),ut._parser.error=null},this._decoder=null,P.forEach(function(qe){Object.defineProperty(ut,"on"+qe,{get:function(){return ut._parser["on"+qe]},set:function(Et){if(!Et)return ut.removeAllListeners(qe),ut._parser["on"+qe]=Et,Et;ut.on(qe,Et)},enumerable:!0,configurable:!1})})}z.prototype=Object.create(o.prototype,{constructor:{value:z}}),z.prototype.write=function(me){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(me)){if(!this._decoder){var ue=Sh.StringDecoder;this._decoder=new ue("utf8")}me=this._decoder.write(me)}return this._parser.write(me.toString()),this.emit("data",me),!0},z.prototype.end=function(me){return me&&me.length&&this.write(me),this._parser.end(),!0},z.prototype.on=function(me,ue){var ut=this;return!ut._parser["on"+me]&&P.indexOf(me)!==-1&&(ut._parser["on"+me]=function(){var qe=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);qe.splice(0,0,me),ut.emit.apply(ut,qe)}),o.prototype.on.call(ut,me,ue)};var C="[CDATA[",O="DOCTYPE",U="http://www.w3.org/XML/1998/namespace",G="http://www.w3.org/2000/xmlns/",j={xml:U,xmlns:G},F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,V=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function X(me){return me===" "||me===`
`||me==="\r"||me==="	"}function fe(me){return me==='"'||me==="'"}function ae(me){return me===">"||X(me)}function he(me,ue){return me.test(ue)}function xe(me,ue){return!he(me,ue)}var ee=0;g.STATE={BEGIN:ee++,BEGIN_WHITESPACE:ee++,TEXT:ee++,TEXT_ENTITY:ee++,OPEN_WAKA:ee++,SGML_DECL:ee++,SGML_DECL_QUOTED:ee++,DOCTYPE:ee++,DOCTYPE_QUOTED:ee++,DOCTYPE_DTD:ee++,DOCTYPE_DTD_QUOTED:ee++,COMMENT_STARTING:ee++,COMMENT:ee++,COMMENT_ENDING:ee++,COMMENT_ENDED:ee++,CDATA:ee++,CDATA_ENDING:ee++,CDATA_ENDING_2:ee++,PROC_INST:ee++,PROC_INST_BODY:ee++,PROC_INST_ENDING:ee++,OPEN_TAG:ee++,OPEN_TAG_SLASH:ee++,ATTRIB:ee++,ATTRIB_NAME:ee++,ATTRIB_NAME_SAW_WHITE:ee++,ATTRIB_VALUE:ee++,ATTRIB_VALUE_QUOTED:ee++,ATTRIB_VALUE_CLOSED:ee++,ATTRIB_VALUE_UNQUOTED:ee++,ATTRIB_VALUE_ENTITY_Q:ee++,ATTRIB_VALUE_ENTITY_U:ee++,CLOSE_TAG:ee++,CLOSE_TAG_SAW_WHITE:ee++,SCRIPT:ee++,SCRIPT_ENDING:ee++},g.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},g.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(g.ENTITIES).forEach(function(me){var ue=g.ENTITIES[me],ut=typeof ue=="number"?String.fromCharCode(ue):ue;g.ENTITIES[me]=ut});for(var Pe in g.STATE)g.STATE[g.STATE[Pe]]=Pe;ee=g.STATE;function we(me,ue,ut){me[ue]&&me[ue](ut)}function Fe(me,ue,ut){me.textNode&&et(me),we(me,ue,ut)}function et(me){me.textNode=Ke(me.opt,me.textNode),me.textNode&&we(me,"ontext",me.textNode),me.textNode=""}function Ke(me,ue){return me.trim&&(ue=ue.trim()),me.normalize&&(ue=ue.replace(/\s+/g," ")),ue}function _t(me,ue){return et(me),me.trackPosition&&(ue+=`
Line: `+me.line+`
Column: `+me.column+`
Char: `+me.c),ue=new Error(ue),me.error=ue,we(me,"onerror",ue),me}function Ne(me){return me.sawRoot&&!me.closedRoot&&Te(me,"Unclosed root tag"),me.state!==ee.BEGIN&&me.state!==ee.BEGIN_WHITESPACE&&me.state!==ee.TEXT&&_t(me,"Unexpected end"),et(me),me.c="",me.closed=!0,we(me,"onend"),T.call(me,me.strict,me.opt),me}function Te(me,ue){if(typeof me!="object"||!(me instanceof T))throw new Error("bad call to strictFail");me.strict&&_t(me,ue)}function lt(me){me.strict||(me.tagName=me.tagName[me.looseCase]());var ue=me.tags[me.tags.length-1]||me,ut=me.tag={name:me.tagName,attributes:{}};me.opt.xmlns&&(ut.ns=ue.ns),me.attribList.length=0,Fe(me,"onopentagstart",ut)}function Ze(me,ue){var ut=me.indexOf(":"),qe=ut<0?["",me]:me.split(":"),Et=qe[0],At=qe[1];return ue&&me==="xmlns"&&(Et="xmlns",At=""),{prefix:Et,local:At}}function Ct(me){if(me.strict||(me.attribName=me.attribName[me.looseCase]()),me.attribList.indexOf(me.attribName)!==-1||me.tag.attributes.hasOwnProperty(me.attribName)){me.attribName=me.attribValue="";return}if(me.opt.xmlns){var ue=Ze(me.attribName,!0),ut=ue.prefix,qe=ue.local;if(ut==="xmlns")if(qe==="xml"&&me.attribValue!==U)Te(me,"xml: prefix must be bound to "+U+`
Actual: `+me.attribValue);else if(qe==="xmlns"&&me.attribValue!==G)Te(me,"xmlns: prefix must be bound to "+G+`
Actual: `+me.attribValue);else{var Et=me.tag,At=me.tags[me.tags.length-1]||me;Et.ns===At.ns&&(Et.ns=Object.create(At.ns)),Et.ns[qe]=me.attribValue}me.attribList.push([me.attribName,me.attribValue])}else me.tag.attributes[me.attribName]=me.attribValue,Fe(me,"onattribute",{name:me.attribName,value:me.attribValue});me.attribName=me.attribValue=""}function Ie(me,ue){if(me.opt.xmlns){var ut=me.tag,qe=Ze(me.tagName);ut.prefix=qe.prefix,ut.local=qe.local,ut.uri=ut.ns[qe.prefix]||"",ut.prefix&&!ut.uri&&(Te(me,"Unbound namespace prefix: "+JSON.stringify(me.tagName)),ut.uri=qe.prefix);var Et=me.tags[me.tags.length-1]||me;ut.ns&&Et.ns!==ut.ns&&Object.keys(ut.ns).forEach(function(ie){Fe(me,"onopennamespace",{prefix:ie,uri:ut.ns[ie]})});for(var At=0,Gt=me.attribList.length;At<Gt;At++){var Jt=me.attribList[At],Kt=Jt[0],cr=Jt[1],tr=Ze(Kt,!0),ur=tr.prefix,Hr=tr.local,be=ur===""?"":ut.ns[ur]||"",te={name:Kt,value:cr,prefix:ur,local:Hr,uri:be};ur&&ur!=="xmlns"&&!be&&(Te(me,"Unbound namespace prefix: "+JSON.stringify(ur)),te.uri=ur),me.tag.attributes[Kt]=te,Fe(me,"onattribute",te)}me.attribList.length=0}me.tag.isSelfClosing=!!ue,me.sawRoot=!0,me.tags.push(me.tag),Fe(me,"onopentag",me.tag),ue||(!me.noscript&&me.tagName.toLowerCase()==="script"?me.state=ee.SCRIPT:me.state=ee.TEXT,me.tag=null,me.tagName=""),me.attribName=me.attribValue="",me.attribList.length=0}function rt(me){if(!me.tagName){Te(me,"Weird empty close tag."),me.textNode+="</>",me.state=ee.TEXT;return}if(me.script){if(me.tagName!=="script"){me.script+="</"+me.tagName+">",me.tagName="",me.state=ee.SCRIPT;return}Fe(me,"onscript",me.script),me.script=""}var ue=me.tags.length,ut=me.tagName;me.strict||(ut=ut[me.looseCase]());for(var qe=ut;ue--;){var Et=me.tags[ue];if(Et.name!==qe)Te(me,"Unexpected close tag");else break}if(ue<0){Te(me,"Unmatched closing tag: "+me.tagName),me.textNode+="</"+me.tagName+">",me.state=ee.TEXT;return}me.tagName=ut;for(var At=me.tags.length;At-- >ue;){var Gt=me.tag=me.tags.pop();me.tagName=me.tag.name,Fe(me,"onclosetag",me.tagName);var Jt={};for(var Kt in Gt.ns)Jt[Kt]=Gt.ns[Kt];var cr=me.tags[me.tags.length-1]||me;me.opt.xmlns&&Gt.ns!==cr.ns&&Object.keys(Gt.ns).forEach(function(tr){var ur=Gt.ns[tr];Fe(me,"onclosenamespace",{prefix:tr,uri:ur})})}ue===0&&(me.closedRoot=!0),me.tagName=me.attribValue=me.attribName="",me.attribList.length=0,me.state=ee.TEXT}function dt(me){var ue=me.entity,ut=ue.toLowerCase(),qe,Et="";return me.ENTITIES[ue]?me.ENTITIES[ue]:me.ENTITIES[ut]?me.ENTITIES[ut]:(ue=ut,ue.charAt(0)==="#"&&(ue.charAt(1)==="x"?(ue=ue.slice(2),qe=parseInt(ue,16),Et=qe.toString(16)):(ue=ue.slice(1),qe=parseInt(ue,10),Et=qe.toString(10))),ue=ue.replace(/^0+/,""),isNaN(qe)||Et.toLowerCase()!==ue||qe<0||qe>1114111?(Te(me,"Invalid character entity"),"&"+me.entity+";"):String.fromCodePoint(qe))}function $e(me,ue){ue==="<"?(me.state=ee.OPEN_WAKA,me.startTagPosition=me.position):X(ue)||(Te(me,"Non-whitespace before first tag."),me.textNode=ue,me.state=ee.TEXT)}function ft(me,ue){var ut="";return ue<me.length&&(ut=me.charAt(ue)),ut}function mt(me){var ue=this;if(this.error)throw this.error;if(ue.closed)return _t(ue,"Cannot write after close. Assign an onready handler.");if(me===null)return Ne(ue);typeof me=="object"&&(me=me.toString());for(var ut=0,qe="";qe=ft(me,ut++),ue.c=qe,!!qe;)switch(ue.trackPosition&&(ue.position++,qe===`
`?(ue.line++,ue.column=0):ue.column++),ue.state){case ee.BEGIN:if(ue.state=ee.BEGIN_WHITESPACE,qe==="\uFEFF")continue;$e(ue,qe);continue;case ee.BEGIN_WHITESPACE:$e(ue,qe);continue;case ee.TEXT:if(ue.sawRoot&&!ue.closedRoot){for(var At=ut-1;qe&&qe!=="<"&&qe!=="&";)qe=ft(me,ut++),qe&&ue.trackPosition&&(ue.position++,qe===`
`?(ue.line++,ue.column=0):ue.column++);ue.textNode+=me.substring(At,ut-1)}qe==="<"&&!(ue.sawRoot&&ue.closedRoot&&!ue.strict)?(ue.state=ee.OPEN_WAKA,ue.startTagPosition=ue.position):(!X(qe)&&(!ue.sawRoot||ue.closedRoot)&&Te(ue,"Text data outside of root node."),qe==="&"?ue.state=ee.TEXT_ENTITY:ue.textNode+=qe);continue;case ee.SCRIPT:qe==="<"?ue.state=ee.SCRIPT_ENDING:ue.script+=qe;continue;case ee.SCRIPT_ENDING:qe==="/"?ue.state=ee.CLOSE_TAG:(ue.script+="<"+qe,ue.state=ee.SCRIPT);continue;case ee.OPEN_WAKA:if(qe==="!")ue.state=ee.SGML_DECL,ue.sgmlDecl="";else if(!X(qe))if(he(F,qe))ue.state=ee.OPEN_TAG,ue.tagName=qe;else if(qe==="/")ue.state=ee.CLOSE_TAG,ue.tagName="";else if(qe==="?")ue.state=ee.PROC_INST,ue.procInstName=ue.procInstBody="";else{if(Te(ue,"Unencoded <"),ue.startTagPosition+1<ue.position){var Et=ue.position-ue.startTagPosition;qe=new Array(Et).join(" ")+qe}ue.textNode+="<"+qe,ue.state=ee.TEXT}continue;case ee.SGML_DECL:if(ue.sgmlDecl+qe==="--"){ue.state=ee.COMMENT,ue.comment="",ue.sgmlDecl="";continue}ue.doctype&&ue.doctype!==!0&&ue.sgmlDecl?(ue.state=ee.DOCTYPE_DTD,ue.doctype+="<!"+ue.sgmlDecl+qe,ue.sgmlDecl=""):(ue.sgmlDecl+qe).toUpperCase()===C?(Fe(ue,"onopencdata"),ue.state=ee.CDATA,ue.sgmlDecl="",ue.cdata=""):(ue.sgmlDecl+qe).toUpperCase()===O?(ue.state=ee.DOCTYPE,(ue.doctype||ue.sawRoot)&&Te(ue,"Inappropriately located doctype declaration"),ue.doctype="",ue.sgmlDecl=""):qe===">"?(Fe(ue,"onsgmldeclaration",ue.sgmlDecl),ue.sgmlDecl="",ue.state=ee.TEXT):(fe(qe)&&(ue.state=ee.SGML_DECL_QUOTED),ue.sgmlDecl+=qe);continue;case ee.SGML_DECL_QUOTED:qe===ue.q&&(ue.state=ee.SGML_DECL,ue.q=""),ue.sgmlDecl+=qe;continue;case ee.DOCTYPE:qe===">"?(ue.state=ee.TEXT,Fe(ue,"ondoctype",ue.doctype),ue.doctype=!0):(ue.doctype+=qe,qe==="["?ue.state=ee.DOCTYPE_DTD:fe(qe)&&(ue.state=ee.DOCTYPE_QUOTED,ue.q=qe));continue;case ee.DOCTYPE_QUOTED:ue.doctype+=qe,qe===ue.q&&(ue.q="",ue.state=ee.DOCTYPE);continue;case ee.DOCTYPE_DTD:qe==="]"?(ue.doctype+=qe,ue.state=ee.DOCTYPE):qe==="<"?(ue.state=ee.OPEN_WAKA,ue.startTagPosition=ue.position):fe(qe)?(ue.doctype+=qe,ue.state=ee.DOCTYPE_DTD_QUOTED,ue.q=qe):ue.doctype+=qe;continue;case ee.DOCTYPE_DTD_QUOTED:ue.doctype+=qe,qe===ue.q&&(ue.state=ee.DOCTYPE_DTD,ue.q="");continue;case ee.COMMENT:qe==="-"?ue.state=ee.COMMENT_ENDING:ue.comment+=qe;continue;case ee.COMMENT_ENDING:qe==="-"?(ue.state=ee.COMMENT_ENDED,ue.comment=Ke(ue.opt,ue.comment),ue.comment&&Fe(ue,"oncomment",ue.comment),ue.comment=""):(ue.comment+="-"+qe,ue.state=ee.COMMENT);continue;case ee.COMMENT_ENDED:qe!==">"?(Te(ue,"Malformed comment"),ue.comment+="--"+qe,ue.state=ee.COMMENT):ue.doctype&&ue.doctype!==!0?ue.state=ee.DOCTYPE_DTD:ue.state=ee.TEXT;continue;case ee.CDATA:for(var At=ut-1;qe&&qe!=="]";)qe=ft(me,ut++),qe&&ue.trackPosition&&(ue.position++,qe===`
`?(ue.line++,ue.column=0):ue.column++);ue.cdata+=me.substring(At,ut-1),qe==="]"&&(ue.state=ee.CDATA_ENDING);continue;case ee.CDATA_ENDING:qe==="]"?ue.state=ee.CDATA_ENDING_2:(ue.cdata+="]"+qe,ue.state=ee.CDATA);continue;case ee.CDATA_ENDING_2:qe===">"?(ue.cdata&&Fe(ue,"oncdata",ue.cdata),Fe(ue,"onclosecdata"),ue.cdata="",ue.state=ee.TEXT):qe==="]"?ue.cdata+="]":(ue.cdata+="]]"+qe,ue.state=ee.CDATA);continue;case ee.PROC_INST:qe==="?"?ue.state=ee.PROC_INST_ENDING:X(qe)?ue.state=ee.PROC_INST_BODY:ue.procInstName+=qe;continue;case ee.PROC_INST_BODY:if(!ue.procInstBody&&X(qe))continue;qe==="?"?ue.state=ee.PROC_INST_ENDING:ue.procInstBody+=qe;continue;case ee.PROC_INST_ENDING:qe===">"?(Fe(ue,"onprocessinginstruction",{name:ue.procInstName,body:ue.procInstBody}),ue.procInstName=ue.procInstBody="",ue.state=ee.TEXT):(ue.procInstBody+="?"+qe,ue.state=ee.PROC_INST_BODY);continue;case ee.OPEN_TAG:he(q,qe)?ue.tagName+=qe:(lt(ue),qe===">"?Ie(ue):qe==="/"?ue.state=ee.OPEN_TAG_SLASH:(X(qe)||Te(ue,"Invalid character in tag name"),ue.state=ee.ATTRIB));continue;case ee.OPEN_TAG_SLASH:qe===">"?(Ie(ue,!0),rt(ue)):(Te(ue,"Forward-slash in opening tag not followed by >"),ue.state=ee.ATTRIB);continue;case ee.ATTRIB:if(X(qe))continue;qe===">"?Ie(ue):qe==="/"?ue.state=ee.OPEN_TAG_SLASH:he(F,qe)?(ue.attribName=qe,ue.attribValue="",ue.state=ee.ATTRIB_NAME):Te(ue,"Invalid attribute name");continue;case ee.ATTRIB_NAME:qe==="="?ue.state=ee.ATTRIB_VALUE:qe===">"?(Te(ue,"Attribute without value"),ue.attribValue=ue.attribName,Ct(ue),Ie(ue)):X(qe)?ue.state=ee.ATTRIB_NAME_SAW_WHITE:he(q,qe)?ue.attribName+=qe:Te(ue,"Invalid attribute name");continue;case ee.ATTRIB_NAME_SAW_WHITE:if(qe==="=")ue.state=ee.ATTRIB_VALUE;else{if(X(qe))continue;Te(ue,"Attribute without value"),ue.tag.attributes[ue.attribName]="",ue.attribValue="",Fe(ue,"onattribute",{name:ue.attribName,value:""}),ue.attribName="",qe===">"?Ie(ue):he(F,qe)?(ue.attribName=qe,ue.state=ee.ATTRIB_NAME):(Te(ue,"Invalid attribute name"),ue.state=ee.ATTRIB)}continue;case ee.ATTRIB_VALUE:if(X(qe))continue;fe(qe)?(ue.q=qe,ue.state=ee.ATTRIB_VALUE_QUOTED):(ue.opt.unquotedAttributeValues||_t(ue,"Unquoted attribute value"),ue.state=ee.ATTRIB_VALUE_UNQUOTED,ue.attribValue=qe);continue;case ee.ATTRIB_VALUE_QUOTED:if(qe!==ue.q){qe==="&"?ue.state=ee.ATTRIB_VALUE_ENTITY_Q:ue.attribValue+=qe;continue}Ct(ue),ue.q="",ue.state=ee.ATTRIB_VALUE_CLOSED;continue;case ee.ATTRIB_VALUE_CLOSED:X(qe)?ue.state=ee.ATTRIB:qe===">"?Ie(ue):qe==="/"?ue.state=ee.OPEN_TAG_SLASH:he(F,qe)?(Te(ue,"No whitespace between attributes"),ue.attribName=qe,ue.attribValue="",ue.state=ee.ATTRIB_NAME):Te(ue,"Invalid attribute name");continue;case ee.ATTRIB_VALUE_UNQUOTED:if(!ae(qe)){qe==="&"?ue.state=ee.ATTRIB_VALUE_ENTITY_U:ue.attribValue+=qe;continue}Ct(ue),qe===">"?Ie(ue):ue.state=ee.ATTRIB;continue;case ee.CLOSE_TAG:if(ue.tagName)qe===">"?rt(ue):he(q,qe)?ue.tagName+=qe:ue.script?(ue.script+="</"+ue.tagName,ue.tagName="",ue.state=ee.SCRIPT):(X(qe)||Te(ue,"Invalid tagname in closing tag"),ue.state=ee.CLOSE_TAG_SAW_WHITE);else{if(X(qe))continue;xe(F,qe)?ue.script?(ue.script+="</"+qe,ue.state=ee.SCRIPT):Te(ue,"Invalid tagname in closing tag."):ue.tagName=qe}continue;case ee.CLOSE_TAG_SAW_WHITE:if(X(qe))continue;qe===">"?rt(ue):Te(ue,"Invalid characters in closing tag");continue;case ee.TEXT_ENTITY:case ee.ATTRIB_VALUE_ENTITY_Q:case ee.ATTRIB_VALUE_ENTITY_U:var Gt,Jt;switch(ue.state){case ee.TEXT_ENTITY:Gt=ee.TEXT,Jt="textNode";break;case ee.ATTRIB_VALUE_ENTITY_Q:Gt=ee.ATTRIB_VALUE_QUOTED,Jt="attribValue";break;case ee.ATTRIB_VALUE_ENTITY_U:Gt=ee.ATTRIB_VALUE_UNQUOTED,Jt="attribValue";break}if(qe===";"){var Kt=dt(ue);ue.opt.unparsedEntities&&!Object.values(g.XML_ENTITIES).includes(Kt)?(ue.entity="",ue.state=Gt,ue.write(Kt)):(ue[Jt]+=Kt,ue.entity="",ue.state=Gt)}else he(ue.entity.length?H:V,qe)?ue.entity+=qe:(Te(ue,"Invalid character in entity name"),ue[Jt]+="&"+ue.entity+qe,ue.entity="",ue.state=Gt);continue;default:throw new Error(ue,"Unknown state: "+ue.state)}return ue.position>=ue.bufferCheckPosition&&S(ue),ue}String.fromCodePoint||(function(){var me=String.fromCharCode,ue=Math.floor,ut=function(){var qe=16384,Et=[],At,Gt,Jt=-1,Kt=arguments.length;if(!Kt)return"";for(var cr="";++Jt<Kt;){var tr=Number(arguments[Jt]);if(!isFinite(tr)||tr<0||tr>1114111||ue(tr)!==tr)throw RangeError("Invalid code point: "+tr);tr<=65535?Et.push(tr):(tr-=65536,At=(tr>>10)+55296,Gt=tr%1024+56320,Et.push(At,Gt)),(Jt+1===Kt||Et.length>qe)&&(cr+=me.apply(null,Et),Et.length=0)}return cr};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ut,configurable:!0,writable:!0}):String.fromCodePoint=ut})()})(f)})(b9)),b9}var Nx=Ix();const Dx=v7(Nx),Ox=["id","uid","changeset","visible","version","lon","lat","ref","min_lon","min_lat","max_lon","max_lat","comments_count","changes_count","open"];function Fx(f){for(let g of Ox)if(f[g]!==void 0)try{f[g]=JSON.parse(f[g])}catch{throw new Error(`Failed to parse value "${f[g]}" for attribute "${g}" (expected a JSON value)`)}return f}function kx(f){return new Promise((g,y)=>{var T=Dx.parser(!0,{lowercase:!0}),S=null,A={},w={},o={},P={actions:[]};T.onopentag=function(N){var z=N.name;if(S=z,z==="meta"){P.meta={...P.meta,...N.attributes};return}var C=Fx(N.attributes);z==="action"&&(A={type:C.type}),(z==="node"||z==="way"||z==="relation")&&(w={type:z,...C,tags:{}},z==="way"&&(w.nodes=[]),z==="relation"&&(w.members=[],o={})),z==="tag"&&w&&(w.tags[C.k]=C.v),z==="nd"&&w&&w.type==="way"&&w.nodes.push(C),z==="nd"&&w&&w.type==="relation"&&o.nodes.push(C),z==="member"&&w&&w.type==="relation"&&(o={...C,nodes:[]},w.members.push(o))},T.ontext=function(N){S==="note"&&(P.note=N)},T.onclosetag=function(N){(N==="old"||N==="new")&&(A[N]=w),N==="action"&&(A.type=="create"&&(A.new=w),P.actions.push(A)),N==="osm"&&g(P),S=null},T.onerror=y,T.write(f),T.close()})}var Mf=63710088e-1;function zx(f,g,y={}){const T={type:"Feature"};return(y.id===0||y.id)&&(T.id=y.id),y.bbox&&(T.bbox=y.bbox),T.properties=g||{},T.geometry=f,T}function Bx(f,g,y={}){for(const S of f){if(S.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(S[S.length-1].length!==S[0].length)throw new Error("First and last Position are not equivalent.");for(let A=0;A<S[S.length-1].length;A++)if(S[S.length-1][A]!==S[0][A])throw new Error("First and last Position are not equivalent.")}return zx({type:"Polygon",coordinates:f},g,y)}function Ug(f,g,y){if(f!==null)for(var T,S,A,w,o,P,N,z=0,C=0,O,U=f.type,G=U==="FeatureCollection",j=U==="Feature",F=G?f.features.length:1,q=0;q<F;q++){N=G?f.features[q].geometry:j?f.geometry:f,O=N?N.type==="GeometryCollection":!1,o=O?N.geometries.length:1;for(var V=0;V<o;V++){var H=0,X=0;if(w=O?N.geometries[V]:N,w!==null){P=w.coordinates;var fe=w.type;switch(z=0,fe){case null:break;case"Point":if(g(P,C,q,H,X)===!1)return!1;C++,H++;break;case"LineString":case"MultiPoint":for(T=0;T<P.length;T++){if(g(P[T],C,q,H,X)===!1)return!1;C++,fe==="MultiPoint"&&H++}fe==="LineString"&&H++;break;case"Polygon":case"MultiLineString":for(T=0;T<P.length;T++){for(S=0;S<P[T].length-z;S++){if(g(P[T][S],C,q,H,X)===!1)return!1;C++}fe==="MultiLineString"&&H++,fe==="Polygon"&&X++}fe==="Polygon"&&H++;break;case"MultiPolygon":for(T=0;T<P.length;T++){for(X=0,S=0;S<P[T].length;S++){for(A=0;A<P[T][S].length-z;A++){if(g(P[T][S][A],C,q,H,X)===!1)return!1;C++}X++}H++}break;case"GeometryCollection":for(T=0;T<w.geometries.length;T++)if(Ug(w.geometries[T],g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Lx(f,g){var y,T,S,A,w,o,P,N,z,C,O=0,U=f.type==="FeatureCollection",G=f.type==="Feature",j=U?f.features.length:1;for(y=0;y<j;y++){for(o=U?f.features[y].geometry:G?f.geometry:f,N=U?f.features[y].properties:G?f.properties:{},z=U?f.features[y].bbox:G?f.bbox:void 0,C=U?f.features[y].id:G?f.id:void 0,P=o?o.type==="GeometryCollection":!1,w=P?o.geometries.length:1,S=0;S<w;S++){if(A=P?o.geometries[S]:o,A===null){if(g(null,O,N,z,C)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(A,O,N,z,C)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<A.geometries.length;T++)if(g(A.geometries[T],O,N,z,C)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function Ux(f,g,y){var T=y;return Lx(f,function(S,A,w,o,P){A===0&&y===void 0?T=S:T=g(T,S,A,w,o,P)}),T}function jx(f,g={}){if(f.bbox!=null&&g.recompute!==!0)return f.bbox;const y=[1/0,1/0,-1/0,-1/0];return Ug(f,T=>{y[0]>T[0]&&(y[0]=T[0]),y[1]>T[1]&&(y[1]=T[1]),y[2]<T[0]&&(y[2]=T[0]),y[3]<T[1]&&(y[3]=T[1])}),y}var a7=jx;function Gx(f){return Ux(f,(g,y)=>g+Vx(y),0)}function Vx(f){let g=0,y;switch(f.type){case"Polygon":return Cf(f.coordinates);case"MultiPolygon":for(y=0;y<f.coordinates.length;y++)g+=Cf(f.coordinates[y]);return g;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Cf(f){let g=0;if(f&&f.length>0){g+=Math.abs(Pf(f[0]));for(let y=1;y<f.length;y++)g-=Math.abs(Pf(f[y]))}return g}var qx=Mf*Mf/2,x9=Math.PI/180;function Pf(f){const g=f.length-1;if(g<=2)return 0;let y=0,T=0;for(;T<g;){const S=f[T],A=f[T+1===g?0:T+1],w=f[T+2>=g?(T+2)%g:T+2],o=S[0]*x9,P=A[1]*x9,N=w[0]*x9;y+=(N-o)*Math.sin(P),T++}return y*qx}var Rf=Gx;function $x(f,g={}){const y=Number(f[0]),T=Number(f[1]),S=Number(f[2]),A=Number(f[3]);if(f.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const w=[y,T];return Bx([[w,[S,T],[S,A],[y,A],w]],g.properties,{bbox:f,id:g.id})}var Th=$x,Qx={areaKeys:{"addr:*":{},advertising:{totem:!0,poster_box:!0,billboard:!0},aerialway:{zip_line:!0,"t-bar":!0,rope_tow:!0,platter:!0,mixed_lift:!0,magic_carpet:!0,"j-bar":!0,goods:!0,gondola:!0,drag_lift:!0,chair_lift:!0,cable_car:!0},aeroway:{taxiway:!0,runway:!0,parking_position:!0,jet_bridge:!0},allotments:{},amenity:{weighbridge:!0,bench:!0},"area:highway":{},attraction:{water_slide:!0,train:!0,summer_toboggan:!0,river_rafting:!0,log_flume:!0,dark_ride:!0},boundary:{administrative:!0},"bridge:support":{},building:{},"building:part":{},cemetery:{},club:{},craft:{},"demolished:building":{},"disused:amenity":{},"disused:railway":{},"disused:shop":{},emergency:{yes:!0,private:!0,official:!0,no:!0,destination:!0,designated:!0},golf:{path:!0,hole:!0,cartpath:!0},healthcare:{},historic:{},indoor:{wall:!0,corridor:!0},industrial:{},internet_access:{},junction:{},landuse:{},leisure:{track:!0,slipway:!0},man_made:{video_wall:!0,torii:!0,quay:!0,pipeline:!0,pier:!0,groyne:!0,goods_conveyor:!0,gantry:!0,embankment:!0,dyke:!0,cutline:!0,crane:!0,carpet_hanger:!0,breakwater:!0,yes:!0},military:{trench:!0},natural:{valley:!0,tree_row:!0,strait:!0,ridge:!0,coastline:!0,cliff:!0,bay:!0},office:{},pipeline:{},"piste:type":{sleigh:!0,sled:!0,skitour:!0,nordic:!0,ice_skate:!0,hike:!0,downhill:!0},place:{},playground:{zipwire:!0,water:!0,tunnel_tube:!0,swing:!0,structure:!0,slide:!0,seesaw:!0,horizontal_bar:!0,hopscotch:!0,climbingwall:!0,bridge:!0,basketswing:!0,balancebeam:!0,activitypanel:!0},police:{},polling_station:{},power:{portal:!0,minor_line:!0,line:!0,cable:!0},public_transport:{platform:!0},residential:{},"seamark:harbour:category":{},"seamark:type":{},shop:{},telecom:{},tourism:{attraction:!0,artwork:!0},traffic_calming:{rumble_strip:!0,mini_bumps:!0,island:!0,hump:!0,dip:!0,cushion:!0,choker:!0,chicane:!0,bump:!0,yes:!0},waterway:{weir:!0,tidal_channel:!0,stream:!0,river:!0,lock_gate:!0,fish_pass:!0,drain:!0,ditch:!0,dam:!0,canal:!0}}},{areaKeys:If}=Qx;function Hx(f){if(typeof f!="object")return!1;if(f.area==="yes")return!0;if(f.area==="no")return!1;for(let g in f)if(g in If&&!(f[g]in If[g]))return!0;return!1}var w9,Nf;function jg(){if(Nf)return w9;Nf=1;var f=Object.prototype.toString;return w9=function(y){var T=f.call(y),S=T==="[object Arguments]";return S||(S=T!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&f.call(y.callee)==="[object Function]"),S},w9}var S9,Df;function Zx(){if(Df)return S9;Df=1;var f;if(!Object.keys){var g=Object.prototype.hasOwnProperty,y=Object.prototype.toString,T=jg(),S=Object.prototype.propertyIsEnumerable,A=!S.call({toString:null},"toString"),w=S.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=function(O){var U=O.constructor;return U&&U.prototype===O},N={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},z=(function(){if(typeof window>"u")return!1;for(var O in window)try{if(!N["$"+O]&&g.call(window,O)&&window[O]!==null&&typeof window[O]=="object")try{P(window[O])}catch{return!0}}catch{return!0}return!1})(),C=function(O){if(typeof window>"u"||!z)return P(O);try{return P(O)}catch{return!1}};f=function(U){var G=U!==null&&typeof U=="object",j=y.call(U)==="[object Function]",F=T(U),q=G&&y.call(U)==="[object String]",V=[];if(!G&&!j&&!F)throw new TypeError("Object.keys called on a non-object");var H=w&&j;if(q&&U.length>0&&!g.call(U,0))for(var X=0;X<U.length;++X)V.push(String(X));if(F&&U.length>0)for(var fe=0;fe<U.length;++fe)V.push(String(fe));else for(var ae in U)!(H&&ae==="prototype")&&g.call(U,ae)&&V.push(String(ae));if(A)for(var he=C(U),xe=0;xe<o.length;++xe)!(he&&o[xe]==="constructor")&&g.call(U,o[xe])&&V.push(o[xe]);return V}}return S9=f,S9}var T9,Of;function Hh(){if(Of)return T9;Of=1;var f=Array.prototype.slice,g=jg(),y=Object.keys,T=y?function(w){return y(w)}:Zx(),S=Object.keys;return T.shim=function(){if(Object.keys){var w=(function(){var o=Object.keys(arguments);return o&&o.length===arguments.length})(1,2);w||(Object.keys=function(P){return g(P)?S(f.call(P)):S(P)})}else Object.keys=T;return Object.keys||T},T9=T,T9}var A9,Ff;function O7(){if(Ff)return A9;Ff=1;var f=Object.defineProperty||!1;if(f)try{f({},"a",{value:1})}catch{f=!1}return A9=f,A9}var E9,kf;function Zh(){return kf||(kf=1,E9=SyntaxError),E9}var M9,zf;function v1(){return zf||(zf=1,M9=TypeError),M9}var C9,Bf;function Xx(){return Bf||(Bf=1,C9=Object.getOwnPropertyDescriptor),C9}var P9,Lf;function T5(){if(Lf)return P9;Lf=1;var f=Xx();if(f)try{f([],"length")}catch{f=null}return P9=f,P9}var R9,Uf;function Xh(){if(Uf)return R9;Uf=1;var f=O7(),g=Zh(),y=v1(),T=T5();return R9=function(A,w,o){if(!A||typeof A!="object"&&typeof A!="function")throw new y("`obj` must be an object or a function`");if(typeof w!="string"&&typeof w!="symbol")throw new y("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new y("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new y("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new y("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new y("`loose`, if provided, must be a boolean");var P=arguments.length>3?arguments[3]:null,N=arguments.length>4?arguments[4]:null,z=arguments.length>5?arguments[5]:null,C=arguments.length>6?arguments[6]:!1,O=!!T&&T(A,w);if(f)f(A,w,{configurable:z===null&&O?O.configurable:!z,enumerable:P===null&&O?O.enumerable:!P,value:o,writable:N===null&&O?O.writable:!N});else if(C||!P&&!N&&!z)A[w]=o;else throw new g("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},R9}var I9,jf;function Yh(){if(jf)return I9;jf=1;var f=O7(),g=function(){return!!f};return g.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},I9=g,I9}var N9,Gf;function A5(){if(Gf)return N9;Gf=1;var f=Hh(),g=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",y=Object.prototype.toString,T=Array.prototype.concat,S=Xh(),A=function(N){return typeof N=="function"&&y.call(N)==="[object Function]"},w=Yh()(),o=function(N,z,C,O){if(z in N){if(O===!0){if(N[z]===C)return}else if(!A(O)||!O())return}w?S(N,z,C,!0):S(N,z,C)},P=function(N,z){var C=arguments.length>2?arguments[2]:{},O=f(z);g&&(O=T.call(O,Object.getOwnPropertySymbols(z)));for(var U=0;U<O.length;U+=1)o(N,O[U],z[O[U]],C[O[U]])};return P.supportsDescriptors=!!w,N9=P,N9}var D9={exports:{}},O9,Vf;function Wh(){return Vf||(Vf=1,O9=Object),O9}var F9,qf;function Gg(){return qf||(qf=1,F9=Error),F9}var k9,$f;function Yx(){return $f||($f=1,k9=EvalError),k9}var z9,Qf;function Wx(){return Qf||(Qf=1,z9=RangeError),z9}var B9,Hf;function Kx(){return Hf||(Hf=1,B9=ReferenceError),B9}var L9,Zf;function Jx(){return Zf||(Zf=1,L9=URIError),L9}var U9,Xf;function ew(){return Xf||(Xf=1,U9=Math.abs),U9}var j9,Yf;function tw(){return Yf||(Yf=1,j9=Math.floor),j9}var G9,Wf;function rw(){return Wf||(Wf=1,G9=Math.max),G9}var V9,Kf;function nw(){return Kf||(Kf=1,V9=Math.min),V9}var q9,Jf;function iw(){return Jf||(Jf=1,q9=Math.pow),q9}var $9,ep;function aw(){return ep||(ep=1,$9=Math.round),$9}var Q9,tp;function ow(){return tp||(tp=1,Q9=Number.isNaN||function(g){return g!==g}),Q9}var H9,rp;function sw(){if(rp)return H9;rp=1;var f=ow();return H9=function(y){return f(y)||y===0?y:y<0?-1:1},H9}var Z9,np;function F7(){return np||(np=1,Z9=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var g={},y=Symbol("test"),T=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(T)!=="[object Symbol]")return!1;var S=42;g[y]=S;for(var A in g)return!1;if(typeof Object.keys=="function"&&Object.keys(g).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(g).length!==0)return!1;var w=Object.getOwnPropertySymbols(g);if(w.length!==1||w[0]!==y||!Object.prototype.propertyIsEnumerable.call(g,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(g,y);if(o.value!==S||o.enumerable!==!0)return!1}return!0}),Z9}var X9,ip;function Kh(){if(ip)return X9;ip=1;var f=typeof Symbol<"u"&&Symbol,g=F7();return X9=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:g()},X9}var Y9,ap;function Vg(){return ap||(ap=1,Y9=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Y9}var W9,op;function qg(){if(op)return W9;op=1;var f=Wh();return W9=f.getPrototypeOf||null,W9}var K9,sp;function lw(){if(sp)return K9;sp=1;var f="Function.prototype.bind called on incompatible ",g=Object.prototype.toString,y=Math.max,T="[object Function]",S=function(P,N){for(var z=[],C=0;C<P.length;C+=1)z[C]=P[C];for(var O=0;O<N.length;O+=1)z[O+P.length]=N[O];return z},A=function(P,N){for(var z=[],C=N,O=0;C<P.length;C+=1,O+=1)z[O]=P[C];return z},w=function(o,P){for(var N="",z=0;z<o.length;z+=1)N+=o[z],z+1<o.length&&(N+=P);return N};return K9=function(P){var N=this;if(typeof N!="function"||g.apply(N)!==T)throw new TypeError(f+N);for(var z=A(arguments,1),C,O=function(){if(this instanceof C){var q=N.apply(this,S(z,arguments));return Object(q)===q?q:this}return N.apply(P,S(z,arguments))},U=y(0,N.length-z.length),G=[],j=0;j<U;j++)G[j]="$"+j;if(C=Function("binder","return function ("+w(G,",")+"){ return binder.apply(this,arguments); }")(O),N.prototype){var F=function(){};F.prototype=N.prototype,C.prototype=new F,F.prototype=null}return C},K9}var J9,lp;function R6(){if(lp)return J9;lp=1;var f=lw();return J9=Function.prototype.bind||f,J9}var e8,up;function Jh(){return up||(up=1,e8=Function.prototype.call),e8}var t8,cp;function ed(){return cp||(cp=1,t8=Function.prototype.apply),t8}var r8,hp;function uw(){return hp||(hp=1,r8=typeof Reflect<"u"&&Reflect&&Reflect.apply),r8}var n8,dp;function $g(){if(dp)return n8;dp=1;var f=R6(),g=ed(),y=Jh(),T=uw();return n8=T||f.call(y,g),n8}var i8,fp;function td(){if(fp)return i8;fp=1;var f=R6(),g=v1(),y=Jh(),T=$g();return i8=function(A){if(A.length<1||typeof A[0]!="function")throw new g("a function is required");return T(f,y,A)},i8}var a8,pp;function cw(){if(pp)return a8;pp=1;var f=td(),g=T5(),y;try{y=[].__proto__===Array.prototype}catch(w){if(!w||typeof w!="object"||!("code"in w)||w.code!=="ERR_PROTO_ACCESS")throw w}var T=!!y&&g&&g(Object.prototype,"__proto__"),S=Object,A=S.getPrototypeOf;return a8=T&&typeof T.get=="function"?f([T.get]):typeof A=="function"?function(o){return A(o==null?o:S(o))}:!1,a8}var o8,mp;function rd(){if(mp)return o8;mp=1;var f=Vg(),g=qg(),y=cw();return o8=f?function(S){return f(S)}:g?function(S){if(!S||typeof S!="object"&&typeof S!="function")throw new TypeError("getProto: not an object");return g(S)}:y?function(S){return y(S)}:null,o8}var s8,gp;function nd(){if(gp)return s8;gp=1;var f=Function.prototype.call,g=Object.prototype.hasOwnProperty,y=R6();return s8=y.call(f,g),s8}var l8,yp;function i4(){if(yp)return l8;yp=1;var f,g=Wh(),y=Gg(),T=Yx(),S=Wx(),A=Kx(),w=Zh(),o=v1(),P=Jx(),N=ew(),z=tw(),C=rw(),O=nw(),U=iw(),G=aw(),j=sw(),F=Function,q=function(ut){try{return F('"use strict"; return ('+ut+").constructor;")()}catch{}},V=T5(),H=O7(),X=function(){throw new o},fe=V?(function(){try{return arguments.callee,X}catch{try{return V(arguments,"callee").get}catch{return X}}})():X,ae=Kh()(),he=rd(),xe=qg(),ee=Vg(),Pe=ed(),we=Jh(),Fe={},et=typeof Uint8Array>"u"||!he?f:he(Uint8Array),Ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":ae&&he?he([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":Fe,"%AsyncGenerator%":Fe,"%AsyncGeneratorFunction%":Fe,"%AsyncIteratorPrototype%":Fe,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":y,"%eval%":eval,"%EvalError%":T,"%Float16Array%":typeof Float16Array>"u"?f:Float16Array,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":F,"%GeneratorFunction%":Fe,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ae&&he?he(he([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ae||!he?f:he(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":g,"%Object.getOwnPropertyDescriptor%":V,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":S,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ae||!he?f:he(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ae&&he?he(""[Symbol.iterator]()):f,"%Symbol%":ae?Symbol:f,"%SyntaxError%":w,"%ThrowTypeError%":fe,"%TypedArray%":et,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":P,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet,"%Function.prototype.call%":we,"%Function.prototype.apply%":Pe,"%Object.defineProperty%":H,"%Object.getPrototypeOf%":xe,"%Math.abs%":N,"%Math.floor%":z,"%Math.max%":C,"%Math.min%":O,"%Math.pow%":U,"%Math.round%":G,"%Math.sign%":j,"%Reflect.getPrototypeOf%":ee};if(he)try{null.error}catch(ut){var _t=he(he(ut));Ke["%Error.prototype%"]=_t}var Ne=function ut(qe){var Et;if(qe==="%AsyncFunction%")Et=q("async function () {}");else if(qe==="%GeneratorFunction%")Et=q("function* () {}");else if(qe==="%AsyncGeneratorFunction%")Et=q("async function* () {}");else if(qe==="%AsyncGenerator%"){var At=ut("%AsyncGeneratorFunction%");At&&(Et=At.prototype)}else if(qe==="%AsyncIteratorPrototype%"){var Gt=ut("%AsyncGenerator%");Gt&&he&&(Et=he(Gt.prototype))}return Ke[qe]=Et,Et},Te={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lt=R6(),Ze=nd(),Ct=lt.call(we,Array.prototype.concat),Ie=lt.call(Pe,Array.prototype.splice),rt=lt.call(we,String.prototype.replace),dt=lt.call(we,String.prototype.slice),$e=lt.call(we,RegExp.prototype.exec),ft=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mt=/\\(\\)?/g,me=function(qe){var Et=dt(qe,0,1),At=dt(qe,-1);if(Et==="%"&&At!=="%")throw new w("invalid intrinsic syntax, expected closing `%`");if(At==="%"&&Et!=="%")throw new w("invalid intrinsic syntax, expected opening `%`");var Gt=[];return rt(qe,ft,function(Jt,Kt,cr,tr){Gt[Gt.length]=cr?rt(tr,mt,"$1"):Kt||Jt}),Gt},ue=function(qe,Et){var At=qe,Gt;if(Ze(Te,At)&&(Gt=Te[At],At="%"+Gt[0]+"%"),Ze(Ke,At)){var Jt=Ke[At];if(Jt===Fe&&(Jt=Ne(At)),typeof Jt>"u"&&!Et)throw new o("intrinsic "+qe+" exists, but is not available. Please file an issue!");return{alias:Gt,name:At,value:Jt}}throw new w("intrinsic "+qe+" does not exist!")};return l8=function(qe,Et){if(typeof qe!="string"||qe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Et!="boolean")throw new o('"allowMissing" argument must be a boolean');if($e(/^%?[^%]*%?$/,qe)===null)throw new w("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var At=me(qe),Gt=At.length>0?At[0]:"",Jt=ue("%"+Gt+"%",Et),Kt=Jt.name,cr=Jt.value,tr=!1,ur=Jt.alias;ur&&(Gt=ur[0],Ie(At,Ct([0,1],ur)));for(var Hr=1,be=!0;Hr<At.length;Hr+=1){var te=At[Hr],ie=dt(te,0,1),ke=dt(te,-1);if((ie==='"'||ie==="'"||ie==="`"||ke==='"'||ke==="'"||ke==="`")&&ie!==ke)throw new w("property names with quotes must have matching quotes");if((te==="constructor"||!be)&&(tr=!0),Gt+="."+te,Kt="%"+Gt+"%",Ze(Ke,Kt))cr=Ke[Kt];else if(cr!=null){if(!(te in cr)){if(!Et)throw new o("base intrinsic for "+qe+" exists, but the property is not available.");return}if(V&&Hr+1>=At.length){var it=V(cr,te);be=!!it,be&&"get"in it&&!("originalValue"in it.get)?cr=it.get:cr=cr[te]}else be=Ze(cr,te),cr=cr[te];be&&!tr&&(Ke[Kt]=cr)}}return cr},l8}var u8,_p;function hw(){if(_p)return u8;_p=1;var f=i4(),g=Xh(),y=Yh()(),T=T5(),S=v1(),A=f("%Math.floor%");return u8=function(o,P){if(typeof o!="function")throw new S("`fn` is not a function");if(typeof P!="number"||P<0||P>4294967295||A(P)!==P)throw new S("`length` must be a positive 32-bit integer");var N=arguments.length>2&&!!arguments[2],z=!0,C=!0;if("length"in o&&T){var O=T(o,"length");O&&!O.configurable&&(z=!1),O&&!O.writable&&(C=!1)}return(z||C||!N)&&(y?g(o,"length",P,!0,!0):g(o,"length",P)),o},u8}var c8,vp;function dw(){if(vp)return c8;vp=1;var f=R6(),g=ed(),y=$g();return c8=function(){return y(f,g,arguments)},c8}var bp;function t0(){return bp||(bp=1,(function(f){var g=hw(),y=O7(),T=td(),S=dw();f.exports=function(w){var o=T(arguments),P=w.length-(arguments.length-1);return g(o,1+(P>0?P:0),!0)},y?y(f.exports,"apply",{value:S}):f.exports.apply=S})(D9)),D9.exports}var h8,xp;function Ao(){if(xp)return h8;xp=1;var f=i4(),g=td(),y=g([f("%String.prototype.indexOf%")]);return h8=function(S,A){var w=f(S,!!A);return typeof w=="function"&&y(S,".prototype.")>-1?g([w]):w},h8}var d8,wp;function Qg(){if(wp)return d8;wp=1;var f=Hh(),g=F7()(),y=Ao(),T=Wh(),S=y("Array.prototype.push"),A=y("Object.prototype.propertyIsEnumerable"),w=g?T.getOwnPropertySymbols:null;return d8=function(P,N){if(P==null)throw new TypeError("target must be an object");var z=T(P);if(arguments.length===1)return z;for(var C=1;C<arguments.length;++C){var O=T(arguments[C]),U=f(O),G=g&&(T.getOwnPropertySymbols||w);if(G)for(var j=G(O),F=0;F<j.length;++F){var q=j[F];A(O,q)&&S(U,q)}for(var V=0;V<U.length;++V){var H=U[V];if(A(O,H)){var X=O[H];z[H]=X}}}return z},d8}var f8,Sp;function Hg(){if(Sp)return f8;Sp=1;var f=Qg(),g=function(){if(!Object.assign)return!1;for(var T="abcdefghijklmnopqrst",S=T.split(""),A={},w=0;w<S.length;++w)A[S[w]]=S[w];var o=Object.assign({},A),P="";for(var N in o)P+=N;return T!==P},y=function(){if(!Object.assign||!Object.preventExtensions)return!1;var T=Object.preventExtensions({1:2});try{Object.assign(T,"xy")}catch{return T[1]==="y"}return!1};return f8=function(){return!Object.assign||g()||y()?f:Object.assign},f8}var p8,Tp;function fw(){if(Tp)return p8;Tp=1;var f=A5(),g=Hg();return p8=function(){var T=g();return f(Object,{assign:T},{assign:function(){return Object.assign!==T}}),T},p8}var m8,Ap;function pw(){if(Ap)return m8;Ap=1;var f=A5(),g=t0(),y=Qg(),T=Hg(),S=fw(),A=g.apply(T()),w=function(P,N){return A(Object,arguments)};return f(w,{getPolyfill:T,implementation:y,shim:S}),m8=w,m8}var g8,Ep;function Zg(){if(Ep)return g8;Ep=1;var f=i4(),g=t0(),y=g(f("String.prototype.indexOf"));return g8=function(S,A){var w=f(S,!!A);return typeof w=="function"&&y(S,".prototype.")>-1?g(w):w},g8}var y8,Mp;function mw(){if(Mp)return y8;Mp=1;var f=function(){return typeof(function(){}).name=="string"},g=Object.getOwnPropertyDescriptor;if(g)try{g([],"length")}catch{g=null}f.functionsHaveConfigurableNames=function(){if(!f()||!g)return!1;var S=g(function(){},"name");return!!S&&!!S.configurable};var y=Function.prototype.bind;return f.boundFunctionsHaveNames=function(){return f()&&typeof y=="function"&&(function(){}).bind().name!==""},y8=f,y8}var _8,Cp;function gw(){if(Cp)return _8;Cp=1;var f=Xh(),g=Yh()(),y=mw().functionsHaveConfigurableNames(),T=v1();return _8=function(A,w){if(typeof A!="function")throw new T("`fn` is not a function");var o=arguments.length>2&&!!arguments[2];return(!o||y)&&(g?f(A,"name",w,!0,!0):f(A,"name",w)),A},_8}var v8,Pp;function Xg(){if(Pp)return v8;Pp=1;var f=gw(),g=v1(),y=Object;return v8=f(function(){if(this==null||this!==y(this))throw new g("RegExp.prototype.flags getter called on non-object");var S="";return this.hasIndices&&(S+="d"),this.global&&(S+="g"),this.ignoreCase&&(S+="i"),this.multiline&&(S+="m"),this.dotAll&&(S+="s"),this.unicode&&(S+="u"),this.unicodeSets&&(S+="v"),this.sticky&&(S+="y"),S},"get flags",!0),v8}var b8,Rp;function Yg(){if(Rp)return b8;Rp=1;var f=Xg(),g=A5().supportsDescriptors,y=Object.getOwnPropertyDescriptor;return b8=function(){if(g&&/a/mig.flags==="gim"){var S=y(RegExp.prototype,"flags");if(S&&typeof S.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var A="",w={};if(Object.defineProperty(w,"hasIndices",{get:function(){A+="d"}}),Object.defineProperty(w,"sticky",{get:function(){A+="y"}}),S.get.call(w),A==="dy")return S.get}}return f},b8}var x8,Ip;function yw(){if(Ip)return x8;Ip=1;var f=A5().supportsDescriptors,g=Yg(),y=T5(),T=Object.defineProperty,S=Gg(),A=rd(),w=/a/;return x8=function(){if(!f||!A)throw new S("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var P=g(),N=A(w),z=y(N,"flags");return(!z||z.get!==P)&&T(N,"flags",{configurable:!0,enumerable:!1,get:P}),P},x8}var w8,Np;function _w(){if(Np)return w8;Np=1;var f=A5(),g=t0(),y=Xg(),T=Yg(),S=yw(),A=g(T());return f(A,{getPolyfill:T,implementation:y,shim:S}),w8=A,w8}var m6={exports:{}},S8,Dp;function E5(){if(Dp)return S8;Dp=1;var f=F7();return S8=function(){return f()&&!!Symbol.toStringTag},S8}var T8,Op;function Wg(){if(Op)return T8;Op=1;var f=E5()(),g=Ao(),y=g("Object.prototype.toString"),T=function(o){return f&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:y(o)==="[object Arguments]"},S=function(o){return T(o)?!0:o!==null&&typeof o=="object"&&"length"in o&&typeof o.length=="number"&&o.length>=0&&y(o)!=="[object Array]"&&"callee"in o&&y(o.callee)==="[object Function]"},A=(function(){return T(arguments)})();return T.isLegacyArguments=S,T8=A?T:S,T8}var A8,Fp;function k7(){if(Fp)return A8;Fp=1;var f=typeof Map=="function"&&Map.prototype,g=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=f&&g&&typeof g.get=="function"?g.get:null,T=f&&Map.prototype.forEach,S=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,w=S&&A&&typeof A.get=="function"?A.get:null,o=S&&Set.prototype.forEach,P=typeof WeakMap=="function"&&WeakMap.prototype,N=P?WeakMap.prototype.has:null,z=typeof WeakSet=="function"&&WeakSet.prototype,C=z?WeakSet.prototype.has:null,O=typeof WeakRef=="function"&&WeakRef.prototype,U=O?WeakRef.prototype.deref:null,G=Boolean.prototype.valueOf,j=Object.prototype.toString,F=Function.prototype.toString,q=String.prototype.match,V=String.prototype.slice,H=String.prototype.replace,X=String.prototype.toUpperCase,fe=String.prototype.toLowerCase,ae=RegExp.prototype.test,he=Array.prototype.concat,xe=Array.prototype.join,ee=Array.prototype.slice,Pe=Math.floor,we=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fe=Object.getOwnPropertySymbols,et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_t=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ke||!0)?Symbol.toStringTag:null,Ne=Object.prototype.propertyIsEnumerable,Te=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Me){return Me.__proto__}:null);function lt(Me,Oe){if(Me===1/0||Me===-1/0||Me!==Me||Me&&Me>-1e3&&Me<1e3||ae.call(/e/,Oe))return Oe;var Ot=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Me=="number"){var $t=Me<0?-Pe(-Me):Pe(Me);if($t!==Me){var Qt=String($t),Xt=V.call(Oe,Qt.length+1);return H.call(Qt,Ot,"$&_")+"."+H.call(H.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return H.call(Oe,Ot,"$&_")}var Ze=Sh,Ct=Ze.custom,Ie=Jt(Ct)?Ct:null,rt={__proto__:null,double:'"',single:"'"},dt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};A8=function Me(Oe,Ot,$t,Qt){var Xt=Ot||{};if(tr(Xt,"quoteStyle")&&!tr(rt,Xt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tr(Xt,"maxStringLength")&&(typeof Xt.maxStringLength=="number"?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:Xt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var hr=tr(Xt,"customInspect")?Xt.customInspect:!0;if(typeof hr!="boolean"&&hr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tr(Xt,"indent")&&Xt.indent!==null&&Xt.indent!=="	"&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tr(Xt,"numericSeparator")&&typeof Xt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ct=Xt.numericSeparator;if(typeof Oe>"u")return"undefined";if(Oe===null)return"null";if(typeof Oe=="boolean")return Oe?"true":"false";if(typeof Oe=="string")return le(Oe,Xt);if(typeof Oe=="number"){if(Oe===0)return 1/0/Oe>0?"0":"-0";var gr=String(Oe);return ct?lt(Oe,gr):gr}if(typeof Oe=="bigint"){var tn=String(Oe)+"n";return ct?lt(Oe,tn):tn}var vr=typeof Xt.depth>"u"?5:Xt.depth;if(typeof $t>"u"&&($t=0),$t>=vr&&vr>0&&typeof Oe=="object")return me(Oe)?"[Array]":"[Object]";var Mr=ot(Xt,$t);if(typeof Qt>"u")Qt=[];else if(be(Qt,Oe)>=0)return"[Circular]";function Kr(oi,yr,ca){if(yr&&(Qt=ee.call(Qt),Qt.push(yr)),ca){var lr={depth:Xt.depth};return tr(Xt,"quoteStyle")&&(lr.quoteStyle=Xt.quoteStyle),Me(oi,lr,$t+1,Qt)}return Me(oi,Xt,$t+1,Qt)}if(typeof Oe=="function"&&!ut(Oe)){var Ur=Hr(Oe),zr=st(Oe,Kr);return"[Function"+(Ur?": "+Ur:" (anonymous)")+"]"+(zr.length>0?" { "+xe.call(zr,", ")+" }":"")}if(Jt(Oe)){var Zr=Ke?H.call(String(Oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):et.call(Oe);return typeof Oe=="object"&&!Ke?ge(Zr):Zr}if(Re(Oe)){for(var Pr="<"+fe.call(String(Oe.nodeName)),ua=Oe.attributes||[],Fi=0;Fi<ua.length;Fi++)Pr+=" "+ua[Fi].name+"="+$e(ft(ua[Fi].value),"double",Xt);return Pr+=">",Oe.childNodes&&Oe.childNodes.length&&(Pr+="..."),Pr+="</"+fe.call(String(Oe.nodeName))+">",Pr}if(me(Oe)){if(Oe.length===0)return"[]";var Ft=st(Oe,Kr);return Mr&&!ht(Ft)?"["+Ye(Ft,Mr)+"]":"[ "+xe.call(Ft,", ")+" ]"}if(qe(Oe)){var Nn=st(Oe,Kr);return!("cause"in Error.prototype)&&"cause"in Oe&&!Ne.call(Oe,"cause")?"{ ["+String(Oe)+"] "+xe.call(he.call("[cause]: "+Kr(Oe.cause),Nn),", ")+" }":Nn.length===0?"["+String(Oe)+"]":"{ ["+String(Oe)+"] "+xe.call(Nn,", ")+" }"}if(typeof Oe=="object"&&hr){if(Ie&&typeof Oe[Ie]=="function"&&Ze)return Ze(Oe,{depth:vr-$t});if(hr!=="symbol"&&typeof Oe.inspect=="function")return Oe.inspect()}if(te(Oe)){var Fn=[];return T&&T.call(Oe,function(oi,yr){Fn.push(Kr(yr,Oe,!0)+" => "+Kr(oi,Oe))}),De("Map",y.call(Oe),Fn,Mr)}if(it(Oe)){var wi=[];return o&&o.call(Oe,function(oi){wi.push(Kr(oi,Oe))}),De("Set",w.call(Oe),wi,Mr)}if(ie(Oe))return Ue("WeakMap");if(It(Oe))return Ue("WeakSet");if(ke(Oe))return Ue("WeakRef");if(At(Oe))return ge(Kr(Number(Oe)));if(Kt(Oe))return ge(Kr(we.call(Oe)));if(Gt(Oe))return ge(G.call(Oe));if(Et(Oe))return ge(Kr(String(Oe)));if(typeof window<"u"&&Oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Oe===globalThis||typeof s7<"u"&&Oe===s7)return"{ [object globalThis] }";if(!ue(Oe)&&!ut(Oe)){var Yr=st(Oe,Kr),Lt=Te?Te(Oe)===Object.prototype:Oe instanceof Object||Oe.constructor===Object,dr=Oe instanceof Object?"":"null prototype",wr=!Lt&&_t&&Object(Oe)===Oe&&_t in Oe?V.call(ur(Oe),8,-1):dr?"Object":"",Si=Lt||typeof Oe.constructor!="function"?"":Oe.constructor.name?Oe.constructor.name+" ":"",za=Si+(wr||dr?"["+xe.call(he.call([],wr||[],dr||[]),": ")+"] ":"");return Yr.length===0?za+"{}":Mr?za+"{"+Ye(Yr,Mr)+"}":za+"{ "+xe.call(Yr,", ")+" }"}return String(Oe)};function $e(Me,Oe,Ot){var $t=Ot.quoteStyle||Oe,Qt=rt[$t];return Qt+Me+Qt}function ft(Me){return H.call(String(Me),/"/g,"&quot;")}function mt(Me){return!_t||!(typeof Me=="object"&&(_t in Me||typeof Me[_t]<"u"))}function me(Me){return ur(Me)==="[object Array]"&&mt(Me)}function ue(Me){return ur(Me)==="[object Date]"&&mt(Me)}function ut(Me){return ur(Me)==="[object RegExp]"&&mt(Me)}function qe(Me){return ur(Me)==="[object Error]"&&mt(Me)}function Et(Me){return ur(Me)==="[object String]"&&mt(Me)}function At(Me){return ur(Me)==="[object Number]"&&mt(Me)}function Gt(Me){return ur(Me)==="[object Boolean]"&&mt(Me)}function Jt(Me){if(Ke)return Me&&typeof Me=="object"&&Me instanceof Symbol;if(typeof Me=="symbol")return!0;if(!Me||typeof Me!="object"||!et)return!1;try{return et.call(Me),!0}catch{}return!1}function Kt(Me){if(!Me||typeof Me!="object"||!we)return!1;try{return we.call(Me),!0}catch{}return!1}var cr=Object.prototype.hasOwnProperty||function(Me){return Me in this};function tr(Me,Oe){return cr.call(Me,Oe)}function ur(Me){return j.call(Me)}function Hr(Me){if(Me.name)return Me.name;var Oe=q.call(F.call(Me),/^function\s*([\w$]+)/);return Oe?Oe[1]:null}function be(Me,Oe){if(Me.indexOf)return Me.indexOf(Oe);for(var Ot=0,$t=Me.length;Ot<$t;Ot++)if(Me[Ot]===Oe)return Ot;return-1}function te(Me){if(!y||!Me||typeof Me!="object")return!1;try{y.call(Me);try{w.call(Me)}catch{return!0}return Me instanceof Map}catch{}return!1}function ie(Me){if(!N||!Me||typeof Me!="object")return!1;try{N.call(Me,N);try{C.call(Me,C)}catch{return!0}return Me instanceof WeakMap}catch{}return!1}function ke(Me){if(!U||!Me||typeof Me!="object")return!1;try{return U.call(Me),!0}catch{}return!1}function it(Me){if(!w||!Me||typeof Me!="object")return!1;try{w.call(Me);try{y.call(Me)}catch{return!0}return Me instanceof Set}catch{}return!1}function It(Me){if(!C||!Me||typeof Me!="object")return!1;try{C.call(Me,C);try{N.call(Me,N)}catch{return!0}return Me instanceof WeakSet}catch{}return!1}function Re(Me){return!Me||typeof Me!="object"?!1:typeof HTMLElement<"u"&&Me instanceof HTMLElement?!0:typeof Me.nodeName=="string"&&typeof Me.getAttribute=="function"}function le(Me,Oe){if(Me.length>Oe.maxStringLength){var Ot=Me.length-Oe.maxStringLength,$t="... "+Ot+" more character"+(Ot>1?"s":"");return le(V.call(Me,0,Oe.maxStringLength),Oe)+$t}var Qt=dt[Oe.quoteStyle||"single"];Qt.lastIndex=0;var Xt=H.call(H.call(Me,Qt,"\\$1"),/[\x00-\x1f]/g,de);return $e(Xt,"single",Oe)}function de(Me){var Oe=Me.charCodeAt(0),Ot={8:"b",9:"t",10:"n",12:"f",13:"r"}[Oe];return Ot?"\\"+Ot:"\\x"+(Oe<16?"0":"")+X.call(Oe.toString(16))}function ge(Me){return"Object("+Me+")"}function Ue(Me){return Me+" { ? }"}function De(Me,Oe,Ot,$t){var Qt=$t?Ye(Ot,$t):xe.call(Ot,", ");return Me+" ("+Oe+") {"+Qt+"}"}function ht(Me){for(var Oe=0;Oe<Me.length;Oe++)if(be(Me[Oe],`
`)>=0)return!1;return!0}function ot(Me,Oe){var Ot;if(Me.indent==="	")Ot="	";else if(typeof Me.indent=="number"&&Me.indent>0)Ot=xe.call(Array(Me.indent+1)," ");else return null;return{base:Ot,prev:xe.call(Array(Oe+1),Ot)}}function Ye(Me,Oe){if(Me.length===0)return"";var Ot=`
`+Oe.prev+Oe.base;return Ot+xe.call(Me,","+Ot)+`
`+Oe.prev}function st(Me,Oe){var Ot=me(Me),$t=[];if(Ot){$t.length=Me.length;for(var Qt=0;Qt<Me.length;Qt++)$t[Qt]=tr(Me,Qt)?Oe(Me[Qt],Me):""}var Xt=typeof Fe=="function"?Fe(Me):[],hr;if(Ke){hr={};for(var ct=0;ct<Xt.length;ct++)hr["$"+Xt[ct]]=Xt[ct]}for(var gr in Me)tr(Me,gr)&&(Ot&&String(Number(gr))===gr&&gr<Me.length||Ke&&hr["$"+gr]instanceof Symbol||(ae.call(/[^\w$]/,gr)?$t.push(Oe(gr,Me)+": "+Oe(Me[gr],Me)):$t.push(gr+": "+Oe(Me[gr],Me))));if(typeof Fe=="function")for(var tn=0;tn<Xt.length;tn++)Ne.call(Me,Xt[tn])&&$t.push("["+Oe(Xt[tn])+"]: "+Oe(Me[Xt[tn]],Me));return $t}return A8}var E8,kp;function vw(){if(kp)return E8;kp=1;var f=k7(),g=v1(),y=function(o,P,N){for(var z=o,C;(C=z.next)!=null;z=C)if(C.key===P)return z.next=C.next,N||(C.next=o.next,o.next=C),C},T=function(o,P){if(o){var N=y(o,P);return N&&N.value}},S=function(o,P,N){var z=y(o,P);z?z.value=N:o.next={key:P,next:o.next,value:N}},A=function(o,P){return o?!!y(o,P):!1},w=function(o,P){if(o)return y(o,P,!0)};return E8=function(){var P,N={assert:function(z){if(!N.has(z))throw new g("Side channel does not contain "+f(z))},delete:function(z){var C=P&&P.next,O=w(P,z);return O&&C&&C===O&&(P=void 0),!!O},get:function(z){return T(P,z)},has:function(z){return A(P,z)},set:function(z,C){P||(P={next:void 0}),S(P,z,C)}};return N},E8}var M8,zp;function Kg(){if(zp)return M8;zp=1;var f=i4(),g=Ao(),y=k7(),T=v1(),S=f("%Map%",!0),A=g("Map.prototype.get",!0),w=g("Map.prototype.set",!0),o=g("Map.prototype.has",!0),P=g("Map.prototype.delete",!0),N=g("Map.prototype.size",!0);return M8=!!S&&function(){var C,O={assert:function(U){if(!O.has(U))throw new T("Side channel does not contain "+y(U))},delete:function(U){if(C){var G=P(C,U);return N(C)===0&&(C=void 0),G}return!1},get:function(U){if(C)return A(C,U)},has:function(U){return C?o(C,U):!1},set:function(U,G){C||(C=new S),w(C,U,G)}};return O},M8}var C8,Bp;function bw(){if(Bp)return C8;Bp=1;var f=i4(),g=Ao(),y=k7(),T=Kg(),S=v1(),A=f("%WeakMap%",!0),w=g("WeakMap.prototype.get",!0),o=g("WeakMap.prototype.set",!0),P=g("WeakMap.prototype.has",!0),N=g("WeakMap.prototype.delete",!0);return C8=A?function(){var C,O,U={assert:function(G){if(!U.has(G))throw new S("Side channel does not contain "+y(G))},delete:function(G){if(A&&G&&(typeof G=="object"||typeof G=="function")){if(C)return N(C,G)}else if(T&&O)return O.delete(G);return!1},get:function(G){return A&&G&&(typeof G=="object"||typeof G=="function")&&C?w(C,G):O&&O.get(G)},has:function(G){return A&&G&&(typeof G=="object"||typeof G=="function")&&C?P(C,G):!!O&&O.has(G)},set:function(G,j){A&&G&&(typeof G=="object"||typeof G=="function")?(C||(C=new A),o(C,G,j)):T&&(O||(O=T()),O.set(G,j))}};return U}:T,C8}var P8,Lp;function Jg(){if(Lp)return P8;Lp=1;var f=v1(),g=k7(),y=vw(),T=Kg(),S=bw(),A=S||T||y;return P8=function(){var o,P={assert:function(N){if(!P.has(N))throw new f("Side channel does not contain "+g(N))},delete:function(N){return!!o&&o.delete(N)},get:function(N){return o&&o.get(N)},has:function(N){return!!o&&o.has(N)},set:function(N,z){o||(o=A()),o.set(N,z)}};return P},P8}var R8,Up;function xw(){if(Up)return R8;Up=1;var f=nd(),g=Jg()(),y=v1(),T={assert:function(S,A){if(!S||typeof S!="object"&&typeof S!="function")throw new y("`O` is not an object");if(typeof A!="string")throw new y("`slot` must be a string");if(g.assert(S),!T.has(S,A))throw new y("`"+A+"` is not present on `O`")},get:function(S,A){if(!S||typeof S!="object"&&typeof S!="function")throw new y("`O` is not an object");if(typeof A!="string")throw new y("`slot` must be a string");var w=g.get(S);return w&&w["$"+A]},has:function(S,A){if(!S||typeof S!="object"&&typeof S!="function")throw new y("`O` is not an object");if(typeof A!="string")throw new y("`slot` must be a string");var w=g.get(S);return!!w&&f(w,"$"+A)},set:function(S,A,w){if(!S||typeof S!="object"&&typeof S!="function")throw new y("`O` is not an object");if(typeof A!="string")throw new y("`slot` must be a string");var o=g.get(S);o||(o={},g.set(S,o)),o["$"+A]=w}};return Object.freeze&&Object.freeze(T),R8=T,R8}var I8,jp;function ww(){if(jp)return I8;jp=1;var f=xw(),g=Zh(),y=typeof StopIteration=="object"?StopIteration:null;return I8=function(S){if(!y)throw new g("this environment lacks StopIteration");f.set(S,"[[Done]]",!1);var A={next:function(){var o=f.get(this,"[[Iterator]]"),P=!!f.get(o,"[[Done]]");try{return{done:P,value:P?void 0:o.next()}}catch(N){if(f.set(o,"[[Done]]",!0),N!==y)throw N;return{done:!0,value:void 0}}}};return f.set(A,"[[Iterator]]",S),A},I8}var N8,Gp;function ey(){if(Gp)return N8;Gp=1;var f={}.toString;return N8=Array.isArray||function(g){return f.call(g)=="[object Array]"},N8}var D8,Vp;function ty(){if(Vp)return D8;Vp=1;var f=Ao(),g=f("String.prototype.valueOf"),y=function(o){try{return g(o),!0}catch{return!1}},T=f("Object.prototype.toString"),S="[object String]",A=E5()();return D8=function(o){return typeof o=="string"?!0:!o||typeof o!="object"?!1:A?y(o):T(o)===S},D8}var O8,qp;function ry(){if(qp)return O8;qp=1;var f=typeof Map=="function"&&Map.prototype?Map:null,g=typeof Set=="function"&&Set.prototype?Set:null,y;f||(y=function(w){return!1});var T=f?Map.prototype.has:null,S=g?Set.prototype.has:null;return!y&&!T&&(y=function(w){return!1}),O8=y||function(w){if(!w||typeof w!="object")return!1;try{if(T.call(w),S)try{S.call(w)}catch{return!0}return w instanceof f}catch{}return!1},O8}var F8,$p;function ny(){if($p)return F8;$p=1;var f=typeof Map=="function"&&Map.prototype?Map:null,g=typeof Set=="function"&&Set.prototype?Set:null,y;g||(y=function(w){return!1});var T=f?Map.prototype.has:null,S=g?Set.prototype.has:null;return!y&&!S&&(y=function(w){return!1}),F8=y||function(w){if(!w||typeof w!="object")return!1;try{if(S.call(w),T)try{T.call(w)}catch{return!0}return w instanceof g}catch{}return!1},F8}var Qp;function Sw(){if(Qp)return m6.exports;Qp=1;var f=Wg(),g=ww();if(Kh()()||F7()()){var y=Symbol.iterator;m6.exports=function(ee){if(ee!=null&&typeof ee[y]<"u")return ee[y]();if(f(ee))return Array.prototype[y].call(ee)}}else{var T=ey(),S=ty(),A=i4(),w=A("%Map%",!0),o=A("%Set%",!0),P=Zg(),N=P("Array.prototype.push"),z=P("String.prototype.charCodeAt"),C=P("String.prototype.slice"),O=function(ee,Pe){var we=ee.length;if(Pe+1>=we)return Pe+1;var Fe=z(ee,Pe);if(Fe<55296||Fe>56319)return Pe+1;var et=z(ee,Pe+1);return et<56320||et>57343?Pe+1:Pe+2},U=function(ee){var Pe=0;return{next:function(){var Fe=Pe>=ee.length,et;return Fe||(et=ee[Pe],Pe+=1),{done:Fe,value:et}}}},G=function(ee,Pe){if(T(ee)||f(ee))return U(ee);if(S(ee)){var we=0;return{next:function(){var et=O(ee,we),Ke=C(ee,we,et);return we=et,{done:et>ee.length,value:Ke}}}}if(Pe&&typeof ee["_es6-shim iterator_"]<"u")return ee["_es6-shim iterator_"]()};if(!w&&!o)m6.exports=function(ee){if(ee!=null)return G(ee,!0)};else{var j=ry(),F=ny(),q=P("Map.prototype.forEach",!0),V=P("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var H=P("Map.prototype.iterator",!0),X=P("Set.prototype.iterator",!0);var fe=P("Map.prototype.@@iterator",!0)||P("Map.prototype._es6-shim iterator_",!0),ae=P("Set.prototype.@@iterator",!0)||P("Set.prototype._es6-shim iterator_",!0),he=function(ee){if(j(ee)){if(H)return g(H(ee));if(fe)return fe(ee);if(q){var Pe=[];return q(ee,function(Fe,et){N(Pe,[et,Fe])}),U(Pe)}}if(F(ee)){if(X)return g(X(ee));if(ae)return ae(ee);if(V){var we=[];return V(ee,function(Fe){N(we,Fe)}),U(we)}}};m6.exports=function(ee){return he(ee)||G(ee)}}}return m6.exports}var k8,Hp;function iy(){if(Hp)return k8;Hp=1;var f=function(g){return g!==g};return k8=function(y,T){return y===0&&T===0?1/y===1/T:!!(y===T||f(y)&&f(T))},k8}var z8,Zp;function ay(){if(Zp)return z8;Zp=1;var f=iy();return z8=function(){return typeof Object.is=="function"?Object.is:f},z8}var B8,Xp;function Tw(){if(Xp)return B8;Xp=1;var f=ay(),g=A5();return B8=function(){var T=f();return g(Object,{is:T},{is:function(){return Object.is!==T}}),T},B8}var L8,Yp;function Aw(){if(Yp)return L8;Yp=1;var f=A5(),g=t0(),y=iy(),T=ay(),S=Tw(),A=g(T(),Object);return f(A,{getPolyfill:T,implementation:y,shim:S}),L8=A,L8}var U8,Wp;function oy(){if(Wp)return U8;Wp=1;var f=t0(),g=Ao(),y=i4(),T=y("%ArrayBuffer%",!0),S=g("ArrayBuffer.prototype.byteLength",!0),A=g("Object.prototype.toString"),w=!!T&&!S&&new T(0).slice,o=!!w&&f(w);return U8=S||o?function(N){if(!N||typeof N!="object")return!1;try{return S?S(N):o(N,0),!0}catch{return!1}}:T?function(N){return A(N)==="[object ArrayBuffer]"}:function(N){return!1},U8}var j8,Kp;function Ew(){if(Kp)return j8;Kp=1;var f=Ao(),g=f("Date.prototype.getDay"),y=function(o){try{return g(o),!0}catch{return!1}},T=f("Object.prototype.toString"),S="[object Date]",A=E5()();return j8=function(o){return typeof o!="object"||o===null?!1:A?y(o):T(o)===S},j8}var G8,Jp;function sy(){if(Jp)return G8;Jp=1;var f=Ao(),g=E5()(),y=nd(),T=T5(),S;if(g){var A=f("RegExp.prototype.exec"),w={},o=function(){throw w},P={toString:o,valueOf:o};typeof Symbol.toPrimitive=="symbol"&&(P[Symbol.toPrimitive]=o),S=function(O){if(!O||typeof O!="object")return!1;var U=T(O,"lastIndex"),G=U&&y(U,"value");if(!G)return!1;try{A(O,P)}catch(j){return j===w}}}else{var N=f("Object.prototype.toString"),z="[object RegExp]";S=function(O){return!O||typeof O!="object"&&typeof O!="function"?!1:N(O)===z}}return G8=S,G8}var V8,em;function Mw(){if(em)return V8;em=1;var f=Ao(),g=f("SharedArrayBuffer.prototype.byteLength",!0);return V8=g?function(T){if(!T||typeof T!="object")return!1;try{return g(T),!0}catch{return!1}}:function(T){return!1},V8}var q8,tm;function Cw(){if(tm)return q8;tm=1;var f=Ao(),g=f("Number.prototype.toString"),y=function(o){try{return g(o),!0}catch{return!1}},T=f("Object.prototype.toString"),S="[object Number]",A=E5()();return q8=function(o){return typeof o=="number"?!0:!o||typeof o!="object"?!1:A?y(o):T(o)===S},q8}var $8,rm;function Pw(){if(rm)return $8;rm=1;var f=Ao(),g=f("Boolean.prototype.toString"),y=f("Object.prototype.toString"),T=function(o){try{return g(o),!0}catch{return!1}},S="[object Boolean]",A=E5()();return $8=function(o){return typeof o=="boolean"?!0:o===null||typeof o!="object"?!1:A?T(o):y(o)===S},$8}var qc={exports:{}},Q8,nm;function Rw(){if(nm)return Q8;nm=1;var f=Ao(),g=sy(),y=f("RegExp.prototype.exec"),T=v1();return Q8=function(A){if(!g(A))throw new T("`regex` must be a RegExp");return function(o){return y(A,o)!==null}},Q8}var im;function Iw(){if(im)return qc.exports;im=1;var f=Ao(),g=f("Object.prototype.toString"),y=Kh()(),T=Rw();if(y){var S=f("Symbol.prototype.toString"),A=T(/^Symbol\(.*\)$/),w=function(P){return typeof P.valueOf()!="symbol"?!1:A(S(P))};qc.exports=function(P){if(typeof P=="symbol")return!0;if(!P||typeof P!="object"||g(P)!=="[object Symbol]")return!1;try{return w(P)}catch{return!1}}}else qc.exports=function(P){return!1};return qc.exports}var $c={exports:{}},H8,am;function Nw(){if(am)return H8;am=1;var f=typeof BigInt<"u"&&BigInt;return H8=function(){return typeof f=="function"&&typeof BigInt=="function"&&typeof f(42)=="bigint"&&typeof BigInt(42)=="bigint"},H8}var om;function Dw(){if(om)return $c.exports;om=1;var f=Nw()();if(f){var g=BigInt.prototype.valueOf,y=function(S){try{return g.call(S),!0}catch{}return!1};$c.exports=function(S){return S===null||typeof S>"u"||typeof S=="boolean"||typeof S=="string"||typeof S=="number"||typeof S=="symbol"||typeof S=="function"?!1:typeof S=="bigint"?!0:y(S)}}else $c.exports=function(S){return!1};return $c.exports}var Z8,sm;function Ow(){if(sm)return Z8;sm=1;var f=ty(),g=Cw(),y=Pw(),T=Iw(),S=Dw();return Z8=function(w){if(w==null||typeof w!="object"&&typeof w!="function")return null;if(f(w))return"String";if(g(w))return"Number";if(y(w))return"Boolean";if(T(w))return"Symbol";if(S(w))return"BigInt"},Z8}var X8,lm;function Fw(){if(lm)return X8;lm=1;var f=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,g=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,y;f||(y=function(w){return!1});var T=f?f.prototype.has:null,S=g?g.prototype.has:null;return!y&&!T&&(y=function(w){return!1}),X8=y||function(w){if(!w||typeof w!="object")return!1;try{if(T.call(w,T),S)try{S.call(w,S)}catch{return!0}return w instanceof f}catch{}return!1},X8}var Qc={exports:{}},um;function kw(){if(um)return Qc.exports;um=1;var f=i4(),g=Ao(),y=f("%WeakSet%",!0),T=g("WeakSet.prototype.has",!0);if(T){var S=g("WeakMap.prototype.has",!0);Qc.exports=function(w){if(!w||typeof w!="object")return!1;try{if(T(w,T),S)try{S(w,S)}catch{return!0}return w instanceof y}catch{}return!1}}else Qc.exports=function(w){return!1};return Qc.exports}var Y8,cm;function zw(){if(cm)return Y8;cm=1;var f=ry(),g=ny(),y=Fw(),T=kw();return Y8=function(A){if(A&&typeof A=="object"){if(f(A))return"Map";if(g(A))return"Set";if(y(A))return"WeakMap";if(T(A))return"WeakSet"}return!1},Y8}var W8,hm;function Bw(){if(hm)return W8;hm=1;var f=Function.prototype.toString,g=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,T;if(typeof g=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw T}}),T={},g(function(){throw 42},null,y)}catch(V){V!==T&&(g=null)}else g=null;var S=/^\s*class\b/,A=function(H){try{var X=f.call(H);return S.test(X)}catch{return!1}},w=function(H){try{return A(H)?!1:(f.call(H),!0)}catch{return!1}},o=Object.prototype.toString,P="[object Object]",N="[object Function]",z="[object GeneratorFunction]",C="[object HTMLAllCollection]",O="[object HTML document.all class]",U="[object HTMLCollection]",G=typeof Symbol=="function"&&!!Symbol.toStringTag,j=!(0 in[,]),F=function(){return!1};if(typeof document=="object"){var q=document.all;o.call(q)===o.call(document.all)&&(F=function(H){if((j||!H)&&(typeof H>"u"||typeof H=="object"))try{var X=o.call(H);return(X===C||X===O||X===U||X===P)&&H("")==null}catch{}return!1})}return W8=g?function(H){if(F(H))return!0;if(!H||typeof H!="function"&&typeof H!="object")return!1;try{g(H,null,y)}catch(X){if(X!==T)return!1}return!A(H)&&w(H)}:function(H){if(F(H))return!0;if(!H||typeof H!="function"&&typeof H!="object")return!1;if(G)return w(H);if(A(H))return!1;var X=o.call(H);return X!==N&&X!==z&&!/^\[object HTML/.test(X)?!1:w(H)},W8}var K8,dm;function Lw(){if(dm)return K8;dm=1;var f=Bw(),g=Object.prototype.toString,y=Object.prototype.hasOwnProperty,T=function(P,N,z){for(var C=0,O=P.length;C<O;C++)y.call(P,C)&&(z==null?N(P[C],C,P):N.call(z,P[C],C,P))},S=function(P,N,z){for(var C=0,O=P.length;C<O;C++)z==null?N(P.charAt(C),C,P):N.call(z,P.charAt(C),C,P)},A=function(P,N,z){for(var C in P)y.call(P,C)&&(z==null?N(P[C],C,P):N.call(z,P[C],C,P))};function w(o){return g.call(o)==="[object Array]"}return K8=function(P,N,z){if(!f(N))throw new TypeError("iterator must be a function");var C;arguments.length>=3&&(C=z),w(P)?T(P,N,C):typeof P=="string"?S(P,N,C):A(P,N,C)},K8}var J8,fm;function Uw(){return fm||(fm=1,J8=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),J8}var eh,pm;function jw(){if(pm)return eh;pm=1;var f=Uw(),g=typeof globalThis>"u"?s7:globalThis;return eh=function(){for(var T=[],S=0;S<f.length;S++)typeof g[f[S]]=="function"&&(T[T.length]=f[S]);return T},eh}var th,mm;function Gw(){if(mm)return th;mm=1;var f=Lw(),g=jw(),y=t0(),T=Ao(),S=T5(),A=rd(),w=T("Object.prototype.toString"),o=E5()(),P=typeof globalThis>"u"?s7:globalThis,N=g(),z=T("String.prototype.slice"),C=T("Array.prototype.indexOf",!0)||function(F,q){for(var V=0;V<F.length;V+=1)if(F[V]===q)return V;return-1},O={__proto__:null};o&&S&&A?f(N,function(j){var F=new P[j];if(Symbol.toStringTag in F&&A){var q=A(F),V=S(q,Symbol.toStringTag);if(!V&&q){var H=A(q);V=S(H,Symbol.toStringTag)}O["$"+j]=y(V.get)}}):f(N,function(j){var F=new P[j],q=F.slice||F.set;q&&(O["$"+j]=y(q))});var U=function(F){var q=!1;return f(O,function(V,H){if(!q)try{"$"+V(F)===H&&(q=z(H,1))}catch{}}),q},G=function(F){var q=!1;return f(O,function(V,H){if(!q)try{V(F),q=z(H,1)}catch{}}),q};return th=function(F){if(!F||typeof F!="object")return!1;if(!o){var q=z(w(F),8,-1);return C(N,q)>-1?q:q!=="Object"?!1:G(F)}return S?U(F):null},th}var rh,gm;function Vw(){if(gm)return rh;gm=1;var f=Ao(),g=f("ArrayBuffer.prototype.byteLength",!0),y=oy();return rh=function(S){return y(S)?g?g(S):S.byteLength:NaN},rh}var nh,ym;function qw(){if(ym)return nh;ym=1;var f=pw(),g=Zg(),y=_w(),T=i4(),S=Sw(),A=Jg(),w=Aw(),o=Wg(),P=ey(),N=oy(),z=Ew(),C=sy(),O=Mw(),U=Hh(),G=Ow(),j=zw(),F=Gw(),q=Vw(),V=g("SharedArrayBuffer.prototype.byteLength",!0),H=g("Date.prototype.getTime"),X=Object.getPrototypeOf,fe=g("Object.prototype.toString"),ae=T("%Set%",!0),he=g("Map.prototype.has",!0),xe=g("Map.prototype.get",!0),ee=g("Map.prototype.size",!0),Pe=g("Set.prototype.add",!0),we=g("Set.prototype.delete",!0),Fe=g("Set.prototype.has",!0),et=g("Set.prototype.size",!0);function Ke($e,ft,mt,me){for(var ue=S($e),ut;(ut=ue.next())&&!ut.done;)if(Ze(ft,ut.value,mt,me))return we($e,ut.value),!0;return!1}function _t($e){if(typeof $e>"u")return null;if(typeof $e!="object")return typeof $e=="symbol"?!1:typeof $e=="string"||typeof $e=="number"?+$e==+$e:!0}function Ne($e,ft,mt,me,ue,ut){var qe=_t(mt);if(qe!=null)return qe;var Et=xe(ft,qe),At=f({},ue,{strict:!1});return typeof Et>"u"&&!he(ft,qe)||!Ze(me,Et,At,ut)?!1:!he($e,qe)&&Ze(me,Et,At,ut)}function Te($e,ft,mt){var me=_t(mt);return me??(Fe(ft,me)&&!Fe($e,me))}function lt($e,ft,mt,me,ue,ut){for(var qe=S($e),Et,At;(Et=qe.next())&&!Et.done;)if(At=Et.value,Ze(mt,At,ue,ut)&&Ze(me,xe(ft,At),ue,ut))return we($e,At),!0;return!1}function Ze($e,ft,mt,me){var ue=mt||{};if(ue.strict?w($e,ft):$e===ft)return!0;var ut=G($e),qe=G(ft);if(ut!==qe)return!1;if(!$e||!ft||typeof $e!="object"&&typeof ft!="object")return ue.strict?w($e,ft):$e==ft;var Et=me.has($e),At=me.has(ft),Gt;if(Et&&At){if(me.get($e)===me.get(ft))return!0}else Gt={};return Et||me.set($e,Gt),At||me.set(ft,Gt),dt($e,ft,ue,me)}function Ct($e){return!$e||typeof $e!="object"||typeof $e.length!="number"||typeof $e.copy!="function"||typeof $e.slice!="function"||$e.length>0&&typeof $e[0]!="number"?!1:!!($e.constructor&&$e.constructor.isBuffer&&$e.constructor.isBuffer($e))}function Ie($e,ft,mt,me){if(et($e)!==et(ft))return!1;for(var ue=S($e),ut=S(ft),qe,Et,At;(qe=ue.next())&&!qe.done;)if(qe.value&&typeof qe.value=="object")At||(At=new ae),Pe(At,qe.value);else if(!Fe(ft,qe.value)){if(mt.strict||!Te($e,ft,qe.value))return!1;At||(At=new ae),Pe(At,qe.value)}if(At){for(;(Et=ut.next())&&!Et.done;)if(Et.value&&typeof Et.value=="object"){if(!Ke(At,Et.value,mt.strict,me))return!1}else if(!mt.strict&&!Fe($e,Et.value)&&!Ke(At,Et.value,mt.strict,me))return!1;return et(At)===0}return!0}function rt($e,ft,mt,me){if(ee($e)!==ee(ft))return!1;for(var ue=S($e),ut=S(ft),qe,Et,At,Gt,Jt,Kt;(qe=ue.next())&&!qe.done;)if(Gt=qe.value[0],Jt=qe.value[1],Gt&&typeof Gt=="object")At||(At=new ae),Pe(At,Gt);else if(Kt=xe(ft,Gt),typeof Kt>"u"&&!he(ft,Gt)||!Ze(Jt,Kt,mt,me)){if(mt.strict||!Ne($e,ft,Gt,Jt,mt,me))return!1;At||(At=new ae),Pe(At,Gt)}if(At){for(;(Et=ut.next())&&!Et.done;)if(Gt=Et.value[0],Kt=Et.value[1],Gt&&typeof Gt=="object"){if(!lt(At,$e,Gt,Kt,mt,me))return!1}else if(!mt.strict&&(!$e.has(Gt)||!Ze(xe($e,Gt),Kt,mt,me))&&!lt(At,$e,Gt,Kt,f({},mt,{strict:!1}),me))return!1;return et(At)===0}return!0}function dt($e,ft,mt,me){var ue,ut;if(typeof $e!=typeof ft||$e==null||ft==null||fe($e)!==fe(ft)||o($e)!==o(ft))return!1;var qe=P($e),Et=P(ft);if(qe!==Et)return!1;var At=$e instanceof Error,Gt=ft instanceof Error;if(At!==Gt||(At||Gt)&&($e.name!==ft.name||$e.message!==ft.message))return!1;var Jt=C($e),Kt=C(ft);if(Jt!==Kt||(Jt||Kt)&&($e.source!==ft.source||y($e)!==y(ft)))return!1;var cr=z($e),tr=z(ft);if(cr!==tr||(cr||tr)&&H($e)!==H(ft)||mt.strict&&X&&X($e)!==X(ft))return!1;var ur=F($e),Hr=F(ft);if(ur!==Hr)return!1;if(ur||Hr){if($e.length!==ft.length)return!1;for(ue=0;ue<$e.length;ue++)if($e[ue]!==ft[ue])return!1;return!0}var be=Ct($e),te=Ct(ft);if(be!==te)return!1;if(be||te){if($e.length!==ft.length)return!1;for(ue=0;ue<$e.length;ue++)if($e[ue]!==ft[ue])return!1;return!0}var ie=N($e),ke=N(ft);if(ie!==ke)return!1;if(ie||ke)return q($e)!==q(ft)?!1:typeof Uint8Array=="function"&&Ze(new Uint8Array($e),new Uint8Array(ft),mt,me);var it=O($e),It=O(ft);if(it!==It)return!1;if(it||It)return V($e)!==V(ft)?!1:typeof Uint8Array=="function"&&Ze(new Uint8Array($e),new Uint8Array(ft),mt,me);if(typeof $e!=typeof ft)return!1;var Re=U($e),le=U(ft);if(Re.length!==le.length)return!1;for(Re.sort(),le.sort(),ue=Re.length-1;ue>=0;ue--)if(Re[ue]!=le[ue])return!1;for(ue=Re.length-1;ue>=0;ue--)if(ut=Re[ue],!Ze($e[ut],ft[ut],mt,me))return!1;var de=j($e),ge=j(ft);return de!==ge?!1:de==="Set"||ge==="Set"?Ie($e,ft,mt,me):de==="Map"?rt($e,ft,mt,me):!0}return nh=function(ft,mt,me){return Ze(ft,mt,me,A())},nh}var $w=qw();const Qw=v7($w),Hc=5e-5;function Hw(f){return f*(Math.PI/180)}function Zw(f,g){return f[0]===g[0]&&f[1]===g[1]}function Xw(f){return Zw(f[0],f[f.length-1])}function Ah(f){let g={...f},y=null;switch(f.type){case"node":{let{lon:T,lat:S}=f;y={type:"Point",coordinates:T!==void 0&&S!==void 0?[+T,+S]:[]}}break;case"way":{let{nodes:T}=f,S=T.filter(A=>A.lon!==void 0&&A.lat!==void 0).map(({lon:A,lat:w})=>[+A,+w]);S.length>0&&Xw(S)&&Hx(f.tags)?y={type:"Polygon",coordinates:[S]}:y={type:"LineString",coordinates:S}}break;case"relation":{let S=(f.members||[]).map(({ref:w,role:o,...P})=>Ah({id:w,...P})).map(w=>(w.properties.action="noop",w.properties.side=void 0,w));g.relations=S;let A=a7({type:"FeatureCollection",features:S.filter(w=>w.geometry)});if(A.every(w=>Number.isFinite(w))){if(A[0]===A[2]||A[1]===A[3]){let w=Hw(A[1]),o=Math.cos(w);A[0]-=Hc,A[1]-=Hc*o,A[2]+=Hc,A[3]+=Hc*o}y=Th(A).geometry}}break}return delete g.lon,delete g.lat,delete g.nodes,delete g.members,{type:"Feature",properties:g,geometry:y}}function Yw({actions:f}){let g=new Map;for(let y in f){let T=f[y],S=null,A=null,w=T.new.type+"/"+T.new.id;if((T.type==="create"||T.type==="modify")&&(A=Ah(T.new),A.properties.action=T.type,A.properties.side="new",A.properties.num_tags=Object.keys(A.properties.tags).length),(T.type==="modify"||T.type==="delete")&&(S=Ah(T.old),S.properties.action=T.type,S.properties.side="old",S.properties.num_tags=Object.keys(S.properties.tags).length),T.type==="modify"){T.new.type==="relation"&&T.new.version===T.old.version&&(S.properties.action="noop",A.properties.action="noop");let o=!Qw(T.old.tags,T.new.tags,{strict:!0});S.properties.tags_changed=o,A.properties.tags_changed=o}if(g.set(w,[S,A].filter(Boolean)),A&&A.properties.relations)for(let o of A.properties.relations){let P=o.properties.type+"/"+o.properties.id;g.has(P)||g.set(P,[o])}}return g=[...g.values()].map((y,T)=>y.map(S=>(S.id=T,S))).flat(),{type:"FeatureCollection",features:g}}class id{static defaults={showElements:["node","way","relation"],showActions:["create","modify","delete","noop"],onClick:null};constructor(g,y){this.adiff=g,this.geojson=Yw(g),this.options={...id.defaults,...y}}bounds(){let g=this.geojson.features.filter(o=>o.properties.action!=="noop"),y=g.filter(o=>o.properties.action==="modify"&&o.properties.type==="way"?o.properties.tags_changed:!0);if(y.length===0)return a7({type:"FeatureCollection",features:g});let T=a7({type:"FeatureCollection",features:g}),S=a7({type:"FeatureCollection",features:y}),A=Rf(Th(T));return Rf(Th(S))<.1*A?S:T}sources(){let g={type:"geojson",data:this.geojson};return this.adiff.note&&(g.attribution=this.adiff.note),{changeset:g}}layers(){let g=[];const T=["case",["any",["boolean",["feature-state","selected"],!1],["boolean",["feature-state","highlighted"],!1]],"hsla(0, 0%, 45%, 0.5)","hsla(0, 0%, 15%, 0.5)"],S=2,A=["match",["get","action"],"create","#4ECDC4","modify",["match",["get","side"],"old","#888888","new",["case",["get","tags_changed"],"#FFE66D","#EFEFEF"],"#FF0000"],"delete","#FF6B6B","#8B79C4"],w=["case",["any",["boolean",["feature-state","selected"],!1],["boolean",["feature-state","highlighted"],!1]],2,1],o=["in","action",...this.options.showActions];return g.push({id:"changeset-overlay-bg",type:"background",paint:{"background-color":"hsla(0, 0%, 0%, 0.5)"}}),g.push({id:"changeset-relation-bg",type:"line",source:"changeset",filter:["all",["==","type","relation"],o],layout:{visibility:this.options.showElements.includes("relation")?"visible":"none","line-cap":"round","line-join":"round"},paint:{"line-width":8,"line-color":T,"line-opacity":1,"line-blur":S,"line-offset":-5}}),g.push({id:"changeset-way-bg",type:"line",source:"changeset",filter:["all",["==","type","way"],o],layout:{visibility:this.options.showElements.includes("way")?"visible":"none","line-cap":"round","line-join":"round"},paint:{"line-width":8,"line-color":T,"line-opacity":1,"line-blur":S}}),g.push({id:"changeset-node-untagged-bg",type:"circle",source:"changeset",filter:["all",["==","type","node"],["==","num_tags",0],o],minzoom:15,layout:{visibility:this.options.showElements.includes("node")?"visible":"none"},paint:{"circle-radius":["interpolate",["linear"],["zoom"],16,2.5,20,6],"circle-color":T}}),g.push({id:"changeset-node-tagged-bg",type:"circle",source:"changeset",filter:["all",["==","type","node"],[">","num_tags",0],o],layout:{visibility:this.options.showElements.includes("node")?"visible":"none"},paint:{"circle-radius":8,"circle-color":T}}),g.push({id:"changeset-relation",type:"line",source:"changeset",filter:["all",["==","type","relation"],o],layout:{visibility:this.options.showElements.includes("relation")?"visible":"none"},paint:{"line-width":1,"line-color":A,"line-dasharray":[6,6,2,6],"line-offset":-5}}),g.push({id:"changeset-way-old",type:"line",source:"changeset",filter:["all",["==","type","way"],["==","side","old"],o],layout:{visibility:this.options.showElements.includes("way")?"visible":"none"},paint:{"line-color":A,"line-dasharray":[5,3],"line-width":1}}),g.push({id:"changeset-way-unchanged",type:"line",source:"changeset",filter:["all",["==","type","way"],["==","action","noop"],o],layout:{visibility:this.options.showElements.includes("way")?"visible":"none"},paint:{"line-width":w,"line-color":"#8B79C4"}}),g.push({id:"changeset-way-new",type:"line",source:"changeset",filter:["all",["==","type","way"],["==","side","new"],o],layout:{visibility:this.options.showElements.includes("way")?"visible":"none"},paint:{"line-width":w,"line-color":A}}),g.push({id:"changeset-node-unchanged",type:"circle",source:"changeset",filter:["all",["==","type","node"],["==","action","noop"],o],layout:{visibility:this.options.showElements.includes("node")?"visible":"none"},paint:{"circle-radius":["case",[">",["get","num_tags"],0],4,2],"circle-color":"#8B79C4"}}),g.push({id:"changeset-node-untagged",type:"circle",source:"changeset",filter:["all",["==","type","node"],["==","num_tags",0],o],minzoom:15,layout:{visibility:this.options.showElements.includes("node")?"visible":"none"},paint:{"circle-radius":["interpolate",["linear"],["zoom"],16,1.25,20,3],"circle-color":A}}),g.push({id:"changeset-node-tagged",type:"circle",source:"changeset",filter:["all",["==","type","node"],[">","num_tags",0],o],layout:{visibility:this.options.showElements.includes("node")?"visible":"none"},paint:{"circle-radius":4,"circle-color":A}}),g}addTo(g){this.map=g,this.refresh();let y=null;g.on("click",T=>{if(!this.options.onClick)return;let S=[[T.point.x-5,T.point.y-5],[T.point.x+5,T.point.y+5]],A=g.queryRenderedFeatures(S)??[];if(A.length==0){y=null,this.options.onClick(null);return}let w=new Set,o=[];for(let U of A)w.has(U.id)||(w.add(U.id),o.push(U));let P=o.sort((U,G)=>U<G),N=P.findIndex(U=>U.id===y),z=Ww(N+1,P.length),C=P[z];y=C.id;let O=this.adiff.actions.find(U=>{let G=U.new??U.old;return G.type===C.properties.type&&G.id===C.properties.id});O&&this.options.onClick(T,O)})}refresh(){if(!this.map)return;let g=this.map.getStyle();g.sources={...g.sources,...this.sources()},g.layers=[...g.layers.filter(y=>!y.id.startsWith("changeset-")),...this.layers()],this.map.setStyle(g)}select(g,y){this.deselect();for(let T of this._getFeatureIdsForElement(g,y))this.map.setFeatureState({source:"changeset",id:T},{selected:!0})}deselect(){for(let g of this.geojson.features.map(y=>y.id))this.map.setFeatureState({source:"changeset",id:g},{selected:!1})}highlight(g,y){this._setHighlight(g,y,!0)}unhighlight(g,y){this._setHighlight(g,y,!1)}_setHighlight(g,y,T){for(let S of this._getFeatureIdsForElement(g,y))this.map.setFeatureState({source:"changeset",id:S},{highlighted:T})}_getFeatureIdsForElement(g,y){return this.geojson.features.filter(T=>T.properties.type===g&&T.properties.id===y).map(T=>T.id)}}function Ww(f,g){return(f%g+g)%g}const Eh={version:8,sources:{"osm-tiles":{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},layers:[{id:"osm",type:"raster",source:"osm-tiles",minzoom:0,maxzoom:22}]},Kw=({changeset:f,onSelect:g})=>{const y=je.useRef(null),[T,S]=je.useState(),[A,w]=je.useState(!1);return je.useEffect(()=>{async function o(){try{const P=await fetch(`https://adiffs.osmcha.org/changesets/${f.id}.adiff`);if(P.status!==200)throw new Error(P.statusText);const N=await P.text();S(N)}catch(P){console.error(P),w(!0)}}o()},[f]),je.useEffect(()=>{if(!T)return;const o=new wh.Map({container:y.current,style:Eh,maxZoom:22,hash:!1,attributionControl:!1});o.addControl(new wh.AttributionControl,"bottom-left"),o.setMaxPitch(0),o.dragRotate.disable(),o.touchZoomRotate.disableRotation(),o.keyboard.disableRotation(),o.on("load",async()=>{const P=await kx(T),N=new id({...P,note:Eh.sources["osm-tiles"].attribution},{onClick:(C,O)=>g(O),showElements:["node","way","relation"],showActions:["create","modify","delete","noop"]});N.addTo(o),N.refresh();const z=o.cameraForBounds(N.bounds(),{padding:200});z&&o.jumpTo(z)})},[T,g]),A?Vt.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"red"},children:"Diff not available yet"}):Vt.jsx("div",{ref:y,style:{width:"100%",height:"100%"}})},ly=[{name:"user.display_name",label:"Username"},{name:"user.id",label:"User ID",inputType:"number"},{name:"user.account_created",label:"Account Created",inputType:"date"},{name:"user.roles",label:"User Roles",valueEditorType:"select",values:[{value:"importer",label:"Importer"},{value:"moderator",label:"DWG"}]},{name:"user.changesets.count",label:"Total number of changesets by this user",inputType:"number"},{name:"user.blocks.received.count",label:"Number of times the user was blocked",inputType:"number"},{name:"user.blocks.received.active",label:"Number of active user blocks",inputType:"number"},{name:"changeset.id",label:"Changeset ID",inputType:"number"},{name:"changeset._editor",label:"Editor Software",placeholder:"e.g. StreetComplete"},{name:"changeset.tags._raw",label:"Tags (raw value)",placeholder:"a=b&c=d"},{name:"changeset.tags._keys",label:"Contains changeset tags",placeholder:"imagery_used,hashtags"},{name:"changeset.tags.changesets_count",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.comment",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.created_by",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.host",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.imagery_used",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.locale",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.source",label:"tags.changesets_count",inputType:"number"},{name:"changeset.tags.hashtags",label:"tags.changesets_count",inputType:"number"}];function Jw(f){return f.tags.created_by?.split(" ")[0]||""}function eS(f,g){return{user:{...g[f.uid],display_name:f.user,id:f.id},changeset:{...f,_editor:Jw(f),tags:{...f.tags,_raw:new URLSearchParams(f.tags).toString(),_keys:Object.keys(f.tags)}}}}function _m(f){const g=f.getFullYear(),y=(f.getMonth()+1).toString().padStart(2,"0"),T=f.getDate().toString().padStart(2,"0"),S=f.getHours().toString().padStart(2,"0"),A=f.getMinutes().toString().padStart(2,"0");return`${g}-${y}-${T}T${S}:${A}`}function uy(f){const g=+f.split(",")[0],y=f.split(",")[1],T={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,days:1e3*60*60*24};return new Date(Date.now()-T[y]*g)}const tS="_dialog_wpkwu_1",rS={dialog:tS};var Zc={exports:{}},o7={exports:{}},nS=o7.exports,vm;function iS(){return vm||(vm=1,(function(f,g){(function(y,T){f.exports=T()})(nS,(function(){function y(w,o,P,N,z){T(w,o,P||0,N||w.length-1,z||A)}function T(w,o,P,N,z){for(;N>P;){if(N-P>600){var C=N-P+1,O=o-P+1,U=Math.log(C),G=.5*Math.exp(2*U/3),j=.5*Math.sqrt(U*G*(C-G)/C)*(O-C/2<0?-1:1),F=Math.max(P,Math.floor(o-O*G/C+j)),q=Math.min(N,Math.floor(o+(C-O)*G/C+j));T(w,o,F,q,z)}var V=w[o],H=P,X=N;for(S(w,P,o),z(w[N],V)>0&&S(w,P,N);H<X;){for(S(w,H,X),H++,X--;z(w[H],V)<0;)H++;for(;z(w[X],V)>0;)X--}z(w[P],V)===0?S(w,P,X):(X++,S(w,X,N)),X<=o&&(P=X+1),o<=X&&(N=X-1)}}function S(w,o,P){var N=w[o];w[o]=w[P],w[P]=N}function A(w,o){return w<o?-1:w>o?1:0}return y}))})(o7)),o7.exports}var bm;function aS(){if(bm)return Zc.exports;bm=1,Zc.exports=g,Zc.exports.default=g;var f=iS();function g(F,q){if(!(this instanceof g))return new g(F,q);this._maxEntries=Math.max(4,F||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),q&&this._initFormat(q),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(F){var q=this.data,V=[],H=this.toBBox;if(!U(F,q))return V;for(var X=[],fe,ae,he,xe;q;){for(fe=0,ae=q.children.length;fe<ae;fe++)he=q.children[fe],xe=q.leaf?H(he):he,U(F,xe)&&(q.leaf?V.push(he):O(F,xe)?this._all(he,V):X.push(he));q=X.pop()}return V},collides:function(F){var q=this.data,V=this.toBBox;if(!U(F,q))return!1;for(var H=[],X,fe,ae,he;q;){for(X=0,fe=q.children.length;X<fe;X++)if(ae=q.children[X],he=q.leaf?V(ae):ae,U(F,he)){if(q.leaf||O(F,he))return!0;H.push(ae)}q=H.pop()}return!1},load:function(F){if(!(F&&F.length))return this;if(F.length<this._minEntries){for(var q=0,V=F.length;q<V;q++)this.insert(F[q]);return this}var H=this._build(F.slice(),0,F.length-1,0);if(!this.data.children.length)this.data=H;else if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var X=this.data;this.data=H,H=X}this._insert(H,this.data.height-H.height-1,!0)}return this},insert:function(F){return F&&this._insert(F,this.data.height-1),this},clear:function(){return this.data=G([]),this},remove:function(F,q){if(!F)return this;for(var V=this.data,H=this.toBBox(F),X=[],fe=[],ae,he,xe,ee;V||X.length;){if(V||(V=X.pop(),he=X[X.length-1],ae=fe.pop(),ee=!0),V.leaf&&(xe=y(F,V.children,q),xe!==-1))return V.children.splice(xe,1),X.push(V),this._condense(X),this;!ee&&!V.leaf&&O(V,H)?(X.push(V),fe.push(ae),ae=0,he=V,V=V.children[0]):he?(ae++,V=he.children[ae],ee=!1):V=null}return this},toBBox:function(F){return F},compareMinX:w,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(F){return this.data=F,this},_all:function(F,q){for(var V=[];F;)F.leaf?q.push.apply(q,F.children):V.push.apply(V,F.children),F=V.pop();return q},_build:function(F,q,V,H){var X=V-q+1,fe=this._maxEntries,ae;if(X<=fe)return ae=G(F.slice(q,V+1)),T(ae,this.toBBox),ae;H||(H=Math.ceil(Math.log(X)/Math.log(fe)),fe=Math.ceil(X/Math.pow(fe,H-1))),ae=G([]),ae.leaf=!1,ae.height=H;var he=Math.ceil(X/fe),xe=he*Math.ceil(Math.sqrt(fe)),ee,Pe,we,Fe;for(j(F,q,V,xe,this.compareMinX),ee=q;ee<=V;ee+=xe)for(we=Math.min(ee+xe-1,V),j(F,ee,we,he,this.compareMinY),Pe=ee;Pe<=we;Pe+=he)Fe=Math.min(Pe+he-1,we),ae.children.push(this._build(F,Pe,Fe,H-1));return T(ae,this.toBBox),ae},_chooseSubtree:function(F,q,V,H){for(var X,fe,ae,he,xe,ee,Pe,we;H.push(q),!(q.leaf||H.length-1===V);){for(Pe=we=1/0,X=0,fe=q.children.length;X<fe;X++)ae=q.children[X],xe=P(ae),ee=z(F,ae)-xe,ee<we?(we=ee,Pe=xe<Pe?xe:Pe,he=ae):ee===we&&xe<Pe&&(Pe=xe,he=ae);q=he||q.children[0]}return q},_insert:function(F,q,V){var H=this.toBBox,X=V?F:H(F),fe=[],ae=this._chooseSubtree(X,this.data,q,fe);for(ae.children.push(F),A(ae,X);q>=0&&fe[q].children.length>this._maxEntries;)this._split(fe,q),q--;this._adjustParentBBoxes(X,fe,q)},_split:function(F,q){var V=F[q],H=V.children.length,X=this._minEntries;this._chooseSplitAxis(V,X,H);var fe=this._chooseSplitIndex(V,X,H),ae=G(V.children.splice(fe,V.children.length-fe));ae.height=V.height,ae.leaf=V.leaf,T(V,this.toBBox),T(ae,this.toBBox),q?F[q-1].children.push(ae):this._splitRoot(V,ae)},_splitRoot:function(F,q){this.data=G([F,q]),this.data.height=F.height+1,this.data.leaf=!1,T(this.data,this.toBBox)},_chooseSplitIndex:function(F,q,V){var H,X,fe,ae,he,xe,ee,Pe;for(xe=ee=1/0,H=q;H<=V-q;H++)X=S(F,0,H,this.toBBox),fe=S(F,H,V,this.toBBox),ae=C(X,fe),he=P(X)+P(fe),ae<xe?(xe=ae,Pe=H,ee=he<ee?he:ee):ae===xe&&he<ee&&(ee=he,Pe=H);return Pe},_chooseSplitAxis:function(F,q,V){var H=F.leaf?this.compareMinX:w,X=F.leaf?this.compareMinY:o,fe=this._allDistMargin(F,q,V,H),ae=this._allDistMargin(F,q,V,X);fe<ae&&F.children.sort(H)},_allDistMargin:function(F,q,V,H){F.children.sort(H);var X=this.toBBox,fe=S(F,0,q,X),ae=S(F,V-q,V,X),he=N(fe)+N(ae),xe,ee;for(xe=q;xe<V-q;xe++)ee=F.children[xe],A(fe,F.leaf?X(ee):ee),he+=N(fe);for(xe=V-q-1;xe>=q;xe--)ee=F.children[xe],A(ae,F.leaf?X(ee):ee),he+=N(ae);return he},_adjustParentBBoxes:function(F,q,V){for(var H=V;H>=0;H--)A(q[H],F)},_condense:function(F){for(var q=F.length-1,V;q>=0;q--)F[q].children.length===0?q>0?(V=F[q-1].children,V.splice(V.indexOf(F[q]),1)):this.clear():T(F[q],this.toBBox)},_initFormat:function(F){var q=["return a"," - b",";"];this.compareMinX=new Function("a","b",q.join(F[0])),this.compareMinY=new Function("a","b",q.join(F[1])),this.toBBox=new Function("a","return {minX: a"+F[0]+", minY: a"+F[1]+", maxX: a"+F[2]+", maxY: a"+F[3]+"};")}};function y(F,q,V){if(!V)return q.indexOf(F);for(var H=0;H<q.length;H++)if(V(F,q[H]))return H;return-1}function T(F,q){S(F,0,F.children.length,q,F)}function S(F,q,V,H,X){X||(X=G(null)),X.minX=1/0,X.minY=1/0,X.maxX=-1/0,X.maxY=-1/0;for(var fe=q,ae;fe<V;fe++)ae=F.children[fe],A(X,F.leaf?H(ae):ae);return X}function A(F,q){return F.minX=Math.min(F.minX,q.minX),F.minY=Math.min(F.minY,q.minY),F.maxX=Math.max(F.maxX,q.maxX),F.maxY=Math.max(F.maxY,q.maxY),F}function w(F,q){return F.minX-q.minX}function o(F,q){return F.minY-q.minY}function P(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function N(F){return F.maxX-F.minX+(F.maxY-F.minY)}function z(F,q){return(Math.max(q.maxX,F.maxX)-Math.min(q.minX,F.minX))*(Math.max(q.maxY,F.maxY)-Math.min(q.minY,F.minY))}function C(F,q){var V=Math.max(F.minX,q.minX),H=Math.max(F.minY,q.minY),X=Math.min(F.maxX,q.maxX),fe=Math.min(F.maxY,q.maxY);return Math.max(0,X-V)*Math.max(0,fe-H)}function O(F,q){return F.minX<=q.minX&&F.minY<=q.minY&&q.maxX<=F.maxX&&q.maxY<=F.maxY}function U(F,q){return q.minX<=F.maxX&&q.minY<=F.maxY&&q.maxX>=F.minX&&q.maxY>=F.minY}function G(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(F,q,V,H,X){for(var fe=[q,V],ae;fe.length;)V=fe.pop(),q=fe.pop(),!(V-q<=H)&&(ae=q+Math.ceil((V-q)/H/2)*H,f(F,ae,q,V,X),fe.push(q,ae,ae,V))}return Zc.exports}var ih,xm;function oS(){if(xm)return ih;xm=1,ih=f,f.polyline=f,f.polygon=g;function f(S,A,w){var o=S.length,P=T(S[0],A),N=[],z,C,O,U,G;for(w||(w=[]),z=1;z<o;z++){for(C=S[z-1],O=S[z],U=G=T(O,A);;)if(P|U){if(P&U)break;P?(C=y(C,O,P,A),P=T(C,A)):(O=y(C,O,U,A),U=T(O,A))}else{N.push(C),U!==G?(N.push(O),z<o-1&&(w.push(N),N=[])):z===o-1&&N.push(O);break}P=G}return N.length&&w.push(N),w}function g(S,A){var w,o,P,N,z,C,O;for(o=1;o<=8;o*=2){for(w=[],P=S[S.length-1],N=!(T(P,A)&o),z=0;z<S.length;z++)C=S[z],O=!(T(C,A)&o),O!==N&&w.push(y(P,C,o,A)),O&&w.push(C),P=C,N=O;if(S=w,!S.length)break}return w}function y(S,A,w,o){return w&8?[S[0]+(A[0]-S[0])*(o[3]-S[1])/(A[1]-S[1]),o[3]]:w&4?[S[0]+(A[0]-S[0])*(o[1]-S[1])/(A[1]-S[1]),o[1]]:w&2?[o[2],S[1]+(A[1]-S[1])*(o[2]-S[0])/(A[0]-S[0])]:w&1?[o[0],S[1]+(A[1]-S[1])*(o[0]-S[0])/(A[0]-S[0])]:null}function T(S,A){var w=0;return S[0]<A[0]?w|=1:S[0]>A[2]&&(w|=2),S[1]<A[1]?w|=4:S[1]>A[3]&&(w|=8),w}return ih}var ah,wm;function sS(){if(wm)return ah;wm=1;var f=aS(),g=oS();ah=y;function y(o){for(var P=[],N=0;N<o.features.length;N++){var z=o.features[N];if(z.geometry){var C=z.geometry.coordinates;if(z.geometry.type==="Polygon")P.push(w(C,z.properties));else if(z.geometry.type==="MultiPolygon")for(var O=0;O<C.length;O++)P.push(w(C[O],z.properties))}}var U=f().load(P);function G(j,F){for(var q=[],V=U.search({minX:j[0],minY:j[1],maxX:j[0],maxY:j[1]}),H=0;H<V.length;H++)if(S(V[H].coords,j))if(F)q.push(V[H].props);else return V[H].props;return F&&q.length?q:null}return G.tree=U,G.bbox=function(F){for(var q=[],V=U.search({minX:F[0],minY:F[1],maxX:F[2],maxY:F[3]}),H=0;H<V.length;H++)T(V[H].coords,F)&&q.push(V[H].props);return q},G}function T(o,P){var N=[(P[0]+P[2])/2,(P[1]+P[3])/2];if(S(o,N))return!0;for(var z=0;z<o.length;z++)if(g(o[z],P).length>0)return!0;return!1}function S(o,P){for(var N=!1,z=0,C=o.length;z<C;z++)for(var O=o[z],U=0,G=O.length,j=G-1;U<G;j=U++)A(P,O[U],O[j])&&(N=!N);return N}function A(o,P,N){return P[1]>o[1]!=N[1]>o[1]&&o[0]<(N[0]-P[0])*(o[1]-P[1])/(N[1]-P[1])+P[0]}function w(o,P){for(var N={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,coords:o,props:P},z=0;z<o[0].length;z++){var C=o[0][z];N.minX=Math.min(N.minX,C[0]),N.minY=Math.min(N.minY,C[1]),N.maxX=Math.max(N.maxX,C[0]),N.maxY=Math.max(N.maxY,C[1])}return N}return ah}var lS=sS();const uS=v7(lS);var cS={features:[{type:"Feature",properties:{wikidata:"Q21",nameEn:"England",aliases:["GB-ENG"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.03913,51.13217],[-7.74976,48.64773],[1.17405,50.74239],[2.18458,51.52087],[2.56575,51.85301],[.792,57.56437],[-2.30613,55.62698],[-2.17058,55.45916],[-2.6095,55.28488],[-2.63532,55.19452],[-3.02906,55.04606],[-3.09361,54.94924],[-3.38407,54.94278],[-4.1819,54.57861],[-3.5082,53.54318],[-3.08228,53.25526],[-3.03675,53.25092],[-2.92329,53.19383],[-2.92022,53.17685],[-2.98598,53.15589],[-2.90649,53.10964],[-2.87469,53.12337],[-2.89131,53.09374],[-2.83133,52.99184],[-2.7251,52.98389],[-2.72221,52.92969],[-2.80549,52.89428],[-2.85897,52.94487],[-2.92401,52.93836],[-2.97243,52.9651],[-3.13576,52.895],[-3.15744,52.84947],[-3.16105,52.79599],[-3.08734,52.77504],[-3.01001,52.76636],[-2.95581,52.71794],[-3.01724,52.72083],[-3.04398,52.65435],[-3.13648,52.58208],[-3.12926,52.5286],[-3.09746,52.53077],[-3.08662,52.54811],[-3.00929,52.57774],[-2.99701,52.551],[-3.03603,52.49969],[-3.13359,52.49174],[-3.22971,52.45344],[-3.22754,52.42526],[-3.04687,52.34504],[-2.95364,52.3501],[-2.99701,52.323],[-3.00785,52.2753],[-3.09289,52.20546],[-3.12638,52.08114],[-2.97111,51.90456],[-2.8818,51.93196],[-2.78742,51.88833],[-2.74277,51.84367],[-2.66234,51.83555],[-2.66336,51.59504],[-3.20563,51.31615],[-6.03913,51.13217]]]]}},{type:"Feature",properties:{wikidata:"Q22",nameEn:"Scotland",aliases:["GB-SCT"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[.792,57.56437],[-.3751,61.32236],[-14.78497,57.60709],[-6.82333,55.83103],[-4.69044,54.3629],[-3.38407,54.94278],[-3.09361,54.94924],[-3.02906,55.04606],[-2.63532,55.19452],[-2.6095,55.28488],[-2.17058,55.45916],[-2.30613,55.62698],[.792,57.56437]]]]}},{type:"Feature",properties:{wikidata:"Q25",nameEn:"Wales",aliases:["GB-WLS"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.5082,53.54318],[-5.37267,53.63269],[-6.03913,51.13217],[-3.20563,51.31615],[-2.66336,51.59504],[-2.66234,51.83555],[-2.74277,51.84367],[-2.78742,51.88833],[-2.8818,51.93196],[-2.97111,51.90456],[-3.12638,52.08114],[-3.09289,52.20546],[-3.00785,52.2753],[-2.99701,52.323],[-2.95364,52.3501],[-3.04687,52.34504],[-3.22754,52.42526],[-3.22971,52.45344],[-3.13359,52.49174],[-3.03603,52.49969],[-2.99701,52.551],[-3.00929,52.57774],[-3.08662,52.54811],[-3.09746,52.53077],[-3.12926,52.5286],[-3.13648,52.58208],[-3.04398,52.65435],[-3.01724,52.72083],[-2.95581,52.71794],[-3.01001,52.76636],[-3.08734,52.77504],[-3.16105,52.79599],[-3.15744,52.84947],[-3.13576,52.895],[-2.97243,52.9651],[-2.92401,52.93836],[-2.85897,52.94487],[-2.80549,52.89428],[-2.72221,52.92969],[-2.7251,52.98389],[-2.83133,52.99184],[-2.89131,53.09374],[-2.87469,53.12337],[-2.90649,53.10964],[-2.98598,53.15589],[-2.92022,53.17685],[-2.92329,53.19383],[-3.03675,53.25092],[-3.08228,53.25526],[-3.5082,53.54318]]]]}},{type:"Feature",properties:{wikidata:"Q26",nameEn:"Northern Ireland",aliases:["GB-NIR"],country:"GB",groups:["Q22890","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.34755,55.49206],[-7.2471,55.06933],[-7.34464,55.04688],[-7.4033,55.00391],[-7.40004,54.94498],[-7.44404,54.9403],[-7.4473,54.87003],[-7.47626,54.83084],[-7.54508,54.79401],[-7.54671,54.74606],[-7.64449,54.75265],[-7.75041,54.7103],[-7.83352,54.73854],[-7.93293,54.66603],[-7.70315,54.62077],[-7.8596,54.53671],[-7.99812,54.54427],[-8.04538,54.48941],[-8.179,54.46763],[-8.04555,54.36292],[-7.87101,54.29299],[-7.8596,54.21779],[-7.81397,54.20159],[-7.69501,54.20731],[-7.55812,54.12239],[-7.4799,54.12239],[-7.44567,54.1539],[-7.32834,54.11475],[-7.30553,54.11869],[-7.34005,54.14698],[-7.29157,54.17191],[-7.28017,54.16714],[-7.29687,54.1354],[-7.29493,54.12013],[-7.26316,54.13863],[-7.25012,54.20063],[-7.14908,54.22732],[-7.19145,54.31296],[-7.02034,54.4212],[-6.87775,54.34682],[-6.85179,54.29176],[-6.81583,54.22791],[-6.74575,54.18788],[-6.70175,54.20218],[-6.6382,54.17071],[-6.66264,54.0666],[-6.62842,54.03503],[-6.47849,54.06947],[-6.36605,54.07234],[-6.36279,54.11248],[-6.32694,54.09337],[-6.29003,54.11278],[-6.26218,54.09785],[-5.83481,53.87749],[-4.69044,54.3629],[-6.34755,55.49206]]]]}},{type:"Feature",properties:{wikidata:"Q35",nameEn:"Denmark",country:"DK",groups:["EU","154","150","UN"],callingCodes:["45"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.16597,56.60205],[10.40861,58.38489],[7.28637,57.35913],[8.02459,55.09613],[8.45719,55.06747],[8.55769,54.91837],[8.63979,54.91069],[8.76387,54.8948],[8.81178,54.90518],[8.92795,54.90452],[9.04629,54.87249],[9.14275,54.87421],[9.20571,54.85841],[9.24631,54.84726],[9.23445,54.83432],[9.2474,54.8112],[9.32771,54.80602],[9.33849,54.80233],[9.36496,54.81749],[9.38532,54.83968],[9.41213,54.84254],[9.43155,54.82586],[9.4659,54.83131],[9.58937,54.88785],[9.62734,54.88057],[9.61187,54.85548],[9.73563,54.8247],[9.89314,54.84171],[10.16755,54.73883],[10.31111,54.65968],[11.00303,54.63689],[11.90309,54.38543],[12.85844,54.82438],[13.93395,54.84044],[15.36991,54.73263],[15.79951,55.54655],[14.89259,55.5623],[14.28399,55.1553],[12.84405,55.13257],[12.60345,55.42675],[12.88472,55.63369],[12.6372,55.91371],[12.65312,56.04345],[12.07466,56.29488],[12.16597,56.60205]]]]}},{type:"Feature",properties:{wikidata:"Q55",nameEn:"Netherlands",country:"NL",groups:["EU","155","150","UN"],callingCodes:["31"]},geometry:{type:"MultiPolygon",coordinates:[[[[5.45168,54.20039],[2.56575,51.85301],[3.36263,51.37112],[3.38696,51.33436],[3.35847,51.31572],[3.38289,51.27331],[3.41704,51.25933],[3.43488,51.24135],[3.52698,51.2458],[3.51502,51.28697],[3.58939,51.30064],[3.78999,51.25766],[3.78783,51.2151],[3.90125,51.20371],[3.97889,51.22537],[4.01957,51.24504],[4.05165,51.24171],[4.16721,51.29348],[4.24024,51.35371],[4.21923,51.37443],[4.33265,51.37687],[4.34086,51.35738],[4.39292,51.35547],[4.43777,51.36989],[4.38064,51.41965],[4.39747,51.43316],[4.38122,51.44905],[4.47736,51.4778],[4.5388,51.48184],[4.54675,51.47265],[4.52846,51.45002],[4.53521,51.4243],[4.57489,51.4324],[4.65442,51.42352],[4.72935,51.48424],[4.74578,51.48937],[4.77321,51.50529],[4.78803,51.50284],[4.84139,51.4799],[4.82409,51.44736],[4.82946,51.4213],[4.78314,51.43319],[4.76577,51.43046],[4.77229,51.41337],[4.78941,51.41102],[4.84988,51.41502],[4.90016,51.41404],[4.92152,51.39487],[5.00393,51.44406],[5.0106,51.47167],[5.03281,51.48679],[5.04774,51.47022],[5.07891,51.4715],[5.10456,51.43163],[5.07102,51.39469],[5.13105,51.34791],[5.13377,51.31592],[5.16222,51.31035],[5.2002,51.32243],[5.24244,51.30495],[5.22542,51.26888],[5.23814,51.26064],[5.26461,51.26693],[5.29716,51.26104],[5.33886,51.26314],[5.347,51.27502],[5.41672,51.26248],[5.4407,51.28169],[5.46519,51.2849],[5.48476,51.30053],[5.515,51.29462],[5.5569,51.26544],[5.5603,51.22249],[5.65145,51.19788],[5.65528,51.18736],[5.70344,51.1829],[5.74617,51.18928],[5.77735,51.17845],[5.77697,51.1522],[5.82564,51.16753],[5.85508,51.14445],[5.80798,51.11661],[5.8109,51.10861],[5.83226,51.10585],[5.82921,51.09328],[5.79903,51.09371],[5.79835,51.05834],[5.77258,51.06196],[5.75961,51.03113],[5.77688,51.02483],[5.76242,50.99703],[5.71864,50.96092],[5.72875,50.95428],[5.74752,50.96202],[5.75927,50.95601],[5.74644,50.94723],[5.72545,50.92312],[5.72644,50.91167],[5.71626,50.90796],[5.69858,50.91046],[5.67886,50.88142],[5.64504,50.87107],[5.64009,50.84742],[5.65259,50.82309],[5.70118,50.80764],[5.68995,50.79641],[5.70107,50.7827],[5.68091,50.75804],[5.69469,50.75529],[5.72216,50.76398],[5.73904,50.75674],[5.74356,50.7691],[5.76533,50.78159],[5.77513,50.78308],[5.80673,50.7558],[5.84548,50.76542],[5.84888,50.75448],[5.88734,50.77092],[5.89129,50.75125],[5.89132,50.75124],[5.95942,50.7622],[5.97545,50.75441],[6.01976,50.75398],[6.02624,50.77453],[5.97497,50.79992],[5.98404,50.80988],[6.00462,50.80065],[6.02328,50.81694],[6.01921,50.84435],[6.05623,50.8572],[6.05702,50.85179],[6.07431,50.84674],[6.07693,50.86025],[6.08805,50.87223],[6.07486,50.89307],[6.09297,50.92066],[6.01615,50.93367],[6.02697,50.98303],[5.95282,50.98728],[5.90296,50.97356],[5.90493,51.00198],[5.87849,51.01969],[5.86735,51.05182],[5.9134,51.06736],[5.9541,51.03496],[5.98292,51.07469],[6.16706,51.15677],[6.17384,51.19589],[6.07889,51.17038],[6.07889,51.24432],[6.16977,51.33169],[6.22674,51.36135],[6.22641,51.39948],[6.20654,51.40049],[6.21724,51.48568],[6.18017,51.54096],[6.09055,51.60564],[6.11759,51.65609],[6.02767,51.6742],[6.04091,51.71821],[5.95003,51.7493],[5.98665,51.76944],[5.94568,51.82786],[5.99848,51.83195],[6.06705,51.86136],[6.10337,51.84829],[6.16902,51.84094],[6.11551,51.89769],[6.15349,51.90439],[6.21443,51.86801],[6.29872,51.86801],[6.30593,51.84998],[6.40704,51.82771],[6.38815,51.87257],[6.47179,51.85395],[6.50231,51.86313],[6.58556,51.89386],[6.68386,51.91861],[6.72319,51.89518],[6.82357,51.96711],[6.83035,51.9905],[6.68128,52.05052],[6.76117,52.11895],[6.83984,52.11728],[6.97189,52.20329],[6.9897,52.2271],[7.03729,52.22695],[7.06365,52.23789],[7.02703,52.27941],[7.07044,52.37805],[7.03417,52.40237],[6.99041,52.47235],[6.94293,52.43597],[6.69507,52.488],[6.71641,52.62905],[6.77307,52.65375],[7.04557,52.63318],[7.07253,52.81083],[7.21694,53.00742],[7.17898,53.13817],[7.22681,53.18165],[7.21679,53.20058],[7.19052,53.31866],[7.00198,53.32672],[6.91025,53.44221],[5.45168,54.20039]],[[4.93295,51.44945],[4.95244,51.45207],[4.9524,51.45014],[4.93909,51.44632],[4.93295,51.44945]],[[4.91493,51.4353],[4.91935,51.43634],[4.92227,51.44252],[4.91811,51.44621],[4.92287,51.44741],[4.92811,51.4437],[4.92566,51.44273],[4.92815,51.43856],[4.92879,51.44161],[4.93544,51.44634],[4.94025,51.44193],[4.93416,51.44185],[4.93471,51.43861],[4.94265,51.44003],[4.93986,51.43064],[4.92952,51.42984],[4.92652,51.43329],[4.91493,51.4353]]]]}},{type:"Feature",properties:{wikidata:"Q782",nameEn:"Hawaii",aliases:["US-HI"],country:"US",groups:["Q35657","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-177.8563,29.18961],[-179.49839,27.86265],[-151.6784,9.55515],[-154.05867,45.51124],[-177.5224,27.7635],[-177.8563,29.18961]]]]}},{type:"Feature",properties:{wikidata:"Q797",nameEn:"Alaska",aliases:["US-AK"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.34848,52.47228],[180,51.0171],[179.84401,55.10087],[169.34848,52.47228]]],[[[-168.95635,65.98512],[-169.03888,65.48473],[-172.76104,63.77445],[-179.55295,57.62081],[-179.55295,50.81807],[-133.92876,54.62289],[-130.61931,54.70835],[-130.64499,54.76912],[-130.44184,54.85377],[-130.27203,54.97174],[-130.18765,55.07744],[-130.08035,55.21556],[-129.97513,55.28029],[-130.15373,55.74895],[-130.00857,55.91344],[-130.00093,56.00325],[-130.10173,56.12178],[-130.33965,56.10849],[-130.77769,56.36185],[-131.8271,56.62247],[-133.38523,58.42773],[-133.84645,58.73543],[-134.27175,58.8634],[-134.48059,59.13231],[-134.55699,59.1297],[-134.7047,59.2458],[-135.00267,59.28745],[-135.03069,59.56208],[-135.48007,59.79937],[-136.31566,59.59083],[-136.22381,59.55526],[-136.33727,59.44466],[-136.47323,59.46617],[-136.52365,59.16752],[-136.82619,59.16198],[-137.4925,58.89415],[-137.60623,59.24465],[-138.62145,59.76431],[-138.71149,59.90728],[-139.05365,59.99655],[-139.20603,60.08896],[-139.05831,60.35205],[-139.68991,60.33693],[-139.98024,60.18027],[-140.45648,60.30919],[-140.5227,60.22077],[-141.00116,60.30648],[-140.97446,84.39275],[-168.25765,71.99091],[-168.95635,65.98512]]]]}},{type:"Feature",properties:{wikidata:"Q3492",nameEn:"Sumatra",aliases:["ID-SM"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.82788,2.86812],[110.90339,7.52694],[105.01437,3.24936],[104.56723,1.44271],[104.34728,1.33529],[104.12282,1.27714],[104.03085,1.26954],[103.74084,1.12902],[103.66049,1.18825],[103.56591,1.19719],[103.03657,1.30383],[96.11174,6.69841],[74.28481,-3.17525],[102.92489,-8.17146],[106.32259,-5.50116],[106.38511,-5.16715],[109.17017,-4.07401],[109.3962,-2.07276],[108.50935,-2.01066],[107.94791,1.06924],[109.82788,2.86812]]]]}},{type:"Feature",properties:{wikidata:"Q3757",nameEn:"Java",aliases:["ID-JW"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.17017,-4.07401],[106.38511,-5.16715],[106.32259,-5.50116],[102.92489,-8.17146],[116.22542,-10.49172],[114.39575,-8.2889],[114.42235,-8.09762],[114.92859,-7.49253],[116.33992,-7.56171],[116.58433,-5.30385],[109.17017,-4.07401]]]]}},{type:"Feature",properties:{wikidata:"Q3795",nameEn:"Kalimantan",aliases:["ID-KA"],country:"ID",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[120.02464,2.83703],[118.06469,4.16638],[117.67641,4.16535],[117.47313,4.18857],[117.25801,4.35108],[115.90217,4.37708],[115.58276,3.93499],[115.53713,3.14776],[115.11343,2.82879],[115.1721,2.49671],[114.80706,2.21665],[114.80706,1.92351],[114.57892,1.5],[114.03788,1.44787],[113.64677,1.23933],[113.01448,1.42832],[113.021,1.57819],[112.48648,1.56516],[112.2127,1.44135],[112.15679,1.17004],[111.94553,1.12016],[111.82846,.99349],[111.55434,.97864],[111.22979,1.08326],[110.62374,.873],[110.49182,.88088],[110.35354,.98869],[109.66397,1.60425],[109.66397,1.79972],[109.57923,1.80624],[109.53794,1.91771],[109.62558,1.99182],[109.82788,2.86812],[107.94791,1.06924],[108.50935,-2.01066],[109.3962,-2.07276],[109.17017,-4.07401],[116.58433,-5.30385],[120.02464,2.83703]]]]}},{type:"Feature",properties:{wikidata:"Q3803",nameEn:"Lesser Sunda Islands",aliases:["ID-NU"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[116.96967,-8.01483],[114.92859,-7.49253],[114.42235,-8.09762],[114.39575,-8.2889],[116.22542,-10.49172],[122.14954,-11.52517],[125.68138,-9.85176],[125.09025,-9.46406],[124.97892,-9.19281],[125.04044,-9.17093],[125.09434,-9.19669],[125.18907,-9.16434],[125.18632,-9.03142],[125.11764,-8.96359],[124.97742,-9.08128],[124.94011,-8.85617],[124.46701,-9.13002],[124.45971,-9.30263],[124.38554,-9.3582],[124.35258,-9.43002],[124.3535,-9.48493],[124.28115,-9.50453],[124.28115,-9.42189],[124.21247,-9.36904],[124.14517,-9.42324],[124.10539,-9.41206],[124.04286,-9.34243],[124.04628,-9.22671],[124.33472,-9.11416],[124.92337,-8.75859],[125.87688,-7.49892],[116.96967,-8.01483]]]]}},{type:"Feature",properties:{wikidata:"Q3812",nameEn:"Sulawesi",aliases:["ID-SL"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.34321,3.90322],[126.69413,6.02692],[119.56457,.90759],[116.58433,-5.30385],[116.33992,-7.56171],[116.96967,-8.01483],[125.87688,-7.49892],[123.78965,-.86805],[128.34321,3.90322]]]]}},{type:"Feature",properties:{wikidata:"Q3827",nameEn:"Maluku Islands",aliases:["ID-ML"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.63187,2.21409],[128.34321,3.90322],[123.78965,-.86805],[125.87688,-7.49892],[125.58506,-7.95311],[125.87691,-8.31789],[127.42116,-8.22471],[127.55165,-9.05052],[135.49042,-9.2276],[135.35517,-5.01442],[132.8312,-4.70282],[130.8468,-2.61103],[128.40647,-2.30349],[129.71519,-.24692],[129.63187,2.21409]]]]}},{type:"Feature",properties:{wikidata:"Q3845",nameEn:"Western New Guinea",aliases:["ID-PP"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.49042,-9.2276],[141.01842,-9.35091],[141.01763,-6.90181],[140.90448,-6.85033],[140.85295,-6.72996],[140.99813,-6.3233],[141.02352,.08993],[129.63187,2.21409],[129.71519,-.24692],[128.40647,-2.30349],[130.8468,-2.61103],[132.8312,-4.70282],[135.35517,-5.01442],[135.49042,-9.2276]]]]}},{type:"Feature",properties:{wikidata:"Q5765",nameEn:"Balearic Islands",aliases:["ES-IB"],country:"ES",groups:["EU","039","150","UN"],callingCodes:["34 971"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[5.10072,39.89531],[3.75438,42.33445],[-2.27707,35.35051]]]]}},{type:"Feature",properties:{wikidata:"Q5823",nameEn:"Ceuta",aliases:["ES-CE"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.38491,35.92591],[-5.37338,35.88417],[-5.35844,35.87375],[-5.34379,35.8711],[-5.21179,35.90091],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{wikidata:"Q5831",nameEn:"Melilla",aliases:["ES-ML"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.91909,35.33927],[-2.96038,35.31609],[-2.96648,35.30475],[-2.96978,35.29459],[-2.97035,35.28852],[-2.96507,35.28801],[-2.96826,35.28296],[-2.96516,35.27967],[-2.95431,35.2728],[-2.95065,35.26576],[-2.93893,35.26737],[-2.92272,35.27509],[-2.91909,35.33927]]]]}},{type:"Feature",properties:{wikidata:"Q7835",nameEn:"Crimea",country:"RU",groups:["151","150","UN"],level:"subterritory",callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.5,44],[33.59378,44.0332],[36.4883,45.0488],[36.475,45.2411],[36.5049,45.3136],[36.6545,45.3417],[36.6645,45.4514],[35.04991,45.76827],[34.9601,45.7563],[34.79905,45.81009],[34.8015,45.9005],[34.75479,45.90705],[34.66679,45.97136],[34.60861,45.99347],[34.55889,45.99347],[34.52011,45.95097],[34.48729,45.94267],[34.4415,45.9599],[34.41221,46.00245],[34.3391,46.0611],[34.2511,46.0532],[34.181,46.068],[34.1293,46.1049],[34.07311,46.11769],[34.05272,46.10838],[33.91549,46.15938],[33.8523,46.1986],[33.7972,46.2048],[33.7405,46.1855],[33.646,46.23028],[33.6152,46.2261],[33.63854,46.14147],[33.6147,46.1356],[33.57318,46.10317],[33.5909,46.0601],[33.54017,46.0123],[31.52705,45.47997],[33.5,44]]]]}},{type:"Feature",properties:{wikidata:"Q12837",nameEn:"Iberia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q14056",nameEn:"Jan Mayen",aliases:["NO-22"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-9.18243,72.23144],[-10.71459,70.09565],[-5.93364,70.76368],[-9.18243,72.23144]]]]}},{type:"Feature",properties:{wikidata:"Q19188",nameEn:"Mainland China",country:"CN",groups:["030","142","UN"],callingCodes:["86"]},geometry:{type:"MultiPolygon",coordinates:[[[[125.6131,53.07229],[125.17522,53.20225],[124.46078,53.21881],[123.86158,53.49391],[123.26989,53.54843],[122.85966,53.47395],[122.35063,53.49565],[121.39213,53.31888],[120.85633,53.28499],[120.0451,52.7359],[120.04049,52.58773],[120.46454,52.63811],[120.71673,52.54099],[120.61346,52.32447],[120.77337,52.20805],[120.65907,51.93544],[120.10963,51.671],[119.13553,50.37412],[119.38598,50.35162],[119.27996,50.13348],[119.11003,50.00276],[118.61623,49.93809],[117.82343,49.52696],[117.48208,49.62324],[117.27597,49.62544],[116.71193,49.83813],[116.03781,48.87014],[116.06565,48.81716],[115.78876,48.51781],[115.811,48.25699],[115.52082,48.15367],[115.57128,47.91988],[115.94296,47.67741],[116.21879,47.88505],[116.4465,47.83662],[116.67405,47.89039],[116.9723,47.87285],[117.37875,47.63627],[117.50181,47.77216],[117.80196,48.01661],[118.03676,48.00982],[118.11009,48.04],[118.22677,48.03853],[118.29654,48.00246],[118.55766,47.99277],[118.7564,47.76947],[119.12343,47.66458],[119.13995,47.53997],[119.35892,47.48104],[119.31964,47.42617],[119.54918,47.29505],[119.56019,47.24874],[119.62403,47.24575],[119.71209,47.19192],[119.85518,46.92196],[119.91242,46.90091],[119.89261,46.66423],[119.80455,46.67631],[119.77373,46.62947],[119.68127,46.59015],[119.65265,46.62342],[119.42827,46.63783],[119.32827,46.61433],[119.24978,46.64761],[119.10448,46.65516],[119.00541,46.74273],[118.92616,46.72765],[118.89974,46.77139],[118.8337,46.77742],[118.78747,46.68689],[118.30534,46.73519],[117.69554,46.50991],[117.60748,46.59771],[117.41782,46.57862],[117.36609,46.36335],[116.83166,46.38637],[116.75551,46.33083],[116.58612,46.30211],[116.26678,45.96479],[116.24012,45.8778],[116.27366,45.78637],[116.16989,45.68603],[115.60329,45.44717],[114.94546,45.37377],[114.74612,45.43585],[114.54801,45.38337],[114.5166,45.27189],[113.70918,44.72891],[112.74662,44.86297],[112.4164,45.06858],[111.98695,45.09074],[111.76275,44.98032],[111.40498,44.3461],[111.96289,43.81596],[111.93776,43.68709],[111.79758,43.6637],[111.59087,43.51207],[111.0149,43.3289],[110.4327,42.78293],[110.08401,42.6411],[109.89402,42.63111],[109.452,42.44842],[109.00679,42.45302],[108.84489,42.40246],[107.57258,42.40898],[107.49681,42.46221],[107.29755,42.41395],[107.24774,42.36107],[106.76517,42.28741],[105.0123,41.63188],[104.51667,41.66113],[104.52258,41.8706],[103.92804,41.78246],[102.72403,42.14675],[102.07645,42.22519],[101.80515,42.50074],[100.84979,42.67087],[100.33297,42.68231],[99.50671,42.56535],[97.1777,42.7964],[96.37926,42.72055],[96.35658,42.90363],[95.89543,43.2528],[95.52594,43.99353],[95.32891,44.02407],[95.39772,44.2805],[95.01191,44.25274],[94.71959,44.35284],[94.10003,44.71016],[93.51161,44.95964],[91.64048,45.07408],[90.89169,45.19667],[90.65114,45.49314],[90.70907,45.73437],[91.03026,46.04194],[90.99672,46.14207],[90.89639,46.30711],[91.07696,46.57315],[91.0147,46.58171],[91.03649,46.72916],[90.84035,46.99525],[90.76108,46.99399],[90.48542,47.30438],[90.48854,47.41826],[90.33598,47.68303],[90.10871,47.7375],[90.06512,47.88177],[89.76624,47.82745],[89.55453,48.0423],[89.0711,47.98528],[88.93186,48.10263],[88.8011,48.11302],[88.58316,48.21893],[88.58939,48.34531],[87.96361,48.58478],[88.0788,48.71436],[87.73822,48.89582],[87.88171,48.95853],[87.81333,49.17354],[87.48983,49.13794],[87.478,49.07403],[87.28386,49.11626],[86.87238,49.12432],[86.73568,48.99918],[86.75343,48.70331],[86.38069,48.46064],[85.73581,48.3939],[85.5169,48.05493],[85.61067,47.49753],[85.69696,47.2898],[85.54294,47.06171],[85.22443,47.04816],[84.93995,46.87399],[84.73077,47.01394],[83.92184,46.98912],[83.04622,47.19053],[82.21792,45.56619],[82.58474,45.40027],[82.51374,45.1755],[81.73278,45.3504],[80.11169,45.03352],[79.8987,44.89957],[80.38384,44.63073],[80.40229,44.23319],[80.40031,44.10986],[80.75156,43.44948],[80.69718,43.32589],[80.77771,43.30065],[80.78817,43.14235],[80.62913,43.141],[80.3735,43.01557],[80.58999,42.9011],[80.38169,42.83142],[80.26886,42.8366],[80.16892,42.61137],[80.26841,42.23797],[80.17807,42.21166],[80.17842,42.03211],[79.92977,42.04113],[78.3732,41.39603],[78.15757,41.38565],[78.12873,41.23091],[77.81287,41.14307],[77.76206,41.01574],[77.52723,41.00227],[77.3693,41.0375],[77.28004,41.0033],[76.99302,41.0696],[76.75681,40.95354],[76.5261,40.46114],[76.33659,40.3482],[75.96168,40.38064],[75.91361,40.2948],[75.69663,40.28642],[75.5854,40.66874],[75.22834,40.45382],[75.08243,40.43945],[74.82013,40.52197],[74.78168,40.44886],[74.85996,40.32857],[74.69875,40.34668],[74.35063,40.09742],[74.25533,40.13191],[73.97049,40.04378],[73.83006,39.76136],[73.9051,39.75073],[73.92354,39.69565],[73.94683,39.60733],[73.87018,39.47879],[73.59831,39.46425],[73.59241,39.40843],[73.5004,39.38402],[73.55396,39.3543],[73.54572,39.27567],[73.60638,39.24534],[73.75823,39.023],[73.81728,39.04007],[73.82964,38.91517],[73.7445,38.93867],[73.7033,38.84782],[73.80656,38.66449],[73.79806,38.61106],[73.97933,38.52945],[74.17022,38.65504],[74.51217,38.47034],[74.69619,38.42947],[74.69894,38.22155],[74.80331,38.19889],[74.82665,38.07359],[74.9063,38.03033],[74.92416,37.83428],[75.00935,37.77486],[74.8912,37.67576],[74.94338,37.55501],[75.06011,37.52779],[75.15899,37.41443],[75.09719,37.37297],[75.12328,37.31839],[74.88887,37.23275],[74.80605,37.21565],[74.49981,37.24518],[74.56453,37.03023],[75.13839,37.02622],[75.40481,36.95382],[75.45562,36.71971],[75.72737,36.7529],[75.92391,36.56986],[76.0324,36.41198],[76.00906,36.17511],[75.93028,36.13136],[76.15325,35.9264],[76.14913,35.82848],[76.33453,35.84296],[76.50961,35.8908],[76.77323,35.66062],[76.84539,35.67356],[76.96624,35.5932],[77.44277,35.46132],[77.70232,35.46244],[77.80532,35.52058],[78.11664,35.48022],[78.03466,35.3785],[78.00033,35.23954],[78.22692,34.88771],[78.18435,34.7998],[78.27781,34.61484],[78.54964,34.57283],[78.56475,34.50835],[78.74465,34.45174],[79.05364,34.32482],[78.99802,34.3027],[78.91769,34.15452],[78.66225,34.08858],[78.65657,34.03195],[78.73367,34.01121],[78.77349,33.73871],[78.67599,33.66445],[78.73636,33.56521],[79.15252,33.17156],[79.14016,33.02545],[79.46562,32.69668],[79.26768,32.53277],[79.13174,32.47766],[79.0979,32.38051],[78.99322,32.37948],[78.96713,32.33655],[78.7831,32.46873],[78.73916,32.69438],[78.38897,32.53938],[78.4645,32.45367],[78.49609,32.2762],[78.68754,32.10256],[78.74404,32.00384],[78.78036,31.99478],[78.69933,31.78723],[78.84516,31.60631],[78.71032,31.50197],[78.77898,31.31209],[78.89344,31.30481],[79.01931,31.42817],[79.14016,31.43403],[79.30694,31.17357],[79.59884,30.93943],[79.93255,30.88288],[80.20721,30.58541],[80.54504,30.44936],[80.83343,30.32023],[81.03953,30.20059],[81.12842,30.01395],[81.24362,30.0126],[81.29032,30.08806],[81.2623,30.14596],[81.33355,30.15303],[81.39928,30.21862],[81.41018,30.42153],[81.5459,30.37688],[81.62033,30.44703],[81.99082,30.33423],[82.10135,30.35439],[82.10757,30.23745],[82.19475,30.16884],[82.16984,30.0692],[82.38622,30.02608],[82.5341,29.9735],[82.73024,29.81695],[83.07116,29.61957],[83.28131,29.56813],[83.44787,29.30513],[83.63156,29.16249],[83.82303,29.30513],[83.97559,29.33091],[84.18107,29.23451],[84.24801,29.02783],[84.2231,28.89571],[84.47528,28.74023],[84.62317,28.73887],[84.85511,28.58041],[85.06059,28.68562],[85.19135,28.62825],[85.18668,28.54076],[85.10729,28.34092],[85.38127,28.28336],[85.4233,28.32996],[85.59765,28.30529],[85.60854,28.25045],[85.69105,28.38475],[85.71907,28.38064],[85.74864,28.23126],[85.84672,28.18187],[85.90743,28.05144],[85.97813,27.99023],[85.94946,27.9401],[86.06309,27.90021],[86.12069,27.93047],[86.08333,28.02121],[86.088,28.09264],[86.18607,28.17364],[86.22966,27.9786],[86.42736,27.91122],[86.51609,27.96623],[86.56265,28.09569],[86.74181,28.10638],[86.75582,28.04182],[87.03757,27.94835],[87.11696,27.84104],[87.56996,27.84517],[87.72718,27.80938],[87.82681,27.95248],[88.13378,27.88015],[88.1278,27.95417],[88.25332,27.9478],[88.54858,28.06057],[88.63235,28.12356],[88.83559,28.01936],[88.88091,27.85192],[88.77517,27.45415],[88.82981,27.38814],[88.91901,27.32483],[88.93678,27.33777],[88.96947,27.30319],[89.00216,27.32532],[88.95355,27.4106],[88.97213,27.51671],[89.0582,27.60985],[89.12825,27.62502],[89.59525,28.16433],[89.79762,28.23979],[90.13387,28.19178],[90.58842,28.02838],[90.69894,28.07784],[91.20019,27.98715],[91.25779,28.07509],[91.46327,28.0064],[91.48973,27.93903],[91.5629,27.84823],[91.6469,27.76358],[91.84722,27.76325],[91.87057,27.7195],[92.27432,27.89077],[92.32101,27.79363],[92.42538,27.80092],[92.7275,27.98662],[92.73025,28.05814],[92.65472,28.07632],[92.67486,28.15018],[92.93075,28.25671],[93.14635,28.37035],[93.18069,28.50319],[93.44621,28.67189],[93.72797,28.68821],[94.35897,29.01965],[94.2752,29.11687],[94.69318,29.31739],[94.81353,29.17804],[95.0978,29.14446],[95.11291,29.09527],[95.2214,29.10727],[95.26122,29.07727],[95.3038,29.13847],[95.41091,29.13007],[95.50842,29.13487],[95.72086,29.20797],[95.75149,29.32063],[95.84899,29.31464],[96.05361,29.38167],[96.31316,29.18643],[96.18682,29.11087],[96.20467,29.02325],[96.3626,29.10607],[96.61391,28.72742],[96.40929,28.51526],[96.48895,28.42955],[96.6455,28.61657],[96.85561,28.4875],[96.88445,28.39452],[96.98882,28.32564],[97.1289,28.3619],[97.34547,28.21385],[97.41729,28.29783],[97.47085,28.2688],[97.50518,28.49716],[97.56835,28.55628],[97.70705,28.5056],[97.79632,28.33168],[97.90069,28.3776],[98.15337,28.12114],[98.13964,27.9478],[98.32641,27.51385],[98.42529,27.55404],[98.43353,27.67086],[98.69582,27.56499],[98.7333,26.85615],[98.77547,26.61994],[98.72741,26.36183],[98.67797,26.24487],[98.7329,26.17218],[98.66884,26.09165],[98.63128,26.15492],[98.57085,26.11547],[98.60763,26.01512],[98.70818,25.86241],[98.63128,25.79937],[98.54064,25.85129],[98.40606,25.61129],[98.31268,25.55307],[98.25774,25.6051],[98.16848,25.62739],[98.18084,25.56298],[98.12591,25.50722],[98.14925,25.41547],[97.92541,25.20815],[97.83614,25.2715],[97.77023,25.11492],[97.72216,25.08508],[97.72903,24.91332],[97.79949,24.85655],[97.76481,24.8289],[97.73127,24.83015],[97.70181,24.84557],[97.64354,24.79171],[97.56648,24.76475],[97.56383,24.75535],[97.5542,24.74943],[97.54675,24.74202],[97.56525,24.72838],[97.56286,24.54535],[97.52757,24.43748],[97.60029,24.4401],[97.66998,24.45288],[97.7098,24.35658],[97.65624,24.33781],[97.66723,24.30027],[97.71941,24.29652],[97.76799,24.26365],[97.72998,24.2302],[97.72799,24.18883],[97.75305,24.16902],[97.72903,24.12606],[97.62363,24.00506],[97.5247,23.94032],[97.64667,23.84574],[97.72302,23.89288],[97.79456,23.94836],[97.79416,23.95663],[97.84328,23.97603],[97.86545,23.97723],[97.88811,23.97446],[97.8955,23.97758],[97.89676,23.97931],[97.89683,23.98389],[97.88814,23.98605],[97.88414,23.99405],[97.88616,24.00463],[97.90998,24.02094],[97.93951,24.01953],[97.98691,24.03897],[97.99583,24.04932],[98.04709,24.07616],[98.05302,24.07408],[98.05671,24.07961],[98.0607,24.07812],[98.06703,24.08028],[98.07806,24.07988],[98.20666,24.11406],[98.54476,24.13119],[98.59256,24.08371],[98.85319,24.13042],[98.87998,24.15624],[98.89632,24.10612],[98.67797,23.9644],[98.68209,23.80492],[98.79607,23.77947],[98.82933,23.72921],[98.81775,23.694],[98.88396,23.59555],[98.80294,23.5345],[98.82877,23.47908],[98.87683,23.48995],[98.92104,23.36946],[98.87573,23.33038],[98.93958,23.31414],[98.92515,23.29535],[98.88597,23.18656],[99.05975,23.16382],[99.04601,23.12215],[99.25741,23.09025],[99.34127,23.13099],[99.52214,23.08218],[99.54218,22.90014],[99.43537,22.94086],[99.45654,22.85726],[99.31243,22.73893],[99.38247,22.57544],[99.37972,22.50188],[99.28771,22.4105],[99.17318,22.18025],[99.19176,22.16983],[99.1552,22.15874],[99.33166,22.09656],[99.47585,22.13345],[99.85351,22.04183],[99.96612,22.05965],[99.99084,21.97053],[99.94003,21.82782],[99.98654,21.71064],[100.04956,21.66843],[100.12679,21.70539],[100.17486,21.65306],[100.10757,21.59945],[100.12542,21.50365],[100.1625,21.48704],[100.18447,21.51898],[100.25863,21.47043],[100.35201,21.53176],[100.42892,21.54325],[100.4811,21.46148],[100.57861,21.45637],[100.72143,21.51898],[100.87265,21.67396],[101.11744,21.77659],[101.15156,21.56129],[101.2124,21.56422],[101.19349,21.41959],[101.26912,21.36482],[101.2229,21.23271],[101.29326,21.17254],[101.54563,21.25668],[101.6068,21.23329],[101.59491,21.18621],[101.60886,21.17947],[101.66977,21.20004],[101.70548,21.14911],[101.7622,21.14813],[101.79266,21.19025],[101.76745,21.21571],[101.83887,21.20983],[101.84412,21.25291],[101.74014,21.30967],[101.74224,21.48276],[101.7727,21.51794],[101.7475,21.5873],[101.80001,21.57461],[101.83257,21.61562],[101.74555,21.72852],[101.7791,21.83019],[101.62566,21.96574],[101.57525,22.13026],[101.60675,22.13513],[101.53638,22.24794],[101.56789,22.28876],[101.61306,22.27515],[101.68973,22.46843],[101.7685,22.50337],[101.86828,22.38397],[101.90714,22.38688],[101.91344,22.44417],[101.98487,22.42766],[102.03633,22.46164],[102.1245,22.43372],[102.14099,22.40092],[102.16621,22.43336],[102.26428,22.41321],[102.25339,22.4607],[102.41061,22.64184],[102.38415,22.67919],[102.42618,22.69212],[102.46665,22.77108],[102.51802,22.77969],[102.57095,22.7036],[102.60675,22.73376],[102.8636,22.60735],[102.9321,22.48659],[103.0722,22.44775],[103.07843,22.50097],[103.17961,22.55705],[103.15782,22.59873],[103.18895,22.64471],[103.28079,22.68063],[103.32282,22.8127],[103.43179,22.75816],[103.43646,22.70648],[103.52675,22.59155],[103.57812,22.65764],[103.56255,22.69499],[103.64506,22.79979],[103.87904,22.56683],[103.93286,22.52703],[103.94513,22.52553],[103.95191,22.5134],[103.96352,22.50584],[103.96783,22.51173],[103.97384,22.50634],[103.99247,22.51958],[104.01088,22.51823],[104.03734,22.72945],[104.11384,22.80363],[104.27084,22.8457],[104.25683,22.76534],[104.35593,22.69353],[104.47225,22.75813],[104.58122,22.85571],[104.60457,22.81841],[104.65283,22.83419],[104.72755,22.81984],[104.77114,22.90017],[104.84942,22.93631],[104.86765,22.95178],[104.8334,23.01484],[104.79478,23.12934],[104.87382,23.12854],[104.87992,23.17141],[104.91435,23.18666],[104.9486,23.17235],[104.96532,23.20463],[104.98712,23.19176],[105.07002,23.26248],[105.11672,23.25247],[105.17276,23.28679],[105.22569,23.27249],[105.32376,23.39684],[105.40782,23.28107],[105.42805,23.30824],[105.49966,23.20669],[105.56037,23.16806],[105.57594,23.075],[105.72382,23.06641],[105.8726,22.92756],[105.90119,22.94168],[105.99568,22.94178],[106.00179,22.99049],[106.19705,22.98475],[106.27022,22.87722],[106.34961,22.86718],[106.49749,22.91164],[106.51306,22.94891],[106.55976,22.92311],[106.60179,22.92884],[106.6516,22.86862],[106.6734,22.89587],[106.71387,22.88296],[106.71128,22.85982],[106.78422,22.81532],[106.81271,22.8226],[106.83685,22.8098],[106.82404,22.7881],[106.76293,22.73491],[106.72321,22.63606],[106.71698,22.58432],[106.65316,22.5757],[106.61269,22.60301],[106.58395,22.474],[106.55665,22.46498],[106.57221,22.37],[106.55976,22.34841],[106.6516,22.33977],[106.69986,22.22309],[106.67495,22.1885],[106.6983,22.15102],[106.70142,22.02409],[106.68274,21.99811],[106.69276,21.96013],[106.72551,21.97923],[106.74345,22.00965],[106.81038,21.97934],[106.9178,21.97357],[106.92714,21.93459],[106.97228,21.92592],[106.99252,21.95191],[107.05634,21.92303],[107.06101,21.88982],[107.00964,21.85948],[107.02615,21.81981],[107.10771,21.79879],[107.20734,21.71493],[107.24625,21.7077],[107.29296,21.74674],[107.35834,21.6672],[107.35989,21.60063],[107.38636,21.59774],[107.41593,21.64839],[107.47197,21.6672],[107.49532,21.62958],[107.49065,21.59774],[107.54047,21.5934],[107.56537,21.61945],[107.66967,21.60787],[107.80355,21.66141],[107.86114,21.65128],[107.90006,21.5905],[107.92652,21.58906],[107.95232,21.5388],[107.96774,21.53601],[107.97074,21.54072],[107.97383,21.53961],[107.97932,21.54503],[108.02926,21.54997],[108.0569,21.53604],[108.10003,21.47338],[108.00365,17.98159],[111.60491,13.57105],[118.41371,24.06775],[118.11703,24.39734],[118.28244,24.51231],[118.35291,24.51645],[118.42453,24.54644],[118.6333,24.46259],[119.42295,25.0886],[119.98511,25.37624],[119.78816,26.2348],[120.0693,26.3959],[120.5128,26.536],[121.03532,26.8787],[123.5458,31.01942],[122.29378,31.76513],[122.80525,33.30571],[123.85601,37.49093],[123.90497,38.79949],[124.17532,39.8232],[124.23201,39.9248],[124.35029,39.95639],[124.37089,40.03004],[124.3322,40.05573],[124.38556,40.11047],[124.40719,40.13655],[124.86913,40.45387],[125.71172,40.85223],[125.76869,40.87908],[126.00335,40.92835],[126.242,41.15454],[126.53189,41.35206],[126.60631,41.65565],[126.90729,41.79955],[127.17841,41.59714],[127.29712,41.49473],[127.92943,41.44291],[128.02633,41.42103],[128.03311,41.39232],[128.12967,41.37931],[128.18546,41.41279],[128.20061,41.40895],[128.30716,41.60322],[128.15119,41.74568],[128.04487,42.01769],[128.94007,42.03537],[128.96068,42.06657],[129.15178,42.17224],[129.22285,42.26491],[129.22423,42.3553],[129.28541,42.41574],[129.42882,42.44702],[129.54701,42.37254],[129.60482,42.44461],[129.72541,42.43739],[129.75294,42.59409],[129.77183,42.69435],[129.7835,42.76521],[129.80719,42.79218],[129.83277,42.86746],[129.85261,42.96494],[129.8865,43.00395],[129.95082,43.01051],[129.96409,42.97306],[130.12957,42.98361],[130.09764,42.91425],[130.26095,42.9027],[130.23068,42.80125],[130.2385,42.71127],[130.41826,42.6011],[130.44361,42.54849],[130.50123,42.61636],[130.55143,42.52158],[130.62107,42.58413],[130.56576,42.68925],[130.40213,42.70788],[130.44361,42.76205],[130.66524,42.84753],[131.02438,42.86518],[131.02668,42.91246],[131.135,42.94114],[131.10274,43.04734],[131.20414,43.13654],[131.19031,43.21385],[131.30324,43.39498],[131.29402,43.46695],[131.19492,43.53047],[131.21105,43.82383],[131.26176,43.94011],[131.23583,43.96085],[131.25484,44.03131],[131.30365,44.04262],[131.1108,44.70266],[130.95639,44.85154],[131.48415,44.99513],[131.68466,45.12374],[131.66852,45.2196],[131.76532,45.22609],[131.86903,45.33636],[131.99417,45.2567],[132.83978,45.05916],[132.96373,45.0212],[133.12293,45.1332],[133.09279,45.25693],[133.19419,45.51913],[133.41083,45.57723],[133.48457,45.86203],[133.60442,45.90053],[133.67569,45.9759],[133.72695,46.05576],[133.68047,46.14697],[133.88097,46.25066],[133.91496,46.4274],[133.84104,46.46681],[134.03538,46.75668],[134.20016,47.33458],[134.50898,47.4812],[134.7671,47.72051],[134.55508,47.98651],[134.67098,48.1564],[134.75328,48.36763],[134.49516,48.42884],[132.66989,47.96491],[132.57309,47.71741],[131.90448,47.68011],[131.2635,47.73325],[131.09871,47.6852],[130.95985,47.6957],[130.90915,47.90623],[130.65103,48.10052],[130.84462,48.30942],[130.52147,48.61745],[130.66946,48.88251],[130.43232,48.90844],[130.2355,48.86741],[129.85416,49.11067],[129.67598,49.29596],[129.50685,49.42398],[129.40398,49.44194],[129.35317,49.3481],[129.23232,49.40353],[129.11153,49.36813],[128.72896,49.58676],[127.83476,49.5748],[127.53516,49.84306],[127.49299,50.01251],[127.60515,50.23503],[127.37384,50.28393],[127.36009,50.43787],[127.28765,50.46585],[127.36335,50.58306],[127.28165,50.72075],[127.14586,50.91152],[126.93135,51.0841],[126.90369,51.3238],[126.68349,51.70607],[126.44606,51.98254],[126.558,52.13738],[125.6131,53.07229]],[[113.56865,22.20973],[113.57123,22.20416],[113.60504,22.20464],[113.63011,22.10782],[113.57191,22.07696],[113.54839,22.10909],[113.54942,22.14519],[113.54093,22.15497],[113.52659,22.18271],[113.53552,22.20607],[113.53301,22.21235],[113.53591,22.21369],[113.54093,22.21314],[113.54333,22.21688],[113.5508,22.21672],[113.56865,22.20973]],[[114.50148,22.15017],[113.92195,22.13873],[113.83338,22.1826],[113.81621,22.2163],[113.86771,22.42972],[114.03113,22.5065],[114.05438,22.5026],[114.05729,22.51104],[114.06272,22.51617],[114.07267,22.51855],[114.07817,22.52997],[114.08606,22.53276],[114.09048,22.53716],[114.09692,22.53435],[114.1034,22.5352],[114.11181,22.52878],[114.11656,22.53415],[114.12665,22.54003],[114.13823,22.54319],[114.1482,22.54091],[114.15123,22.55163],[114.1597,22.56041],[114.17247,22.55944],[114.18338,22.55444],[114.20655,22.55706],[114.22185,22.55343],[114.22888,22.5436],[114.25154,22.55977],[114.44998,22.55977],[114.50148,22.15017]]]]}},{type:"Feature",properties:{wikidata:"Q22890",nameEn:"Ireland",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23666",nameEn:"Great Britain",country:"GB",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23681",nameEn:"Northern Cyprus",groups:["Q644636","145","142"],driveSide:"left",callingCodes:["90 392"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.67678,35.03866],[33.67742,35.05963],[33.68474,35.06602],[33.69095,35.06237],[33.70861,35.07644],[33.7161,35.07279],[33.70209,35.04882],[33.71482,35.03722],[33.73824,35.05321],[33.76106,35.04253],[33.78581,35.05104],[33.82067,35.07826],[33.84168,35.06823],[33.8541,35.07201],[33.87479,35.08881],[33.87097,35.09389],[33.87622,35.10457],[33.87224,35.12293],[33.88561,35.12449],[33.88943,35.12007],[33.88737,35.11408],[33.89853,35.11377],[33.91789,35.08688],[33.90247,35.07686],[33.92495,35.06789],[33.94869,35.07277],[33.99999,35.07016],[34.23164,35.1777],[35.51152,36.10954],[32.82353,35.70297],[32.46489,35.48584],[32.60361,35.16647],[32.64864,35.19967],[32.70947,35.18328],[32.70779,35.14127],[32.85733,35.07742],[32.86406,35.1043],[32.94471,35.09422],[33.01192,35.15639],[33.08249,35.17319],[33.11105,35.15639],[33.15138,35.19504],[33.27068,35.16815],[33.3072,35.16816],[33.31955,35.18096],[33.35056,35.18328],[33.34964,35.17803],[33.35596,35.17942],[33.35612,35.17402],[33.36569,35.17479],[33.3717,35.1788],[33.37248,35.18698],[33.38575,35.2018],[33.4076,35.20062],[33.41675,35.16325],[33.46813,35.10564],[33.48136,35.0636],[33.47825,35.04103],[33.45178,35.02078],[33.45256,35.00288],[33.47666,35.00701],[33.48915,35.06594],[33.53975,35.08151],[33.57478,35.06049],[33.567,35.04803],[33.59658,35.03635],[33.61215,35.0527],[33.63765,35.03869],[33.67678,35.03866]]]]}},{type:"Feature",properties:{wikidata:"Q25231",nameEn:"Svalbard",aliases:["NO-21"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory",callingCodes:["47 79"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.49892,77.24208],[32.07813,72.01005],[36.85549,84.09565],[-7.49892,77.24208]]]]}},{type:"Feature",properties:{wikidata:"Q25263",nameEn:"Azores",aliases:["PT-20"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-23.12984,40.26428],[-36.43765,41.39418],[-22.54767,33.34416],[-23.12984,40.26428]]]]}},{type:"Feature",properties:{wikidata:"Q25359",nameEn:"Navassa Island",aliases:["UM-76"],country:"US",groups:["UM","Q1352230","029","003","419","019","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-74.7289,18.71009],[-75.71816,18.46438],[-74.76465,18.06252],[-74.7289,18.71009]]]]}},{type:"Feature",properties:{wikidata:"Q25396",nameEn:"Bonaire",aliases:["BQ-BO","NL-BQ1"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.89186,12.4116],[-68.90012,12.62309],[-68.33524,11.78151],[-68.01417,11.77722],[-67.89186,12.4116]]]]}},{type:"Feature",properties:{wikidata:"Q25528",nameEn:"Saba",aliases:["BQ-SA","NL-BQ2"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 4"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.81314,17.95045],[-63.22932,17.32592],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26180",nameEn:"Sint Eustatius",aliases:["BQ-SE","NL-BQ3"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.34999,16.94218],[-62.76692,17.64353],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26253",nameEn:"Madeira",aliases:["PT-30"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-19.30302,33.65304],[-16.04789,29.65076],[-11.68307,33.12333],[-19.30302,33.65304]]]]}},{type:"Feature",properties:{wikidata:"Q26927",nameEn:"Lakshadweep",aliases:["IN-LD"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[67.64074,11.57295],[76.59015,5.591],[72.67494,13.58102],[67.64074,11.57295]]]]}},{type:"Feature",properties:{wikidata:"Q27329",nameEn:"Asian Russia",country:"RU",groups:["142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.99933,64.74703],[-172.76104,63.77445],[-169.03888,65.48473],[-168.95635,65.98512],[-168.25765,71.99091],[-179.9843,71.90735],[-179.99933,64.74703]]],[[[59.99809,51.98263],[60.19925,51.99173],[60.48915,52.15175],[60.72581,52.15538],[60.78201,52.22067],[61.05417,52.35096],[60.98021,52.50068],[60.84709,52.52228],[60.84118,52.63912],[60.71693,52.66245],[60.71989,52.75923],[61.05842,52.92217],[61.23462,53.03227],[62.0422,52.96105],[62.12799,52.99133],[62.14574,53.09626],[61.19024,53.30536],[61.14291,53.41481],[61.29082,53.50992],[61.37957,53.45887],[61.57185,53.50112],[61.55706,53.57144],[60.90626,53.62937],[61.22574,53.80268],[61.14283,53.90063],[60.99796,53.93699],[61.26863,53.92797],[61.3706,54.08464],[61.47603,54.08048],[61.56941,53.95703],[61.65318,54.02445],[62.03913,53.94768],[62.00966,54.04134],[62.38535,54.03961],[62.45931,53.90737],[62.56876,53.94047],[62.58651,54.05871],[63.80604,54.27079],[63.91224,54.20013],[64.02715,54.22679],[63.97686,54.29763],[64.97216,54.4212],[65.11033,54.33028],[65.24663,54.35721],[65.20174,54.55216],[68.21308,54.98645],[68.26661,55.09226],[68.19206,55.18823],[68.90865,55.38148],[69.34224,55.36344],[69.74917,55.35545],[70.19179,55.1476],[70.76493,55.3027],[70.96009,55.10558],[71.08288,54.71253],[71.24185,54.64965],[71.08706,54.33376],[71.10379,54.13326],[71.96141,54.17736],[72.17477,54.36303],[72.43415,53.92685],[72.71026,54.1161],[73.37963,53.96132],[73.74778,54.07194],[73.68921,53.86522],[73.25412,53.61532],[73.39218,53.44623],[75.07405,53.80831],[75.43398,53.98652],[75.3668,54.07439],[76.91052,54.4677],[76.82266,54.1798],[76.44076,54.16017],[76.54243,53.99329],[77.90383,53.29807],[79.11255,52.01171],[80.08138,50.77658],[80.4127,50.95581],[80.44819,51.20855],[80.80318,51.28262],[81.16999,51.15662],[81.06091,50.94833],[81.41248,50.97524],[81.46581,50.77658],[81.94999,50.79307],[82.55443,50.75412],[83.14607,51.00796],[83.8442,50.87375],[84.29385,50.27257],[84.99198,50.06793],[85.24047,49.60239],[86.18709,49.50259],[86.63674,49.80136],[86.79056,49.74787],[86.61307,49.60239],[86.82606,49.51796],[87.03071,49.25142],[87.31465,49.23603],[87.28386,49.11626],[87.478,49.07403],[87.48983,49.13794],[87.81333,49.17354],[87.98977,49.18147],[88.15543,49.30314],[88.17223,49.46934],[88.42449,49.48821],[88.82499,49.44808],[89.70687,49.72535],[89.59711,49.90851],[91.86048,50.73734],[92.07173,50.69585],[92.44714,50.78762],[93.01109,50.79001],[92.99595,50.63183],[94.30823,50.57498],[94.39258,50.22193],[94.49477,50.17832],[94.6121,50.04239],[94.97166,50.04725],[95.02465,49.96941],[95.74757,49.97915],[95.80056,50.04239],[96.97388,49.88413],[97.24639,49.74737],[97.56811,49.84265],[97.56432,49.92801],[97.76871,49.99861],[97.85197,49.91339],[98.29481,50.33561],[98.31373,50.4996],[98.06393,50.61262],[97.9693,50.78044],[98.01472,50.86652],[97.83305,51.00248],[98.05257,51.46696],[98.22053,51.46579],[98.33222,51.71832],[98.74142,51.8637],[98.87768,52.14563],[99.27888,51.96876],[99.75578,51.90108],[99.89203,51.74903],[100.61116,51.73028],[101.39085,51.45753],[101.5044,51.50467],[102.14032,51.35566],[102.32194,50.67982],[102.71178,50.38873],[103.70343,50.13952],[105.32528,50.4648],[106.05562,50.40582],[106.07865,50.33474],[106.47156,50.31909],[106.49628,50.32436],[106.51122,50.34408],[106.58373,50.34044],[106.80326,50.30177],[107.00007,50.1977],[107.1174,50.04239],[107.36407,49.97612],[107.96116,49.93191],[107.95387,49.66659],[108.27937,49.53167],[108.53969,49.32325],[109.18017,49.34709],[109.51325,49.22859],[110.24373,49.16676],[110.39891,49.25083],[110.64493,49.1816],[113.02647,49.60772],[113.20216,49.83356],[114.325,50.28098],[114.9703,50.19254],[115.26068,49.97367],[115.73602,49.87688],[116.22402,50.04477],[116.62502,49.92919],[116.71193,49.83813],[117.27597,49.62544],[117.48208,49.62324],[117.82343,49.52696],[118.61623,49.93809],[119.11003,50.00276],[119.27996,50.13348],[119.38598,50.35162],[119.13553,50.37412],[120.10963,51.671],[120.65907,51.93544],[120.77337,52.20805],[120.61346,52.32447],[120.71673,52.54099],[120.46454,52.63811],[120.04049,52.58773],[120.0451,52.7359],[120.85633,53.28499],[121.39213,53.31888],[122.35063,53.49565],[122.85966,53.47395],[123.26989,53.54843],[123.86158,53.49391],[124.46078,53.21881],[125.17522,53.20225],[125.6131,53.07229],[126.558,52.13738],[126.44606,51.98254],[126.68349,51.70607],[126.90369,51.3238],[126.93135,51.0841],[127.14586,50.91152],[127.28165,50.72075],[127.36335,50.58306],[127.28765,50.46585],[127.36009,50.43787],[127.37384,50.28393],[127.60515,50.23503],[127.49299,50.01251],[127.53516,49.84306],[127.83476,49.5748],[128.72896,49.58676],[129.11153,49.36813],[129.23232,49.40353],[129.35317,49.3481],[129.40398,49.44194],[129.50685,49.42398],[129.67598,49.29596],[129.85416,49.11067],[130.2355,48.86741],[130.43232,48.90844],[130.66946,48.88251],[130.52147,48.61745],[130.84462,48.30942],[130.65103,48.10052],[130.90915,47.90623],[130.95985,47.6957],[131.09871,47.6852],[131.2635,47.73325],[131.90448,47.68011],[132.57309,47.71741],[132.66989,47.96491],[134.49516,48.42884],[134.75328,48.36763],[134.67098,48.1564],[134.55508,47.98651],[134.7671,47.72051],[134.50898,47.4812],[134.20016,47.33458],[134.03538,46.75668],[133.84104,46.46681],[133.91496,46.4274],[133.88097,46.25066],[133.68047,46.14697],[133.72695,46.05576],[133.67569,45.9759],[133.60442,45.90053],[133.48457,45.86203],[133.41083,45.57723],[133.19419,45.51913],[133.09279,45.25693],[133.12293,45.1332],[132.96373,45.0212],[132.83978,45.05916],[131.99417,45.2567],[131.86903,45.33636],[131.76532,45.22609],[131.66852,45.2196],[131.68466,45.12374],[131.48415,44.99513],[130.95639,44.85154],[131.1108,44.70266],[131.30365,44.04262],[131.25484,44.03131],[131.23583,43.96085],[131.26176,43.94011],[131.21105,43.82383],[131.19492,43.53047],[131.29402,43.46695],[131.30324,43.39498],[131.19031,43.21385],[131.20414,43.13654],[131.10274,43.04734],[131.135,42.94114],[131.02668,42.91246],[131.02438,42.86518],[130.66524,42.84753],[130.44361,42.76205],[130.40213,42.70788],[130.56576,42.68925],[130.62107,42.58413],[130.55143,42.52158],[130.56835,42.43281],[130.60805,42.4317],[130.64181,42.41422],[130.66367,42.38024],[130.65022,42.32281],[131.95041,41.5445],[140.9182,45.92937],[145.82343,44.571],[145.23667,43.76813],[153.94307,38.42848],[180,62.52334],[180,71.53642],[155.31937,81.93282],[76.13964,83.37843],[64.18965,69.94255],[66.1708,67.61252],[61.98014,65.72191],[60.74386,64.95767],[59.63945,64.78384],[59.80579,64.13948],[59.24834,63.01859],[59.61398,62.44915],[59.36223,61.3882],[59.50685,60.91162],[58.3853,59.487],[59.15636,59.14682],[59.40376,58.45822],[58.71104,58.07475],[58.81412,57.71602],[58.13789,57.68097],[58.07604,57.08308],[57.28024,56.87898],[57.51527,56.08729],[59.28419,56.15739],[59.49035,55.60486],[58.81825,55.03378],[57.25137,55.26262],[57.14829,54.84204],[57.95234,54.39672],[59.95217,54.85853],[59.70487,54.14846],[58.94336,53.953],[58.79644,52.43392],[59.22409,52.28437],[59.25033,52.46803],[60.17516,52.39457],[60.17253,52.25814],[59.91279,52.06924],[59.99809,51.98263]]]]}},{type:"Feature",properties:{wikidata:"Q34366",nameEn:"Tasmania",aliases:["AU-TAS"],country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.64533,-39.13605],[159.69067,-56.28945],[159.74028,-39.1978],[123.64533,-39.13605]]]]}},{type:"Feature",properties:{wikidata:"Q34497",nameEn:"Saint Helena",aliases:["SH-HL"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.3824,-13.9131],[-6.17428,-19.07236],[-3.29308,-15.22647],[-8.3824,-13.9131]]]]}},{type:"Feature",properties:{wikidata:"Q35657",nameEn:"US States",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q36117",nameEn:"Borneo",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q36678",nameEn:"West Bank",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.47672,31.49578],[35.55941,31.76535],[35.52758,31.9131],[35.54375,31.96587],[35.52012,32.04076],[35.57111,32.21877],[35.55807,32.38674],[35.42078,32.41562],[35.41048,32.43706],[35.41598,32.45593],[35.42034,32.46009],[35.40224,32.50136],[35.35212,32.52047],[35.30685,32.51024],[35.29306,32.50947],[35.25049,32.52453],[35.2244,32.55289],[35.15937,32.50466],[35.10882,32.4757],[35.10024,32.47856],[35.09236,32.47614],[35.08564,32.46948],[35.07059,32.4585],[35.05423,32.41754],[35.05311,32.4024],[35.0421,32.38242],[35.05142,32.3667],[35.04243,32.35008],[35.01772,32.33863],[35.01119,32.28684],[35.02939,32.2671],[35.01841,32.23981],[34.98885,32.20758],[34.95703,32.19522],[34.96009,32.17503],[34.99039,32.14626],[34.98507,32.12606],[34.99437,32.10962],[34.9863,32.09551],[35.00261,32.027],[34.98682,31.96935],[35.00124,31.93264],[35.03489,31.92448],[35.03978,31.89276],[35.03489,31.85919],[34.99712,31.85569],[34.9724,31.83352],[35.01978,31.82944],[35.05617,31.85685],[35.07677,31.85627],[35.14174,31.81325],[35.18603,31.80901],[35.18169,31.82542],[35.19461,31.82687],[35.21469,31.81835],[35.216,31.83894],[35.21128,31.863],[35.20381,31.86716],[35.20673,31.88151],[35.20791,31.8821],[35.20945,31.8815],[35.21016,31.88237],[35.21276,31.88153],[35.2136,31.88241],[35.22014,31.88264],[35.22294,31.87889],[35.22567,31.86745],[35.22817,31.8638],[35.2249,31.85433],[35.2304,31.84222],[35.24816,31.8458],[35.25753,31.8387],[35.251,31.83085],[35.26404,31.82567],[35.25573,31.81362],[35.26058,31.79064],[35.25225,31.7678],[35.26319,31.74846],[35.25182,31.73945],[35.24981,31.72543],[35.2438,31.7201],[35.24315,31.71244],[35.23972,31.70896],[35.22392,31.71899],[35.21937,31.71578],[35.20538,31.72388],[35.18023,31.72067],[35.16478,31.73242],[35.15474,31.73352],[35.15119,31.73634],[35.13931,31.73012],[35.12933,31.7325],[35.11895,31.71454],[35.10782,31.71594],[35.08226,31.69107],[35.00879,31.65426],[34.95249,31.59813],[34.9415,31.55601],[34.94356,31.50743],[34.93258,31.47816],[34.89756,31.43891],[34.87833,31.39321],[34.88932,31.37093],[34.92571,31.34337],[35.02459,31.35979],[35.13033,31.3551],[35.22921,31.37445],[35.39675,31.49572],[35.47672,31.49578]]]]}},{type:"Feature",properties:{wikidata:"Q37362",nameEn:"Akrotiri and Dhekelia",aliases:["SBA"],country:"GB"},geometry:null},{type:"Feature",properties:{wikidata:"Q38095",nameEn:"Galpagos Islands",aliases:["EC-W"],country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-93.12365,2.64343],[-92.46744,-2.52874],[-87.07749,-.8849],[-93.12365,2.64343]]]]}},{type:"Feature",properties:{wikidata:"Q39760",nameEn:"Gaza Strip",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.21853,31.32363],[34.23572,31.2966],[34.24012,31.29591],[34.26742,31.21998],[34.29417,31.24194],[34.36523,31.28963],[34.37381,31.30598],[34.36505,31.36404],[34.40077,31.40926],[34.48892,31.48365],[34.56797,31.54197],[34.48681,31.59711],[34.29262,31.70393],[34.052,31.46619]]]]}},{type:"Feature",properties:{wikidata:"Q40888",nameEn:"Andaman and Nicobar Islands",aliases:["IN-AN"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[94.42132,5.96581],[94.6371,13.81803],[86.7822,13.41052],[94.42132,5.96581]]]]}},{type:"Feature",properties:{wikidata:"Q41684",nameEn:"Stewart Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.59185,-47.61313],[169.70504,-47.56021],[167.52103,-46.41337],[166.59185,-47.61313]]]]}},{type:"Feature",properties:{wikidata:"Q43296",nameEn:"Wake Island",aliases:["WK","WAK","WKUM","872","UM-79"],country:"US",groups:["UM","Q1352230","057","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[167.34779,18.97692],[166.67967,20.14834],[165.82549,18.97692],[167.34779,18.97692]]]]}},{type:"Feature",properties:{wikidata:"Q46275",nameEn:"New Zealand Subantarctic Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[164.30551,-47.88072],[161.96603,-56.07661],[179.49541,-50.04657],[179.49541,-47.2902],[169.91032,-47.66283],[164.30551,-47.88072]]]]}},{type:"Feature",properties:{wikidata:"Q46395",nameEn:"British Overseas Territories",aliases:["BOTS","UKOTS"],country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q46772",nameEn:"Kerguelen Islands",country:"FR",groups:["EU","TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[61.9216,-49.39746],[70.67507,-51.14192],[74.25129,-45.45074],[61.9216,-49.39746]]]]}},{type:"Feature",properties:{wikidata:"Q46879",nameEn:"Baker Island",aliases:["UM-81"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-175.33482,-1.40631],[-175.31323,.5442],[-177.91421,.39582],[-175.33482,-1.40631]]]]}},{type:"Feature",properties:{wikidata:"Q47863",nameEn:"Midway Atoll",aliases:["MI","MID","MIUM","488","UM-71"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.29741,29.09786],[-177.77531,29.29793],[-177.5224,27.7635],[-176.29741,29.09786]]]]}},{type:"Feature",properties:{wikidata:"Q62218",nameEn:"Jarvis Island",aliases:["UM-86"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-160.42921,-1.4364],[-159.12443,.19975],[-160.38779,.30331],[-160.42921,-1.4364]]]]}},{type:"Feature",properties:{wikidata:"Q105472",nameEn:"Macaronesia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q114935",nameEn:"Kermadec Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-174.40891,-29.09438],[-180,-24.21376],[-179.96512,-35.00791],[-174.40891,-29.09438]]]]}},{type:"Feature",properties:{wikidata:"Q115459",nameEn:"Chatham Islands",aliases:["NZ-CIT"],country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.93224,-45.18423],[-172.47015,-45.17912],[-176.30998,-41.38382],[-179.93224,-45.18423]]]]}},{type:"Feature",properties:{wikidata:"Q118863",nameEn:"North Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[179.49541,-47.2902],[179.49541,-36.79303],[174.17679,-32.62487],[170.27492,-36.38133],[174.58663,-40.80446],[174.46634,-41.55028],[179.49541,-47.2902]]]]}},{type:"Feature",properties:{wikidata:"Q120755",nameEn:"South Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.70504,-47.56021],[179.49541,-47.2902],[174.46634,-41.55028],[174.58663,-40.80446],[170.27492,-36.38133],[166.56976,-39.94841],[164.8365,-46.0205],[167.52103,-46.41337],[169.70504,-47.56021]]]]}},{type:"Feature",properties:{wikidata:"Q123076",nameEn:"Palmyra Atoll",aliases:["UM-95"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-161.06795,5.2462],[-161.0731,7.1291],[-163.24478,5.24198],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{wikidata:"Q130574",nameEn:"Chafarinas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-2.40316,35.16893],[-2.43262,35.20652],[-2.45965,35.16527],[-2.40316,35.16893]]]]}},{type:"Feature",properties:{wikidata:"Q130895",nameEn:"Kingman Reef",aliases:["UM-89"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-161.0731,7.1291],[-163.16627,7.15036],[-163.24478,5.24198],[-161.0731,7.1291]]]]}},{type:"Feature",properties:{wikidata:"Q131008",nameEn:"Johnston Atoll",aliases:["JT","JTN","JTUM","396","UM-67"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.65691,16.57199],[-168.87689,16.01159],[-169.2329,17.4933],[-170.65691,16.57199]]]]}},{type:"Feature",properties:{wikidata:"Q131305",nameEn:"Howland Island",aliases:["UM-84"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-177.91421,.39582],[-175.31323,.5442],[-176.74464,2.28109],[-177.91421,.39582]]]]}},{type:"Feature",properties:{wikidata:"Q133888",nameEn:"Ashmore and Cartier Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.7463,-11.1783],[120.6877,-13.59408],[125.29076,-12.33139],[123.7463,-11.1783]]]]}},{type:"Feature",properties:{wikidata:"Q153732",nameEn:"Mariana Islands",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q172216",nameEn:"Coral Sea Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[156.73836,-14.50464],[145.2855,-9.62524],[147.69992,-17.5933],[152.93188,-20.92631],[154.02855,-24.43238],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{wikidata:"Q179313",nameEn:"Alderney",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.09454,49.46288],[-2.02963,49.91866],[-2.49556,49.79012],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{wikidata:"Q185086",nameEn:"Crown Dependencies",country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q190571",nameEn:"Scattered Islands",country:"FR",groups:["EU","TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[53.53458,-16.36909],[54.96649,-16.28353],[54.61476,-15.02273],[53.53458,-16.36909]]],[[[38.55969,-20.75596],[40.68027,-23.38889],[43.52893,-15.62903],[38.55969,-20.75596]]],[[[47.03092,-11.05648],[47.11593,-12.08552],[47.96702,-11.46447],[47.03092,-11.05648]]]]}},{type:"Feature",properties:{wikidata:"Q191011",nameEn:"Plazas de soberana",country:"ES"},geometry:null},{type:"Feature",properties:{wikidata:"Q191146",nameEn:"Pen de Vlez de la Gomera",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-4.30191,35.17419],[-4.30112,35.17058],[-4.29436,35.17149],[-4.30191,35.17419]]]]}},{type:"Feature",properties:{wikidata:"Q201698",nameEn:"Crozet Islands",country:"FR",groups:["EU","TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[55.03425,-43.65017],[46.31615,-46.28749],[54.5587,-47.93013],[55.03425,-43.65017]]]]}},{type:"Feature",properties:{wikidata:"Q578170",nameEn:"Contiguous United States",aliases:["CONUS"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-97.13927,25.96583],[-96.92418,25.97377],[-80.57035,24.0565],[-78.91214,27.76553],[-61.98255,37.34815],[-67.16117,44.20069],[-66.93432,44.82597],[-66.96824,44.83078],[-66.98249,44.87071],[-66.96824,44.90965],[-67.0216,44.95333],[-67.11316,45.11176],[-67.15965,45.16179],[-67.19603,45.16771],[-67.20349,45.1722],[-67.22751,45.16344],[-67.27039,45.1934],[-67.29748,45.18173],[-67.29754,45.14865],[-67.34927,45.122],[-67.48201,45.27351],[-67.42394,45.37969],[-67.50578,45.48971],[-67.42144,45.50584],[-67.43815,45.59162],[-67.6049,45.60725],[-67.80705,45.69528],[-67.80653,45.80022],[-67.75654,45.82324],[-67.80961,45.87531],[-67.75196,45.91814],[-67.78111,45.9392],[-67.78578,47.06473],[-67.87993,47.10377],[-67.94843,47.1925],[-68.23244,47.35712],[-68.37458,47.35851],[-68.38332,47.28723],[-68.57914,47.28431],[-68.60575,47.24659],[-68.70125,47.24399],[-68.89222,47.1807],[-69.05039,47.2456],[-69.05073,47.30076],[-69.05148,47.42012],[-69.22119,47.46461],[-69.99966,46.69543],[-70.05812,46.41768],[-70.18547,46.35357],[-70.29078,46.18832],[-70.23855,46.1453],[-70.31025,45.96424],[-70.24694,45.95138],[-70.25976,45.89675],[-70.41523,45.79497],[-70.38934,45.73215],[-70.54019,45.67291],[-70.68516,45.56964],[-70.72651,45.49771],[-70.62518,45.42286],[-70.65383,45.37592],[-70.78372,45.43269],[-70.82638,45.39828],[-70.80236,45.37444],[-70.84816,45.22698],[-70.89864,45.2398],[-70.91169,45.29849],[-70.95193,45.33895],[-71.0107,45.34819],[-71.01866,45.31573],[-71.08364,45.30623],[-71.14568,45.24128],[-71.19723,45.25438],[-71.22338,45.25184],[-71.29371,45.29996],[-71.37133,45.24624],[-71.44252,45.2361],[-71.40364,45.21382],[-71.42778,45.12624],[-71.48735,45.07784],[-71.50067,45.01357],[-71.75113,45.0114],[-72.09934,45.00571],[-72.17312,45.00587],[-72.71867,45.01551],[-73.35025,45.00942],[-74.32699,44.99029],[-74.47782,44.99747],[-74.7163,45.00017],[-74.73876,44.98856],[-74.76044,44.99491],[-74.76308,45.00624],[-74.8447,45.00606],[-74.99101,44.98051],[-75.01363,44.95608],[-75.2193,44.87821],[-75.41441,44.76614],[-75.76813,44.51537],[-75.8217,44.43176],[-75.95947,44.34463],[-76.00018,44.34896],[-76.16285,44.28262],[-76.1664,44.23051],[-76.244,44.19643],[-76.31222,44.19894],[-76.35324,44.13493],[-76.43859,44.09393],[-76.79706,43.63099],[-79.25796,43.54052],[-79.06921,43.26183],[-79.05512,43.25375],[-79.05544,43.21224],[-79.05002,43.20133],[-79.05384,43.17418],[-79.04652,43.16396],[-79.0427,43.13934],[-79.06881,43.12029],[-79.05671,43.10937],[-79.07486,43.07845],[-79.01055,43.06659],[-78.99941,43.05612],[-79.02424,43.01983],[-79.02074,42.98444],[-78.98126,42.97],[-78.96312,42.95509],[-78.93224,42.95229],[-78.90905,42.93022],[-78.90712,42.89733],[-78.93684,42.82887],[-82.67862,41.67615],[-83.11184,41.95671],[-83.14962,42.04089],[-83.12724,42.2376],[-83.09837,42.28877],[-83.07837,42.30978],[-83.02253,42.33045],[-82.82964,42.37355],[-82.64242,42.55594],[-82.58873,42.54984],[-82.57583,42.5718],[-82.51858,42.611],[-82.51063,42.66025],[-82.46613,42.76615],[-82.4826,42.8068],[-82.45331,42.93139],[-82.4253,42.95423],[-82.4146,42.97626],[-82.42469,42.992],[-82.48419,45.30225],[-83.59589,45.82131],[-83.43746,45.99749],[-83.57017,46.105],[-83.83329,46.12169],[-83.90453,46.05922],[-83.95399,46.05634],[-84.1096,46.23987],[-84.09756,46.25512],[-84.11615,46.2681],[-84.11254,46.32329],[-84.13451,46.39218],[-84.11196,46.50248],[-84.12885,46.53068],[-84.17723,46.52753],[-84.1945,46.54061],[-84.2264,46.53337],[-84.26351,46.49508],[-84.29893,46.49127],[-84.34174,46.50683],[-84.42101,46.49853],[-84.4481,46.48972],[-84.47607,46.45225],[-84.55635,46.45974],[-84.85871,46.88881],[-88.37033,48.30586],[-89.48837,48.01412],[-89.57972,48.00023],[-89.77248,48.02607],[-89.89974,47.98109],[-90.07418,48.11043],[-90.56312,48.09488],[-90.56444,48.12184],[-90.75045,48.09143],[-90.87588,48.2484],[-91.08016,48.18096],[-91.25025,48.08522],[-91.43248,48.04912],[-91.45829,48.07454],[-91.58025,48.04339],[-91.55649,48.10611],[-91.70451,48.11805],[-91.71231,48.19875],[-91.86125,48.21278],[-91.98929,48.25409],[-92.05339,48.35958],[-92.14732,48.36578],[-92.202,48.35252],[-92.26662,48.35651],[-92.30939,48.31251],[-92.27167,48.25046],[-92.37185,48.22259],[-92.48147,48.36609],[-92.45588,48.40624],[-92.50712,48.44921],[-92.65606,48.43471],[-92.71323,48.46081],[-92.69927,48.49573],[-92.62747,48.50278],[-92.6342,48.54133],[-92.7287,48.54005],[-92.94973,48.60866],[-93.25391,48.64266],[-93.33946,48.62787],[-93.3712,48.60599],[-93.39758,48.60364],[-93.40693,48.60948],[-93.44472,48.59147],[-93.47022,48.54357],[-93.66382,48.51845],[-93.79267,48.51631],[-93.80939,48.52439],[-93.80676,48.58232],[-93.83288,48.62745],[-93.85769,48.63284],[-94.23215,48.65202],[-94.25104,48.65729],[-94.25172,48.68404],[-94.27153,48.70232],[-94.4174,48.71049],[-94.44258,48.69223],[-94.53826,48.70216],[-94.54885,48.71543],[-94.58903,48.71803],[-94.69335,48.77883],[-94.69669,48.80918],[-94.70486,48.82365],[-94.70087,48.8339],[-94.687,48.84077],[-94.75017,49.09931],[-94.77355,49.11998],[-94.82487,49.29483],[-94.8159,49.32299],[-94.85381,49.32492],[-94.95681,49.37035],[-94.99532,49.36579],[-95.01419,49.35647],[-95.05825,49.35311],[-95.12903,49.37056],[-95.15357,49.384],[-95.15355,48.9996],[-123.32163,49.00419],[-123.0093,48.83186],[-123.0093,48.76586],[-123.26565,48.6959],[-123.15614,48.35395],[-123.50039,48.21223],[-125.03842,48.53282],[-133.98258,38.06389],[-118.48109,32.5991],[-117.1243,32.53427],[-115.88053,32.63624],[-114.71871,32.71894],[-114.76736,32.64094],[-114.80584,32.62028],[-114.81141,32.55543],[-114.79524,32.55731],[-114.82011,32.49609],[-111.07523,31.33232],[-108.20979,31.33316],[-108.20899,31.78534],[-106.529,31.784],[-106.52266,31.77509],[-106.51251,31.76922],[-106.50962,31.76155],[-106.50111,31.75714],[-106.48815,31.74769],[-106.47298,31.75054],[-106.46726,31.75998],[-106.45244,31.76523],[-106.43419,31.75478],[-106.41773,31.75196],[-106.38003,31.73151],[-106.3718,31.71165],[-106.34864,31.69663],[-106.33419,31.66303],[-106.30305,31.62154],[-106.28084,31.56173],[-106.24612,31.54193],[-106.23711,31.51262],[-106.20346,31.46305],[-106.09025,31.40569],[-106.00363,31.39181],[-104.77674,30.4236],[-104.5171,29.64671],[-104.3969,29.57105],[-104.39363,29.55396],[-104.37752,29.54255],[-103.15787,28.93865],[-102.60596,29.8192],[-101.47277,29.7744],[-101.05686,29.44738],[-101.01128,29.36947],[-100.96725,29.3477],[-100.94579,29.34523],[-100.94056,29.33371],[-100.87982,29.296],[-100.79696,29.24688],[-100.67294,29.09744],[-100.63689,28.90812],[-100.59809,28.88197],[-100.52313,28.75598],[-100.5075,28.74066],[-100.51222,28.70679],[-100.50029,28.66117],[-99.55409,27.61314],[-99.51478,27.55836],[-99.52955,27.49747],[-99.50208,27.50021],[-99.48045,27.49016],[-99.482,27.47128],[-99.49744,27.43746],[-99.53573,27.30926],[-99.08477,26.39849],[-99.03053,26.41249],[-99.00546,26.3925],[-98.35126,26.15129],[-98.30491,26.10475],[-98.27075,26.09457],[-98.24603,26.07191],[-97.97017,26.05232],[-97.95155,26.0625],[-97.66511,26.01708],[-97.52025,25.88518],[-97.49828,25.89877],[-97.45669,25.86874],[-97.42511,25.83969],[-97.37332,25.83854],[-97.35946,25.92189],[-97.13927,25.96583]]]]}},{type:"Feature",properties:{wikidata:"Q620634",nameEn:"Bir Tawil",groups:["015","002"],level:"territory"},geometry:{type:"MultiPolygon",coordinates:[[[[33.17563,22.00405],[33.57251,21.72406],[33.99686,21.76784],[34.0765,22.00501],[33.17563,22.00405]]]]}},{type:"Feature",properties:{wikidata:"Q639185",nameEn:"Peros Banhos",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.12587,-4.02588],[70.1848,-6.37445],[72.09518,-5.61768],[72.12587,-4.02588]]]]}},{type:"Feature",properties:{wikidata:"Q644636",nameEn:"Cyprus",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q851132",nameEn:"New Zealand Outlying Islands",country:"NZ",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q875134",nameEn:"European Russia",country:"RU",groups:["151","150","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[19.64312,54.45423],[19.8038,54.44203],[20.63871,54.3706],[21.41123,54.32395],[22.79705,54.36264],[22.7253,54.41732],[22.70208,54.45312],[22.67788,54.532],[22.71293,54.56454],[22.68021,54.58486],[22.7522,54.63525],[22.74225,54.64339],[22.75467,54.6483],[22.73397,54.66604],[22.73631,54.72952],[22.87317,54.79492],[22.85083,54.88711],[22.76422,54.92521],[22.68723,54.9811],[22.65451,54.97037],[22.60075,55.01863],[22.58907,55.07085],[22.47688,55.04408],[22.31562,55.0655],[22.14267,55.05345],[22.11697,55.02131],[22.06087,55.02935],[22.02582,55.05078],[22.03984,55.07888],[21.99543,55.08691],[21.96505,55.07353],[21.85521,55.09493],[21.64954,55.1791],[21.55605,55.20311],[21.51095,55.18507],[21.46766,55.21115],[21.38446,55.29348],[21.35465,55.28427],[21.26425,55.24456],[20.95181,55.27994],[20.60454,55.40986],[18.57853,55.25302]]],[[[26.32936,60.00121],[26.90044,59.63819],[27.85643,59.58538],[28.04187,59.47017],[28.19061,59.39962],[28.21137,59.38058],[28.20537,59.36491],[28.19284,59.35791],[28.14215,59.28934],[28.00689,59.28351],[27.90911,59.24353],[27.87978,59.18097],[27.80482,59.1116],[27.74429,58.98351],[27.36366,58.78381],[27.55489,58.39525],[27.48541,58.22615],[27.62393,58.09462],[27.67282,57.92627],[27.81841,57.89244],[27.78526,57.83963],[27.56689,57.83356],[27.50171,57.78842],[27.52615,57.72843],[27.3746,57.66834],[27.40393,57.62125],[27.31919,57.57672],[27.34698,57.52242],[27.56832,57.53728],[27.52453,57.42826],[27.86101,57.29402],[27.66511,56.83921],[27.86101,56.88204],[28.04768,56.59004],[28.13526,56.57989],[28.10069,56.524],[28.19057,56.44637],[28.16599,56.37806],[28.23716,56.27588],[28.15217,56.16964],[28.30571,56.06035],[28.36888,56.05805],[28.37987,56.11399],[28.43068,56.09407],[28.5529,56.11705],[28.68337,56.10173],[28.63668,56.07262],[28.73418,55.97131],[29.08299,56.03427],[29.21717,55.98971],[29.44692,55.95978],[29.3604,55.75862],[29.51283,55.70294],[29.61446,55.77716],[29.80672,55.79569],[29.97975,55.87281],[30.12136,55.8358],[30.27776,55.86819],[30.30987,55.83592],[30.48257,55.81066],[30.51346,55.78982],[30.51037,55.76568],[30.63344,55.73079],[30.67464,55.64176],[30.72957,55.66268],[30.7845,55.58514],[30.86003,55.63169],[30.93419,55.6185],[30.95204,55.50667],[30.90123,55.46621],[30.93144,55.3914],[30.8257,55.3313],[30.81946,55.27931],[30.87944,55.28223],[30.97369,55.17134],[31.02071,55.06167],[31.00972,55.02783],[30.94243,55.03964],[30.9081,55.02232],[30.95754,54.98609],[30.93144,54.9585],[30.81759,54.94064],[30.8264,54.90062],[30.75165,54.80699],[30.95479,54.74346],[30.97127,54.71967],[31.0262,54.70698],[30.98226,54.68872],[30.99187,54.67046],[31.19339,54.66947],[31.21399,54.63113],[31.08543,54.50361],[31.22945,54.46585],[31.3177,54.34067],[31.30791,54.25315],[31.57002,54.14535],[31.89599,54.0837],[31.88744,54.03653],[31.85019,53.91801],[31.77028,53.80015],[31.89137,53.78099],[32.12621,53.81586],[32.36663,53.7166],[32.45717,53.74039],[32.50112,53.68594],[32.40499,53.6656],[32.47777,53.5548],[32.74968,53.45597],[32.73257,53.33494],[32.51725,53.28431],[32.40773,53.18856],[32.15368,53.07594],[31.82373,53.10042],[31.787,53.18033],[31.62496,53.22886],[31.56316,53.19432],[31.40523,53.21406],[31.36403,53.13504],[31.3915,53.09712],[31.33519,53.08805],[31.32283,53.04101],[31.24147,53.031],[31.35667,52.97854],[31.592,52.79011],[31.57277,52.71613],[31.50406,52.69707],[31.63869,52.55361],[31.56316,52.51518],[31.61397,52.48843],[31.62084,52.33849],[31.57971,52.32146],[31.70735,52.26711],[31.6895,52.1973],[31.77877,52.18636],[31.7822,52.11406],[31.81722,52.09955],[31.85018,52.11305],[31.96141,52.08015],[31.92159,52.05144],[32.08813,52.03319],[32.23331,52.08085],[32.2777,52.10266],[32.34044,52.1434],[32.33083,52.23685],[32.38988,52.24946],[32.3528,52.32842],[32.54781,52.32423],[32.69475,52.25535],[32.85405,52.27888],[32.89937,52.2461],[33.18913,52.3754],[33.51323,52.35779],[33.48027,52.31499],[33.55718,52.30324],[33.78789,52.37204],[34.05239,52.20132],[34.11199,52.14087],[34.09413,52.00835],[34.41136,51.82793],[34.42922,51.72852],[34.07765,51.67065],[34.17599,51.63253],[34.30562,51.5205],[34.22048,51.4187],[34.33446,51.363],[34.23009,51.26429],[34.31661,51.23936],[34.38802,51.2746],[34.6613,51.25053],[34.6874,51.18],[34.82472,51.17483],[34.97304,51.2342],[35.14058,51.23162],[35.12685,51.16191],[35.20375,51.04723],[35.31774,51.08434],[35.40837,51.04119],[35.32598,50.94524],[35.39307,50.92145],[35.41367,50.80227],[35.47704,50.77274],[35.48116,50.66405],[35.39464,50.64751],[35.47463,50.49247],[35.58003,50.45117],[35.61711,50.35707],[35.73659,50.35489],[35.80388,50.41356],[35.8926,50.43829],[36.06893,50.45205],[36.20763,50.3943],[36.30101,50.29088],[36.47817,50.31457],[36.58371,50.28563],[36.56655,50.2413],[36.64571,50.218],[36.69377,50.26982],[36.91762,50.34963],[37.08468,50.34935],[37.48204,50.46079],[37.47243,50.36277],[37.62486,50.29966],[37.62879,50.24481],[37.61113,50.21976],[37.75807,50.07896],[37.79515,50.08425],[37.90776,50.04194],[38.02999,49.94482],[38.02999,49.90592],[38.21675,49.98104],[38.18517,50.08161],[38.32524,50.08866],[38.35408,50.00664],[38.65688,49.97176],[38.68677,50.00904],[38.73311,49.90238],[38.90477,49.86787],[38.9391,49.79524],[39.1808,49.88911],[39.27968,49.75976],[39.44496,49.76067],[39.59142,49.73758],[39.65047,49.61761],[39.84548,49.56064],[40.13249,49.61672],[40.16683,49.56865],[40.03636,49.52321],[40.03087,49.45452],[40.1141,49.38798],[40.14912,49.37681],[40.18331,49.34996],[40.22176,49.25683],[40.01988,49.1761],[39.93437,49.05709],[39.6836,49.05121],[39.6683,48.99454],[39.71353,48.98959],[39.72649,48.9754],[39.74874,48.98675],[39.78368,48.91596],[39.98967,48.86901],[40.03636,48.91957],[40.08168,48.87443],[39.97182,48.79398],[39.79466,48.83739],[39.73104,48.7325],[39.71765,48.68673],[39.67226,48.59368],[39.79764,48.58668],[39.84548,48.57821],[39.86196,48.46633],[39.88794,48.44226],[39.94847,48.35055],[39.84136,48.33321],[39.84273,48.30947],[39.90041,48.3049],[39.91465,48.26743],[39.95248,48.29972],[39.9693,48.29904],[39.97325,48.31399],[39.99241,48.31768],[40.00752,48.22445],[39.94847,48.22811],[39.83724,48.06501],[39.88256,48.04482],[39.77544,48.04206],[39.82213,47.96396],[39.73935,47.82876],[38.87979,47.87719],[38.79628,47.81109],[38.76379,47.69346],[38.35062,47.61631],[38.28679,47.53552],[38.28954,47.39255],[38.22225,47.30788],[38.33074,47.30508],[38.32112,47.2585],[38.23049,47.2324],[38.22955,47.12069],[38.3384,46.98085],[38.12112,46.86078],[37.62608,46.82615],[35.23066,45.79231],[35.04991,45.76827],[36.6645,45.4514],[36.6545,45.3417],[36.5049,45.3136],[36.475,45.2411],[36.4883,45.0488],[33.59378,44.0332],[39.81147,43.06294],[40.0078,43.38551],[40.00853,43.40578],[40.01552,43.42025],[40.01007,43.42411],[40.03312,43.44262],[40.04445,43.47776],[40.10657,43.57344],[40.65957,43.56212],[41.64935,43.22331],[42.40563,43.23226],[42.66667,43.13917],[42.75889,43.19651],[43.03322,43.08883],[43.0419,43.02413],[43.81453,42.74297],[43.73119,42.62043],[43.95517,42.55396],[44.54202,42.75699],[44.70002,42.74679],[44.80941,42.61277],[44.88754,42.74934],[45.15318,42.70598],[45.36501,42.55268],[45.78692,42.48358],[45.61676,42.20768],[46.42738,41.91323],[46.5332,41.87389],[46.58924,41.80547],[46.75269,41.8623],[46.8134,41.76252],[47.00955,41.63583],[46.99554,41.59743],[47.03757,41.55434],[47.10762,41.59044],[47.34579,41.27884],[47.49004,41.26366],[47.54504,41.20275],[47.62288,41.22969],[47.75831,41.19455],[47.87973,41.21798],[48.07587,41.49957],[48.22064,41.51472],[48.2878,41.56221],[48.40277,41.60441],[48.42301,41.65444],[48.55078,41.77917],[48.5867,41.84306],[48.80971,41.95365],[49.2134,44.84989],[49.88945,46.04554],[49.32259,46.26944],[49.16518,46.38542],[48.54988,46.56267],[48.51142,46.69268],[49.01136,46.72716],[48.52326,47.4102],[48.45173,47.40818],[48.15348,47.74545],[47.64973,47.76559],[47.41689,47.83687],[47.38731,47.68176],[47.12107,47.83687],[47.11516,48.27188],[46.49011,48.43019],[46.78392,48.95352],[47.00857,49.04921],[47.04658,49.19834],[46.78398,49.34026],[46.9078,49.86707],[47.18319,49.93721],[47.34589,50.09308],[47.30448,50.30894],[47.58551,50.47867],[48.10044,50.09242],[48.24519,49.86099],[48.42564,49.82283],[48.68352,49.89546],[48.90782,50.02281],[48.57946,50.63278],[48.86936,50.61589],[49.12673,50.78639],[49.41959,50.85927],[49.39001,51.09396],[49.76866,51.11067],[49.97277,51.2405],[50.26859,51.28677],[50.59695,51.61859],[51.26254,51.68466],[51.301,51.48799],[51.77431,51.49536],[51.8246,51.67916],[52.36119,51.74161],[52.54329,51.48444],[53.46165,51.49445],[53.69299,51.23466],[54.12248,51.11542],[54.46331,50.85554],[54.41894,50.61214],[54.55797,50.52006],[54.71476,50.61214],[54.56685,51.01958],[54.72067,51.03261],[55.67774,50.54508],[56.11398,50.7471],[56.17906,50.93204],[57.17302,51.11253],[57.44221,50.88354],[57.74986,50.93017],[57.75578,51.13852],[58.3208,51.15151],[58.87974,50.70852],[59.48928,50.64216],[59.51886,50.49937],[59.81172,50.54451],[60.01288,50.8163],[60.17262,50.83312],[60.31914,50.67705],[60.81833,50.6629],[61.4431,50.80679],[61.56889,51.23679],[61.6813,51.25716],[61.55114,51.32746],[61.50677,51.40687],[60.95655,51.48615],[60.92401,51.61124],[60.5424,51.61675],[60.36787,51.66815],[60.50986,51.7964],[60.09867,51.87135],[59.99809,51.98263],[59.91279,52.06924],[60.17253,52.25814],[60.17516,52.39457],[59.25033,52.46803],[59.22409,52.28437],[58.79644,52.43392],[58.94336,53.953],[59.70487,54.14846],[59.95217,54.85853],[57.95234,54.39672],[57.14829,54.84204],[57.25137,55.26262],[58.81825,55.03378],[59.49035,55.60486],[59.28419,56.15739],[57.51527,56.08729],[57.28024,56.87898],[58.07604,57.08308],[58.13789,57.68097],[58.81412,57.71602],[58.71104,58.07475],[59.40376,58.45822],[59.15636,59.14682],[58.3853,59.487],[59.50685,60.91162],[59.36223,61.3882],[59.61398,62.44915],[59.24834,63.01859],[59.80579,64.13948],[59.63945,64.78384],[60.74386,64.95767],[61.98014,65.72191],[66.1708,67.61252],[64.18965,69.94255],[76.13964,83.37843],[36.85549,84.09565],[32.07813,72.01005],[31.59909,70.16571],[30.84095,69.80584],[30.95011,69.54699],[30.52662,69.54699],[30.16363,69.65244],[29.97205,69.41623],[29.27631,69.2811],[29.26623,69.13794],[29.0444,69.0119],[28.91738,69.04774],[28.45957,68.91417],[28.78224,68.86696],[28.43941,68.53366],[28.62982,68.19816],[29.34179,68.06655],[29.66955,67.79872],[30.02041,67.67523],[29.91155,67.51507],[28.9839,66.94139],[29.91155,66.13863],[30.16363,65.66935],[29.97205,65.70256],[29.74013,65.64025],[29.84096,65.56945],[29.68972,65.31803],[29.61914,65.23791],[29.8813,65.22101],[29.84096,65.1109],[29.61914,65.05993],[29.68972,64.80789],[30.05271,64.79072],[30.12329,64.64862],[30.01238,64.57513],[30.06279,64.35782],[30.4762,64.25728],[30.55687,64.09036],[30.25437,63.83364],[29.98213,63.75795],[30.49637,63.46666],[31.23244,63.22239],[31.29294,63.09035],[31.58535,62.91642],[31.38369,62.66284],[31.10136,62.43042],[29.01829,61.17448],[28.82816,61.1233],[28.47974,60.93365],[27.77352,60.52722],[27.71177,60.3893],[27.44953,60.22766],[26.32936,60.00121]]]]}},{type:"Feature",properties:{wikidata:"Q1083368",nameEn:"Mainland Finland",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.12697,69.69193],[28.36883,69.81658],[28.32849,69.88605],[27.97558,69.99671],[27.95542,70.0965],[27.57226,70.06215],[27.05802,69.92069],[26.64461,69.96565],[26.40261,69.91377],[25.96904,69.68397],[25.69679,69.27039],[25.75729,68.99383],[25.61613,68.89602],[25.42455,68.90328],[25.12206,68.78684],[25.10189,68.63307],[24.93048,68.61102],[24.90023,68.55579],[24.74898,68.65143],[24.18432,68.73936],[24.02299,68.81601],[23.781,68.84514],[23.68017,68.70276],[23.13064,68.64684],[22.53321,68.74393],[22.38367,68.71561],[22.27276,68.89514],[21.63833,69.27485],[21.27827,69.31281],[21.00732,69.22755],[20.98641,69.18809],[21.11099,69.10291],[21.05775,69.0356],[20.72171,69.11874],[20.55258,69.06069],[20.78802,69.03087],[20.91658,68.96764],[20.85104,68.93142],[20.90649,68.89696],[21.03001,68.88969],[22.00429,68.50692],[22.73028,68.40881],[23.10336,68.26551],[23.15377,68.14759],[23.26469,68.15134],[23.40081,68.05545],[23.65793,67.9497],[23.45627,67.85297],[23.54701,67.59306],[23.39577,67.46974],[23.75372,67.43688],[23.75372,67.29914],[23.54701,67.25435],[23.58735,67.20752],[23.56214,67.17038],[23.98563,66.84149],[23.98059,66.79585],[23.89488,66.772],[23.85959,66.56434],[23.63776,66.43568],[23.67591,66.3862],[23.64982,66.30603],[23.71339,66.21299],[23.90497,66.15802],[24.15791,65.85385],[24.14798,65.83466],[24.15107,65.81427],[24.14112,65.39731],[20.15877,63.06556],[19.23413,60.61414],[20.96741,60.71528],[21.15143,60.54555],[21.08159,60.20167],[21.02509,60.12142],[21.35468,59.67511],[20.5104,59.15546],[26.32936,60.00121],[27.44953,60.22766],[27.71177,60.3893],[27.77352,60.52722],[28.47974,60.93365],[28.82816,61.1233],[29.01829,61.17448],[31.10136,62.43042],[31.38369,62.66284],[31.58535,62.91642],[31.29294,63.09035],[31.23244,63.22239],[30.49637,63.46666],[29.98213,63.75795],[30.25437,63.83364],[30.55687,64.09036],[30.4762,64.25728],[30.06279,64.35782],[30.01238,64.57513],[30.12329,64.64862],[30.05271,64.79072],[29.68972,64.80789],[29.61914,65.05993],[29.84096,65.1109],[29.8813,65.22101],[29.61914,65.23791],[29.68972,65.31803],[29.84096,65.56945],[29.74013,65.64025],[29.97205,65.70256],[30.16363,65.66935],[29.91155,66.13863],[28.9839,66.94139],[29.91155,67.51507],[30.02041,67.67523],[29.66955,67.79872],[29.34179,68.06655],[28.62982,68.19816],[28.43941,68.53366],[28.78224,68.86696],[28.45957,68.91417],[28.91738,69.04774],[28.81248,69.11997],[28.8629,69.22395],[29.31664,69.47994],[29.12697,69.69193]]]]}},{type:"Feature",properties:{wikidata:"Q1184963",nameEn:"Alhucemas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-3.90602,35.21494],[-3.88372,35.20767],[-3.89343,35.22728],[-3.90602,35.21494]]]]}},{type:"Feature",properties:{wikidata:"Q1298289",nameEn:"Egmont Islands",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[70.67958,-8.2663],[72.17991,-6.68509],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1352230",nameEn:"US Territories",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q1451600",nameEn:"Overseas Countries and Territories of the EU",aliases:["OCT"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q1544253",nameEn:"Great Chagos Bank",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[72.17991,-6.68509],[73.20573,-5.20727],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1585511",nameEn:"Salomon Atoll",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.09518,-5.61768],[73.20573,-5.20727],[72.12587,-4.02588],[72.09518,-5.61768]]]]}},{type:"Feature",properties:{wikidata:"Q1681727",nameEn:"Saint-Paul and Amsterdam",country:"FR",groups:["EU","TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[76.31747,-42.16264],[80.15867,-36.04977],[71.22311,-38.75287],[76.31747,-42.16264]]]]}},{type:"Feature",properties:{wikidata:"Q1901211",nameEn:"East Malaysia",country:"MY",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[110.90339,7.52694],[109.82788,2.86812],[109.62558,1.99182],[109.53794,1.91771],[109.57923,1.80624],[109.66397,1.79972],[109.66397,1.60425],[110.35354,.98869],[110.49182,.88088],[110.62374,.873],[111.22979,1.08326],[111.55434,.97864],[111.82846,.99349],[111.94553,1.12016],[112.15679,1.17004],[112.2127,1.44135],[112.48648,1.56516],[113.021,1.57819],[113.01448,1.42832],[113.64677,1.23933],[114.03788,1.44787],[114.57892,1.5],[114.80706,1.92351],[114.80706,2.21665],[115.1721,2.49671],[115.11343,2.82879],[115.53713,3.14776],[115.58276,3.93499],[115.90217,4.37708],[117.25801,4.35108],[117.47313,4.18857],[117.67641,4.16535],[118.06469,4.16638],[118.93936,4.09009],[118.99941,4.76678],[119.52945,5.35672],[118.33378,5.99991],[117.96674,6.28383],[117.93857,6.89845],[117.17735,7.52841],[116.79524,7.43869],[115.02521,5.35005],[115.16236,5.01011],[115.15092,4.87604],[115.20737,4.8256],[115.27819,4.63661],[115.2851,4.42295],[115.36346,4.33563],[115.31275,4.30806],[115.09978,4.39123],[115.07737,4.53418],[115.04064,4.63706],[115.02278,4.74137],[115.02955,4.82087],[115.05038,4.90275],[114.99417,4.88201],[114.96982,4.81146],[114.88841,4.81905],[114.8266,4.75062],[114.77303,4.72871],[114.83189,4.42387],[114.88039,4.4257],[114.78539,4.12205],[114.64211,4.00694],[114.49922,4.13108],[114.4416,4.27588],[114.32176,4.2552],[114.32176,4.34942],[114.26876,4.49878],[114.15813,4.57],[114.07448,4.58441],[114.10166,4.76112],[110.90339,7.52694]]]]}},{type:"Feature",properties:{wikidata:"Q1973345",nameEn:"Peninsular Malaysia",country:"MY",groups:["035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.46318,7.22462],[102.09086,6.23546],[102.08127,6.22679],[102.07732,6.193],[102.09182,6.14161],[102.01835,6.05407],[101.99209,6.04075],[101.97114,6.01992],[101.9714,6.00575],[101.94712,5.98421],[101.92819,5.85511],[101.91776,5.84269],[101.89188,5.8386],[101.80144,5.74505],[101.75074,5.79091],[101.69773,5.75881],[101.58019,5.93534],[101.25524,5.78633],[101.25755,5.71065],[101.14062,5.61613],[100.98815,5.79464],[101.02708,5.91013],[101.087,5.9193],[101.12388,6.11411],[101.06165,6.14161],[101.12618,6.19431],[101.10313,6.25617],[100.85884,6.24929],[100.81045,6.45086],[100.74822,6.46231],[100.74361,6.50811],[100.66986,6.45086],[100.43027,6.52389],[100.42351,6.51762],[100.41791,6.5189],[100.41152,6.52299],[100.35413,6.54932],[100.31929,6.65413],[100.32607,6.65933],[100.32671,6.66526],[100.31884,6.66423],[100.31618,6.66781],[100.30828,6.66462],[100.29651,6.68439],[100.19511,6.72559],[100.12,6.42105],[100.0756,6.4045],[99.91873,6.50233],[99.50117,6.44501],[99.31854,5.99868],[99.75778,3.86466],[103.03657,1.30383],[103.56591,1.19719],[103.62738,1.35255],[103.67468,1.43166],[103.7219,1.46108],[103.74161,1.4502],[103.76395,1.45183],[103.81181,1.47953],[103.86383,1.46288],[103.89565,1.42841],[103.93384,1.42926],[104.00131,1.42405],[104.02277,1.4438],[104.04622,1.44691],[104.07348,1.43322],[104.08871,1.42015],[104.09162,1.39694],[104.08072,1.35998],[104.12282,1.27714],[104.34728,1.33529],[104.56723,1.44271],[105.01437,3.24936],[102.46318,7.22462]]]]}},{type:"Feature",properties:{wikidata:"Q2093907",nameEn:"Three Kings Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[174.17679,-32.62487],[170.93268,-32.97889],[171.97383,-34.64644],[174.17679,-32.62487]]]]}},{type:"Feature",properties:{wikidata:"Q2298216",nameEn:"Solander Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[167.39068,-46.49187],[166.5534,-46.39484],[166.84561,-46.84889],[167.39068,-46.49187]]]]}},{type:"Feature",properties:{wikidata:"Q2872203",nameEn:"Mainland Australia",country:"AU",groups:["053","009","UN"],level:"subcountryGroup",driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.16419,-23.49578],[123.64533,-39.13605],[159.74028,-39.1978],[159.76765,-29.76946],[154.02855,-24.43238],[152.93188,-20.92631],[147.69992,-17.5933],[145.2855,-9.62524],[143.87386,-9.02382],[143.29772,-9.33993],[142.48658,-9.36754],[142.19246,-9.15378],[141.88934,-9.36111],[141.01842,-9.35091],[135.49042,-9.2276],[127.55165,-9.05052],[125.29076,-12.33139],[88.16419,-23.49578]]]]}},{type:"Feature",properties:{wikidata:"Q2914565",nameEn:"Autonomous Regions of Portugal",country:"PT",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q2915956",nameEn:"Mainland Portugal",country:"PT",groups:["Q12837","EU","039","150","UN"],level:"subcountryGroup",callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.39881,36.12218],[-7.37282,36.96896],[-7.39769,37.16868],[-7.41133,37.20314],[-7.41854,37.23813],[-7.43227,37.25152],[-7.43974,37.38913],[-7.46878,37.47127],[-7.51759,37.56119],[-7.41981,37.75729],[-7.33441,37.81193],[-7.27314,37.90145],[-7.24544,37.98884],[-7.12648,38.00296],[-7.10366,38.04404],[-7.05966,38.01966],[-7.00375,38.01914],[-6.93418,38.21454],[-7.09389,38.17227],[-7.15581,38.27597],[-7.32529,38.44336],[-7.265,38.61674],[-7.26174,38.72107],[-7.03848,38.87221],[-7.051,38.907],[-6.95211,39.0243],[-6.97004,39.07619],[-7.04011,39.11919],[-7.10692,39.10275],[-7.14929,39.11287],[-7.12811,39.17101],[-7.23566,39.20132],[-7.23403,39.27579],[-7.3149,39.34857],[-7.2927,39.45847],[-7.49477,39.58794],[-7.54121,39.66717],[-7.33507,39.64569],[-7.24707,39.66576],[-7.01613,39.66877],[-6.97492,39.81488],[-6.91463,39.86618],[-6.86737,40.01986],[-6.94233,40.10716],[-7.00589,40.12087],[-7.02544,40.18564],[-7.00426,40.23169],[-6.86085,40.26776],[-6.86085,40.2976],[-6.80218,40.33239],[-6.78426,40.36468],[-6.84618,40.42177],[-6.84944,40.46394],[-6.7973,40.51723],[-6.80218,40.55067],[-6.84292,40.56801],[-6.79567,40.65955],[-6.82826,40.74603],[-6.82337,40.84472],[-6.79892,40.84842],[-6.80707,40.88047],[-6.84292,40.89771],[-6.8527,40.93958],[-6.9357,41.02888],[-6.913,41.03922],[-6.88843,41.03027],[-6.84781,41.02692],[-6.80942,41.03629],[-6.79241,41.05397],[-6.75655,41.10187],[-6.77319,41.13049],[-6.69711,41.1858],[-6.68286,41.21641],[-6.65046,41.24725],[-6.55937,41.24417],[-6.38551,41.35274],[-6.38553,41.38655],[-6.3306,41.37677],[-6.26777,41.48796],[-6.19128,41.57638],[-6.29863,41.66432],[-6.44204,41.68258],[-6.49907,41.65823],[-6.54633,41.68623],[-6.56426,41.74219],[-6.51374,41.8758],[-6.56752,41.88429],[-6.5447,41.94371],[-6.58544,41.96674],[-6.61967,41.94008],[-6.75004,41.94129],[-6.76959,41.98734],[-6.81196,41.99097],[-6.82174,41.94493],[-6.94396,41.94403],[-6.95537,41.96553],[-6.98144,41.9728],[-7.01078,41.94977],[-7.07596,41.94977],[-7.08574,41.97401],[-7.14115,41.98855],[-7.18549,41.97515],[-7.18677,41.88793],[-7.32366,41.8406],[-7.37092,41.85031],[-7.42864,41.80589],[-7.42854,41.83262],[-7.44759,41.84451],[-7.45566,41.86488],[-7.49803,41.87095],[-7.52737,41.83939],[-7.62188,41.83089],[-7.58603,41.87944],[-7.65774,41.88308],[-7.69848,41.90977],[-7.84188,41.88065],[-7.88055,41.84571],[-7.88751,41.92553],[-7.90707,41.92432],[-7.92336,41.8758],[-7.9804,41.87337],[-8.01136,41.83453],[-8.0961,41.81024],[-8.16455,41.81753],[-8.16944,41.87944],[-8.19551,41.87459],[-8.2185,41.91237],[-8.16232,41.9828],[-8.08796,42.01398],[-8.08847,42.05767],[-8.11729,42.08537],[-8.18178,42.06436],[-8.19406,42.12141],[-8.18947,42.13853],[-8.1986,42.15402],[-8.22406,42.1328],[-8.24681,42.13993],[-8.2732,42.12396],[-8.29809,42.106],[-8.32161,42.10218],[-8.33912,42.08358],[-8.36353,42.09065],[-8.38323,42.07683],[-8.40143,42.08052],[-8.42512,42.07199],[-8.44123,42.08218],[-8.48185,42.0811],[-8.52837,42.07658],[-8.5252,42.06264],[-8.54563,42.0537],[-8.58086,42.05147],[-8.59493,42.05708],[-8.63791,42.04691],[-8.64626,42.03668],[-8.65832,42.02972],[-8.6681,41.99703],[-8.69071,41.98862],[-8.7478,41.96282],[-8.74606,41.9469],[-8.75712,41.92833],[-8.81794,41.90375],[-8.87157,41.86488],[-11.19304,41.83075],[-10.39881,36.12218]]]]}},{type:"Feature",properties:{wikidata:"Q3311985",nameEn:"Guernsey",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.49556,49.79012],[-3.28154,49.57329],[-2.65349,49.15373],[-2.36485,49.48223],[-2.49556,49.79012]]]]}},{type:"Feature",properties:{wikidata:"Q3320166",nameEn:"Outermost Regions of the EU",aliases:["OMR"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q3336843",nameEn:"Countries of the United Kingdom",aliases:["GB-UKM"],country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q6736667",nameEn:"Mainland India",country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.08044,21.41871],[89.07114,22.15335],[88.9367,22.58527],[88.94614,22.66941],[88.9151,22.75228],[88.96713,22.83346],[88.87063,22.95235],[88.88327,23.03885],[88.86377,23.08759],[88.99148,23.21134],[88.71133,23.2492],[88.79254,23.46028],[88.79351,23.50535],[88.74841,23.47361],[88.56507,23.64044],[88.58087,23.87105],[88.66189,23.87607],[88.73743,23.91751],[88.6976,24.14703],[88.74841,24.1959],[88.68801,24.31464],[88.50934,24.32474],[88.12296,24.51301],[88.08786,24.63232],[88.00683,24.66477],[88.15515,24.85806],[88.14004,24.93529],[88.21832,24.96642],[88.27325,24.88796],[88.33917,24.86803],[88.46277,25.07468],[88.44766,25.20149],[88.94067,25.18534],[89.00463,25.26583],[89.01105,25.30303],[88.85278,25.34679],[88.81296,25.51546],[88.677,25.46959],[88.4559,25.59227],[88.45103,25.66245],[88.242,25.80811],[88.13138,25.78773],[88.08804,25.91334],[88.16581,26.0238],[88.1844,26.14417],[88.34757,26.22216],[88.35153,26.29123],[88.51649,26.35923],[88.48749,26.45855],[88.36938,26.48683],[88.35153,26.45241],[88.33093,26.48929],[88.41196,26.63837],[88.4298,26.54489],[88.62144,26.46783],[88.69485,26.38353],[88.67837,26.26291],[88.78961,26.31093],[88.85004,26.23211],[89.05328,26.2469],[88.91321,26.37984],[88.92357,26.40711],[88.95612,26.4564],[89.08899,26.38845],[89.15869,26.13708],[89.35953,26.0077],[89.53515,26.00382],[89.57101,25.9682],[89.63968,26.22595],[89.70201,26.15138],[89.73581,26.15818],[89.77865,26.08387],[89.77728,26.04254],[89.86592,25.93115],[89.80585,25.82489],[89.84388,25.70042],[89.86129,25.61714],[89.81208,25.37244],[89.84086,25.31854],[89.83371,25.29548],[89.87629,25.28337],[89.90478,25.31038],[90.1155,25.22686],[90.40034,25.1534],[90.65042,25.17788],[90.87427,25.15799],[91.25517,25.20677],[91.63648,25.12846],[92.0316,25.1834],[92.33957,25.07593],[92.39147,25.01471],[92.49887,24.88796],[92.38626,24.86055],[92.25854,24.9191],[92.15796,24.54435],[92.11662,24.38997],[91.96603,24.3799],[91.89258,24.14674],[91.82596,24.22345],[91.76004,24.23848],[91.73257,24.14703],[91.65292,24.22095],[91.63782,24.1132],[91.55542,24.08687],[91.37414,24.10693],[91.35741,23.99072],[91.29587,24.0041],[91.22308,23.89616],[91.25192,23.83463],[91.15579,23.6599],[91.28293,23.37538],[91.36453,23.06612],[91.40848,23.07117],[91.4035,23.27522],[91.46615,23.2328],[91.54993,23.01051],[91.61571,22.93929],[91.7324,23.00043],[91.81634,23.08001],[91.76417,23.26619],[91.84789,23.42235],[91.95642,23.47361],[91.95093,23.73284],[92.04706,23.64229],[92.15417,23.73409],[92.26541,23.70392],[92.38214,23.28705],[92.37665,22.9435],[92.5181,22.71441],[92.60029,22.1522],[92.56616,22.13554],[92.60949,21.97638],[92.67532,22.03547],[92.70416,22.16017],[92.86208,22.05456],[92.89504,21.95143],[92.93899,22.02656],[92.99804,21.98964],[92.99255,22.05965],[93.04885,22.20595],[93.15734,22.18687],[93.14224,22.24535],[93.19991,22.25425],[93.18206,22.43716],[93.13537,22.45873],[93.11477,22.54374],[93.134,22.59573],[93.09417,22.69459],[93.134,22.92498],[93.12988,23.05772],[93.2878,23.00464],[93.38478,23.13698],[93.36862,23.35426],[93.38781,23.36139],[93.39981,23.38828],[93.38805,23.4728],[93.43475,23.68299],[93.3908,23.7622],[93.3908,23.92925],[93.36059,23.93176],[93.32351,24.04468],[93.34735,24.10151],[93.41415,24.07854],[93.46633,23.97067],[93.50616,23.94432],[93.62871,24.00922],[93.75952,24.0003],[93.80279,23.92549],[93.92089,23.95812],[94.14081,23.83333],[94.30215,24.23752],[94.32362,24.27692],[94.45279,24.56656],[94.50729,24.59281],[94.5526,24.70764],[94.60204,24.70889],[94.73937,25.00545],[94.74212,25.13606],[94.57458,25.20318],[94.68032,25.47003],[94.80117,25.49359],[95.18556,26.07338],[95.11428,26.1019],[95.12801,26.38397],[95.05798,26.45408],[95.23513,26.68499],[95.30339,26.65372],[95.437,26.7083],[95.81603,27.01335],[95.93002,27.04149],[96.04949,27.19428],[96.15591,27.24572],[96.40779,27.29818],[96.55761,27.29928],[96.73888,27.36638],[96.88445,27.25046],[96.85287,27.2065],[96.89132,27.17474],[97.14675,27.09041],[97.17422,27.14052],[96.91431,27.45752],[96.90112,27.62149],[97.29919,27.92233],[97.35824,27.87256],[97.38845,28.01329],[97.35412,28.06663],[97.31292,28.06784],[97.34547,28.21385],[97.1289,28.3619],[96.98882,28.32564],[96.88445,28.39452],[96.85561,28.4875],[96.6455,28.61657],[96.48895,28.42955],[96.40929,28.51526],[96.61391,28.72742],[96.3626,29.10607],[96.20467,29.02325],[96.18682,29.11087],[96.31316,29.18643],[96.05361,29.38167],[95.84899,29.31464],[95.75149,29.32063],[95.72086,29.20797],[95.50842,29.13487],[95.41091,29.13007],[95.3038,29.13847],[95.26122,29.07727],[95.2214,29.10727],[95.11291,29.09527],[95.0978,29.14446],[94.81353,29.17804],[94.69318,29.31739],[94.2752,29.11687],[94.35897,29.01965],[93.72797,28.68821],[93.44621,28.67189],[93.18069,28.50319],[93.14635,28.37035],[92.93075,28.25671],[92.67486,28.15018],[92.65472,28.07632],[92.73025,28.05814],[92.7275,27.98662],[92.42538,27.80092],[92.32101,27.79363],[92.27432,27.89077],[91.87057,27.7195],[91.84722,27.76325],[91.6469,27.76358],[91.55819,27.6144],[91.65007,27.48287],[92.01132,27.47352],[92.12019,27.27829],[92.04702,27.26861],[92.03457,27.07334],[92.11863,26.893],[92.05523,26.8692],[91.83181,26.87318],[91.50067,26.79223],[90.67715,26.77215],[90.48504,26.8594],[90.39271,26.90704],[90.30402,26.85098],[90.04535,26.72422],[89.86124,26.73307],[89.63369,26.74402],[89.42349,26.83727],[89.3901,26.84225],[89.38319,26.85963],[89.37913,26.86224],[89.1926,26.81329],[89.12825,26.81661],[89.09554,26.89089],[88.95807,26.92668],[88.92301,26.99286],[88.8714,26.97488],[88.86984,27.10937],[88.74219,27.144],[88.91901,27.32483],[88.82981,27.38814],[88.77517,27.45415],[88.88091,27.85192],[88.83559,28.01936],[88.63235,28.12356],[88.54858,28.06057],[88.25332,27.9478],[88.1278,27.95417],[88.13378,27.88015],[88.1973,27.85067],[88.19107,27.79285],[88.04008,27.49223],[88.07277,27.43007],[88.01646,27.21612],[88.01587,27.21388],[87.9887,27.11045],[88.11719,26.98758],[88.13422,26.98705],[88.12302,26.95324],[88.19107,26.75516],[88.1659,26.68177],[88.16452,26.64111],[88.09963,26.54195],[88.09414,26.43732],[88.00895,26.36029],[87.90115,26.44923],[87.89085,26.48565],[87.84193,26.43663],[87.7918,26.46737],[87.76004,26.40711],[87.67893,26.43501],[87.66803,26.40294],[87.59175,26.38342],[87.55274,26.40596],[87.51571,26.43106],[87.46566,26.44058],[87.37314,26.40815],[87.34568,26.34787],[87.26568,26.37294],[87.26587,26.40592],[87.24682,26.4143],[87.18863,26.40558],[87.14751,26.40542],[87.09147,26.45039],[87.0707,26.58571],[87.04691,26.58685],[87.01559,26.53228],[86.95912,26.52076],[86.94543,26.52076],[86.82898,26.43919],[86.76797,26.45892],[86.74025,26.42386],[86.69124,26.45169],[86.62686,26.46891],[86.61313,26.48658],[86.57073,26.49825],[86.54258,26.53819],[86.49726,26.54218],[86.31564,26.61925],[86.26235,26.61886],[86.22513,26.58863],[86.13596,26.60651],[86.02729,26.66756],[85.8492,26.56667],[85.85126,26.60866],[85.83126,26.61134],[85.76907,26.63076],[85.72315,26.67471],[85.73483,26.79613],[85.66239,26.84822],[85.61621,26.86721],[85.59461,26.85161],[85.5757,26.85955],[85.56471,26.84133],[85.47752,26.79292],[85.34302,26.74954],[85.21159,26.75933],[85.18046,26.80519],[85.19291,26.86909],[85.15883,26.86966],[85.02635,26.85381],[85.05592,26.88991],[85.00536,26.89523],[84.97186,26.9149],[84.96687,26.95599],[84.85754,26.98984],[84.82913,27.01989],[84.793,26.9968],[84.64496,27.04669],[84.69166,27.21294],[84.62161,27.33885],[84.29315,27.39],[84.25735,27.44941],[84.21376,27.45218],[84.10791,27.52399],[84.02229,27.43836],[83.93306,27.44939],[83.86182,27.4241],[83.85595,27.35797],[83.61288,27.47013],[83.39495,27.4798],[83.38872,27.39276],[83.35136,27.33885],[83.29999,27.32778],[83.2673,27.36235],[83.27197,27.38309],[83.19413,27.45632],[82.94938,27.46036],[82.93261,27.50328],[82.74119,27.49838],[82.70378,27.72122],[82.46405,27.6716],[82.06554,27.92222],[81.97214,27.93322],[81.91223,27.84995],[81.47867,28.08303],[81.48179,28.12148],[81.38683,28.17638],[81.32923,28.13521],[81.19847,28.36284],[81.03471,28.40054],[80.55142,28.69182],[80.50575,28.6706],[80.52443,28.54897],[80.44504,28.63098],[80.37188,28.63371],[80.12125,28.82346],[80.06957,28.82763],[80.05743,28.91479],[80.18085,29.13649],[80.23178,29.11626],[80.26602,29.13938],[80.24112,29.21414],[80.28626,29.20327],[80.31428,29.30784],[80.24322,29.44299],[80.37939,29.57098],[80.41858,29.63581],[80.38428,29.68513],[80.36803,29.73865],[80.41554,29.79451],[80.43458,29.80466],[80.48997,29.79566],[80.56247,29.86661],[80.57179,29.91422],[80.60226,29.95732],[80.67076,29.95732],[80.8778,30.13384],[80.86673,30.17321],[80.91143,30.22173],[80.92547,30.17193],[81.03953,30.20059],[80.83343,30.32023],[80.54504,30.44936],[80.20721,30.58541],[79.93255,30.88288],[79.59884,30.93943],[79.30694,31.17357],[79.14016,31.43403],[79.01931,31.42817],[78.89344,31.30481],[78.77898,31.31209],[78.71032,31.50197],[78.84516,31.60631],[78.69933,31.78723],[78.78036,31.99478],[78.74404,32.00384],[78.68754,32.10256],[78.49609,32.2762],[78.4645,32.45367],[78.38897,32.53938],[78.73916,32.69438],[78.7831,32.46873],[78.96713,32.33655],[78.99322,32.37948],[79.0979,32.38051],[79.13174,32.47766],[79.26768,32.53277],[79.46562,32.69668],[79.14016,33.02545],[79.15252,33.17156],[78.73636,33.56521],[78.67599,33.66445],[78.77349,33.73871],[78.73367,34.01121],[78.65657,34.03195],[78.66225,34.08858],[78.91769,34.15452],[78.99802,34.3027],[79.05364,34.32482],[78.74465,34.45174],[78.56475,34.50835],[78.54964,34.57283],[78.27781,34.61484],[78.18435,34.7998],[78.22692,34.88771],[78.00033,35.23954],[78.03466,35.3785],[78.11664,35.48022],[77.80532,35.52058],[77.70232,35.46244],[77.44277,35.46132],[76.96624,35.5932],[76.84539,35.67356],[76.77323,35.66062],[76.75475,35.52617],[76.85088,35.39754],[76.93465,35.39866],[77.11796,35.05419],[76.99251,34.93349],[76.87193,34.96906],[76.74514,34.92488],[76.74377,34.84039],[76.67648,34.76371],[76.47186,34.78965],[76.15463,34.6429],[76.04614,34.67566],[75.75438,34.51827],[75.38009,34.55021],[75.01479,34.64629],[74.6663,34.703],[74.58083,34.77386],[74.31239,34.79626],[74.12897,34.70073],[73.96423,34.68244],[73.93401,34.63386],[73.93951,34.57169],[73.89419,34.54568],[73.88732,34.48911],[73.74999,34.3781],[73.74862,34.34183],[73.8475,34.32935],[73.90517,34.35317],[73.98208,34.2522],[73.90677,34.10504],[73.88732,34.05105],[73.91341,34.01235],[74.21554,34.03853],[74.25262,34.01577],[74.26086,33.92237],[74.14001,33.83002],[74.05898,33.82089],[74.00891,33.75437],[73.96423,33.73071],[73.98968,33.66155],[73.97367,33.64061],[74.03576,33.56718],[74.10115,33.56392],[74.18121,33.4745],[74.17983,33.3679],[74.08782,33.26232],[74.01366,33.25199],[74.02144,33.18908],[74.15374,33.13477],[74.17571,33.07495],[74.31854,33.02891],[74.34875,32.97823],[74.31227,32.92795],[74.41467,32.90563],[74.45312,32.77755],[74.6289,32.75561],[74.64675,32.82604],[74.7113,32.84219],[74.65345,32.71225],[74.69542,32.66792],[74.64424,32.60985],[74.65251,32.56416],[74.67431,32.56676],[74.68362,32.49298],[74.84725,32.49075],[74.97634,32.45367],[75.03265,32.49538],[75.28259,32.36556],[75.38046,32.26836],[75.25649,32.10187],[75.00793,32.03786],[74.9269,32.0658],[74.86236,32.04485],[74.79919,31.95983],[74.58907,31.87824],[74.47771,31.72227],[74.57498,31.60382],[74.61517,31.55698],[74.59319,31.50197],[74.64713,31.45605],[74.59773,31.4136],[74.53223,31.30321],[74.51629,31.13829],[74.56023,31.08303],[74.60281,31.10419],[74.60006,31.13711],[74.6852,31.12771],[74.67971,31.05479],[74.5616,31.04153],[73.88993,30.36305],[73.95736,30.28466],[73.97225,30.19829],[73.80299,30.06969],[73.58665,30.01848],[73.3962,29.94707],[73.28094,29.56646],[73.05886,29.1878],[73.01337,29.16422],[72.94272,29.02487],[72.40402,28.78283],[72.29495,28.66367],[72.20329,28.3869],[71.9244,28.11555],[71.89921,27.96035],[70.79054,27.68423],[70.60927,28.02178],[70.37307,28.01208],[70.12502,27.8057],[70.03136,27.56627],[69.58519,27.18109],[69.50904,26.74892],[69.88555,26.56836],[70.05584,26.60398],[70.17532,26.55362],[70.17532,26.24118],[70.08193,26.08094],[70.0985,25.93238],[70.2687,25.71156],[70.37444,25.67443],[70.53649,25.68928],[70.60378,25.71898],[70.67382,25.68186],[70.66695,25.39314],[70.89148,25.15064],[70.94002,24.92843],[71.09405,24.69017],[70.97594,24.60904],[71.00341,24.46038],[71.12838,24.42662],[71.04461,24.34657],[70.94985,24.3791],[70.85784,24.30903],[70.88393,24.27398],[70.71502,24.23517],[70.57906,24.27774],[70.5667,24.43787],[70.11712,24.30915],[70.03428,24.172],[69.73335,24.17007],[69.59579,24.29777],[69.29778,24.28712],[69.19341,24.25646],[69.07806,24.29777],[68.97781,24.26021],[68.90914,24.33156],[68.7416,24.31904],[68.74643,23.97027],[68.39339,23.96838],[68.20763,23.85849],[68.11329,23.53945],[76.59015,5.591],[79.50447,8.91876],[79.42124,9.80115],[80.48418,10.20786],[89.08044,21.41871]]]]}},{type:"Feature",properties:{wikidata:"Q9143535",nameEn:"Akrotiri",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.86014,34.70585],[32.82717,34.70622],[32.79433,34.67883],[32.76136,34.68318],[32.75515,34.64985],[32.74412,34.43926],[33.26744,34.49942],[33.0138,34.64424],[32.96968,34.64046],[32.96718,34.63446],[32.96312,34.63236],[32.95516,34.63541],[32.95323,34.64075],[32.95471,34.64528],[32.95277,34.65104],[32.96154,34.65587],[32.9639,34.65866],[32.969,34.6549],[32.98046,34.65336],[32.99014,34.65518],[32.98668,34.67268],[32.98967,34.67981],[32.95567,34.6839],[32.94127,34.67426],[32.93989,34.67034],[32.93756,34.67072],[32.93535,34.66317],[32.92824,34.66821],[32.93043,34.67091],[32.91398,34.67343],[32.9068,34.66102],[32.86167,34.68734],[32.86014,34.70585]]]]}},{type:"Feature",properties:{wikidata:"Q9206745",nameEn:"Dhekelia",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.70575,34.97947],[33.83531,34.73974],[33.98684,34.76642],[33.90146,34.96458],[33.86018,34.97381],[33.84741,34.97167],[33.84028,34.97179],[33.83459,34.97448],[33.84616,34.98511],[33.85488,34.98462],[33.85891,35.001],[33.85216,35.00579],[33.84045,35.00616],[33.82875,35.01685],[33.83055,35.02865],[33.81524,35.04192],[33.8012,35.04786],[33.82051,35.0667],[33.8355,35.05777],[33.85261,35.0574],[33.87438,35.08118],[33.89322,35.06789],[33.90247,35.07686],[33.91789,35.08688],[33.89853,35.11377],[33.88737,35.11408],[33.88943,35.12007],[33.88561,35.12449],[33.87224,35.12293],[33.87622,35.10457],[33.87097,35.09389],[33.87479,35.08881],[33.8541,35.07201],[33.84168,35.06823],[33.82067,35.07826],[33.78581,35.05104],[33.76106,35.04253],[33.73824,35.05321],[33.71482,35.03722],[33.70209,35.04882],[33.7161,35.07279],[33.70861,35.07644],[33.69095,35.06237],[33.68474,35.06602],[33.67742,35.05963],[33.67678,35.03866],[33.69938,35.03123],[33.69731,35.01754],[33.71514,35.00294],[33.70639,34.99303],[33.70575,34.97947]],[[33.77312,34.9976],[33.77553,34.99518],[33.78516,34.99582],[33.79191,34.98914],[33.78917,34.98854],[33.78571,34.98951],[33.78318,34.98699],[33.78149,34.98854],[33.77843,34.988],[33.7778,34.98981],[33.76738,34.99188],[33.76605,34.99543],[33.75682,34.99916],[33.75994,35.00113],[33.77312,34.9976]],[[33.74144,35.01053],[33.7343,35.01178],[33.73781,35.02181],[33.74265,35.02329],[33.74983,35.02274],[33.7492,35.01319],[33.74144,35.01053]]]]}},{type:"Feature",properties:{wikidata:"Q16390686",nameEn:"Peninsular Spain",country:"ES",groups:["Q12837","EU","039","150","UN"],callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.75438,42.33445],[3.17156,42.43545],[3.11379,42.43646],[3.10027,42.42621],[3.08167,42.42748],[3.03734,42.47363],[2.96518,42.46692],[2.94283,42.48174],[2.92107,42.4573],[2.88413,42.45938],[2.86983,42.46843],[2.85675,42.45444],[2.84335,42.45724],[2.77464,42.41046],[2.75497,42.42578],[2.72056,42.42298],[2.65311,42.38771],[2.6747,42.33974],[2.57934,42.35808],[2.55516,42.35351],[2.54382,42.33406],[2.48457,42.33933],[2.43508,42.37568],[2.43299,42.39423],[2.38504,42.39977],[2.25551,42.43757],[2.20578,42.41633],[2.16599,42.42314],[2.12789,42.41291],[2.11621,42.38393],[2.06241,42.35906],[2.00488,42.35399],[1.96482,42.37787],[1.9574,42.42401],[1.94084,42.43039],[1.94061,42.43333],[1.94292,42.44316],[1.93663,42.45439],[1.88853,42.4501],[1.83037,42.48395],[1.76335,42.48863],[1.72515,42.50338],[1.70571,42.48867],[1.66826,42.50779],[1.65674,42.47125],[1.58933,42.46275],[1.57953,42.44957],[1.55937,42.45808],[1.55073,42.43299],[1.5127,42.42959],[1.44529,42.43724],[1.43838,42.47848],[1.41648,42.48315],[1.46661,42.50949],[1.44759,42.54431],[1.41245,42.53539],[1.4234,42.55959],[1.44529,42.56722],[1.42512,42.58292],[1.44197,42.60217],[1.35562,42.71944],[1.15928,42.71407],[1.0804,42.78569],[.98292,42.78754],[.96166,42.80629],[.93089,42.79154],[.711,42.86372],[.66121,42.84021],[.65421,42.75872],[.67873,42.69458],[.40214,42.69779],[.36251,42.72282],[.29407,42.67431],[.25336,42.7174],[.17569,42.73424],[-.02468,42.68513],[-.10519,42.72761],[-.16141,42.79535],[-.17939,42.78974],[-.3122,42.84788],[-.38833,42.80132],[-.41319,42.80776],[-.44334,42.79939],[-.50863,42.82713],[-.55497,42.77846],[-.67637,42.88303],[-.69837,42.87945],[-.72608,42.89318],[-.73422,42.91228],[-.72037,42.92541],[-.75478,42.96916],[-.81652,42.95166],[-.97133,42.96239],[-1.00963,42.99279],[-1.10333,43.0059],[-1.22881,43.05534],[-1.25244,43.04164],[-1.30823,43.07102],[-1.29765,43.09427],[-1.2879,43.10494],[-1.27038,43.11712],[-1.26996,43.11832],[-1.28008,43.11842],[-1.32209,43.1127],[-1.34419,43.09665],[-1.35272,43.02658],[-1.44067,43.047],[-1.47555,43.08372],[-1.41562,43.12815],[-1.3758,43.24511],[-1.40942,43.27272],[-1.45289,43.27049],[-1.50992,43.29481],[-1.55963,43.28828],[-1.57674,43.25269],[-1.61341,43.25269],[-1.63052,43.28591],[-1.62481,43.30726],[-1.69407,43.31378],[-1.73074,43.29481],[-1.7397,43.32979],[-1.75079,43.3317],[-1.75334,43.34107],[-1.75913,43.34422],[-1.77307,43.342],[-1.78829,43.35192],[-1.78184,43.36235],[-1.79319,43.37497],[-1.77289,43.38957],[-1.81005,43.59738],[-10.14298,44.17365],[-11.19304,41.83075],[-8.87157,41.86488],[-8.81794,41.90375],[-8.75712,41.92833],[-8.74606,41.9469],[-8.7478,41.96282],[-8.69071,41.98862],[-8.6681,41.99703],[-8.65832,42.02972],[-8.64626,42.03668],[-8.63791,42.04691],[-8.59493,42.05708],[-8.58086,42.05147],[-8.54563,42.0537],[-8.5252,42.06264],[-8.52837,42.07658],[-8.48185,42.0811],[-8.44123,42.08218],[-8.42512,42.07199],[-8.40143,42.08052],[-8.38323,42.07683],[-8.36353,42.09065],[-8.33912,42.08358],[-8.32161,42.10218],[-8.29809,42.106],[-8.2732,42.12396],[-8.24681,42.13993],[-8.22406,42.1328],[-8.1986,42.15402],[-8.18947,42.13853],[-8.19406,42.12141],[-8.18178,42.06436],[-8.11729,42.08537],[-8.08847,42.05767],[-8.08796,42.01398],[-8.16232,41.9828],[-8.2185,41.91237],[-8.19551,41.87459],[-8.16944,41.87944],[-8.16455,41.81753],[-8.0961,41.81024],[-8.01136,41.83453],[-7.9804,41.87337],[-7.92336,41.8758],[-7.90707,41.92432],[-7.88751,41.92553],[-7.88055,41.84571],[-7.84188,41.88065],[-7.69848,41.90977],[-7.65774,41.88308],[-7.58603,41.87944],[-7.62188,41.83089],[-7.52737,41.83939],[-7.49803,41.87095],[-7.45566,41.86488],[-7.44759,41.84451],[-7.42854,41.83262],[-7.42864,41.80589],[-7.37092,41.85031],[-7.32366,41.8406],[-7.18677,41.88793],[-7.18549,41.97515],[-7.14115,41.98855],[-7.08574,41.97401],[-7.07596,41.94977],[-7.01078,41.94977],[-6.98144,41.9728],[-6.95537,41.96553],[-6.94396,41.94403],[-6.82174,41.94493],[-6.81196,41.99097],[-6.76959,41.98734],[-6.75004,41.94129],[-6.61967,41.94008],[-6.58544,41.96674],[-6.5447,41.94371],[-6.56752,41.88429],[-6.51374,41.8758],[-6.56426,41.74219],[-6.54633,41.68623],[-6.49907,41.65823],[-6.44204,41.68258],[-6.29863,41.66432],[-6.19128,41.57638],[-6.26777,41.48796],[-6.3306,41.37677],[-6.38553,41.38655],[-6.38551,41.35274],[-6.55937,41.24417],[-6.65046,41.24725],[-6.68286,41.21641],[-6.69711,41.1858],[-6.77319,41.13049],[-6.75655,41.10187],[-6.79241,41.05397],[-6.80942,41.03629],[-6.84781,41.02692],[-6.88843,41.03027],[-6.913,41.03922],[-6.9357,41.02888],[-6.8527,40.93958],[-6.84292,40.89771],[-6.80707,40.88047],[-6.79892,40.84842],[-6.82337,40.84472],[-6.82826,40.74603],[-6.79567,40.65955],[-6.84292,40.56801],[-6.80218,40.55067],[-6.7973,40.51723],[-6.84944,40.46394],[-6.84618,40.42177],[-6.78426,40.36468],[-6.80218,40.33239],[-6.86085,40.2976],[-6.86085,40.26776],[-7.00426,40.23169],[-7.02544,40.18564],[-7.00589,40.12087],[-6.94233,40.10716],[-6.86737,40.01986],[-6.91463,39.86618],[-6.97492,39.81488],[-7.01613,39.66877],[-7.24707,39.66576],[-7.33507,39.64569],[-7.54121,39.66717],[-7.49477,39.58794],[-7.2927,39.45847],[-7.3149,39.34857],[-7.23403,39.27579],[-7.23566,39.20132],[-7.12811,39.17101],[-7.14929,39.11287],[-7.10692,39.10275],[-7.04011,39.11919],[-6.97004,39.07619],[-6.95211,39.0243],[-7.051,38.907],[-7.03848,38.87221],[-7.26174,38.72107],[-7.265,38.61674],[-7.32529,38.44336],[-7.15581,38.27597],[-7.09389,38.17227],[-6.93418,38.21454],[-7.00375,38.01914],[-7.05966,38.01966],[-7.10366,38.04404],[-7.12648,38.00296],[-7.24544,37.98884],[-7.27314,37.90145],[-7.33441,37.81193],[-7.41981,37.75729],[-7.51759,37.56119],[-7.46878,37.47127],[-7.43974,37.38913],[-7.43227,37.25152],[-7.41854,37.23813],[-7.41133,37.20314],[-7.39769,37.16868],[-7.37282,36.96896],[-7.2725,35.73269],[-5.10878,36.05227],[-2.27707,35.35051],[3.75438,42.33445]],[[-5.27801,36.14942],[-5.34064,36.03744],[-5.40526,36.15488],[-5.34536,36.15501],[-5.33822,36.15272],[-5.27801,36.14942]]],[[[1.99838,42.44682],[2.01564,42.45171],[1.99216,42.46208],[1.98579,42.47486],[1.99766,42.4858],[1.98916,42.49351],[1.98022,42.49569],[1.97697,42.48568],[1.97227,42.48487],[1.97003,42.48081],[1.96215,42.47854],[1.95606,42.45785],[1.96125,42.45364],[1.98378,42.44697],[1.99838,42.44682]]]]}},{type:"Feature",properties:{wikidata:"Q98059339",nameEn:"Mainland Norway",country:"NO",groups:["154","150","UN"],callingCodes:["47"]},geometry:{type:"MultiPolygon",coordinates:[[[[10.40861,58.38489],[10.64958,58.89391],[11.08911,58.98745],[11.15367,59.07862],[11.34459,59.11672],[11.4601,58.99022],[11.45199,58.89604],[11.65732,58.90177],[11.8213,59.24985],[11.69297,59.59442],[11.92112,59.69531],[11.87121,59.86039],[12.15641,59.8926],[12.36317,59.99259],[12.52003,60.13846],[12.59133,60.50559],[12.2277,61.02442],[12.69115,61.06584],[12.86939,61.35427],[12.57707,61.56547],[12.40595,61.57226],[12.14746,61.7147],[12.29187,62.25699],[12.07085,62.6297],[12.19919,63.00104],[11.98529,63.27487],[12.19919,63.47935],[12.14928,63.59373],[12.74105,64.02171],[13.23411,64.09087],[13.98222,64.00953],[14.16051,64.18725],[14.11117,64.46674],[13.64276,64.58402],[14.50926,65.31786],[14.53778,66.12399],[15.05113,66.15572],[15.49318,66.28509],[15.37197,66.48217],[16.35589,67.06419],[16.39154,67.21653],[16.09922,67.4364],[16.12774,67.52106],[16.38441,67.52923],[16.7409,67.91037],[17.30416,68.11591],[17.90787,67.96537],[18.13836,68.20874],[18.1241,68.53721],[18.39503,68.58672],[18.63032,68.50849],[18.97255,68.52416],[19.93508,68.35911],[20.22027,68.48759],[19.95647,68.55546],[20.22027,68.67246],[20.33435,68.80174],[20.28444,68.93283],[20.0695,69.04469],[20.55258,69.06069],[20.72171,69.11874],[21.05775,69.0356],[21.11099,69.10291],[20.98641,69.18809],[21.00732,69.22755],[21.27827,69.31281],[21.63833,69.27485],[22.27276,68.89514],[22.38367,68.71561],[22.53321,68.74393],[23.13064,68.64684],[23.68017,68.70276],[23.781,68.84514],[24.02299,68.81601],[24.18432,68.73936],[24.74898,68.65143],[24.90023,68.55579],[24.93048,68.61102],[25.10189,68.63307],[25.12206,68.78684],[25.42455,68.90328],[25.61613,68.89602],[25.75729,68.99383],[25.69679,69.27039],[25.96904,69.68397],[26.40261,69.91377],[26.64461,69.96565],[27.05802,69.92069],[27.57226,70.06215],[27.95542,70.0965],[27.97558,69.99671],[28.32849,69.88605],[28.36883,69.81658],[29.12697,69.69193],[29.31664,69.47994],[28.8629,69.22395],[28.81248,69.11997],[28.91738,69.04774],[29.0444,69.0119],[29.26623,69.13794],[29.27631,69.2811],[29.97205,69.41623],[30.16363,69.65244],[30.52662,69.54699],[30.95011,69.54699],[30.84095,69.80584],[31.59909,70.16571],[32.07813,72.01005],[-11.60274,67.73467],[7.28637,57.35913],[10.40861,58.38489]]]]}},{type:"Feature",properties:{wikidata:"Q98543636",nameEn:"Mainland Ecuador",country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-84.52388,-3.36941],[-80.30602,-3.39149],[-80.20647,-3.431],[-80.24123,-3.46124],[-80.24586,-3.48677],[-80.23651,-3.48652],[-80.22629,-3.501],[-80.20535,-3.51667],[-80.21642,-3.5888],[-80.19848,-3.59249],[-80.18741,-3.63994],[-80.19926,-3.68894],[-80.13232,-3.90317],[-80.46386,-4.01342],[-80.4822,-4.05477],[-80.45023,-4.20938],[-80.32114,-4.21323],[-80.46386,-4.41516],[-80.39256,-4.48269],[-80.13945,-4.29786],[-79.79722,-4.47558],[-79.59402,-4.46848],[-79.26248,-4.95167],[-79.1162,-4.97774],[-79.01659,-5.01481],[-78.85149,-4.66795],[-78.68394,-4.60754],[-78.34362,-3.38633],[-78.24589,-3.39907],[-78.22642,-3.51113],[-78.14324,-3.47653],[-78.19369,-3.36431],[-77.94147,-3.05454],[-76.6324,-2.58397],[-76.05203,-2.12179],[-75.57429,-1.55961],[-75.3872,-.9374],[-75.22862,-.95588],[-75.22862,-.60048],[-75.53615,-.19213],[-75.60169,-.18708],[-75.61997,-.10012],[-75.40192,-.17196],[-75.25764,-.11943],[-75.82927,.09578],[-76.23441,.42294],[-76.41215,.38228],[-76.4094,.24015],[-76.89177,.24736],[-77.52001,.40782],[-77.49984,.64476],[-77.67815,.73863],[-77.66416,.81604],[-77.68613,.83029],[-77.7148,.85003],[-77.85677,.80197],[-78.42749,1.15389],[-78.87137,1.47457],[-82.12561,4.00341],[-84.52388,-3.36941]]]]}},{type:"Feature",properties:{m49:"001",wikidata:"Q2",nameEn:"World",aliases:["Earth","Planet"],level:"world"},geometry:null},{type:"Feature",properties:{m49:"002",wikidata:"Q15",nameEn:"Africa",level:"region"},geometry:null},{type:"Feature",properties:{m49:"003",wikidata:"Q49",nameEn:"North America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"005",wikidata:"Q18",nameEn:"South America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"009",wikidata:"Q538",nameEn:"Oceania",level:"region"},geometry:null},{type:"Feature",properties:{m49:"011",wikidata:"Q4412",nameEn:"Western Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"013",wikidata:"Q27611",nameEn:"Central America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"014",wikidata:"Q27407",nameEn:"Eastern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"015",wikidata:"Q27381",nameEn:"Northern Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"017",wikidata:"Q27433",nameEn:"Middle Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"018",wikidata:"Q27394",nameEn:"Southern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"019",wikidata:"Q828",nameEn:"Americas",level:"region"},geometry:null},{type:"Feature",properties:{m49:"021",wikidata:"Q2017699",nameEn:"Northern America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"029",wikidata:"Q664609",nameEn:"Caribbean",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"030",wikidata:"Q27231",nameEn:"Eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"034",wikidata:"Q771405",nameEn:"Southern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"035",wikidata:"Q11708",nameEn:"South-eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"039",wikidata:"Q27449",nameEn:"Southern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"053",wikidata:"Q45256",nameEn:"Australia and New Zealand",aliases:["Australasia"],level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"054",wikidata:"Q37394",nameEn:"Melanesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"057",wikidata:"Q3359409",nameEn:"Micronesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"061",wikidata:"Q35942",nameEn:"Polynesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"142",wikidata:"Q48",nameEn:"Asia",level:"region"},geometry:null},{type:"Feature",properties:{m49:"143",wikidata:"Q27275",nameEn:"Central Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"145",wikidata:"Q27293",nameEn:"Western Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"150",wikidata:"Q46",nameEn:"Europe",level:"region"},geometry:null},{type:"Feature",properties:{m49:"151",wikidata:"Q27468",nameEn:"Eastern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"154",wikidata:"Q27479",nameEn:"Northern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"155",wikidata:"Q27496",nameEn:"Western Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"202",wikidata:"Q132959",nameEn:"Sub-Saharan Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"419",wikidata:"Q72829598",nameEn:"Latin America and the Caribbean",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"830",wikidata:"Q42314",nameEn:"Channel Islands",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{iso1A2:"AC",iso1A3:"ASC",wikidata:"Q46197",nameEn:"Ascension Island",aliases:["SH-AC"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["247"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.82771,-8.70814],[-13.33271,-8.07391],[-14.91926,-6.63386],[-14.82771,-8.70814]]]]}},{type:"Feature",properties:{iso1A2:"AD",iso1A3:"AND",iso1N3:"020",wikidata:"Q228",nameEn:"Andorra",groups:["Q12837","039","150","UN"],callingCodes:["376"]},geometry:{type:"MultiPolygon",coordinates:[[[[1.72515,42.50338],[1.73683,42.55492],[1.7858,42.57698],[1.72588,42.59098],[1.73452,42.61515],[1.68267,42.62533],[1.6625,42.61982],[1.63485,42.62957],[1.60085,42.62703],[1.55418,42.65669],[1.50867,42.64483],[1.48043,42.65203],[1.46718,42.63296],[1.47986,42.61346],[1.44197,42.60217],[1.42512,42.58292],[1.44529,42.56722],[1.4234,42.55959],[1.41245,42.53539],[1.44759,42.54431],[1.46661,42.50949],[1.41648,42.48315],[1.43838,42.47848],[1.44529,42.43724],[1.5127,42.42959],[1.55073,42.43299],[1.55937,42.45808],[1.57953,42.44957],[1.58933,42.46275],[1.65674,42.47125],[1.66826,42.50779],[1.70571,42.48867],[1.72515,42.50338]]]]}},{type:"Feature",properties:{iso1A2:"AE",iso1A3:"ARE",iso1N3:"784",wikidata:"Q878",nameEn:"United Arab Emirates",groups:["145","142","UN"],callingCodes:["971"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.26534,25.62825],[56.25341,25.61443],[56.26636,25.60643],[56.25365,25.60211],[56.20473,25.61119],[56.18363,25.65508],[56.14826,25.66351],[56.13579,25.73524],[56.17416,25.77239],[56.13963,25.82765],[56.19334,25.9795],[56.15498,26.06828],[56.08666,26.05038],[55.81777,26.18798],[55.14145,25.62624],[53.97892,24.64436],[52.82259,25.51697],[52.35509,25.00368],[52.02277,24.75635],[51.83108,24.71675],[51.58834,24.66608],[51.41644,24.39615],[51.58871,24.27256],[51.59617,24.12041],[52.56622,22.94341],[55.13599,22.63334],[55.2137,22.71065],[55.22634,23.10378],[55.57358,23.669],[55.48677,23.94946],[55.73301,24.05994],[55.8308,24.01633],[56.01799,24.07426],[55.95472,24.2172],[55.83367,24.20193],[55.77658,24.23476],[55.76558,24.23227],[55.75257,24.23466],[55.75382,24.2466],[55.75939,24.26114],[55.76781,24.26209],[55.79145,24.27914],[55.80747,24.31069],[55.83395,24.32776],[55.83271,24.41521],[55.76461,24.5287],[55.83271,24.68567],[55.83408,24.77858],[55.81348,24.80102],[55.81116,24.9116],[55.85094,24.96858],[55.90849,24.96771],[55.96316,25.00857],[56.05715,24.95727],[56.05106,24.87461],[55.97467,24.89639],[55.97836,24.87673],[56.03535,24.81161],[56.06128,24.74457],[56.13684,24.73699],[56.20062,24.78565],[56.20568,24.85063],[56.30269,24.88334],[56.34873,24.93205],[56.3227,24.97284],[56.86325,25.03856],[56.82555,25.7713],[56.26534,25.62825]],[[56.26062,25.33108],[56.3005,25.31815],[56.3111,25.30107],[56.35172,25.30681],[56.34438,25.26653],[56.27628,25.23404],[56.24341,25.22867],[56.20872,25.24104],[56.20838,25.25668],[56.24465,25.27505],[56.25008,25.28843],[56.23362,25.31253],[56.26062,25.33108]]],[[[56.28423,25.26344],[56.29379,25.2754],[56.28102,25.28486],[56.2716,25.27916],[56.27086,25.26128],[56.28423,25.26344]]]]}},{type:"Feature",properties:{iso1A2:"AF",iso1A3:"AFG",iso1N3:"004",wikidata:"Q889",nameEn:"Afghanistan",groups:["034","142","UN"],callingCodes:["93"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.61526,38.34774],[70.60407,38.28046],[70.54673,38.24541],[70.4898,38.12546],[70.17206,37.93276],[70.1863,37.84296],[70.27694,37.81258],[70.28243,37.66706],[70.15015,37.52519],[69.95971,37.5659],[69.93362,37.61378],[69.84435,37.60616],[69.80041,37.5746],[69.51888,37.5844],[69.44954,37.4869],[69.36645,37.40462],[69.45022,37.23315],[69.39529,37.16752],[69.25152,37.09426],[69.03274,37.25174],[68.96407,37.32603],[68.88168,37.33368],[68.91189,37.26704],[68.80889,37.32494],[68.81438,37.23862],[68.6798,37.27906],[68.61851,37.19815],[68.41888,37.13906],[68.41201,37.10402],[68.29253,37.10621],[68.27605,37.00977],[68.18542,37.02074],[68.02194,36.91923],[67.87917,37.0591],[67.7803,37.08978],[67.78329,37.1834],[67.51868,37.26102],[67.2581,37.17216],[67.2224,37.24545],[67.13039,37.27168],[67.08232,37.35469],[66.95598,37.40162],[66.64699,37.32958],[66.55743,37.35409],[66.30993,37.32409],[65.72274,37.55438],[65.64137,37.45061],[65.64263,37.34388],[65.51778,37.23881],[64.97945,37.21913],[64.61141,36.6351],[64.62514,36.44311],[64.57295,36.34362],[64.43288,36.24401],[64.05385,36.10433],[63.98519,36.03773],[63.56496,35.95106],[63.53475,35.90881],[63.29579,35.85985],[63.12276,35.86208],[63.10318,35.81782],[63.23262,35.67487],[63.10079,35.63024],[63.12276,35.53196],[63.0898,35.43131],[62.90853,35.37086],[62.74098,35.25432],[62.62288,35.22067],[62.48006,35.28796],[62.29878,35.13312],[62.29191,35.25964],[62.15871,35.33278],[62.05709,35.43803],[61.97743,35.4604],[61.77693,35.41341],[61.58742,35.43803],[61.27371,35.61482],[61.18187,35.30249],[61.0991,35.27845],[61.12831,35.09938],[61.06926,34.82139],[61.00197,34.70631],[60.99922,34.63064],[60.72316,34.52857],[60.91321,34.30411],[60.66502,34.31539],[60.50209,34.13992],[60.5838,33.80793],[60.5485,33.73422],[60.57762,33.59772],[60.69573,33.56054],[60.91133,33.55596],[60.88908,33.50219],[60.56485,33.12944],[60.86191,32.22565],[60.84541,31.49561],[61.70929,31.37391],[61.80569,31.16167],[61.80957,31.12576],[61.83257,31.0452],[61.8335,30.97669],[61.78268,30.92724],[61.80829,30.84224],[60.87231,29.86514],[62.47751,29.40782],[63.5876,29.50456],[64.12966,29.39157],[64.19796,29.50407],[64.62116,29.58903],[65.04005,29.53957],[66.24175,29.85181],[66.36042,29.9583],[66.23609,30.06321],[66.34869,30.404],[66.28413,30.57001],[66.39194,30.9408],[66.42645,30.95309],[66.58175,30.97532],[66.68166,31.07597],[66.72561,31.20526],[66.83273,31.26867],[67.04147,31.31561],[67.03323,31.24519],[67.29964,31.19586],[67.78854,31.33203],[67.7748,31.4188],[67.62374,31.40473],[67.58323,31.52772],[67.72056,31.52304],[67.86887,31.63536],[68.00071,31.6564],[68.1655,31.82691],[68.25614,31.80357],[68.27605,31.75863],[68.44222,31.76446],[68.57475,31.83158],[68.6956,31.75687],[68.79997,31.61665],[68.91078,31.59687],[68.95995,31.64822],[69.00939,31.62249],[69.11514,31.70782],[69.20577,31.85957],[69.3225,31.93186],[69.27032,32.14141],[69.27932,32.29119],[69.23599,32.45946],[69.2868,32.53938],[69.38155,32.56601],[69.44747,32.6678],[69.43649,32.7302],[69.38018,32.76601],[69.47082,32.85834],[69.5436,32.8768],[69.49854,32.88843],[69.49004,33.01509],[69.57656,33.09911],[69.71526,33.09911],[69.79766,33.13247],[69.85259,33.09451],[70.02563,33.14282],[70.07369,33.22557],[70.13686,33.21064],[70.32775,33.34496],[70.17062,33.53535],[70.20141,33.64387],[70.14785,33.6553],[70.14236,33.71701],[70.00503,33.73528],[69.85671,33.93719],[69.87307,33.9689],[69.90203,34.04194],[70.54336,33.9463],[70.88119,33.97933],[71.07345,34.06242],[71.06933,34.10564],[71.09307,34.11961],[71.09453,34.13524],[71.13078,34.16503],[71.12815,34.26619],[71.17662,34.36769],[71.02401,34.44835],[71.0089,34.54568],[71.11602,34.63047],[71.08718,34.69034],[71.28356,34.80882],[71.29472,34.87728],[71.50329,34.97328],[71.49917,35.00478],[71.55273,35.02615],[71.52938,35.09023],[71.67495,35.21262],[71.5541,35.28776],[71.54294,35.31037],[71.65435,35.4479],[71.49917,35.6267],[71.55273,35.71483],[71.37969,35.95865],[71.19505,36.04134],[71.60491,36.39429],[71.80267,36.49924],[72.18135,36.71838],[72.6323,36.84601],[73.82685,36.91421],[74.04856,36.82648],[74.43389,37.00977],[74.53739,36.96224],[74.56453,37.03023],[74.49981,37.24518],[74.80605,37.21565],[74.88887,37.23275],[74.8294,37.3435],[74.68383,37.3948],[74.56161,37.37734],[74.41055,37.3948],[74.23339,37.41116],[74.20308,37.34208],[73.8564,37.26158],[73.82552,37.22659],[73.64974,37.23643],[73.61129,37.27469],[73.76647,37.33913],[73.77197,37.4417],[73.29633,37.46495],[73.06884,37.31729],[72.79693,37.22222],[72.66381,37.02014],[72.54095,37.00007],[72.31676,36.98115],[71.83229,36.68084],[71.67083,36.67346],[71.57195,36.74943],[71.51502,36.89128],[71.48481,36.93218],[71.46923,36.99925],[71.45578,37.03094],[71.43097,37.05855],[71.44127,37.11856],[71.4494,37.18137],[71.4555,37.21418],[71.47386,37.2269],[71.48339,37.23937],[71.4824,37.24921],[71.48536,37.26017],[71.50674,37.31502],[71.49821,37.31975],[71.4862,37.33405],[71.47685,37.40281],[71.49612,37.4279],[71.5256,37.47971],[71.50616,37.50733],[71.49693,37.53527],[71.5065,37.60912],[71.51972,37.61945],[71.54186,37.69691],[71.55234,37.73209],[71.53053,37.76534],[71.54324,37.77104],[71.55752,37.78677],[71.59255,37.79956],[71.58843,37.92425],[71.51565,37.95349],[71.32871,37.88564],[71.296,37.93403],[71.2809,37.91995],[71.24969,37.93031],[71.27278,37.96496],[71.27622,37.99946],[71.28922,38.01272],[71.29878,38.04429],[71.36444,38.15358],[71.37803,38.25641],[71.33869,38.27335],[71.33114,38.30339],[71.21291,38.32797],[71.1451,38.40106],[71.10957,38.40671],[71.10592,38.42077],[71.09542,38.42517],[71.0556,38.40176],[71.03545,38.44779],[70.98693,38.48862],[70.92728,38.43021],[70.88719,38.46826],[70.84376,38.44688],[70.82538,38.45394],[70.81697,38.44507],[70.80521,38.44447],[70.79766,38.44944],[70.78702,38.45031],[70.78581,38.45502],[70.77132,38.45548],[70.75455,38.4252],[70.72485,38.4131],[70.69807,38.41861],[70.67438,38.40597],[70.6761,38.39144],[70.69189,38.37031],[70.64966,38.34999],[70.61526,38.34774]]]]}},{type:"Feature",properties:{iso1A2:"AG",iso1A3:"ATG",iso1N3:"028",wikidata:"Q781",nameEn:"Antigua and Barbuda",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 268"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.66959,18.6782],[-62.58307,16.68909],[-62.1023,16.97277],[-61.23098,16.62484],[-61.66959,18.6782]]]]}},{type:"Feature",properties:{iso1A2:"AI",iso1A3:"AIA",iso1N3:"660",wikidata:"Q25228",nameEn:"Anguilla",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 264"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.79029,19.11219],[-63.35989,18.06012],[-62.62718,18.26185],[-63.79029,19.11219]]]]}},{type:"Feature",properties:{iso1A2:"AL",iso1A3:"ALB",iso1N3:"008",wikidata:"Q222",nameEn:"Albania",groups:["039","150","UN"],callingCodes:["355"]},geometry:{type:"MultiPolygon",coordinates:[[[[20.07761,42.55582],[20.01834,42.54622],[20.00842,42.5109],[19.9324,42.51699],[19.82333,42.46581],[19.76549,42.50237],[19.74731,42.57422],[19.77375,42.58517],[19.73244,42.66299],[19.65972,42.62774],[19.4836,42.40831],[19.42352,42.36546],[19.42,42.33019],[19.28623,42.17745],[19.40687,42.10024],[19.37548,42.06835],[19.36867,42.02564],[19.37691,41.96977],[19.34601,41.95675],[19.33812,41.90669],[19.37451,41.8842],[19.37597,41.84849],[19.26406,41.74971],[19.0384,40.35325],[19.95905,39.82857],[19.97622,39.78684],[19.92466,39.69533],[19.98042,39.6504],[20.00957,39.69227],[20.05189,39.69112],[20.12956,39.65805],[20.15988,39.652],[20.22376,39.64532],[20.22707,39.67459],[20.27412,39.69884],[20.31961,39.72799],[20.29152,39.80421],[20.30804,39.81563],[20.38572,39.78516],[20.41475,39.81437],[20.41546,39.82832],[20.31135,39.99438],[20.37911,39.99058],[20.42373,40.06777],[20.48487,40.06271],[20.51297,40.08168],[20.55593,40.06524],[20.61081,40.07866],[20.62566,40.0897],[20.67162,40.09433],[20.71789,40.27739],[20.78234,40.35803],[20.7906,40.42726],[20.83688,40.47882],[20.94925,40.46625],[20.96908,40.51526],[21.03932,40.56299],[21.05833,40.66586],[20.98134,40.76046],[20.95752,40.76982],[20.98396,40.79109],[20.97887,40.85475],[20.97693,40.90103],[20.94305,40.92399],[20.83671,40.92752],[20.81567,40.89662],[20.73504,40.9081],[20.71634,40.91781],[20.65558,41.08009],[20.63454,41.0889],[20.59832,41.09066],[20.58546,41.11179],[20.59715,41.13644],[20.51068,41.2323],[20.49432,41.33679],[20.52119,41.34381],[20.55976,41.4087],[20.51301,41.442],[20.49039,41.49277],[20.45331,41.51436],[20.45809,41.5549],[20.52103,41.56473],[20.55508,41.58113],[20.51769,41.65975],[20.52937,41.69292],[20.51301,41.72433],[20.53405,41.78099],[20.57144,41.7897],[20.55976,41.87068],[20.59524,41.8818],[20.57946,41.91593],[20.63069,41.94913],[20.59434,42.03879],[20.55633,42.08173],[20.56955,42.12097],[20.48857,42.25444],[20.3819,42.3029],[20.34479,42.32656],[20.24399,42.32168],[20.21797,42.41237],[20.17127,42.50469],[20.07761,42.55582]]]]}},{type:"Feature",properties:{iso1A2:"AM",iso1A3:"ARM",iso1N3:"051",wikidata:"Q399",nameEn:"Armenia",groups:["145","142","UN"],callingCodes:["374"]},geometry:{type:"MultiPolygon",coordinates:[[[[45.0133,41.29747],[44.93493,41.25685],[44.81437,41.30371],[44.80053,41.25949],[44.81749,41.23488],[44.84358,41.23088],[44.89911,41.21366],[44.87887,41.20195],[44.82084,41.21513],[44.72814,41.20338],[44.61462,41.24018],[44.59322,41.1933],[44.46791,41.18204],[44.34417,41.2382],[44.34337,41.20312],[44.32139,41.2079],[44.18148,41.24644],[44.16591,41.19141],[43.84835,41.16329],[43.74717,41.1117],[43.67712,41.13398],[43.4717,41.12611],[43.44984,41.0988],[43.47319,41.02251],[43.58683,40.98961],[43.67712,40.93084],[43.67712,40.84846],[43.74872,40.7365],[43.7425,40.66805],[43.63664,40.54159],[43.54791,40.47413],[43.60862,40.43267],[43.59928,40.34019],[43.71136,40.16673],[43.65221,40.14889],[43.65688,40.11199],[43.92307,40.01787],[44.1057,40.03555],[44.1778,40.02845],[44.26973,40.04866],[44.46635,39.97733],[44.61845,39.8281],[44.75779,39.7148],[44.88354,39.74432],[44.92869,39.72157],[45.06604,39.79277],[45.18554,39.67846],[45.17464,39.58614],[45.21784,39.58074],[45.23535,39.61373],[45.30385,39.61373],[45.29606,39.57654],[45.46992,39.49888],[45.70547,39.60174],[45.80804,39.56716],[45.83,39.46487],[45.79225,39.3695],[45.99774,39.28931],[46.02303,39.09978],[46.06973,39.0744],[46.14785,38.84206],[46.20601,38.85262],[46.34059,38.92076],[46.53497,38.86548],[46.51805,38.94982],[46.54296,39.07078],[46.44022,39.19636],[46.52584,39.18912],[46.54141,39.15895],[46.58032,39.21204],[46.63481,39.23013],[46.56476,39.24942],[46.50093,39.33736],[46.43244,39.35181],[46.37795,39.42039],[46.4013,39.45405],[46.53051,39.47809],[46.51027,39.52373],[46.57721,39.54414],[46.57098,39.56694],[46.52117,39.58734],[46.42465,39.57534],[46.40286,39.63651],[46.18493,39.60533],[45.96543,39.78859],[45.82533,39.82925],[45.7833,39.9475],[45.60895,39.97733],[45.59806,40.0131],[45.78642,40.03218],[45.83779,39.98925],[45.97944,40.181],[45.95609,40.27846],[45.65098,40.37696],[45.42994,40.53804],[45.45484,40.57707],[45.35366,40.65979],[45.4206,40.7424],[45.55914,40.78366],[45.60584,40.87436],[45.40814,40.97904],[45.44083,41.01663],[45.39725,41.02603],[45.35677,40.99784],[45.28859,41.03757],[45.26162,41.0228],[45.25897,41.0027],[45.1994,41.04518],[45.16493,41.05068],[45.1634,41.08082],[45.1313,41.09369],[45.12923,41.06059],[45.06784,41.05379],[45.08028,41.10917],[45.19942,41.13299],[45.1969,41.168],[45.11811,41.19967],[45.05201,41.19211],[45.02932,41.2101],[45.05497,41.2464],[45.0133,41.29747]],[[45.21324,40.9817],[45.21219,40.99001],[45.20518,40.99348],[45.19312,40.98998],[45.18382,41.0066],[45.20625,41.01484],[45.23487,41.00226],[45.23095,40.97828],[45.21324,40.9817]],[[45.00864,41.03411],[44.9903,41.05657],[44.96031,41.06345],[44.95383,41.07553],[44.97169,41.09176],[45.00864,41.09407],[45.03406,41.07931],[45.04517,41.06653],[45.03792,41.03938],[45.00864,41.03411]]],[[[45.50279,40.58424],[45.56071,40.64765],[45.51825,40.67382],[45.47927,40.65023],[45.50279,40.58424]]]]}},{type:"Feature",properties:{iso1A2:"AO",iso1A3:"AGO",iso1N3:"024",wikidata:"Q916",nameEn:"Angola",groups:["017","202","002","UN"],callingCodes:["244"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.55507,-5.85631],[13.04371,-5.87078],[12.42245,-6.07585],[11.95767,-5.94705],[12.20376,-5.76338],[12.26557,-5.74031],[12.52318,-5.74353],[12.52301,-5.17481],[12.53599,-5.1618],[12.53586,-5.14658],[12.51589,-5.1332],[12.49815,-5.14058],[12.46297,-5.09408],[12.60251,-5.01715],[12.63465,-4.94632],[12.70868,-4.95505],[12.8733,-4.74346],[13.11195,-4.67745],[13.09648,-4.63739],[12.91489,-4.47907],[12.87096,-4.40315],[12.76844,-4.38709],[12.64835,-4.55937],[12.40964,-4.60609],[12.32324,-4.78415],[12.25587,-4.79437],[12.20901,-4.75642],[12.16068,-4.90089],[12.00924,-5.02627],[11.50888,-5.33417],[10.5065,-17.25284],[11.75063,-17.25013],[12.07076,-17.15165],[12.52111,-17.24495],[12.97145,-16.98567],[13.36212,-16.98048],[13.95896,-17.43141],[14.28743,-17.38814],[18.39229,-17.38927],[18.84226,-17.80375],[21.14283,-17.94318],[21.42741,-18.02787],[23.47474,-17.62877],[23.20038,-17.47563],[22.17217,-16.50269],[22.00323,-16.18028],[21.97988,-13.00148],[24.03339,-12.99091],[23.90937,-12.844],[24.06672,-12.29058],[23.98804,-12.13149],[24.02603,-11.15368],[24.00027,-10.89356],[23.86868,-11.02856],[23.45631,-10.946],[23.16602,-11.10577],[22.54205,-11.05784],[22.25951,-11.24911],[22.17954,-10.85884],[22.32604,-10.76291],[22.19039,-9.94628],[21.84856,-9.59871],[21.79824,-7.29628],[20.56263,-7.28566],[20.61689,-6.90876],[20.31846,-6.91953],[20.30218,-6.98955],[19.5469,-7.00195],[19.33698,-7.99743],[18.33635,-8.00126],[17.5828,-8.13784],[16.96282,-7.21787],[16.55507,-5.85631]]]]}},{type:"Feature",properties:{iso1A2:"AQ",iso1A3:"ATA",iso1N3:"010",wikidata:"Q51",nameEn:"Antarctica",level:"region",callingCodes:["672"]},geometry:{type:"MultiPolygon",coordinates:[[[[180,-60],[-180,-60],[-180,-90],[180,-90],[180,-60]]]]}},{type:"Feature",properties:{iso1A2:"AR",iso1A3:"ARG",iso1N3:"032",wikidata:"Q414",nameEn:"Argentina",aliases:["RA"],groups:["005","419","019","UN"],callingCodes:["54"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.31343,-50.58411],[-72.33873,-51.59954],[-71.99889,-51.98018],[-69.97824,-52.00845],[-68.41683,-52.33516],[-68.60702,-52.65781],[-68.60733,-54.9125],[-68.01394,-54.8753],[-67.46182,-54.92205],[-67.11046,-54.94199],[-66.07313,-55.19618],[-63.67376,-55.11859],[-54.78916,-36.21945],[-57.83001,-34.69099],[-58.34425,-34.15035],[-58.44442,-33.84033],[-58.40475,-33.11777],[-58.1224,-32.98842],[-58.22362,-32.52416],[-58.10036,-32.25338],[-58.20252,-31.86966],[-58.00076,-31.65016],[-58.0023,-31.53084],[-58.07569,-31.44916],[-57.98127,-31.3872],[-57.9908,-31.34924],[-57.86729,-31.06352],[-57.89476,-30.95994],[-57.8024,-30.77193],[-57.89115,-30.49572],[-57.64859,-30.35095],[-57.61478,-30.25165],[-57.65132,-30.19229],[-57.09386,-29.74211],[-56.81251,-29.48154],[-56.62789,-29.18073],[-56.57295,-29.11357],[-56.54171,-29.11447],[-56.05265,-28.62651],[-56.00458,-28.60421],[-56.01729,-28.51223],[-55.65418,-28.18304],[-55.6262,-28.17124],[-55.33303,-27.94661],[-55.16872,-27.86224],[-55.1349,-27.89759],[-54.90805,-27.73149],[-54.90159,-27.63132],[-54.67657,-27.57214],[-54.50416,-27.48232],[-54.41888,-27.40882],[-54.19268,-27.30751],[-54.19062,-27.27639],[-54.15978,-27.2889],[-53.80144,-27.09844],[-53.73372,-26.6131],[-53.68269,-26.33359],[-53.64505,-26.28089],[-53.64186,-26.25976],[-53.64632,-26.24798],[-53.63881,-26.25075],[-53.63739,-26.2496],[-53.65237,-26.23289],[-53.65018,-26.19501],[-53.73968,-26.10012],[-53.73391,-26.07006],[-53.7264,-26.0664],[-53.73086,-26.05842],[-53.73511,-26.04211],[-53.83691,-25.94849],[-53.90831,-25.55513],[-54.52926,-25.62846],[-54.5502,-25.58915],[-54.59398,-25.59224],[-54.62063,-25.91213],[-54.60664,-25.9691],[-54.67359,-25.98607],[-54.69333,-26.37705],[-54.70732,-26.45099],[-54.80868,-26.55669],[-55.00584,-26.78754],[-55.06351,-26.80195],[-55.16948,-26.96068],[-55.25243,-26.93808],[-55.39611,-26.97679],[-55.62322,-27.1941],[-55.59094,-27.32444],[-55.74475,-27.44485],[-55.89195,-27.3467],[-56.18313,-27.29851],[-56.85337,-27.5165],[-58.04205,-27.2387],[-58.59549,-27.29973],[-58.65321,-27.14028],[-58.3198,-26.83443],[-58.1188,-26.16704],[-57.87176,-25.93604],[-57.57431,-25.47269],[-57.80821,-25.13863],[-58.25492,-24.92528],[-58.33055,-24.97099],[-59.33886,-24.49935],[-59.45482,-24.34787],[-60.03367,-24.00701],[-60.28163,-24.04436],[-60.99754,-23.80934],[-61.0782,-23.62932],[-61.9756,-23.0507],[-62.22768,-22.55807],[-62.51761,-22.37684],[-62.64455,-22.25091],[-62.8078,-22.12534],[-62.81124,-21.9987],[-63.66482,-21.99918],[-63.68113,-22.0544],[-63.70963,-21.99934],[-63.93287,-21.99934],[-64.22918,-22.55807],[-64.31489,-22.88824],[-64.35108,-22.73282],[-64.4176,-22.67692],[-64.58888,-22.25035],[-64.67174,-22.18957],[-64.90014,-22.12136],[-64.99524,-22.08255],[-65.47435,-22.08908],[-65.57743,-22.07675],[-65.58694,-22.09794],[-65.61166,-22.09504],[-65.7467,-22.10105],[-65.9261,-21.93335],[-66.04832,-21.9187],[-66.03836,-21.84829],[-66.24077,-21.77837],[-66.29714,-22.08741],[-66.7298,-22.23644],[-67.18382,-22.81525],[-66.99632,-22.99839],[-67.33563,-24.04237],[-68.24825,-24.42596],[-68.56909,-24.69831],[-68.38372,-25.08636],[-68.57622,-25.32505],[-68.38372,-26.15353],[-68.56909,-26.28146],[-68.59048,-26.49861],[-68.27677,-26.90626],[-68.43363,-27.08414],[-68.77586,-27.16029],[-69.22504,-27.95042],[-69.66709,-28.44055],[-69.80969,-29.07185],[-69.99507,-29.28351],[-69.8596,-30.26131],[-70.14479,-30.36595],[-70.55832,-31.51559],[-69.88099,-33.34489],[-69.87386,-34.13344],[-70.49416,-35.24145],[-70.38008,-36.02375],[-70.95047,-36.4321],[-71.24279,-37.20264],[-70.89532,-38.6923],[-71.37826,-38.91474],[-71.92726,-40.72714],[-71.74901,-42.11711],[-72.15541,-42.15941],[-72.14828,-42.85321],[-71.64206,-43.64774],[-71.81318,-44.38097],[-71.16436,-44.46244],[-71.26418,-44.75684],[-72.06985,-44.81756],[-71.35687,-45.22075],[-71.75614,-45.61611],[-71.68577,-46.55385],[-71.94152,-47.13595],[-72.50478,-47.80586],[-72.27662,-48.28727],[-72.54042,-48.52392],[-72.56894,-48.81116],[-73.09655,-49.14342],[-73.45156,-49.79461],[-73.55259,-49.92488],[-73.15765,-50.78337],[-72.31343,-50.58411]]]]}},{type:"Feature",properties:{iso1A2:"AS",iso1A3:"ASM",iso1N3:"016",wikidata:"Q16641",nameEn:"American Samoa",aliases:["US-AS"],country:"US",groups:["Q1352230","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 684"]},geometry:{type:"MultiPolygon",coordinates:[[[[-171.39864,-10.21587],[-170.99605,-15.1275],[-166.32598,-15.26169],[-171.39864,-10.21587]]]]}},{type:"Feature",properties:{iso1A2:"AT",iso1A3:"AUT",iso1N3:"040",wikidata:"Q40",nameEn:"Austria",groups:["EU","155","150","UN"],callingCodes:["43"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.34823,48.98444],[15.28305,48.98831],[15.26177,48.95766],[15.16358,48.94278],[15.15534,48.99056],[14.99878,49.01444],[14.97612,48.96983],[14.98917,48.90082],[14.95072,48.79101],[14.98032,48.77959],[14.9782,48.7766],[14.98112,48.77524],[14.9758,48.76857],[14.95641,48.75915],[14.94773,48.76268],[14.81545,48.7874],[14.80821,48.77711],[14.80584,48.73489],[14.72756,48.69502],[14.71794,48.59794],[14.66762,48.58215],[14.60808,48.62881],[14.56139,48.60429],[14.4587,48.64695],[14.43076,48.58855],[14.33909,48.55852],[14.20691,48.5898],[14.09104,48.5943],[14.01482,48.63788],[14.06151,48.66873],[13.84023,48.76988],[13.82266,48.75544],[13.81863,48.73257],[13.79337,48.71375],[13.81791,48.69832],[13.81283,48.68426],[13.81901,48.6761],[13.82609,48.62345],[13.82208,48.6151],[13.80038,48.59487],[13.80519,48.58026],[13.76921,48.55324],[13.7513,48.5624],[13.74816,48.53058],[13.72802,48.51208],[13.66113,48.53558],[13.65186,48.55092],[13.62508,48.55501],[13.59705,48.57013],[13.57535,48.55912],[13.51291,48.59023],[13.50131,48.58091],[13.50663,48.57506],[13.46967,48.55157],[13.45214,48.56472],[13.43695,48.55776],[13.45727,48.51092],[13.42527,48.45711],[13.43929,48.43386],[13.40656,48.3719],[13.31419,48.31643],[13.26039,48.29422],[13.18093,48.29577],[13.126,48.27867],[13.0851,48.27711],[13.02083,48.25689],[12.95306,48.20629],[12.87126,48.20318],[12.84475,48.16556],[12.836,48.1647],[12.8362,48.15876],[12.82673,48.15245],[12.80676,48.14979],[12.78595,48.12445],[12.7617,48.12796],[12.74973,48.10885],[12.76141,48.07373],[12.8549,48.01122],[12.87476,47.96195],[12.91683,47.95647],[12.9211,47.95135],[12.91985,47.94069],[12.92668,47.93879],[12.93419,47.94063],[12.93642,47.94436],[12.93886,47.94046],[12.94163,47.92927],[13.00588,47.84374],[12.98543,47.82896],[12.96311,47.79957],[12.93202,47.77302],[12.94371,47.76281],[12.9353,47.74788],[12.91711,47.74026],[12.90274,47.72513],[12.91333,47.7178],[12.92969,47.71094],[12.98578,47.7078],[13.01382,47.72116],[13.07692,47.68814],[13.09562,47.63304],[13.06407,47.60075],[13.06641,47.58577],[13.04537,47.58183],[13.05355,47.56291],[13.03252,47.53373],[13.04537,47.49426],[12.9998,47.46267],[12.98344,47.48716],[12.9624,47.47452],[12.85256,47.52741],[12.84672,47.54556],[12.80699,47.54477],[12.77427,47.58025],[12.82101,47.61493],[12.76492,47.64485],[12.77435,47.66102],[12.7357,47.6787],[12.6071,47.6741],[12.57438,47.63238],[12.53816,47.63553],[12.50076,47.62293],[12.44117,47.6741],[12.44018,47.6952],[12.40137,47.69215],[12.37222,47.68433],[12.336,47.69534],[12.27991,47.68827],[12.26004,47.67725],[12.24017,47.69534],[12.26238,47.73544],[12.2542,47.7433],[12.22571,47.71776],[12.18303,47.70065],[12.16217,47.70105],[12.16769,47.68167],[12.18347,47.66663],[12.18507,47.65984],[12.19895,47.64085],[12.20801,47.61082],[12.20398,47.60667],[12.18568,47.6049],[12.17737,47.60121],[12.18145,47.61019],[12.17824,47.61506],[12.13734,47.60639],[12.05788,47.61742],[12.02282,47.61033],[12.0088,47.62451],[11.85572,47.60166],[11.84052,47.58354],[11.63934,47.59202],[11.60681,47.57881],[11.58811,47.55515],[11.58578,47.52281],[11.52618,47.50939],[11.4362,47.51413],[11.38128,47.47465],[11.4175,47.44621],[11.33804,47.44937],[11.29597,47.42566],[11.27844,47.39956],[11.22002,47.3964],[11.25157,47.43277],[11.20482,47.43198],[11.12536,47.41222],[11.11835,47.39719],[10.97111,47.39561],[10.97111,47.41617],[10.98513,47.42882],[10.92437,47.46991],[10.93839,47.48018],[10.90918,47.48571],[10.87061,47.4786],[10.86945,47.5015],[10.91268,47.51334],[10.88814,47.53701],[10.77596,47.51729],[10.7596,47.53228],[10.6965,47.54253],[10.68832,47.55752],[10.63456,47.5591],[10.60337,47.56755],[10.56912,47.53584],[10.48849,47.54057],[10.45444,47.5558],[10.48202,47.58434],[10.43892,47.58408],[10.42973,47.57752],[10.45145,47.55472],[10.4324,47.50111],[10.44291,47.48453],[10.46278,47.47901],[10.47446,47.43318],[10.4359,47.41183],[10.4324,47.38494],[10.39851,47.37623],[10.33424,47.30813],[10.23257,47.27088],[10.17531,47.27167],[10.17648,47.29149],[10.2147,47.31014],[10.19998,47.32832],[10.23757,47.37609],[10.22774,47.38904],[10.2127,47.38019],[10.17648,47.38889],[10.16362,47.36674],[10.11805,47.37228],[10.09819,47.35724],[10.06897,47.40709],[10.1052,47.4316],[10.09001,47.46005],[10.07131,47.45531],[10.03859,47.48927],[10.00003,47.48216],[9.97837,47.51314],[9.97173,47.51551],[9.96229,47.53612],[9.92407,47.53111],[9.87733,47.54688],[9.87499,47.52953],[9.8189,47.54688],[9.82591,47.58158],[9.80254,47.59419],[9.77612,47.59359],[9.75798,47.57982],[9.73528,47.54527],[9.73683,47.53564],[9.72564,47.53282],[9.55125,47.53629],[9.56312,47.49495],[9.58208,47.48344],[9.59482,47.46305],[9.60205,47.46165],[9.60484,47.46358],[9.60841,47.47178],[9.62158,47.45858],[9.62475,47.45685],[9.6423,47.45599],[9.65728,47.45383],[9.65863,47.44847],[9.64483,47.43842],[9.6446,47.43233],[9.65043,47.41937],[9.65136,47.40504],[9.6629,47.39591],[9.67334,47.39191],[9.67445,47.38429],[9.6711,47.37824],[9.66243,47.37136],[9.65427,47.36824],[9.62476,47.36639],[9.59978,47.34671],[9.58513,47.31334],[9.55857,47.29919],[9.54773,47.2809],[9.53116,47.27029],[9.56766,47.24281],[9.55176,47.22585],[9.56981,47.21926],[9.58264,47.20673],[9.56539,47.17124],[9.62623,47.14685],[9.63395,47.08443],[9.61216,47.07732],[9.60717,47.06091],[9.87935,47.01337],[9.88266,46.93343],[9.98058,46.91434],[10.10715,46.84296],[10.22675,46.86942],[10.24128,46.93147],[10.30031,46.92093],[10.36933,47.00212],[10.42715,46.97495],[10.42211,46.96019],[10.48376,46.93891],[10.47197,46.85698],[10.54783,46.84505],[10.66405,46.87614],[10.75753,46.82258],[10.72974,46.78972],[11.00764,46.76896],[11.10618,46.92966],[11.33355,46.99862],[11.50739,47.00644],[11.74789,46.98484],[12.19254,47.09331],[12.21781,47.03996],[12.11675,47.01241],[12.2006,46.88854],[12.27591,46.88651],[12.38708,46.71529],[12.59992,46.6595],[12.94445,46.60401],[13.27627,46.56059],[13.64088,46.53438],[13.7148,46.5222],[13.89837,46.52331],[14.00422,46.48474],[14.04002,46.49117],[14.12097,46.47724],[14.15989,46.43327],[14.28326,46.44315],[14.314,46.43327],[14.42608,46.44614],[14.45877,46.41717],[14.52176,46.42617],[14.56463,46.37208],[14.5942,46.43434],[14.66892,46.44936],[14.72185,46.49974],[14.81836,46.51046],[14.83549,46.56614],[14.86419,46.59411],[14.87129,46.61],[14.92283,46.60848],[14.96002,46.63459],[14.98024,46.6009],[15.01451,46.641],[15.14215,46.66131],[15.23711,46.63994],[15.41235,46.65556],[15.45514,46.63697],[15.46906,46.61321],[15.54431,46.6312],[15.55333,46.64988],[15.54533,46.66985],[15.59826,46.68908],[15.62317,46.67947],[15.63255,46.68069],[15.6365,46.6894],[15.6543,46.69228],[15.6543,46.70616],[15.67411,46.70735],[15.69523,46.69823],[15.72279,46.69548],[15.73823,46.70011],[15.76771,46.69863],[15.78518,46.70712],[15.8162,46.71897],[15.87691,46.7211],[15.94864,46.68769],[15.98512,46.68463],[15.99988,46.67947],[16.04036,46.6549],[16.04347,46.68694],[16.02808,46.71094],[15.99769,46.7266],[15.98432,46.74991],[15.99126,46.78199],[15.99054,46.82772],[16.05786,46.83927],[16.10983,46.867],[16.19904,46.94134],[16.22403,46.939],[16.27594,46.9643],[16.28202,47.00159],[16.51369,47.00084],[16.43936,47.03548],[16.52176,47.05747],[16.46134,47.09395],[16.52863,47.13974],[16.44932,47.14418],[16.46442,47.16845],[16.4523,47.18812],[16.42801,47.18422],[16.41739,47.20649],[16.43663,47.21127],[16.44142,47.25079],[16.47782,47.25918],[16.45104,47.41181],[16.49908,47.39416],[16.52414,47.41007],[16.57152,47.40868],[16.66203,47.45571],[16.67049,47.47426],[16.64821,47.50155],[16.71059,47.52692],[16.64193,47.63114],[16.58699,47.61772],[16.51643,47.64538],[16.41442,47.65936],[16.55129,47.72268],[16.53514,47.73837],[16.54779,47.75074],[16.61183,47.76171],[16.65679,47.74197],[16.72089,47.73469],[16.7511,47.67878],[16.82938,47.68432],[16.86509,47.72268],[16.87538,47.68895],[17.08893,47.70928],[17.05048,47.79377],[17.07039,47.81129],[17.00995,47.85836],[17.01645,47.8678],[17.08275,47.87719],[17.11269,47.92736],[17.09786,47.97336],[17.16001,48.00636],[17.07039,48.0317],[17.09168,48.09366],[17.05735,48.14179],[17.02919,48.13996],[16.97701,48.17385],[16.89461,48.31332],[16.90903,48.32519],[16.84243,48.35258],[16.83317,48.38138],[16.83588,48.3844],[16.8497,48.38321],[16.85204,48.44968],[16.94611,48.53614],[16.93955,48.60371],[16.90354,48.71541],[16.79779,48.70998],[16.71883,48.73806],[16.68518,48.7281],[16.67008,48.77699],[16.46134,48.80865],[16.40915,48.74576],[16.37345,48.729],[16.06034,48.75436],[15.84404,48.86921],[15.78087,48.87644],[15.75341,48.8516],[15.6921,48.85973],[15.61622,48.89541],[15.51357,48.91549],[15.48027,48.94481],[15.34823,48.98444]]]]}},{type:"Feature",properties:{iso1A2:"AU",iso1A3:"AUS",iso1N3:"036",wikidata:"Q408",nameEn:"Australia"},geometry:null},{type:"Feature",properties:{iso1A2:"AW",iso1A3:"ABW",iso1N3:"533",wikidata:"Q21203",nameEn:"Aruba",aliases:["NL-AW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["297"]},geometry:{type:"MultiPolygon",coordinates:[[[[-70.00823,12.98375],[-70.35625,12.58277],[-69.60231,12.17],[-70.00823,12.98375]]]]}},{type:"Feature",properties:{iso1A2:"AX",iso1A3:"ALA",iso1N3:"248",wikidata:"Q5689",nameEn:"land Islands",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358 18","358 457"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.08191,60.19152],[20.5104,59.15546],[21.35468,59.67511],[21.02509,60.12142],[21.08159,60.20167],[21.15143,60.54555],[20.96741,60.71528],[19.23413,60.61414],[19.08191,60.19152]]]]}},{type:"Feature",properties:{iso1A2:"AZ",iso1A3:"AZE",iso1N3:"031",wikidata:"Q227",nameEn:"Azerbaijan",groups:["145","142","UN"],callingCodes:["994"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[46.3984,41.84399],[46.30863,41.79133],[46.23962,41.75811],[46.20538,41.77205],[46.17891,41.72094],[46.19759,41.62327],[46.24429,41.59883],[46.26531,41.63339],[46.28182,41.60089],[46.3253,41.60912],[46.34039,41.5947],[46.34126,41.57454],[46.29794,41.5724],[46.33925,41.4963],[46.40307,41.48464],[46.4669,41.43331],[46.63658,41.37727],[46.72375,41.28609],[46.66148,41.20533],[46.63969,41.09515],[46.55096,41.1104],[46.48558,41.0576],[46.456,41.09984],[46.37661,41.10805],[46.27698,41.19011],[46.13221,41.19479],[45.95786,41.17956],[45.80842,41.2229],[45.69946,41.29545],[45.75705,41.35157],[45.71035,41.36208],[45.68389,41.3539],[45.45973,41.45898],[45.4006,41.42402],[45.31352,41.47168],[45.26285,41.46433],[45.1797,41.42231],[45.09867,41.34065],[45.0133,41.29747],[45.05497,41.2464],[45.02932,41.2101],[45.05201,41.19211],[45.11811,41.19967],[45.1969,41.168],[45.19942,41.13299],[45.08028,41.10917],[45.06784,41.05379],[45.12923,41.06059],[45.1313,41.09369],[45.1634,41.08082],[45.16493,41.05068],[45.1994,41.04518],[45.25897,41.0027],[45.26162,41.0228],[45.28859,41.03757],[45.35677,40.99784],[45.39725,41.02603],[45.44083,41.01663],[45.40814,40.97904],[45.60584,40.87436],[45.55914,40.78366],[45.4206,40.7424],[45.35366,40.65979],[45.45484,40.57707],[45.42994,40.53804],[45.65098,40.37696],[45.95609,40.27846],[45.97944,40.181],[45.83779,39.98925],[45.78642,40.03218],[45.59806,40.0131],[45.60895,39.97733],[45.7833,39.9475],[45.82533,39.82925],[45.96543,39.78859],[46.18493,39.60533],[46.40286,39.63651],[46.42465,39.57534],[46.52117,39.58734],[46.57098,39.56694],[46.57721,39.54414],[46.51027,39.52373],[46.53051,39.47809],[46.4013,39.45405],[46.37795,39.42039],[46.43244,39.35181],[46.50093,39.33736],[46.56476,39.24942],[46.63481,39.23013],[46.58032,39.21204],[46.54141,39.15895],[46.52584,39.18912],[46.44022,39.19636],[46.54296,39.07078],[46.51805,38.94982],[46.53497,38.86548],[46.75752,39.03231],[46.83822,39.13143],[46.92539,39.16644],[46.95341,39.13505],[47.05771,39.20143],[47.05927,39.24846],[47.31301,39.37492],[47.38978,39.45999],[47.50099,39.49615],[47.84774,39.66285],[47.98977,39.70999],[48.34264,39.42935],[48.37385,39.37584],[48.15984,39.30028],[48.12404,39.25208],[48.15361,39.19419],[48.31239,39.09278],[48.33884,39.03022],[48.28437,38.97186],[48.08627,38.94434],[48.07734,38.91616],[48.01409,38.90333],[48.02581,38.82705],[48.24773,38.71883],[48.3146,38.59958],[48.45084,38.61013],[48.58793,38.45076],[48.62217,38.40198],[48.70001,38.40564],[48.78979,38.45026],[48.81072,38.44853],[48.84969,38.45015],[48.88288,38.43975],[52.39847,39.43556],[48.80971,41.95365],[48.5867,41.84306],[48.55078,41.77917],[48.42301,41.65444],[48.40277,41.60441],[48.2878,41.56221],[48.22064,41.51472],[48.07587,41.49957],[47.87973,41.21798],[47.75831,41.19455],[47.62288,41.22969],[47.54504,41.20275],[47.49004,41.26366],[47.34579,41.27884],[47.10762,41.59044],[47.03757,41.55434],[46.99554,41.59743],[47.00955,41.63583],[46.8134,41.76252],[46.75269,41.8623],[46.58924,41.80547],[46.5332,41.87389],[46.42738,41.91323]],[[45.50279,40.58424],[45.47927,40.65023],[45.51825,40.67382],[45.56071,40.64765],[45.50279,40.58424]]],[[[45.00864,41.03411],[45.03792,41.03938],[45.04517,41.06653],[45.03406,41.07931],[45.00864,41.09407],[44.97169,41.09176],[44.95383,41.07553],[44.96031,41.06345],[44.9903,41.05657],[45.00864,41.03411]]],[[[45.21324,40.9817],[45.23095,40.97828],[45.23487,41.00226],[45.20625,41.01484],[45.18382,41.0066],[45.19312,40.98998],[45.20518,40.99348],[45.21219,40.99001],[45.21324,40.9817]]],[[[45.46992,39.49888],[45.29606,39.57654],[45.30385,39.61373],[45.23535,39.61373],[45.21784,39.58074],[45.17464,39.58614],[45.18554,39.67846],[45.06604,39.79277],[44.92869,39.72157],[44.88354,39.74432],[44.75779,39.7148],[44.80977,39.65768],[44.81043,39.62677],[44.88916,39.59653],[44.96746,39.42998],[45.05932,39.36435],[45.08751,39.35052],[45.16168,39.21952],[45.30489,39.18333],[45.40148,39.09007],[45.40452,39.07224],[45.44811,39.04927],[45.44966,38.99243],[45.6131,38.964],[45.6155,38.94304],[45.65172,38.95199],[45.83883,38.90768],[45.90266,38.87739],[45.94624,38.89072],[46.00228,38.87376],[46.06766,38.87861],[46.14785,38.84206],[46.06973,39.0744],[46.02303,39.09978],[45.99774,39.28931],[45.79225,39.3695],[45.83,39.46487],[45.80804,39.56716],[45.70547,39.60174],[45.46992,39.49888]]]]}},{type:"Feature",properties:{iso1A2:"BA",iso1A3:"BIH",iso1N3:"070",wikidata:"Q225",nameEn:"Bosnia and Herzegovina",groups:["039","150","UN"],callingCodes:["387"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.84826,45.04489],[17.66571,45.13408],[17.59104,45.10816],[17.51469,45.10791],[17.47589,45.12656],[17.45615,45.12523],[17.4498,45.16119],[17.41229,45.13335],[17.33573,45.14521],[17.32092,45.16246],[17.26815,45.18444],[17.25131,45.14957],[17.24325,45.146],[17.18438,45.14764],[17.0415,45.20759],[16.9385,45.22742],[16.92405,45.27607],[16.83804,45.18951],[16.81137,45.18434],[16.78219,45.19002],[16.74845,45.20393],[16.64962,45.20714],[16.60194,45.23042],[16.56559,45.22307],[16.5501,45.2212],[16.52982,45.22713],[16.49155,45.21153],[16.4634,45.14522],[16.40023,45.1147],[16.38309,45.05955],[16.38219,45.05139],[16.3749,45.05206],[16.35863,45.03529],[16.35404,45.00241],[16.29036,44.99732],[16.12153,45.09616],[15.98412,45.23088],[15.83512,45.22459],[15.76371,45.16508],[15.78842,45.11519],[15.74585,45.0638],[15.78568,44.97401],[15.74723,44.96818],[15.76096,44.87045],[15.79472,44.8455],[15.72584,44.82334],[15.8255,44.71501],[15.89348,44.74964],[16.05828,44.61538],[16.00884,44.58605],[16.03012,44.55572],[16.10566,44.52586],[16.16814,44.40679],[16.12969,44.38275],[16.21346,44.35231],[16.18688,44.27012],[16.36864,44.08263],[16.43662,44.07523],[16.43629,44.02826],[16.50528,44.0244],[16.55472,43.95326],[16.70922,43.84887],[16.75316,43.77157],[16.80736,43.76011],[17.00585,43.58037],[17.15828,43.49376],[17.24411,43.49376],[17.29699,43.44542],[17.25579,43.40353],[17.286,43.33065],[17.46986,43.16559],[17.64268,43.08595],[17.70879,42.97223],[17.5392,42.92787],[17.6444,42.88641],[17.68151,42.92725],[17.7948,42.89556],[17.80854,42.9182],[17.88201,42.83668],[18.24318,42.6112],[18.36197,42.61423],[18.43735,42.55921],[18.49778,42.58409],[18.53751,42.57376],[18.55504,42.58409],[18.52232,42.62279],[18.57373,42.64429],[18.54841,42.68328],[18.54603,42.69171],[18.55221,42.69045],[18.56789,42.72074],[18.47324,42.74992],[18.45921,42.81682],[18.47633,42.85829],[18.4935,42.86433],[18.49661,42.89306],[18.49076,42.95553],[18.52232,43.01451],[18.66254,43.03928],[18.64735,43.14766],[18.66605,43.2056],[18.71747,43.2286],[18.6976,43.25243],[18.76538,43.29838],[18.85342,43.32426],[18.84794,43.33735],[18.83912,43.34795],[18.90911,43.36383],[18.95819,43.32899],[18.95001,43.29327],[19.00844,43.24988],[19.04233,43.30008],[19.08206,43.29668],[19.08673,43.31453],[19.04071,43.397],[19.01078,43.43854],[18.96053,43.45042],[18.95469,43.49367],[18.91379,43.50299],[19.01078,43.55806],[19.04934,43.50384],[19.13933,43.5282],[19.15685,43.53943],[19.22807,43.5264],[19.24774,43.53061],[19.2553,43.5938],[19.33426,43.58833],[19.36653,43.60921],[19.41941,43.54056],[19.42696,43.57987],[19.50455,43.58385],[19.5176,43.71403],[19.3986,43.79668],[19.23465,43.98764],[19.24363,44.01502],[19.38439,43.96611],[19.52515,43.95573],[19.56498,43.99922],[19.61836,44.01464],[19.61991,44.05254],[19.57467,44.04716],[19.55999,44.06894],[19.51167,44.08158],[19.47321,44.1193],[19.48386,44.14332],[19.47338,44.15034],[19.43905,44.13088],[19.40927,44.16722],[19.3588,44.18353],[19.34773,44.23244],[19.32464,44.27185],[19.26945,44.26957],[19.23306,44.26097],[19.20508,44.2917],[19.18328,44.28383],[19.16741,44.28648],[19.13332,44.31492],[19.13556,44.338],[19.11547,44.34218],[19.1083,44.3558],[19.11865,44.36712],[19.10298,44.36924],[19.10365,44.37795],[19.10704,44.38249],[19.10749,44.39421],[19.11785,44.40313],[19.14681,44.41463],[19.14837,44.45253],[19.12278,44.50132],[19.13369,44.52521],[19.16699,44.52197],[19.26388,44.65412],[19.32543,44.74058],[19.36722,44.88164],[19.18183,44.92055],[19.01994,44.85493],[18.8704,44.85097],[18.76347,44.90669],[18.76369,44.93707],[18.80661,44.93561],[18.78357,44.97741],[18.65723,45.07544],[18.47939,45.05871],[18.41896,45.11083],[18.32077,45.1021],[18.24387,45.13699],[18.1624,45.07654],[18.03121,45.12632],[18.01594,45.15163],[17.99479,45.14958],[17.97834,45.13831],[17.97336,45.12245],[17.93706,45.08016],[17.87148,45.04645],[17.84826,45.04489]]]]}},{type:"Feature",properties:{iso1A2:"BB",iso1A3:"BRB",iso1N3:"052",wikidata:"Q244",nameEn:"Barbados",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 246"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.56442,13.24471],[-59.80731,13.87556],[-59.82929,12.70644],[-58.56442,13.24471]]]]}},{type:"Feature",properties:{iso1A2:"BD",iso1A3:"BGD",iso1N3:"050",wikidata:"Q902",nameEn:"Bangladesh",groups:["034","142","UN"],driveSide:"left",callingCodes:["880"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.15869,26.13708],[89.08899,26.38845],[88.95612,26.4564],[88.92357,26.40711],[88.91321,26.37984],[89.05328,26.2469],[88.85004,26.23211],[88.78961,26.31093],[88.67837,26.26291],[88.69485,26.38353],[88.62144,26.46783],[88.4298,26.54489],[88.41196,26.63837],[88.33093,26.48929],[88.35153,26.45241],[88.36938,26.48683],[88.48749,26.45855],[88.51649,26.35923],[88.35153,26.29123],[88.34757,26.22216],[88.1844,26.14417],[88.16581,26.0238],[88.08804,25.91334],[88.13138,25.78773],[88.242,25.80811],[88.45103,25.66245],[88.4559,25.59227],[88.677,25.46959],[88.81296,25.51546],[88.85278,25.34679],[89.01105,25.30303],[89.00463,25.26583],[88.94067,25.18534],[88.44766,25.20149],[88.46277,25.07468],[88.33917,24.86803],[88.27325,24.88796],[88.21832,24.96642],[88.14004,24.93529],[88.15515,24.85806],[88.00683,24.66477],[88.08786,24.63232],[88.12296,24.51301],[88.50934,24.32474],[88.68801,24.31464],[88.74841,24.1959],[88.6976,24.14703],[88.73743,23.91751],[88.66189,23.87607],[88.58087,23.87105],[88.56507,23.64044],[88.74841,23.47361],[88.79351,23.50535],[88.79254,23.46028],[88.71133,23.2492],[88.99148,23.21134],[88.86377,23.08759],[88.88327,23.03885],[88.87063,22.95235],[88.96713,22.83346],[88.9151,22.75228],[88.94614,22.66941],[88.9367,22.58527],[89.07114,22.15335],[89.08044,21.41871],[92.47409,20.38654],[92.26071,21.05697],[92.17752,21.17445],[92.20087,21.337],[92.37939,21.47764],[92.43158,21.37025],[92.55105,21.3856],[92.60187,21.24615],[92.68152,21.28454],[92.59775,21.6092],[92.62187,21.87037],[92.60949,21.97638],[92.56616,22.13554],[92.60029,22.1522],[92.5181,22.71441],[92.37665,22.9435],[92.38214,23.28705],[92.26541,23.70392],[92.15417,23.73409],[92.04706,23.64229],[91.95093,23.73284],[91.95642,23.47361],[91.84789,23.42235],[91.76417,23.26619],[91.81634,23.08001],[91.7324,23.00043],[91.61571,22.93929],[91.54993,23.01051],[91.46615,23.2328],[91.4035,23.27522],[91.40848,23.07117],[91.36453,23.06612],[91.28293,23.37538],[91.15579,23.6599],[91.25192,23.83463],[91.22308,23.89616],[91.29587,24.0041],[91.35741,23.99072],[91.37414,24.10693],[91.55542,24.08687],[91.63782,24.1132],[91.65292,24.22095],[91.73257,24.14703],[91.76004,24.23848],[91.82596,24.22345],[91.89258,24.14674],[91.96603,24.3799],[92.11662,24.38997],[92.15796,24.54435],[92.25854,24.9191],[92.38626,24.86055],[92.49887,24.88796],[92.39147,25.01471],[92.33957,25.07593],[92.0316,25.1834],[91.63648,25.12846],[91.25517,25.20677],[90.87427,25.15799],[90.65042,25.17788],[90.40034,25.1534],[90.1155,25.22686],[89.90478,25.31038],[89.87629,25.28337],[89.83371,25.29548],[89.84086,25.31854],[89.81208,25.37244],[89.86129,25.61714],[89.84388,25.70042],[89.80585,25.82489],[89.86592,25.93115],[89.77728,26.04254],[89.77865,26.08387],[89.73581,26.15818],[89.70201,26.15138],[89.63968,26.22595],[89.57101,25.9682],[89.53515,26.00382],[89.35953,26.0077],[89.15869,26.13708]]]]}},{type:"Feature",properties:{iso1A2:"BE",iso1A3:"BEL",iso1N3:"056",wikidata:"Q31",nameEn:"Belgium",groups:["EU","155","150","UN"],callingCodes:["32"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.93295,51.44945],[4.93909,51.44632],[4.9524,51.45014],[4.95244,51.45207],[4.93295,51.44945]]],[[[4.91493,51.4353],[4.92652,51.43329],[4.92952,51.42984],[4.93986,51.43064],[4.94265,51.44003],[4.93471,51.43861],[4.93416,51.44185],[4.94025,51.44193],[4.93544,51.44634],[4.92879,51.44161],[4.92815,51.43856],[4.92566,51.44273],[4.92811,51.4437],[4.92287,51.44741],[4.91811,51.44621],[4.92227,51.44252],[4.91935,51.43634],[4.91493,51.4353]]],[[[4.82946,51.4213],[4.82409,51.44736],[4.84139,51.4799],[4.78803,51.50284],[4.77321,51.50529],[4.74578,51.48937],[4.72935,51.48424],[4.65442,51.42352],[4.57489,51.4324],[4.53521,51.4243],[4.52846,51.45002],[4.54675,51.47265],[4.5388,51.48184],[4.47736,51.4778],[4.38122,51.44905],[4.39747,51.43316],[4.38064,51.41965],[4.43777,51.36989],[4.39292,51.35547],[4.34086,51.35738],[4.33265,51.37687],[4.21923,51.37443],[4.24024,51.35371],[4.16721,51.29348],[4.05165,51.24171],[4.01957,51.24504],[3.97889,51.22537],[3.90125,51.20371],[3.78783,51.2151],[3.78999,51.25766],[3.58939,51.30064],[3.51502,51.28697],[3.52698,51.2458],[3.43488,51.24135],[3.41704,51.25933],[3.38289,51.27331],[3.35847,51.31572],[3.38696,51.33436],[3.36263,51.37112],[2.56575,51.85301],[2.18458,51.52087],[2.55904,51.07014],[2.57551,51.00326],[2.63074,50.94746],[2.59093,50.91751],[2.63331,50.81457],[2.71165,50.81295],[2.81056,50.71773],[2.8483,50.72276],[2.86985,50.7033],[2.87937,50.70298],[2.88504,50.70656],[2.90069,50.69263],[2.91036,50.6939],[2.90873,50.702],[2.95019,50.75138],[2.96778,50.75242],[3.00537,50.76588],[3.04314,50.77674],[3.09163,50.77717],[3.10614,50.78303],[3.11206,50.79416],[3.11987,50.79188],[3.1257,50.78603],[3.15017,50.79031],[3.16476,50.76843],[3.18339,50.74981],[3.18811,50.74025],[3.20064,50.73547],[3.19017,50.72569],[3.20845,50.71662],[3.22042,50.71019],[3.24593,50.71389],[3.26063,50.70086],[3.26141,50.69151],[3.2536,50.68977],[3.264,50.67668],[3.23951,50.6585],[3.2729,50.60718],[3.28575,50.52724],[3.37693,50.49538],[3.44629,50.51009],[3.47385,50.53397],[3.51564,50.5256],[3.49509,50.48885],[3.5683,50.50192],[3.58361,50.49049],[3.61014,50.49568],[3.64426,50.46275],[3.66153,50.45165],[3.67494,50.40239],[3.67262,50.38663],[3.65709,50.36873],[3.66976,50.34563],[3.71009,50.30305],[3.70987,50.3191],[3.73911,50.34809],[3.84314,50.35219],[3.90781,50.32814],[3.96771,50.34989],[4.0268,50.35793],[4.0689,50.3254],[4.10237,50.31247],[4.10957,50.30234],[4.11954,50.30425],[4.13665,50.25609],[4.16808,50.25786],[4.15524,50.2833],[4.17347,50.28838],[4.17861,50.27443],[4.20651,50.27333],[4.21945,50.25539],[4.15524,50.21103],[4.16014,50.19239],[4.13561,50.13078],[4.20147,50.13535],[4.23101,50.06945],[4.16294,50.04719],[4.13508,50.01976],[4.14239,49.98034],[4.20532,49.95803],[4.31963,49.97043],[4.35051,49.95315],[4.43488,49.94122],[4.51098,49.94659],[4.5414,49.96911],[4.68695,49.99685],[4.70064,50.09384],[4.75237,50.11314],[4.82438,50.16878],[4.83279,50.15331],[4.88602,50.15182],[4.8382,50.06738],[4.78827,49.95609],[4.88529,49.9236],[4.85134,49.86457],[4.86965,49.82271],[4.85464,49.78995],[4.96714,49.79872],[5.09249,49.76193],[5.14545,49.70287],[5.26232,49.69456],[5.31465,49.66846],[5.33039,49.6555],[5.30214,49.63055],[5.3137,49.61225],[5.33851,49.61599],[5.34837,49.62889],[5.3974,49.61596],[5.43713,49.5707],[5.46734,49.52648],[5.46541,49.49825],[5.55001,49.52729],[5.60909,49.51228],[5.64505,49.55146],[5.75649,49.54321],[5.7577,49.55915],[5.77435,49.56298],[5.79195,49.55228],[5.81838,49.54777],[5.84143,49.5533],[5.84692,49.55663],[5.8424,49.56082],[5.87256,49.57539],[5.86986,49.58756],[5.84971,49.58674],[5.84826,49.5969],[5.8762,49.60898],[5.87609,49.62047],[5.88393,49.62802],[5.88552,49.63507],[5.90599,49.63853],[5.90164,49.6511],[5.9069,49.66377],[5.86175,49.67862],[5.86527,49.69291],[5.88677,49.70951],[5.86503,49.72739],[5.84193,49.72161],[5.82562,49.72395],[5.83149,49.74729],[5.82245,49.75048],[5.78871,49.7962],[5.75409,49.79239],[5.74953,49.81428],[5.74364,49.82058],[5.74844,49.82435],[5.7404,49.83452],[5.74076,49.83823],[5.74975,49.83933],[5.74953,49.84709],[5.75884,49.84811],[5.74567,49.85368],[5.75861,49.85631],[5.75269,49.8711],[5.78415,49.87922],[5.73621,49.89796],[5.77314,49.93646],[5.77291,49.96056],[5.80833,49.96451],[5.81163,49.97142],[5.83467,49.97823],[5.83968,49.9892],[5.82331,49.99662],[5.81866,50.01286],[5.8551,50.02683],[5.86904,50.04614],[5.85474,50.06342],[5.8857,50.07824],[5.89488,50.11476],[5.95929,50.13295],[5.96453,50.17259],[6.02488,50.18283],[6.03093,50.16362],[6.06406,50.15344],[6.08577,50.17246],[6.12028,50.16374],[6.1137,50.13668],[6.1379,50.12964],[6.15298,50.14126],[6.14132,50.14971],[6.14588,50.17106],[6.18739,50.1822],[6.18364,50.20815],[6.16853,50.2234],[6.208,50.25179],[6.28797,50.27458],[6.29949,50.30887],[6.32488,50.32333],[6.35701,50.31139],[6.40641,50.32425],[6.40785,50.33557],[6.3688,50.35898],[6.34406,50.37994],[6.36852,50.40776],[6.37219,50.45397],[6.34005,50.46083],[6.3465,50.48833],[6.30809,50.50058],[6.26637,50.50272],[6.22335,50.49578],[6.20599,50.52089],[6.19193,50.5212],[6.18716,50.52653],[6.19579,50.5313],[6.19735,50.53576],[6.17802,50.54179],[6.17739,50.55875],[6.20281,50.56952],[6.22581,50.5907],[6.24005,50.58732],[6.24888,50.59869],[6.2476,50.60392],[6.26957,50.62444],[6.17852,50.6245],[6.11707,50.72231],[6.04428,50.72861],[6.0406,50.71848],[6.0326,50.72647],[6.03889,50.74618],[6.01976,50.75398],[5.97545,50.75441],[5.95942,50.7622],[5.89132,50.75124],[5.89129,50.75125],[5.88734,50.77092],[5.84888,50.75448],[5.84548,50.76542],[5.80673,50.7558],[5.77513,50.78308],[5.76533,50.78159],[5.74356,50.7691],[5.73904,50.75674],[5.72216,50.76398],[5.69469,50.75529],[5.68091,50.75804],[5.70107,50.7827],[5.68995,50.79641],[5.70118,50.80764],[5.65259,50.82309],[5.64009,50.84742],[5.64504,50.87107],[5.67886,50.88142],[5.69858,50.91046],[5.71626,50.90796],[5.72644,50.91167],[5.72545,50.92312],[5.74644,50.94723],[5.75927,50.95601],[5.74752,50.96202],[5.72875,50.95428],[5.71864,50.96092],[5.76242,50.99703],[5.77688,51.02483],[5.75961,51.03113],[5.77258,51.06196],[5.79835,51.05834],[5.79903,51.09371],[5.82921,51.09328],[5.83226,51.10585],[5.8109,51.10861],[5.80798,51.11661],[5.85508,51.14445],[5.82564,51.16753],[5.77697,51.1522],[5.77735,51.17845],[5.74617,51.18928],[5.70344,51.1829],[5.65528,51.18736],[5.65145,51.19788],[5.5603,51.22249],[5.5569,51.26544],[5.515,51.29462],[5.48476,51.30053],[5.46519,51.2849],[5.4407,51.28169],[5.41672,51.26248],[5.347,51.27502],[5.33886,51.26314],[5.29716,51.26104],[5.26461,51.26693],[5.23814,51.26064],[5.22542,51.26888],[5.24244,51.30495],[5.2002,51.32243],[5.16222,51.31035],[5.13377,51.31592],[5.13105,51.34791],[5.07102,51.39469],[5.10456,51.43163],[5.07891,51.4715],[5.04774,51.47022],[5.03281,51.48679],[5.0106,51.47167],[5.00393,51.44406],[4.92152,51.39487],[4.90016,51.41404],[4.84988,51.41502],[4.78941,51.41102],[4.77229,51.41337],[4.76577,51.43046],[4.78314,51.43319],[4.82946,51.4213]]]]}},{type:"Feature",properties:{iso1A2:"BF",iso1A3:"BFA",iso1N3:"854",wikidata:"Q965",nameEn:"Burkina Faso",groups:["011","202","002","UN"],callingCodes:["226"]},geometry:{type:"MultiPolygon",coordinates:[[[[.23859,15.00135],[.06588,14.96961],[-.24673,15.07805],[-.72004,15.08655],[-1.05875,14.7921],[-1.32166,14.72774],[-1.68083,14.50023],[-1.97945,14.47709],[-1.9992,14.19011],[-2.10223,14.14878],[-2.47587,14.29671],[-2.66175,14.14713],[-2.84667,14.05532],[-2.90831,13.81174],[-2.88189,13.64921],[-3.26407,13.70699],[-3.28396,13.5422],[-3.23599,13.29035],[-3.43507,13.27272],[-3.4313,13.1588],[-3.54454,13.1781],[-3.7911,13.36665],[-3.96282,13.38164],[-3.90558,13.44375],[-3.96501,13.49778],[-4.34477,13.12927],[-4.21819,12.95722],[-4.238,12.71467],[-4.47356,12.71252],[-4.41412,12.31922],[-4.57703,12.19875],[-4.54841,12.1385],[-4.62546,12.13204],[-4.62987,12.06531],[-4.70692,12.06746],[-4.72893,12.01579],[-5.07897,11.97918],[-5.26389,11.84778],[-5.40258,11.8327],[-5.26389,11.75728],[-5.29251,11.61715],[-5.22867,11.60421],[-5.20665,11.43811],[-5.25509,11.36905],[-5.25949,11.24816],[-5.32553,11.21578],[-5.32994,11.13371],[-5.49284,11.07538],[-5.41579,10.84628],[-5.47083,10.75329],[-5.46643,10.56074],[-5.51058,10.43177],[-5.39602,10.2929],[-5.12465,10.29788],[-4.96453,9.99923],[-4.96621,9.89132],[-4.6426,9.70696],[-4.31392,9.60062],[-4.25999,9.76012],[-3.69703,9.94279],[-3.31779,9.91125],[-3.27228,9.84981],[-3.19306,9.93781],[-3.16609,9.85147],[-3.00765,9.74019],[-2.93012,9.57403],[-2.76494,9.40778],[-2.68802,9.49343],[-2.76534,9.56589],[-2.74174,9.83172],[-2.83108,10.40252],[-2.94232,10.64281],[-2.83373,11.0067],[-.67143,10.99811],[-.61937,10.91305],[-.44298,11.04292],[-.42391,11.11661],[-.38219,11.12596],[-.35955,11.07801],[-.28566,11.12713],[-.27374,11.17157],[-.13493,11.14075],[.50388,11.01011],[.48852,10.98561],[.50521,10.98035],[.4958,10.93269],[.66104,10.99964],[.91245,10.99597],[.9813,11.08876],[1.03409,11.04719],[1.42823,11.46822],[2.00988,11.42227],[2.29983,11.68254],[2.39723,11.89473],[2.05785,12.35539],[2.26349,12.41915],[.99167,13.10727],[.99253,13.37515],[1.18873,13.31771],[1.21217,13.37853],[1.24516,13.33968],[1.28509,13.35488],[1.24429,13.39373],[1.20088,13.38951],[1.02813,13.46635],[.99514,13.5668],[.77637,13.64442],[.77377,13.6866],[.61924,13.68491],[.38051,14.05575],[.16936,14.51654],[.23859,15.00135]]]]}},{type:"Feature",properties:{iso1A2:"BG",iso1A3:"BGR",iso1N3:"100",wikidata:"Q219",nameEn:"Bulgaria",groups:["EU","151","150","UN"],callingCodes:["359"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.05288,43.79494],[22.85314,43.84452],[22.83753,43.88055],[22.87873,43.9844],[23.01674,44.01946],[23.04988,44.07694],[22.67173,44.21564],[22.61711,44.16938],[22.61688,44.06534],[22.41449,44.00514],[22.35558,43.81281],[22.41043,43.69566],[22.47582,43.6558],[22.53397,43.47225],[22.82036,43.33665],[22.89727,43.22417],[23.00806,43.19279],[22.98104,43.11199],[22.89521,43.03625],[22.78397,42.98253],[22.74826,42.88701],[22.54302,42.87774],[22.43309,42.82057],[22.4997,42.74144],[22.43983,42.56851],[22.55669,42.50144],[22.51961,42.3991],[22.47498,42.3915],[22.45919,42.33822],[22.34773,42.31725],[22.38136,42.30339],[22.47251,42.20393],[22.50289,42.19527],[22.51224,42.15457],[22.67701,42.06614],[22.86749,42.02275],[22.90254,41.87587],[22.96682,41.77137],[23.01239,41.76527],[23.03342,41.71034],[22.95513,41.63265],[22.96331,41.35782],[22.93334,41.34104],[23.1833,41.31755],[23.21953,41.33773],[23.22771,41.37106],[23.31301,41.40525],[23.33639,41.36317],[23.40416,41.39999],[23.52453,41.40262],[23.63203,41.37632],[23.67644,41.41139],[23.76525,41.40175],[23.80148,41.43943],[23.89613,41.45257],[23.91483,41.47971],[23.96975,41.44118],[24.06908,41.46132],[24.06323,41.53222],[24.10063,41.54796],[24.18126,41.51735],[24.27124,41.57682],[24.30513,41.51297],[24.52599,41.56808],[24.61129,41.42278],[24.71529,41.41928],[24.8041,41.34913],[24.82514,41.4035],[24.86136,41.39298],[24.90928,41.40876],[24.942,41.38685],[25.11611,41.34212],[25.28322,41.23411],[25.48187,41.28506],[25.52394,41.2798],[25.55082,41.31667],[25.61042,41.30614],[25.66183,41.31316],[25.70507,41.29209],[25.8266,41.34563],[25.87919,41.30526],[26.12926,41.35878],[26.16548,41.42278],[26.20288,41.43943],[26.14796,41.47533],[26.176,41.50072],[26.17951,41.55409],[26.14328,41.55496],[26.15146,41.60828],[26.07083,41.64584],[26.06148,41.70345],[26.16841,41.74858],[26.21325,41.73223],[26.22888,41.74139],[26.2654,41.71544],[26.30255,41.70925],[26.35957,41.71149],[26.32952,41.73637],[26.33589,41.76802],[26.36952,41.82265],[26.53968,41.82653],[26.57961,41.90024],[26.56051,41.92995],[26.62996,41.97644],[26.79143,41.97386],[26.95638,42.00741],[27.03277,42.0809],[27.08486,42.08735],[27.19251,42.06028],[27.22376,42.10152],[27.27411,42.10409],[27.45478,41.96591],[27.52379,41.93756],[27.55191,41.90928],[27.69949,41.97515],[27.81235,41.94803],[27.83492,41.99709],[27.91479,41.97902],[28.02971,41.98066],[28.32297,41.98371],[29.24336,43.70874],[28.23293,43.76],[27.99558,43.84193],[27.92008,44.00761],[27.73468,43.95326],[27.64542,44.04958],[27.60834,44.01206],[27.39757,44.0141],[27.26845,44.12602],[26.95141,44.13555],[26.62712,44.05698],[26.38764,44.04356],[26.10115,43.96908],[26.05584,43.90925],[25.94911,43.85745],[25.72792,43.69263],[25.39528,43.61866],[25.17144,43.70261],[25.10718,43.6831],[24.96682,43.72693],[24.73542,43.68523],[24.62281,43.74082],[24.50264,43.76314],[24.35364,43.70211],[24.18149,43.68218],[23.73978,43.80627],[23.61687,43.79289],[23.4507,43.84936],[23.26772,43.84843],[23.05288,43.79494]]]]}},{type:"Feature",properties:{iso1A2:"BH",iso1A3:"BHR",iso1N3:"048",wikidata:"Q398",nameEn:"Bahrain",groups:["145","142","UN"],callingCodes:["973"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.93865,26.30758],[50.71771,26.73086],[50.38162,26.53976],[50.26923,26.08243],[50.302,25.87592],[50.57069,25.57887],[50.80824,25.54641],[50.7801,25.595],[50.86149,25.6965],[50.81266,25.88946],[50.93865,26.30758]]]]}},{type:"Feature",properties:{iso1A2:"BI",iso1A3:"BDI",iso1N3:"108",wikidata:"Q967",nameEn:"Burundi",groups:["014","202","002","UN"],callingCodes:["257"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.54501,-2.41404],[30.42933,-2.31064],[30.14034,-2.43626],[29.95911,-2.33348],[29.88237,-2.75105],[29.36805,-2.82933],[29.32234,-2.6483],[29.0562,-2.58632],[29.04081,-2.7416],[29.00167,-2.78523],[29.00404,-2.81978],[29.0505,-2.81774],[29.09119,-2.87871],[29.09797,-2.91935],[29.16037,-2.95457],[29.17258,-2.99385],[29.25633,-3.05471],[29.21463,-3.3514],[29.23708,-3.75856],[29.43673,-4.44845],[29.63827,-4.44681],[29.75109,-4.45836],[29.77289,-4.41733],[29.82885,-4.36153],[29.88172,-4.35743],[30.03323,-4.26631],[30.22042,-4.01738],[30.45915,-3.56532],[30.84165,-3.25152],[30.83823,-2.97837],[30.6675,-2.98987],[30.57926,-2.89791],[30.4987,-2.9573],[30.40662,-2.86151],[30.52747,-2.65841],[30.41789,-2.66266],[30.54501,-2.41404]]]]}},{type:"Feature",properties:{iso1A2:"BJ",iso1A3:"BEN",iso1N3:"204",wikidata:"Q962",nameEn:"Benin",aliases:["DY"],groups:["011","202","002","UN"],callingCodes:["229"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.59375,11.70269],[3.48187,11.86092],[3.31613,11.88495],[3.25352,12.01467],[2.83978,12.40585],[2.6593,12.30631],[2.37783,12.24804],[2.39657,12.10952],[2.45824,11.98672],[2.39723,11.89473],[2.29983,11.68254],[2.00988,11.42227],[1.42823,11.46822],[1.03409,11.04719],[.9813,11.08876],[.91245,10.99597],[.8804,10.803],[.80358,10.71459],[.77666,10.37665],[1.35507,9.99525],[1.36624,9.5951],[1.33675,9.54765],[1.41746,9.3226],[1.5649,9.16941],[1.61838,9.0527],[1.64249,6.99562],[1.55877,6.99737],[1.61812,6.74843],[1.58105,6.68619],[1.76906,6.43189],[1.79826,6.28221],[1.62913,6.24075],[1.67336,6.02702],[2.74181,6.13349],[2.70566,6.38038],[2.70464,6.50831],[2.74334,6.57291],[2.7325,6.64057],[2.78204,6.70514],[2.78823,6.76356],[2.73405,6.78508],[2.74024,6.92802],[2.71702,6.95722],[2.76965,7.13543],[2.74489,7.42565],[2.79442,7.43486],[2.78668,7.5116],[2.73405,7.5423],[2.73095,7.7755],[2.67523,7.87825],[2.77907,9.06924],[3.08017,9.10006],[3.14147,9.28375],[3.13928,9.47167],[3.25093,9.61632],[3.34726,9.70696],[3.32099,9.78032],[3.35383,9.83641],[3.54429,9.87739],[3.66908,10.18136],[3.57275,10.27185],[3.6844,10.46351],[3.78292,10.40538],[3.84243,10.59316],[3.71505,11.13015],[3.49175,11.29765],[3.59375,11.70269]]]]}},{type:"Feature",properties:{iso1A2:"BL",iso1A3:"BLM",iso1N3:"652",wikidata:"Q25362",nameEn:"Saint-Barthlemy",country:"FR",groups:["EU","Q1451600","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.62718,18.26185],[-63.1055,17.86651],[-62.34423,17.49165],[-62.62718,18.26185]]]]}},{type:"Feature",properties:{iso1A2:"BM",iso1A3:"BMU",iso1N3:"060",wikidata:"Q23635",nameEn:"Bermuda",country:"GB",groups:["BOTS","021","003","019","UN"],driveSide:"left",callingCodes:["1 441"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.20987,32.6953],[-65.31453,32.68437],[-65.63955,31.43417],[-63.20987,32.6953]]]]}},{type:"Feature",properties:{iso1A2:"BN",iso1A3:"BRN",iso1N3:"096",wikidata:"Q921",nameEn:"Brunei",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["673"]},geometry:{type:"MultiPolygon",coordinates:[[[[115.16236,5.01011],[115.02521,5.35005],[114.10166,4.76112],[114.07448,4.58441],[114.15813,4.57],[114.26876,4.49878],[114.32176,4.34942],[114.32176,4.2552],[114.4416,4.27588],[114.49922,4.13108],[114.64211,4.00694],[114.78539,4.12205],[114.88039,4.4257],[114.83189,4.42387],[114.77303,4.72871],[114.8266,4.75062],[114.88841,4.81905],[114.96982,4.81146],[114.99417,4.88201],[115.05038,4.90275],[115.02955,4.82087],[115.02278,4.74137],[115.04064,4.63706],[115.07737,4.53418],[115.09978,4.39123],[115.31275,4.30806],[115.36346,4.33563],[115.2851,4.42295],[115.27819,4.63661],[115.20737,4.8256],[115.15092,4.87604],[115.16236,5.01011]]]]}},{type:"Feature",properties:{iso1A2:"BO",iso1A3:"BOL",iso1N3:"068",wikidata:"Q750",nameEn:"Bolivia",groups:["005","419","019","UN"],callingCodes:["591"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.90248,-12.52544],[-64.22539,-12.45267],[-64.40519,-12.45065],[-64.99778,-11.98604],[-65.30027,-11.48749],[-65.28141,-10.86289],[-65.35402,-10.78685],[-65.37923,-10.35141],[-65.28979,-10.21932],[-65.32696,-10.06449],[-65.29019,-9.86253],[-65.40615,-9.63894],[-65.56244,-9.84266],[-65.68343,-9.75323],[-66.61289,-9.93233],[-67.12883,-10.31634],[-67.18847,-10.33951],[-67.1917,-10.32944],[-67.21325,-10.3208],[-67.67724,-10.60263],[-68.71533,-11.14749],[-68.7651,-11.0496],[-68.75179,-11.03688],[-68.75265,-11.02383],[-68.74802,-11.00891],[-68.75452,-11.00821],[-68.76092,-11.01726],[-68.7638,-11.01693],[-68.76291,-11.00728],[-69.42792,-10.93451],[-69.47839,-10.95254],[-69.57156,-10.94555],[-68.98115,-11.8979],[-68.65044,-12.50689],[-68.85615,-12.87769],[-68.8864,-13.40792],[-69.05265,-13.68546],[-68.88135,-14.18639],[-69.36254,-14.94634],[-69.14856,-15.23478],[-69.40336,-15.61358],[-69.20291,-16.16668],[-69.09986,-16.22693],[-68.96238,-16.194],[-68.79464,-16.33272],[-68.98358,-16.42165],[-69.04027,-16.57214],[-69.00853,-16.66769],[-69.16896,-16.72233],[-69.62883,-17.28142],[-69.46863,-17.37466],[-69.46897,-17.4988],[-69.46623,-17.60518],[-69.34126,-17.72753],[-69.28671,-17.94844],[-69.07496,-18.03715],[-69.14807,-18.16893],[-69.07432,-18.28259],[-68.94987,-18.93302],[-68.87082,-19.06003],[-68.80602,-19.08355],[-68.61989,-19.27584],[-68.41218,-19.40499],[-68.66761,-19.72118],[-68.54611,-19.84651],[-68.57132,-20.03134],[-68.74273,-20.08817],[-68.7276,-20.46178],[-68.44023,-20.62701],[-68.55383,-20.7355],[-68.53957,-20.91542],[-68.40403,-20.94562],[-68.18816,-21.28614],[-67.85114,-22.87076],[-67.54284,-22.89771],[-67.18382,-22.81525],[-66.7298,-22.23644],[-66.29714,-22.08741],[-66.24077,-21.77837],[-66.03836,-21.84829],[-66.04832,-21.9187],[-65.9261,-21.93335],[-65.7467,-22.10105],[-65.61166,-22.09504],[-65.58694,-22.09794],[-65.57743,-22.07675],[-65.47435,-22.08908],[-64.99524,-22.08255],[-64.90014,-22.12136],[-64.67174,-22.18957],[-64.58888,-22.25035],[-64.4176,-22.67692],[-64.35108,-22.73282],[-64.31489,-22.88824],[-64.22918,-22.55807],[-63.93287,-21.99934],[-63.70963,-21.99934],[-63.68113,-22.0544],[-63.66482,-21.99918],[-62.81124,-21.9987],[-62.8078,-22.12534],[-62.64455,-22.25091],[-62.2757,-21.06657],[-62.26883,-20.55311],[-61.93912,-20.10053],[-61.73723,-19.63958],[-60.00638,-19.2981],[-59.06965,-19.29148],[-58.23216,-19.80058],[-58.16225,-20.16193],[-57.8496,-19.98346],[-58.14215,-19.76276],[-57.78463,-19.03259],[-57.70971,-19.03489],[-57.70818,-19.02772],[-57.69134,-19.00544],[-57.71995,-18.97546],[-57.71901,-18.89907],[-57.76603,-18.89904],[-57.56807,-18.25655],[-57.48237,-18.24219],[-57.69877,-17.8431],[-57.73949,-17.56095],[-57.90082,-17.44555],[-57.99661,-17.5273],[-58.32935,-17.28195],[-58.5058,-16.80958],[-58.30918,-16.3699],[-58.32208,-16.26597],[-58.39179,-16.27715],[-58.43081,-16.32233],[-60.16069,-16.26479],[-60.23797,-15.50267],[-60.58224,-15.09887],[-60.23968,-15.09515],[-60.27887,-14.63021],[-60.46037,-14.22496],[-60.48053,-13.77981],[-61.05527,-13.50054],[-61.81151,-13.49564],[-63.76259,-12.42952],[-63.90248,-12.52544]]]]}},{type:"Feature",properties:{iso1A2:"BQ",iso1A3:"BES",iso1N3:"535",wikidata:"Q27561",nameEn:"Caribbean Netherlands",country:"NL"},geometry:null},{type:"Feature",properties:{iso1A2:"BR",iso1A3:"BRA",iso1N3:"076",wikidata:"Q155",nameEn:"Brazil",groups:["005","419","019","UN"],callingCodes:["55"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.69361,4.34069],[-59.78878,4.45637],[-60.15953,4.53456],[-60.04189,4.69801],[-59.98129,5.07097],[-60.20944,5.28754],[-60.32352,5.21299],[-60.73204,5.20931],[-60.5802,4.94312],[-60.86539,4.70512],[-60.98303,4.54167],[-61.15703,4.49839],[-61.31457,4.54167],[-61.29675,4.44216],[-61.48569,4.43149],[-61.54629,4.2822],[-62.13094,4.08309],[-62.44822,4.18621],[-62.57656,4.04754],[-62.74411,4.03331],[-62.7655,3.73099],[-62.98296,3.59935],[-63.21111,3.96219],[-63.4464,3.9693],[-63.42233,3.89995],[-63.50611,3.83592],[-63.67099,4.01731],[-63.70218,3.91417],[-63.86082,3.94796],[-63.99183,3.90172],[-64.14512,4.12932],[-64.57648,4.12576],[-64.72977,4.28931],[-64.84028,4.24665],[-64.48379,3.7879],[-64.02908,2.79797],[-64.0257,2.48156],[-63.39114,2.4317],[-63.39827,2.16098],[-64.06135,1.94722],[-64.08274,1.64792],[-64.34654,1.35569],[-64.38932,1.5125],[-65.11657,1.12046],[-65.57288,.62856],[-65.50158,.92086],[-65.6727,1.01353],[-66.28507,.74585],[-66.85795,1.22998],[-67.08222,1.17441],[-67.15784,1.80439],[-67.299,1.87494],[-67.40488,2.22258],[-67.9292,1.82455],[-68.18632,2.00091],[-68.26699,1.83463],[-68.18183,1.72948],[-69.39079,1.72934],[-69.55722,1.77158],[-69.84289,1.69122],[-69.84259,1.07881],[-69.26017,1.06856],[-69.14422,.84172],[-69.20976,.57958],[-69.47696,.71065],[-69.82577,.59225],[-70.04708,.56194],[-70.04294,-.19043],[-69.603,-.51947],[-69.59796,-.75136],[-69.4215,-1.01853],[-69.43395,-1.42219],[-69.93323,-4.21971],[-69.93571,-4.2195],[-69.94924,-4.23116],[-69.95836,-4.32881],[-69.99218,-4.32041],[-70.03272,-4.35441],[-70.02689,-4.37095],[-70.04593,-4.37554],[-70.0533,-4.2907],[-70.14422,-4.2714],[-70.19582,-4.3607],[-70.30567,-4.24361],[-70.27991,-4.23226],[-70.33236,-4.15214],[-70.73715,-4.17416],[-70.74728,-4.16112],[-70.78125,-4.16295],[-70.96814,-4.36915],[-71.87003,-4.51661],[-72.64391,-5.0391],[-72.83973,-5.14765],[-72.87086,-5.26346],[-73.24116,-6.07187],[-73.12983,-6.43852],[-73.73986,-6.87919],[-73.77011,-7.28944],[-73.96938,-7.58465],[-73.65485,-7.77897],[-73.76576,-7.89884],[-72.92886,-9.04074],[-73.21498,-9.40904],[-72.72216,-9.41397],[-72.31883,-9.5184],[-72.14742,-9.98049],[-71.23394,-9.9668],[-70.49706,-9.425],[-70.59272,-9.62142],[-70.55429,-9.76692],[-70.62487,-9.80666],[-70.64134,-11.0108],[-70.51395,-10.92249],[-70.38791,-11.07096],[-69.90896,-10.92744],[-69.57835,-10.94051],[-69.57156,-10.94555],[-69.47839,-10.95254],[-69.42792,-10.93451],[-68.76291,-11.00728],[-68.7638,-11.01693],[-68.76092,-11.01726],[-68.75452,-11.00821],[-68.74802,-11.00891],[-68.75265,-11.02383],[-68.75179,-11.03688],[-68.7651,-11.0496],[-68.71533,-11.14749],[-67.67724,-10.60263],[-67.21325,-10.3208],[-67.1917,-10.32944],[-67.18847,-10.33951],[-67.12883,-10.31634],[-66.61289,-9.93233],[-65.68343,-9.75323],[-65.56244,-9.84266],[-65.40615,-9.63894],[-65.29019,-9.86253],[-65.32696,-10.06449],[-65.28979,-10.21932],[-65.37923,-10.35141],[-65.35402,-10.78685],[-65.28141,-10.86289],[-65.30027,-11.48749],[-64.99778,-11.98604],[-64.40519,-12.45065],[-64.22539,-12.45267],[-63.90248,-12.52544],[-63.76259,-12.42952],[-61.81151,-13.49564],[-61.05527,-13.50054],[-60.48053,-13.77981],[-60.46037,-14.22496],[-60.27887,-14.63021],[-60.23968,-15.09515],[-60.58224,-15.09887],[-60.23797,-15.50267],[-60.16069,-16.26479],[-58.43081,-16.32233],[-58.39179,-16.27715],[-58.32208,-16.26597],[-58.30918,-16.3699],[-58.5058,-16.80958],[-58.32935,-17.28195],[-57.99661,-17.5273],[-57.90082,-17.44555],[-57.73949,-17.56095],[-57.69877,-17.8431],[-57.48237,-18.24219],[-57.56807,-18.25655],[-57.76603,-18.89904],[-57.71901,-18.89907],[-57.71995,-18.97546],[-57.69134,-19.00544],[-57.70818,-19.02772],[-57.70971,-19.03489],[-57.78463,-19.03259],[-58.14215,-19.76276],[-57.8496,-19.98346],[-58.16225,-20.16193],[-57.84536,-20.93155],[-57.93492,-21.65505],[-57.88239,-21.6868],[-57.94642,-21.73799],[-57.98625,-22.09157],[-56.6508,-22.28387],[-56.5212,-22.11556],[-56.45893,-22.08072],[-56.23206,-22.25347],[-55.8331,-22.29008],[-55.74691,-22.46966],[-55.75257,-22.47633],[-55.75128,-22.48165],[-55.74718,-22.48376],[-55.74715,-22.50567],[-55.74069,-22.51564],[-55.74032,-22.51928],[-55.73792,-22.52632],[-55.72399,-22.55131],[-55.71193,-22.55809],[-55.69863,-22.56307],[-55.69103,-22.57959],[-55.62493,-22.62765],[-55.63849,-22.95122],[-55.53614,-23.24524],[-55.5222,-23.26048],[-55.55496,-23.28366],[-55.47567,-23.67566],[-55.4471,-23.7602],[-55.43585,-23.87157],[-55.44117,-23.9185],[-55.41784,-23.9657],[-55.12292,-23.99669],[-55.0518,-23.98666],[-55.02691,-23.97317],[-54.6238,-23.83078],[-54.32807,-24.01865],[-54.28207,-24.07305],[-54.34579,-24.13058],[-54.31115,-24.26625],[-54.4423,-25.13381],[-54.62033,-25.46026],[-54.60196,-25.48397],[-54.59509,-25.53696],[-54.59398,-25.59224],[-54.5502,-25.58915],[-54.52926,-25.62846],[-53.90831,-25.55513],[-53.83691,-25.94849],[-53.73511,-26.04211],[-53.73086,-26.05842],[-53.7264,-26.0664],[-53.73391,-26.07006],[-53.73968,-26.10012],[-53.65018,-26.19501],[-53.65237,-26.23289],[-53.63739,-26.2496],[-53.63881,-26.25075],[-53.64632,-26.24798],[-53.64186,-26.25976],[-53.64505,-26.28089],[-53.68269,-26.33359],[-53.73372,-26.6131],[-53.80144,-27.09844],[-54.15978,-27.2889],[-54.19062,-27.27639],[-54.19268,-27.30751],[-54.41888,-27.40882],[-54.50416,-27.48232],[-54.67657,-27.57214],[-54.90159,-27.63132],[-54.90805,-27.73149],[-55.1349,-27.89759],[-55.16872,-27.86224],[-55.33303,-27.94661],[-55.6262,-28.17124],[-55.65418,-28.18304],[-56.01729,-28.51223],[-56.00458,-28.60421],[-56.05265,-28.62651],[-56.54171,-29.11447],[-56.57295,-29.11357],[-56.62789,-29.18073],[-56.81251,-29.48154],[-57.09386,-29.74211],[-57.65132,-30.19229],[-57.22502,-30.26121],[-56.90236,-30.02578],[-56.49267,-30.39471],[-56.4795,-30.3899],[-56.4619,-30.38457],[-55.87388,-31.05053],[-55.58866,-30.84117],[-55.5634,-30.8686],[-55.55373,-30.8732],[-55.55218,-30.88193],[-55.54572,-30.89051],[-55.53431,-30.89714],[-55.53276,-30.90218],[-55.52712,-30.89997],[-55.51862,-30.89828],[-55.50841,-30.9027],[-55.50823,-30.9145],[-54.45458,-31.65285],[-54.15721,-31.87458],[-53.76024,-32.0751],[-53.39572,-32.58596],[-53.37671,-32.57005],[-53.1111,-32.71147],[-53.53459,-33.16843],[-53.52794,-33.68908],[-53.44031,-33.69344],[-53.39593,-33.75169],[-53.37138,-33.74313],[-52.83257,-34.01481],[-28.34015,-20.99094],[-28.99601,1.86593],[-51.35485,4.8383],[-51.63798,4.51394],[-51.61983,4.14596],[-51.79599,3.89336],[-51.82312,3.85825],[-51.85573,3.83427],[-52.31787,3.17896],[-52.6906,2.37298],[-52.96539,2.1881],[-53.78743,2.34412],[-54.16286,2.10779],[-54.6084,2.32856],[-55.01919,2.564],[-55.71493,2.40342],[-55.96292,2.53188],[-56.13054,2.27723],[-55.92159,2.05236],[-55.89863,1.89861],[-55.99278,1.83137],[-56.47045,1.95135],[-56.7659,1.89509],[-57.07092,1.95304],[-57.09109,2.01854],[-57.23981,1.95808],[-57.35073,1.98327],[-57.55743,1.69605],[-57.77281,1.73344],[-57.97336,1.64566],[-58.01873,1.51966],[-58.33887,1.58014],[-58.4858,1.48399],[-58.53571,1.29154],[-58.84229,1.17749],[-58.92072,1.31293],[-59.25583,1.40559],[-59.74066,1.87596],[-59.7264,2.27497],[-59.91177,2.36759],[-59.99733,2.92312],[-59.80525,3.35466],[-59.8041,3.37027],[-59.81107,3.38023],[-59.81484,3.41955],[-59.86899,3.57089],[-59.51963,3.91951],[-59.73353,4.20399],[-59.69361,4.34069]]]]}},{type:"Feature",properties:{iso1A2:"BS",iso1A3:"BHS",iso1N3:"044",wikidata:"Q778",nameEn:"The Bahamas",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 242"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.98446,20.4801],[-71.70065,25.7637],[-78.91214,27.76553],[-80.65727,23.71953],[-72.98446,20.4801]]]]}},{type:"Feature",properties:{iso1A2:"BT",iso1A3:"BTN",iso1N3:"064",wikidata:"Q917",nameEn:"Bhutan",groups:["034","142","UN"],driveSide:"left",callingCodes:["975"]},geometry:{type:"MultiPolygon",coordinates:[[[[91.6469,27.76358],[91.5629,27.84823],[91.48973,27.93903],[91.46327,28.0064],[91.25779,28.07509],[91.20019,27.98715],[90.69894,28.07784],[90.58842,28.02838],[90.13387,28.19178],[89.79762,28.23979],[89.59525,28.16433],[89.12825,27.62502],[89.0582,27.60985],[88.97213,27.51671],[88.95355,27.4106],[89.00216,27.32532],[88.96947,27.30319],[88.93678,27.33777],[88.91901,27.32483],[88.74219,27.144],[88.86984,27.10937],[88.8714,26.97488],[88.92301,26.99286],[88.95807,26.92668],[89.09554,26.89089],[89.12825,26.81661],[89.1926,26.81329],[89.37913,26.86224],[89.38319,26.85963],[89.3901,26.84225],[89.42349,26.83727],[89.63369,26.74402],[89.86124,26.73307],[90.04535,26.72422],[90.30402,26.85098],[90.39271,26.90704],[90.48504,26.8594],[90.67715,26.77215],[91.50067,26.79223],[91.83181,26.87318],[92.05523,26.8692],[92.11863,26.893],[92.03457,27.07334],[92.04702,27.26861],[92.12019,27.27829],[92.01132,27.47352],[91.65007,27.48287],[91.55819,27.6144],[91.6469,27.76358]]]]}},{type:"Feature",properties:{iso1A2:"BV",iso1A3:"BVT",iso1N3:"074",wikidata:"Q23408",nameEn:"Bouvet Island",country:"NO",groups:["005","419","019","UN"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.54042,-54.0949],[2.28941,-54.13089],[3.35353,-55.17558],[4.54042,-54.0949]]]]}},{type:"Feature",properties:{iso1A2:"BW",iso1A3:"BWA",iso1N3:"072",wikidata:"Q963",nameEn:"Botswana",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["267"]},geometry:{type:"MultiPolygon",coordinates:[[[[25.26433,-17.79571],[25.16882,-17.78253],[25.05895,-17.84452],[24.95586,-17.79674],[24.73364,-17.89338],[24.71887,-17.9218],[24.6303,-17.9863],[24.57485,-18.07151],[24.40577,-17.95726],[24.19416,-18.01919],[23.61088,-18.4881],[23.29618,-17.99855],[23.0996,-18.00075],[21.45556,-18.31795],[20.99904,-18.31743],[20.99751,-22.00026],[19.99912,-21.99991],[19.99817,-24.76768],[20.02809,-24.78725],[20.03678,-24.81004],[20.29826,-24.94869],[20.64795,-25.47827],[20.86081,-26.14892],[20.61754,-26.4692],[20.63275,-26.78181],[20.68596,-26.9039],[20.87031,-26.80047],[21.13353,-26.86661],[21.37869,-26.82083],[21.69322,-26.86152],[21.7854,-26.79199],[21.77114,-26.69015],[21.83291,-26.65959],[21.90703,-26.66808],[22.06192,-26.61882],[22.21206,-26.3773],[22.41921,-26.23078],[22.56365,-26.19668],[22.70808,-25.99186],[22.86012,-25.50572],[23.03497,-25.29971],[23.47588,-25.29971],[23.9244,-25.64286],[24.18287,-25.62916],[24.36531,-25.773],[24.44703,-25.73021],[24.67319,-25.81749],[24.8946,-25.80723],[25.01718,-25.72507],[25.12266,-25.75931],[25.33076,-25.76616],[25.58543,-25.6343],[25.6643,-25.4491],[25.69661,-25.29284],[25.72702,-25.25503],[25.88571,-24.87802],[25.84295,-24.78661],[25.8515,-24.75727],[26.39409,-24.63468],[26.46346,-24.60358],[26.51667,-24.47219],[26.84165,-24.24885],[26.99749,-23.65486],[27.33768,-23.40917],[27.52393,-23.37952],[27.6066,-23.21894],[27.74154,-23.2137],[27.93539,-23.04941],[27.93729,-22.96194],[28.04752,-22.90243],[28.04562,-22.8394],[28.34874,-22.5694],[28.63287,-22.55887],[28.91889,-22.44299],[29.0151,-22.22907],[29.10881,-22.21202],[29.15268,-22.21399],[29.18974,-22.18599],[29.21955,-22.17771],[29.37703,-22.19581],[29.3533,-22.18363],[29.24648,-22.05967],[29.1974,-22.07472],[29.14501,-22.07275],[29.08495,-22.04867],[29.04108,-22.00563],[29.02191,-21.95665],[29.02191,-21.90647],[29.04023,-21.85864],[29.07763,-21.81877],[28.58114,-21.63455],[28.49942,-21.66634],[28.29416,-21.59037],[28.01669,-21.57624],[27.91407,-21.31621],[27.69171,-21.08409],[27.72972,-20.51735],[27.69361,-20.48531],[27.28865,-20.49873],[27.29831,-20.28935],[27.21278,-20.08244],[26.72246,-19.92707],[26.17227,-19.53709],[25.96226,-19.08152],[25.99837,-19.02943],[25.94326,-18.90362],[25.82353,-18.82808],[25.79217,-18.6355],[25.68859,-18.56165],[25.53465,-18.39041],[25.39972,-18.12691],[25.31799,-18.07091],[25.23909,-17.90832],[25.26433,-17.79571]]]]}},{type:"Feature",properties:{iso1A2:"BY",iso1A3:"BLR",iso1N3:"112",wikidata:"Q184",nameEn:"Belarus",groups:["151","150","UN"],callingCodes:["375"]},geometry:{type:"MultiPolygon",coordinates:[[[[28.15217,56.16964],[27.97865,56.11849],[27.63065,55.89687],[27.61683,55.78558],[27.3541,55.8089],[27.27804,55.78299],[27.1559,55.85032],[26.97153,55.8102],[26.87448,55.7172],[26.76872,55.67658],[26.71802,55.70645],[26.64888,55.70515],[26.63231,55.67968],[26.63167,55.57887],[26.55094,55.5093],[26.5522,55.40277],[26.44937,55.34832],[26.5709,55.32572],[26.6714,55.33902],[26.80929,55.31642],[26.83266,55.30444],[26.835,55.28182],[26.73017,55.24226],[26.72983,55.21788],[26.68075,55.19787],[26.69243,55.16718],[26.54753,55.14181],[26.51481,55.16051],[26.46249,55.12814],[26.35121,55.1525],[26.30628,55.12536],[26.23202,55.10439],[26.26941,55.08032],[26.20397,54.99729],[26.13386,54.98924],[26.05907,54.94631],[25.99129,54.95705],[25.89462,54.93438],[25.74122,54.80108],[25.75977,54.57252],[25.68045,54.5321],[25.64813,54.48704],[25.62203,54.4656],[25.63371,54.42075],[25.5376,54.33158],[25.55425,54.31591],[25.68513,54.31727],[25.78553,54.23327],[25.78563,54.15747],[25.71084,54.16704],[25.64875,54.1259],[25.54724,54.14925],[25.51452,54.17799],[25.56823,54.25212],[25.509,54.30267],[25.35559,54.26544],[25.22705,54.26271],[25.19199,54.219],[25.0728,54.13419],[24.991,54.14241],[24.96894,54.17589],[24.77131,54.11091],[24.85311,54.02862],[24.74279,53.96663],[24.69185,53.96543],[24.69652,54.01901],[24.62275,54.00217],[24.44411,53.90076],[24.34128,53.90076],[24.19638,53.96405],[23.98837,53.92554],[23.95098,53.9613],[23.81309,53.94205],[23.80543,53.89558],[23.71726,53.93379],[23.61677,53.92691],[23.51284,53.95052],[23.62004,53.60942],[23.81995,53.24131],[23.85657,53.22923],[23.91393,53.16469],[23.87548,53.0831],[23.92184,53.02079],[23.94689,52.95919],[23.91805,52.94016],[23.93763,52.71332],[23.73615,52.6149],[23.58296,52.59868],[23.45112,52.53774],[23.34141,52.44845],[23.18196,52.28812],[23.20071,52.22848],[23.47859,52.18215],[23.54314,52.12148],[23.61,52.11264],[23.64066,52.07626],[23.68733,51.9906],[23.61523,51.92066],[23.62691,51.78208],[23.53198,51.74298],[23.57053,51.55938],[23.56236,51.53673],[23.62751,51.50512],[23.6736,51.50255],[23.60906,51.62122],[23.7766,51.66809],[23.91118,51.63316],[23.8741,51.59734],[23.99907,51.58369],[24.13075,51.66979],[24.3163,51.75063],[24.29021,51.80841],[24.37123,51.88222],[24.98784,51.91273],[25.20228,51.97143],[25.46163,51.92205],[25.73673,51.91973],[25.80574,51.94556],[25.83217,51.92587],[26.00408,51.92967],[26.19084,51.86781],[26.39367,51.87315],[26.46962,51.80501],[26.69759,51.82284],[26.80043,51.75777],[26.9489,51.73788],[26.99422,51.76933],[27.20602,51.77291],[27.20948,51.66713],[27.26613,51.65957],[27.24828,51.60161],[27.47212,51.61184],[27.51058,51.5854],[27.55727,51.63486],[27.71932,51.60672],[27.67125,51.50854],[27.76052,51.47604],[27.85253,51.62293],[27.91844,51.61952],[27.95827,51.56065],[28.10658,51.57857],[28.23452,51.66988],[28.37592,51.54505],[28.47051,51.59734],[28.64429,51.5664],[28.69161,51.44695],[28.73143,51.46236],[28.75615,51.41442],[28.78224,51.45294],[28.76027,51.48802],[28.81795,51.55552],[28.95528,51.59222],[28.99098,51.56833],[29.1187,51.65872],[29.16402,51.64679],[29.20659,51.56918],[29.25603,51.57089],[29.25191,51.49828],[29.32881,51.37843],[29.42357,51.4187],[29.49773,51.39814],[29.54372,51.48372],[29.7408,51.53417],[29.77376,51.4461],[30.17888,51.51025],[30.34642,51.42555],[30.36153,51.33984],[30.56203,51.25655],[30.64992,51.35014],[30.51946,51.59649],[30.68804,51.82806],[30.76443,51.89739],[30.90897,52.00699],[30.95589,52.07775],[31.13332,52.1004],[31.25142,52.04131],[31.38326,52.12991],[31.7822,52.11406],[31.77877,52.18636],[31.6895,52.1973],[31.70735,52.26711],[31.57971,52.32146],[31.62084,52.33849],[31.61397,52.48843],[31.56316,52.51518],[31.63869,52.55361],[31.50406,52.69707],[31.57277,52.71613],[31.592,52.79011],[31.35667,52.97854],[31.24147,53.031],[31.32283,53.04101],[31.33519,53.08805],[31.3915,53.09712],[31.36403,53.13504],[31.40523,53.21406],[31.56316,53.19432],[31.62496,53.22886],[31.787,53.18033],[31.82373,53.10042],[32.15368,53.07594],[32.40773,53.18856],[32.51725,53.28431],[32.73257,53.33494],[32.74968,53.45597],[32.47777,53.5548],[32.40499,53.6656],[32.50112,53.68594],[32.45717,53.74039],[32.36663,53.7166],[32.12621,53.81586],[31.89137,53.78099],[31.77028,53.80015],[31.85019,53.91801],[31.88744,54.03653],[31.89599,54.0837],[31.57002,54.14535],[31.30791,54.25315],[31.3177,54.34067],[31.22945,54.46585],[31.08543,54.50361],[31.21399,54.63113],[31.19339,54.66947],[30.99187,54.67046],[30.98226,54.68872],[31.0262,54.70698],[30.97127,54.71967],[30.95479,54.74346],[30.75165,54.80699],[30.8264,54.90062],[30.81759,54.94064],[30.93144,54.9585],[30.95754,54.98609],[30.9081,55.02232],[30.94243,55.03964],[31.00972,55.02783],[31.02071,55.06167],[30.97369,55.17134],[30.87944,55.28223],[30.81946,55.27931],[30.8257,55.3313],[30.93144,55.3914],[30.90123,55.46621],[30.95204,55.50667],[30.93419,55.6185],[30.86003,55.63169],[30.7845,55.58514],[30.72957,55.66268],[30.67464,55.64176],[30.63344,55.73079],[30.51037,55.76568],[30.51346,55.78982],[30.48257,55.81066],[30.30987,55.83592],[30.27776,55.86819],[30.12136,55.8358],[29.97975,55.87281],[29.80672,55.79569],[29.61446,55.77716],[29.51283,55.70294],[29.3604,55.75862],[29.44692,55.95978],[29.21717,55.98971],[29.08299,56.03427],[28.73418,55.97131],[28.63668,56.07262],[28.68337,56.10173],[28.5529,56.11705],[28.43068,56.09407],[28.37987,56.11399],[28.36888,56.05805],[28.30571,56.06035],[28.15217,56.16964]]]]}},{type:"Feature",properties:{iso1A2:"BZ",iso1A3:"BLZ",iso1N3:"084",wikidata:"Q242",nameEn:"Belize",groups:["013","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["501"]},geometry:{type:"MultiPolygon",coordinates:[[[[-88.3268,18.49048],[-88.48242,18.49164],[-88.71505,18.0707],[-88.8716,17.89535],[-89.03839,18.0067],[-89.15105,17.95104],[-89.14985,17.81563],[-89.15025,17.04813],[-89.22683,15.88619],[-89.17418,15.90898],[-89.02415,15.9063],[-88.95358,15.88698],[-88.40779,16.09624],[-86.92368,17.61462],[-87.84815,18.18511],[-87.85693,18.18266],[-87.86657,18.19971],[-87.87604,18.18313],[-87.90671,18.15213],[-88.03165,18.16657],[-88.03238,18.41778],[-88.26593,18.47617],[-88.29909,18.47591],[-88.3268,18.49048]]]]}},{type:"Feature",properties:{iso1A2:"CA",iso1A3:"CAN",iso1N3:"124",wikidata:"Q16",nameEn:"Canada",groups:["021","003","019","UN"],callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.20349,45.1722],[-67.19603,45.16771],[-67.15965,45.16179],[-67.11316,45.11176],[-67.0216,44.95333],[-66.96824,44.90965],[-66.98249,44.87071],[-66.96824,44.83078],[-66.93432,44.82597],[-67.16117,44.20069],[-61.98255,37.34815],[-56.27503,47.39728],[-53.12387,41.40385],[-46.37635,57.3249],[-77.52957,77.23408],[-68.21821,80.48551],[-49.33696,84.57952],[-140.97446,84.39275],[-141.00116,60.30648],[-140.5227,60.22077],[-140.45648,60.30919],[-139.98024,60.18027],[-139.68991,60.33693],[-139.05831,60.35205],[-139.20603,60.08896],[-139.05365,59.99655],[-138.71149,59.90728],[-138.62145,59.76431],[-137.60623,59.24465],[-137.4925,58.89415],[-136.82619,59.16198],[-136.52365,59.16752],[-136.47323,59.46617],[-136.33727,59.44466],[-136.22381,59.55526],[-136.31566,59.59083],[-135.48007,59.79937],[-135.03069,59.56208],[-135.00267,59.28745],[-134.7047,59.2458],[-134.55699,59.1297],[-134.48059,59.13231],[-134.27175,58.8634],[-133.84645,58.73543],[-133.38523,58.42773],[-131.8271,56.62247],[-130.77769,56.36185],[-130.33965,56.10849],[-130.10173,56.12178],[-130.00093,56.00325],[-130.00857,55.91344],[-130.15373,55.74895],[-129.97513,55.28029],[-130.08035,55.21556],[-130.18765,55.07744],[-130.27203,54.97174],[-130.44184,54.85377],[-130.64499,54.76912],[-130.61931,54.70835],[-133.92876,54.62289],[-133.36909,48.51151],[-125.03842,48.53282],[-123.50039,48.21223],[-123.15614,48.35395],[-123.26565,48.6959],[-123.0093,48.76586],[-123.0093,48.83186],[-123.32163,49.00419],[-95.15355,48.9996],[-95.15357,49.384],[-95.12903,49.37056],[-95.05825,49.35311],[-95.01419,49.35647],[-94.99532,49.36579],[-94.95681,49.37035],[-94.85381,49.32492],[-94.8159,49.32299],[-94.82487,49.29483],[-94.77355,49.11998],[-94.75017,49.09931],[-94.687,48.84077],[-94.70087,48.8339],[-94.70486,48.82365],[-94.69669,48.80918],[-94.69335,48.77883],[-94.58903,48.71803],[-94.54885,48.71543],[-94.53826,48.70216],[-94.44258,48.69223],[-94.4174,48.71049],[-94.27153,48.70232],[-94.25172,48.68404],[-94.25104,48.65729],[-94.23215,48.65202],[-93.85769,48.63284],[-93.83288,48.62745],[-93.80676,48.58232],[-93.80939,48.52439],[-93.79267,48.51631],[-93.66382,48.51845],[-93.47022,48.54357],[-93.44472,48.59147],[-93.40693,48.60948],[-93.39758,48.60364],[-93.3712,48.60599],[-93.33946,48.62787],[-93.25391,48.64266],[-92.94973,48.60866],[-92.7287,48.54005],[-92.6342,48.54133],[-92.62747,48.50278],[-92.69927,48.49573],[-92.71323,48.46081],[-92.65606,48.43471],[-92.50712,48.44921],[-92.45588,48.40624],[-92.48147,48.36609],[-92.37185,48.22259],[-92.27167,48.25046],[-92.30939,48.31251],[-92.26662,48.35651],[-92.202,48.35252],[-92.14732,48.36578],[-92.05339,48.35958],[-91.98929,48.25409],[-91.86125,48.21278],[-91.71231,48.19875],[-91.70451,48.11805],[-91.55649,48.10611],[-91.58025,48.04339],[-91.45829,48.07454],[-91.43248,48.04912],[-91.25025,48.08522],[-91.08016,48.18096],[-90.87588,48.2484],[-90.75045,48.09143],[-90.56444,48.12184],[-90.56312,48.09488],[-90.07418,48.11043],[-89.89974,47.98109],[-89.77248,48.02607],[-89.57972,48.00023],[-89.48837,48.01412],[-88.37033,48.30586],[-84.85871,46.88881],[-84.55635,46.45974],[-84.47607,46.45225],[-84.4481,46.48972],[-84.42101,46.49853],[-84.34174,46.50683],[-84.29893,46.49127],[-84.26351,46.49508],[-84.2264,46.53337],[-84.1945,46.54061],[-84.17723,46.52753],[-84.12885,46.53068],[-84.11196,46.50248],[-84.13451,46.39218],[-84.11254,46.32329],[-84.11615,46.2681],[-84.09756,46.25512],[-84.1096,46.23987],[-83.95399,46.05634],[-83.90453,46.05922],[-83.83329,46.12169],[-83.57017,46.105],[-83.43746,45.99749],[-83.59589,45.82131],[-82.48419,45.30225],[-82.42469,42.992],[-82.4146,42.97626],[-82.4253,42.95423],[-82.45331,42.93139],[-82.4826,42.8068],[-82.46613,42.76615],[-82.51063,42.66025],[-82.51858,42.611],[-82.57583,42.5718],[-82.58873,42.54984],[-82.64242,42.55594],[-82.82964,42.37355],[-83.02253,42.33045],[-83.07837,42.30978],[-83.09837,42.28877],[-83.12724,42.2376],[-83.14962,42.04089],[-83.11184,41.95671],[-82.67862,41.67615],[-78.93684,42.82887],[-78.90712,42.89733],[-78.90905,42.93022],[-78.93224,42.95229],[-78.96312,42.95509],[-78.98126,42.97],[-79.02074,42.98444],[-79.02424,43.01983],[-78.99941,43.05612],[-79.01055,43.06659],[-79.07486,43.07845],[-79.05671,43.10937],[-79.06881,43.12029],[-79.0427,43.13934],[-79.04652,43.16396],[-79.05384,43.17418],[-79.05002,43.20133],[-79.05544,43.21224],[-79.05512,43.25375],[-79.06921,43.26183],[-79.25796,43.54052],[-76.79706,43.63099],[-76.43859,44.09393],[-76.35324,44.13493],[-76.31222,44.19894],[-76.244,44.19643],[-76.1664,44.23051],[-76.16285,44.28262],[-76.00018,44.34896],[-75.95947,44.34463],[-75.8217,44.43176],[-75.76813,44.51537],[-75.41441,44.76614],[-75.2193,44.87821],[-75.01363,44.95608],[-74.99101,44.98051],[-74.8447,45.00606],[-74.76308,45.00624],[-74.76044,44.99491],[-74.73876,44.98856],[-74.7163,45.00017],[-74.47782,44.99747],[-74.32699,44.99029],[-73.35025,45.00942],[-72.71867,45.01551],[-72.17312,45.00587],[-72.09934,45.00571],[-71.75113,45.0114],[-71.50067,45.01357],[-71.48735,45.07784],[-71.42778,45.12624],[-71.40364,45.21382],[-71.44252,45.2361],[-71.37133,45.24624],[-71.29371,45.29996],[-71.22338,45.25184],[-71.19723,45.25438],[-71.14568,45.24128],[-71.08364,45.30623],[-71.01866,45.31573],[-71.0107,45.34819],[-70.95193,45.33895],[-70.91169,45.29849],[-70.89864,45.2398],[-70.84816,45.22698],[-70.80236,45.37444],[-70.82638,45.39828],[-70.78372,45.43269],[-70.65383,45.37592],[-70.62518,45.42286],[-70.72651,45.49771],[-70.68516,45.56964],[-70.54019,45.67291],[-70.38934,45.73215],[-70.41523,45.79497],[-70.25976,45.89675],[-70.24694,45.95138],[-70.31025,45.96424],[-70.23855,46.1453],[-70.29078,46.18832],[-70.18547,46.35357],[-70.05812,46.41768],[-69.99966,46.69543],[-69.22119,47.46461],[-69.05148,47.42012],[-69.05073,47.30076],[-69.05039,47.2456],[-68.89222,47.1807],[-68.70125,47.24399],[-68.60575,47.24659],[-68.57914,47.28431],[-68.38332,47.28723],[-68.37458,47.35851],[-68.23244,47.35712],[-67.94843,47.1925],[-67.87993,47.10377],[-67.78578,47.06473],[-67.78111,45.9392],[-67.75196,45.91814],[-67.80961,45.87531],[-67.75654,45.82324],[-67.80653,45.80022],[-67.80705,45.69528],[-67.6049,45.60725],[-67.43815,45.59162],[-67.42144,45.50584],[-67.50578,45.48971],[-67.42394,45.37969],[-67.48201,45.27351],[-67.34927,45.122],[-67.29754,45.14865],[-67.29748,45.18173],[-67.27039,45.1934],[-67.22751,45.16344],[-67.20349,45.1722]]]]}},{type:"Feature",properties:{iso1A2:"CC",iso1A3:"CCK",iso1N3:"166",wikidata:"Q36004",nameEn:"Cocos (Keeling) Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[96.61846,-10.82438],[96.02343,-12.68334],[97.93979,-12.33309],[96.61846,-10.82438]]]]}},{type:"Feature",properties:{iso1A2:"CD",iso1A3:"COD",iso1N3:"180",wikidata:"Q974",nameEn:"Democratic Republic of the Congo",aliases:["ZR"],groups:["017","202","002","UN"],callingCodes:["243"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.44012,5.07349],[27.09575,5.22305],[26.93064,5.13535],[26.85579,5.03887],[26.74572,5.10685],[26.48595,5.04984],[26.13371,5.25594],[25.86073,5.19455],[25.53271,5.37431],[25.34558,5.29101],[25.31256,5.03668],[24.71816,4.90509],[24.46719,5.0915],[23.38847,4.60013],[22.94817,4.82392],[22.89094,4.79321],[22.84691,4.69887],[22.78526,4.71423],[22.6928,4.47285],[22.60915,4.48821],[22.5431,4.22041],[22.45504,4.13039],[22.27682,4.11347],[22.10721,4.20723],[21.6405,4.317],[21.55904,4.25553],[21.25744,4.33676],[21.21341,4.29285],[21.11214,4.33895],[21.08793,4.39603],[20.90383,4.44877],[20.60184,4.42394],[18.62755,3.47564],[18.63857,3.19342],[18.10683,2.26876],[18.08034,1.58553],[17.85887,1.04327],[17.86989,.58873],[17.95255,.48128],[17.93877,.32424],[17.81204,.23884],[17.66051,-.26535],[17.72112,-.52707],[17.32438,-.99265],[16.97999,-1.12762],[16.70724,-1.45815],[16.50336,-1.8795],[16.16173,-2.16586],[16.22785,-2.59528],[16.1755,-3.25014],[16.21407,-3.2969],[15.89448,-3.9513],[15.53081,-4.042],[15.48121,-4.22062],[15.41785,-4.28381],[15.32693,-4.27282],[15.25411,-4.31121],[15.1978,-4.32388],[14.83101,-4.80838],[14.67948,-4.92093],[14.5059,-4.84956],[14.41499,-4.8825],[14.37366,-4.56125],[14.47284,-4.42941],[14.3957,-4.36623],[14.40672,-4.28381],[13.9108,-4.50906],[13.81162,-4.41842],[13.71794,-4.44864],[13.70417,-4.72601],[13.50305,-4.77818],[13.41764,-4.89897],[13.11182,-4.5942],[13.09648,-4.63739],[13.11195,-4.67745],[12.8733,-4.74346],[12.70868,-4.95505],[12.63465,-4.94632],[12.60251,-5.01715],[12.46297,-5.09408],[12.49815,-5.14058],[12.51589,-5.1332],[12.53586,-5.14658],[12.53599,-5.1618],[12.52301,-5.17481],[12.52318,-5.74353],[12.26557,-5.74031],[12.20376,-5.76338],[11.95767,-5.94705],[12.42245,-6.07585],[13.04371,-5.87078],[16.55507,-5.85631],[16.96282,-7.21787],[17.5828,-8.13784],[18.33635,-8.00126],[19.33698,-7.99743],[19.5469,-7.00195],[20.30218,-6.98955],[20.31846,-6.91953],[20.61689,-6.90876],[20.56263,-7.28566],[21.79824,-7.29628],[21.84856,-9.59871],[22.19039,-9.94628],[22.32604,-10.76291],[22.17954,-10.85884],[22.25951,-11.24911],[22.54205,-11.05784],[23.16602,-11.10577],[23.45631,-10.946],[23.86868,-11.02856],[24.00027,-10.89356],[24.34528,-11.06816],[24.42612,-11.44975],[25.34069,-11.19707],[25.33058,-11.65767],[26.01777,-11.91488],[26.88687,-12.01868],[27.04351,-11.61312],[27.22541,-11.60323],[27.21025,-11.76157],[27.59932,-12.22123],[28.33199,-12.41375],[29.01918,-13.41353],[29.60531,-13.21685],[29.65078,-13.41844],[29.81551,-13.44683],[29.8139,-12.14898],[29.48404,-12.23604],[29.4992,-12.43843],[29.18592,-12.37921],[28.48357,-11.87532],[28.37241,-11.57848],[28.65032,-10.65133],[28.62795,-9.92942],[28.68532,-9.78],[28.56208,-9.49122],[28.51627,-9.44726],[28.52636,-9.35379],[28.36562,-9.30091],[28.38526,-9.23393],[28.9711,-8.66935],[28.88917,-8.4831],[30.79243,-8.27382],[30.2567,-7.14121],[29.52552,-6.2731],[29.43673,-4.44845],[29.23708,-3.75856],[29.21463,-3.3514],[29.25633,-3.05471],[29.17258,-2.99385],[29.16037,-2.95457],[29.09797,-2.91935],[29.09119,-2.87871],[29.0505,-2.81774],[29.00404,-2.81978],[29.00167,-2.78523],[29.04081,-2.7416],[29.00357,-2.70596],[28.94346,-2.69124],[28.89793,-2.66111],[28.90226,-2.62385],[28.89288,-2.55848],[28.87943,-2.55165],[28.86193,-2.53185],[28.86209,-2.5231],[28.87497,-2.50887],[28.88846,-2.50493],[28.89342,-2.49017],[28.89132,-2.47557],[28.86846,-2.44866],[28.86826,-2.41888],[28.89601,-2.37321],[28.95642,-2.37321],[29.00051,-2.29001],[29.105,-2.27043],[29.17562,-2.12278],[29.11847,-1.90576],[29.24458,-1.69663],[29.24323,-1.66826],[29.36322,-1.50887],[29.45038,-1.5054],[29.53062,-1.40499],[29.59061,-1.39016],[29.58388,-.89821],[29.63006,-.8997],[29.62708,-.71055],[29.67176,-.55714],[29.67474,-.47969],[29.65091,-.46777],[29.72687,-.08051],[29.7224,.07291],[29.77454,.16675],[29.81922,.16824],[29.87284,.39166],[29.97413,.52124],[29.95477,.64486],[29.98307,.84295],[30.1484,.89805],[30.22139,.99635],[30.24671,1.14974],[30.48503,1.21675],[31.30127,2.11006],[31.28042,2.17853],[31.20148,2.2217],[31.1985,2.29462],[31.12104,2.27676],[31.07934,2.30207],[31.06593,2.35862],[30.96911,2.41071],[30.91102,2.33332],[30.83059,2.42559],[30.74271,2.43601],[30.75612,2.5863],[30.8857,2.83923],[30.8574,2.9508],[30.77101,3.04897],[30.84251,3.26908],[30.93486,3.40737],[30.94081,3.50847],[30.85153,3.48867],[30.85997,3.5743],[30.80713,3.60506],[30.78512,3.67097],[30.56277,3.62703],[30.57378,3.74567],[30.55396,3.84451],[30.47691,3.83353],[30.27658,3.95653],[30.22374,3.93896],[30.1621,4.10586],[30.06964,4.13221],[29.79666,4.37809],[29.82087,4.56246],[29.49726,4.7007],[29.43341,4.50101],[29.22207,4.34297],[29.03054,4.48784],[28.8126,4.48784],[28.6651,4.42638],[28.20719,4.35614],[27.79551,4.59976],[27.76469,4.79284],[27.65462,4.89375],[27.56656,4.89375],[27.44012,5.07349]]]]}},{type:"Feature",properties:{iso1A2:"CF",iso1A3:"CAF",iso1N3:"140",wikidata:"Q929",nameEn:"Central African Republic",groups:["017","202","002","UN"],callingCodes:["236"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.87758,10.91915],[22.45889,11.00246],[21.72139,10.64136],[21.71479,10.29932],[21.63553,10.217],[21.52766,10.2105],[21.34934,9.95907],[21.26348,9.97642],[20.82979,9.44696],[20.36748,9.11019],[19.06421,9.00367],[18.86388,8.87971],[19.11044,8.68172],[18.79783,8.25929],[18.67455,8.22226],[18.62612,8.14163],[18.64153,8.08714],[18.6085,8.05009],[18.02731,8.01085],[17.93926,7.95853],[17.67288,7.98905],[16.8143,7.53971],[16.6668,7.67281],[16.658,7.75353],[16.59415,7.76444],[16.58315,7.88657],[16.41583,7.77971],[16.40703,7.68809],[15.79942,7.44149],[15.73118,7.52006],[15.49743,7.52179],[15.23397,7.25135],[15.04717,6.77085],[14.96311,6.75693],[14.79966,6.39043],[14.80122,6.34866],[14.74206,6.26356],[14.56149,6.18928],[14.43073,6.08867],[14.42917,6.00508],[14.49455,5.91683],[14.60974,5.91838],[14.62375,5.70466],[14.58951,5.59777],[14.62531,5.51411],[14.52724,5.28319],[14.57083,5.23979],[14.65489,5.21343],[14.73383,4.6135],[15.00825,4.41458],[15.08609,4.30282],[15.10644,4.1362],[15.17482,4.05131],[15.07686,4.01805],[15.73522,3.24348],[15.77725,3.26835],[16.05449,3.02306],[16.08252,2.45708],[16.19357,2.21537],[16.50126,2.84739],[16.46701,2.92512],[16.57598,3.47999],[16.68283,3.54257],[17.01746,3.55136],[17.35649,3.63045],[17.46876,3.70515],[17.60966,3.63705],[17.83421,3.61068],[17.85842,3.53378],[18.05656,3.56893],[18.14902,3.54476],[18.17323,3.47665],[18.24148,3.50302],[18.2723,3.57992],[18.39558,3.58212],[18.49245,3.63924],[18.58711,3.49423],[18.62755,3.47564],[20.60184,4.42394],[20.90383,4.44877],[21.08793,4.39603],[21.11214,4.33895],[21.21341,4.29285],[21.25744,4.33676],[21.55904,4.25553],[21.6405,4.317],[22.10721,4.20723],[22.27682,4.11347],[22.45504,4.13039],[22.5431,4.22041],[22.60915,4.48821],[22.6928,4.47285],[22.78526,4.71423],[22.84691,4.69887],[22.89094,4.79321],[22.94817,4.82392],[23.38847,4.60013],[24.46719,5.0915],[24.71816,4.90509],[25.31256,5.03668],[25.34558,5.29101],[25.53271,5.37431],[25.86073,5.19455],[26.13371,5.25594],[26.48595,5.04984],[26.74572,5.10685],[26.85579,5.03887],[26.93064,5.13535],[27.09575,5.22305],[27.44012,5.07349],[27.26886,5.25876],[27.23017,5.37167],[27.28621,5.56382],[27.22705,5.62889],[27.22705,5.71254],[26.51721,6.09655],[26.58259,6.1987],[26.32729,6.36272],[26.38022,6.63493],[25.90076,7.09549],[25.37461,7.33024],[25.35281,7.42595],[25.20337,7.50312],[25.20649,7.61115],[25.29214,7.66675],[25.25319,7.8487],[24.98855,7.96588],[24.85156,8.16933],[24.35965,8.26177],[24.13238,8.36959],[24.25691,8.69288],[23.51905,8.71749],[23.59065,8.99743],[23.44744,8.99128],[23.4848,9.16959],[23.56263,9.19418],[23.64358,9.28637],[23.64981,9.44303],[23.62179,9.53823],[23.69155,9.67566],[23.67164,9.86923],[23.3128,10.45214],[23.02221,10.69235],[22.87758,10.91915]]]]}},{type:"Feature",properties:{iso1A2:"CG",iso1A3:"COG",iso1N3:"178",wikidata:"Q971",nameEn:"Republic of the Congo",groups:["017","202","002","UN"],callingCodes:["242"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.62755,3.47564],[18.58711,3.49423],[18.49245,3.63924],[18.39558,3.58212],[18.2723,3.57992],[18.24148,3.50302],[18.17323,3.47665],[18.14902,3.54476],[18.05656,3.56893],[17.85842,3.53378],[17.83421,3.61068],[17.60966,3.63705],[17.46876,3.70515],[17.35649,3.63045],[17.01746,3.55136],[16.68283,3.54257],[16.57598,3.47999],[16.46701,2.92512],[16.50126,2.84739],[16.19357,2.21537],[16.15568,2.18955],[16.08563,2.19733],[16.05294,1.9811],[16.14634,1.70259],[16.02647,1.65591],[16.02959,1.76483],[15.48942,1.98265],[15.34776,1.91264],[15.22634,2.03243],[15.00996,1.98887],[14.61145,2.17866],[13.29457,2.16106],[13.13461,1.57238],[13.25447,1.32339],[13.15519,1.23368],[13.89582,1.4261],[14.25186,1.39842],[14.48179,.9152],[14.26066,.57255],[14.10909,.58563],[13.88648,.26652],[13.90632,-.2287],[14.06862,-.20826],[14.2165,-.38261],[14.41887,-.44799],[14.52569,-.57818],[14.41838,-1.89412],[14.25932,-1.97624],[14.23518,-2.15671],[14.16202,-2.23916],[14.23829,-2.33715],[14.10442,-2.49268],[13.85846,-2.46935],[13.92073,-2.35581],[13.75884,-2.09293],[13.47977,-2.43224],[13.02759,-2.33098],[12.82172,-1.91091],[12.61312,-1.8129],[12.44656,-1.92025],[12.47925,-2.32626],[12.04895,-2.41704],[11.96866,-2.33559],[11.74605,-2.39936],[11.57637,-2.33379],[11.64487,-2.61865],[11.5359,-2.85654],[11.64798,-2.81146],[11.80365,-3.00424],[11.70558,-3.0773],[11.70227,-3.17465],[11.96554,-3.30267],[11.8318,-3.5812],[11.92719,-3.62768],[11.87083,-3.71571],[11.68608,-3.68942],[11.57949,-3.52798],[11.48764,-3.51089],[11.22301,-3.69888],[11.12647,-3.94169],[10.75913,-4.39519],[11.50888,-5.33417],[12.00924,-5.02627],[12.16068,-4.90089],[12.20901,-4.75642],[12.25587,-4.79437],[12.32324,-4.78415],[12.40964,-4.60609],[12.64835,-4.55937],[12.76844,-4.38709],[12.87096,-4.40315],[12.91489,-4.47907],[13.09648,-4.63739],[13.11182,-4.5942],[13.41764,-4.89897],[13.50305,-4.77818],[13.70417,-4.72601],[13.71794,-4.44864],[13.81162,-4.41842],[13.9108,-4.50906],[14.40672,-4.28381],[14.3957,-4.36623],[14.47284,-4.42941],[14.37366,-4.56125],[14.41499,-4.8825],[14.5059,-4.84956],[14.67948,-4.92093],[14.83101,-4.80838],[15.1978,-4.32388],[15.25411,-4.31121],[15.32693,-4.27282],[15.41785,-4.28381],[15.48121,-4.22062],[15.53081,-4.042],[15.89448,-3.9513],[16.21407,-3.2969],[16.1755,-3.25014],[16.22785,-2.59528],[16.16173,-2.16586],[16.50336,-1.8795],[16.70724,-1.45815],[16.97999,-1.12762],[17.32438,-.99265],[17.72112,-.52707],[17.66051,-.26535],[17.81204,.23884],[17.93877,.32424],[17.95255,.48128],[17.86989,.58873],[17.85887,1.04327],[18.08034,1.58553],[18.10683,2.26876],[18.63857,3.19342],[18.62755,3.47564]]]]}},{type:"Feature",properties:{iso1A2:"CH",iso1A3:"CHE",iso1N3:"756",wikidata:"Q39",nameEn:"Switzerland",groups:["155","150","UN"],callingCodes:["41"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.72809,47.69282],[8.72617,47.69651],[8.73671,47.7169],[8.70543,47.73121],[8.74251,47.75168],[8.71778,47.76571],[8.68985,47.75686],[8.68022,47.78599],[8.65292,47.80066],[8.64425,47.76398],[8.62408,47.7626],[8.61657,47.79998],[8.56415,47.80633],[8.56814,47.78001],[8.48868,47.77215],[8.45771,47.7493],[8.44807,47.72426],[8.40569,47.69855],[8.4211,47.68407],[8.40473,47.67499],[8.41346,47.66676],[8.42264,47.66667],[8.44711,47.65379],[8.4667,47.65747],[8.46605,47.64103],[8.49656,47.64709],[8.5322,47.64687],[8.52801,47.66059],[8.56141,47.67088],[8.57683,47.66158],[8.60469,47.67239],[8.60695,47.66622],[8.62884,47.65098],[8.62049,47.63757],[8.60412,47.63735],[8.61471,47.64514],[8.60701,47.65271],[8.59545,47.64298],[8.60348,47.61204],[8.57586,47.59537],[8.57449,47.61148],[8.55756,47.62394],[8.51686,47.63476],[8.50747,47.61897],[8.45578,47.60121],[8.46637,47.58389],[8.48949,47.588],[8.49431,47.58107],[8.43235,47.56617],[8.39477,47.57826],[8.38273,47.56608],[8.35512,47.57014],[8.32735,47.57133],[8.30277,47.58607],[8.29524,47.5919],[8.2973,47.60647],[8.2824,47.61225],[8.26313,47.6103],[8.25863,47.61571],[8.23809,47.61204],[8.22577,47.60385],[8.22011,47.6181],[8.20617,47.62141],[8.19378,47.61636],[8.1652,47.5945],[8.14947,47.59558],[8.13823,47.59147],[8.13662,47.58432],[8.11543,47.5841],[8.10395,47.57918],[8.10002,47.56504],[8.08557,47.55768],[8.06689,47.56398],[8.06017,47.56351],[8.04692,47.55561],[8.02136,47.55096],[8.00113,47.55616],[7.97581,47.55493],[7.95494,47.55764],[7.94828,47.54408],[7.91554,47.54765],[7.90773,47.55738],[7.91159,47.57185],[7.88664,47.58854],[7.84412,47.5841],[7.82174,47.58757],[7.79716,47.5575],[7.75261,47.54599],[7.71961,47.54219],[7.69642,47.53297],[7.68101,47.53232],[7.6656,47.53752],[7.66174,47.54554],[7.65083,47.54662],[7.63432,47.56171],[7.63604,47.56387],[7.64859,47.55996],[7.68229,47.56754],[7.68904,47.57133],[7.672,47.58527],[7.67115,47.5871],[7.68486,47.59601],[7.69385,47.60099],[7.68229,47.59905],[7.67395,47.59212],[7.64599,47.59695],[7.64213,47.5944],[7.64309,47.59151],[7.61929,47.57683],[7.60459,47.57869],[7.60523,47.58519],[7.58945,47.59017],[7.58386,47.57536],[7.56684,47.57785],[7.56548,47.57617],[7.55689,47.57232],[7.55652,47.56779],[7.53634,47.55553],[7.52831,47.55347],[7.51723,47.54578],[7.50873,47.54546],[7.49691,47.53821],[7.50588,47.52856],[7.51904,47.53515],[7.53199,47.5284],[7.5229,47.51644],[7.50813,47.51601],[7.50898,47.49819],[7.49025,47.48355],[7.47534,47.47932],[7.43356,47.49712],[7.42923,47.48628],[7.4583,47.47216],[7.4462,47.46264],[7.43088,47.45846],[7.41906,47.44626],[7.40308,47.43638],[7.38216,47.433],[7.38122,47.43208],[7.37349,47.43399],[7.3527,47.43426],[7.34123,47.43873],[7.33818,47.44256],[7.24669,47.4205],[7.17026,47.44312],[7.19583,47.49455],[7.16249,47.49025],[7.12781,47.50371],[7.07425,47.48863],[7.0231,47.50522],[6.98425,47.49432],[7.0024,47.45264],[6.93953,47.43388],[6.93744,47.40714],[6.88542,47.37262],[6.87959,47.35335],[7.03125,47.36996],[7.05198,47.35634],[7.05302,47.33131],[7.01,47.32451],[7.00827,47.3014],[6.94316,47.28747],[6.95108,47.26428],[6.95087,47.24121],[6.86359,47.18015],[6.85069,47.15744],[6.76788,47.1208],[6.68823,47.06616],[6.71531,47.0494],[6.69579,47.0371],[6.68456,47.03714],[6.65915,47.02734],[6.64008,47.00251],[6.61239,46.99083],[6.50315,46.96736],[6.43341,46.92703],[6.46456,46.88865],[6.43216,46.80336],[6.45209,46.77502],[6.38351,46.73171],[6.27135,46.68251],[6.11084,46.57649],[6.1567,46.54402],[6.07269,46.46244],[6.08427,46.44305],[6.06407,46.41676],[6.09926,46.40768],[6.15016,46.3778],[6.15985,46.37721],[6.16987,46.36759],[6.15738,46.3491],[6.13876,46.33844],[6.1198,46.31157],[6.11697,46.29547],[6.1013,46.28512],[6.11926,46.2634],[6.12446,46.25059],[6.10071,46.23772],[6.08563,46.24651],[6.07072,46.24085],[6.0633,46.24583],[6.05029,46.23518],[6.04602,46.23127],[6.03342,46.2383],[6.02461,46.23313],[5.97542,46.21525],[5.96515,46.19638],[5.99573,46.18587],[5.98846,46.17046],[5.98188,46.17392],[5.97508,46.15863],[5.9641,46.14412],[5.95781,46.12925],[5.97893,46.13303],[5.9871,46.14499],[6.01791,46.14228],[6.03614,46.13712],[6.04564,46.14031],[6.05203,46.15191],[6.07491,46.14879],[6.09199,46.15191],[6.09926,46.14373],[6.13397,46.1406],[6.15305,46.15194],[6.18116,46.16187],[6.18871,46.16644],[6.18707,46.17999],[6.19552,46.18401],[6.19807,46.18369],[6.20539,46.19163],[6.21114,46.1927],[6.21273,46.19409],[6.21603,46.19507],[6.21844,46.19837],[6.22222,46.19888],[6.22175,46.20045],[6.23544,46.20714],[6.23913,46.20511],[6.24821,46.20531],[6.26007,46.21165],[6.27694,46.21566],[6.29663,46.22688],[6.31041,46.24417],[6.29474,46.26221],[6.26749,46.24745],[6.24952,46.26255],[6.23775,46.27822],[6.25137,46.29014],[6.24826,46.30175],[6.21981,46.31304],[6.25432,46.3632],[6.53358,46.45431],[6.82312,46.42661],[6.8024,46.39171],[6.77152,46.34784],[6.86052,46.28512],[6.78968,46.14058],[6.89321,46.12548],[6.87868,46.03855],[6.93862,46.06502],[7.00946,45.9944],[7.04151,45.92435],[7.10685,45.85653],[7.56343,45.97421],[7.85949,45.91485],[7.9049,45.99945],[7.98881,45.99867],[8.02906,46.10331],[8.11383,46.11577],[8.16866,46.17817],[8.08814,46.26692],[8.31162,46.38044],[8.30648,46.41587],[8.42464,46.46367],[8.46317,46.43712],[8.45032,46.26869],[8.62242,46.12112],[8.75697,46.10395],[8.80778,46.10085],[8.85617,46.0748],[8.79414,46.00913],[8.78585,45.98973],[8.79362,45.99207],[8.8319,45.9879],[8.85121,45.97239],[8.86688,45.96135],[8.88904,45.95465],[8.93649,45.86775],[8.94372,45.86587],[8.93504,45.86245],[8.91129,45.8388],[8.94737,45.84285],[8.9621,45.83707],[8.99663,45.83466],[9.00324,45.82055],[9.0298,45.82127],[9.03279,45.82865],[9.03793,45.83548],[9.03505,45.83976],[9.04059,45.8464],[9.04546,45.84968],[9.06642,45.8761],[9.09065,45.89906],[8.99257,45.9698],[9.01618,46.04928],[9.24503,46.23616],[9.29226,46.32717],[9.25502,46.43743],[9.28136,46.49685],[9.36128,46.5081],[9.40487,46.46621],[9.45936,46.50873],[9.46117,46.37481],[9.57015,46.2958],[9.71273,46.29266],[9.73086,46.35071],[9.95249,46.38045],[10.07055,46.21668],[10.14439,46.22992],[10.17862,46.25626],[10.10506,46.3372],[10.165,46.41051],[10.03715,46.44479],[10.10307,46.61003],[10.23674,46.63484],[10.25309,46.57432],[10.46136,46.53164],[10.49375,46.62049],[10.44686,46.64162],[10.40475,46.63671],[10.38659,46.67847],[10.47197,46.85698],[10.48376,46.93891],[10.42211,46.96019],[10.42715,46.97495],[10.36933,47.00212],[10.30031,46.92093],[10.24128,46.93147],[10.22675,46.86942],[10.10715,46.84296],[9.98058,46.91434],[9.88266,46.93343],[9.87935,47.01337],[9.60717,47.06091],[9.55721,47.04762],[9.54041,47.06495],[9.47548,47.05257],[9.47139,47.06402],[9.51362,47.08505],[9.52089,47.10019],[9.51044,47.13727],[9.48774,47.17402],[9.4891,47.19346],[9.50318,47.22153],[9.52406,47.24959],[9.53116,47.27029],[9.54773,47.2809],[9.55857,47.29919],[9.58513,47.31334],[9.59978,47.34671],[9.62476,47.36639],[9.65427,47.36824],[9.66243,47.37136],[9.6711,47.37824],[9.67445,47.38429],[9.67334,47.39191],[9.6629,47.39591],[9.65136,47.40504],[9.65043,47.41937],[9.6446,47.43233],[9.64483,47.43842],[9.65863,47.44847],[9.65728,47.45383],[9.6423,47.45599],[9.62475,47.45685],[9.62158,47.45858],[9.60841,47.47178],[9.60484,47.46358],[9.60205,47.46165],[9.59482,47.46305],[9.58208,47.48344],[9.56312,47.49495],[9.55125,47.53629],[9.25619,47.65939],[9.18203,47.65598],[9.17593,47.65399],[9.1755,47.65584],[9.1705,47.65513],[9.15181,47.66904],[9.13845,47.66389],[9.09891,47.67801],[9.02093,47.6868],[8.94093,47.65596],[8.89946,47.64769],[8.87625,47.65441],[8.87383,47.67045],[8.85148,47.69769],[8.87474,47.69425],[8.86881,47.70524],[8.82002,47.71458],[8.80663,47.73821],[8.77309,47.72059],[8.76965,47.7075],[8.79966,47.70222],[8.79511,47.67462],[8.75856,47.68969],[8.72809,47.69282]],[[8.95861,45.96485],[8.96668,45.98436],[8.97741,45.98317],[8.97604,45.96151],[8.95861,45.96485]],[[8.70847,47.68904],[8.68985,47.69552],[8.67538,47.68629],[8.66837,47.68437],[8.65769,47.68928],[8.67508,47.6979],[8.66416,47.71367],[8.68571,47.70954],[8.70237,47.71453],[8.71773,47.69088],[8.70847,47.68904]]]]}},{type:"Feature",properties:{iso1A2:"CI",iso1A3:"CIV",iso1N3:"384",wikidata:"Q1008",nameEn:"Cte d'Ivoire",groups:["011","202","002","UN"],callingCodes:["225"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.52774,3.7105],[-3.34019,4.17519],[-3.10675,5.08515],[-3.11073,5.12675],[-3.063,5.13665],[-2.96554,5.10397],[-2.95261,5.12477],[-2.75502,5.10657],[-2.73074,5.1364],[-2.77625,5.34621],[-2.72737,5.34789],[-2.76614,5.60963],[-2.85378,5.65156],[-2.93132,5.62137],[-2.96671,5.6415],[-2.95323,5.71865],[-3.01896,5.71697],[-3.25999,6.62521],[-3.21954,6.74407],[-3.23327,6.81744],[-2.95438,7.23737],[-2.97822,7.27165],[-2.92339,7.60847],[-2.79467,7.86002],[-2.78395,7.94974],[-2.74819,7.92613],[-2.67787,8.02055],[-2.61232,8.02645],[-2.62901,8.11495],[-2.49037,8.20872],[-2.58243,8.7789],[-2.66357,9.01771],[-2.77799,9.04949],[-2.69814,9.22717],[-2.68802,9.49343],[-2.76494,9.40778],[-2.93012,9.57403],[-3.00765,9.74019],[-3.16609,9.85147],[-3.19306,9.93781],[-3.27228,9.84981],[-3.31779,9.91125],[-3.69703,9.94279],[-4.25999,9.76012],[-4.31392,9.60062],[-4.6426,9.70696],[-4.96621,9.89132],[-4.96453,9.99923],[-5.12465,10.29788],[-5.39602,10.2929],[-5.51058,10.43177],[-5.65135,10.46767],[-5.78124,10.43952],[-5.99478,10.19694],[-6.18851,10.24244],[-6.1731,10.46983],[-6.24795,10.74248],[-6.325,10.68624],[-6.40646,10.69922],[-6.42847,10.5694],[-6.52974,10.59104],[-6.63541,10.66893],[-6.68164,10.35074],[-6.93921,10.35291],[-7.01186,10.25111],[-6.97444,10.21644],[-7.00966,10.15794],[-7.0603,10.14711],[-7.13331,10.24877],[-7.3707,10.24677],[-7.44555,10.44602],[-7.52261,10.4655],[-7.54462,10.40921],[-7.63048,10.46334],[-7.92107,10.15577],[-7.97971,10.17117],[-8.01225,10.1021],[-8.11921,10.04577],[-8.15652,9.94288],[-8.09434,9.86936],[-8.14657,9.55062],[-8.03463,9.39604],[-7.85056,9.41812],[-7.90777,9.20456],[-7.73862,9.08422],[-7.92518,8.99332],[-7.95503,8.81146],[-7.69882,8.66148],[-7.65653,8.36873],[-7.92518,8.50652],[-8.22991,8.48438],[-8.2411,8.24196],[-8.062,8.16071],[-7.98675,8.20134],[-7.99919,8.11023],[-7.94695,8.00925],[-8.06449,8.04989],[-8.13414,7.87991],[-8.09931,7.78626],[-8.21374,7.54466],[-8.4003,7.6285],[-8.47114,7.55676],[-8.41935,7.51203],[-8.37458,7.25794],[-8.29249,7.1691],[-8.31736,6.82837],[-8.59456,6.50612],[-8.48652,6.43797],[-8.45666,6.49977],[-8.38453,6.35887],[-8.3298,6.36381],[-8.17557,6.28222],[-8.00642,6.31684],[-7.90692,6.27728],[-7.83478,6.20309],[-7.8497,6.08932],[-7.79747,6.07696],[-7.78254,5.99037],[-7.70294,5.90625],[-7.67309,5.94337],[-7.48155,5.80974],[-7.46165,5.84934],[-7.43677,5.84687],[-7.43926,5.74787],[-7.37209,5.61173],[-7.43428,5.42355],[-7.36463,5.32944],[-7.46165,5.26256],[-7.48901,5.14118],[-7.55369,5.08667],[-7.53876,4.94294],[-7.59349,4.8909],[-7.53259,4.35145],[-7.52774,3.7105]]]]}},{type:"Feature",properties:{iso1A2:"CK",iso1A3:"COK",iso1N3:"184",wikidata:"Q26988",nameEn:"Cook Islands",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["682"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.15106,-10.26955],[-156.45576,-31.75456],[-156.48634,-15.52824],[-156.50903,-7.4975],[-168.15106,-10.26955]]]]}},{type:"Feature",properties:{iso1A2:"CL",iso1A3:"CHL",iso1N3:"152",wikidata:"Q298",nameEn:"Chile",groups:["005","419","019","UN"],callingCodes:["56"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.60702,-52.65781],[-68.41683,-52.33516],[-69.97824,-52.00845],[-71.99889,-51.98018],[-72.33873,-51.59954],[-72.31343,-50.58411],[-73.15765,-50.78337],[-73.55259,-49.92488],[-73.45156,-49.79461],[-73.09655,-49.14342],[-72.56894,-48.81116],[-72.54042,-48.52392],[-72.27662,-48.28727],[-72.50478,-47.80586],[-71.94152,-47.13595],[-71.68577,-46.55385],[-71.75614,-45.61611],[-71.35687,-45.22075],[-72.06985,-44.81756],[-71.26418,-44.75684],[-71.16436,-44.46244],[-71.81318,-44.38097],[-71.64206,-43.64774],[-72.14828,-42.85321],[-72.15541,-42.15941],[-71.74901,-42.11711],[-71.92726,-40.72714],[-71.37826,-38.91474],[-70.89532,-38.6923],[-71.24279,-37.20264],[-70.95047,-36.4321],[-70.38008,-36.02375],[-70.49416,-35.24145],[-69.87386,-34.13344],[-69.88099,-33.34489],[-70.55832,-31.51559],[-70.14479,-30.36595],[-69.8596,-30.26131],[-69.99507,-29.28351],[-69.80969,-29.07185],[-69.66709,-28.44055],[-69.22504,-27.95042],[-68.77586,-27.16029],[-68.43363,-27.08414],[-68.27677,-26.90626],[-68.59048,-26.49861],[-68.56909,-26.28146],[-68.38372,-26.15353],[-68.57622,-25.32505],[-68.38372,-25.08636],[-68.56909,-24.69831],[-68.24825,-24.42596],[-67.33563,-24.04237],[-66.99632,-22.99839],[-67.18382,-22.81525],[-67.54284,-22.89771],[-67.85114,-22.87076],[-68.18816,-21.28614],[-68.40403,-20.94562],[-68.53957,-20.91542],[-68.55383,-20.7355],[-68.44023,-20.62701],[-68.7276,-20.46178],[-68.74273,-20.08817],[-68.57132,-20.03134],[-68.54611,-19.84651],[-68.66761,-19.72118],[-68.41218,-19.40499],[-68.61989,-19.27584],[-68.80602,-19.08355],[-68.87082,-19.06003],[-68.94987,-18.93302],[-69.07432,-18.28259],[-69.14807,-18.16893],[-69.07496,-18.03715],[-69.28671,-17.94844],[-69.34126,-17.72753],[-69.46623,-17.60518],[-69.46897,-17.4988],[-69.66483,-17.65083],[-69.79087,-17.65563],[-69.82868,-17.72048],[-69.75305,-17.94605],[-69.81607,-18.12582],[-69.96732,-18.25992],[-70.16394,-18.31737],[-70.31267,-18.31258],[-70.378,-18.3495],[-70.59118,-18.35072],[-113.52687,-26.52828],[-68.11646,-58.14883],[-66.07313,-55.19618],[-67.11046,-54.94199],[-67.46182,-54.92205],[-68.01394,-54.8753],[-68.60733,-54.9125],[-68.60702,-52.65781]]]]}},{type:"Feature",properties:{iso1A2:"CM",iso1A3:"CMR",iso1N3:"120",wikidata:"Q1009",nameEn:"Cameroon",groups:["017","202","002","UN"],callingCodes:["237"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.83314,12.62963],[14.55058,12.78256],[14.56101,12.91036],[14.46881,13.08259],[14.08251,13.0797],[14.20204,12.53405],[14.17523,12.41916],[14.22215,12.36533],[14.4843,12.35223],[14.6474,12.17466],[14.61612,11.7798],[14.55207,11.72001],[14.64591,11.66166],[14.6124,11.51283],[14.17821,11.23831],[13.97489,11.30258],[13.78945,11.00154],[13.7403,11.00593],[13.70753,10.94451],[13.73434,10.9255],[13.54964,10.61236],[13.5705,10.53183],[13.43644,10.13326],[13.34111,10.12299],[13.25025,10.03647],[13.25323,10.00127],[13.286,9.9822],[13.27409,9.93232],[13.24132,9.91031],[13.25025,9.86042],[13.29941,9.8296],[13.25472,9.76795],[13.22642,9.57266],[13.02385,9.49334],[12.85628,9.36698],[12.91958,9.33905],[12.90022,9.11411],[12.81085,8.91992],[12.79,8.75361],[12.71701,8.7595],[12.68722,8.65938],[12.44146,8.6152],[12.4489,8.52536],[12.26123,8.43696],[12.24782,8.17904],[12.19271,8.10826],[12.20909,7.97553],[11.99908,7.67302],[12.01844,7.52981],[11.93205,7.47812],[11.84864,7.26098],[11.87396,7.09398],[11.63117,6.9905],[11.55818,6.86186],[11.57755,6.74059],[11.51499,6.60892],[11.42264,6.5882],[11.42041,6.53789],[11.09495,6.51717],[11.09644,6.68437],[10.94302,6.69325],[10.8179,6.83377],[10.83727,6.9358],[10.60789,7.06885],[10.59746,7.14719],[10.57214,7.16345],[10.53639,6.93432],[10.21466,6.88996],[10.15135,7.03781],[9.86314,6.77756],[9.77824,6.79088],[9.70674,6.51717],[9.51757,6.43874],[8.84209,5.82562],[8.88156,5.78857],[8.83687,5.68483],[8.92029,5.58403],[8.78027,5.1243],[8.60302,4.87353],[8.34397,4.30689],[9.22018,3.72052],[9.81162,2.33797],[9.82123,2.35097],[9.83754,2.32428],[9.83238,2.29079],[9.84716,2.24676],[9.89012,2.20457],[9.90749,2.20049],[9.991,2.16561],[11.3561,2.17217],[11.37116,2.29975],[13.28534,2.25716],[13.29457,2.16106],[14.61145,2.17866],[15.00996,1.98887],[15.22634,2.03243],[15.34776,1.91264],[15.48942,1.98265],[16.02959,1.76483],[16.02647,1.65591],[16.14634,1.70259],[16.05294,1.9811],[16.08563,2.19733],[16.15568,2.18955],[16.19357,2.21537],[16.08252,2.45708],[16.05449,3.02306],[15.77725,3.26835],[15.73522,3.24348],[15.07686,4.01805],[15.17482,4.05131],[15.10644,4.1362],[15.08609,4.30282],[15.00825,4.41458],[14.73383,4.6135],[14.65489,5.21343],[14.57083,5.23979],[14.52724,5.28319],[14.62531,5.51411],[14.58951,5.59777],[14.62375,5.70466],[14.60974,5.91838],[14.49455,5.91683],[14.42917,6.00508],[14.43073,6.08867],[14.56149,6.18928],[14.74206,6.26356],[14.80122,6.34866],[14.79966,6.39043],[14.96311,6.75693],[15.04717,6.77085],[15.23397,7.25135],[15.49743,7.52179],[15.56964,7.58936],[15.59272,7.7696],[15.50743,7.79302],[15.20426,8.50892],[15.09484,8.65982],[14.83566,8.80557],[14.35707,9.19611],[14.37094,9.2954],[13.97544,9.6365],[14.01793,9.73169],[14.1317,9.82413],[14.20411,10.00055],[14.4673,10.00264],[14.80082,9.93818],[14.95722,9.97926],[15.05999,9.94845],[15.14043,9.99246],[15.24618,9.99246],[15.41408,9.92876],[15.68761,9.99344],[15.50535,10.1098],[15.30874,10.31063],[15.23724,10.47764],[15.14936,10.53915],[15.15532,10.62846],[15.06737,10.80921],[15.09127,10.87431],[15.04957,11.02347],[15.10021,11.04101],[15.0585,11.40481],[15.13149,11.5537],[15.06595,11.71126],[15.11579,11.79313],[15.04808,11.8731],[15.05786,12.0608],[15.0349,12.10698],[15.00146,12.1223],[14.96952,12.0925],[14.89019,12.16593],[14.90827,12.3269],[14.83314,12.62963]]]]}},{type:"Feature",properties:{iso1A2:"CN",iso1A3:"CHN",iso1N3:"156",wikidata:"Q148",nameEn:"People's Republic of China"},geometry:null},{type:"Feature",properties:{iso1A2:"CO",iso1A3:"COL",iso1N3:"170",wikidata:"Q739",nameEn:"Colombia",groups:["005","419","019","UN"],callingCodes:["57"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.19849,12.65801],[-81.58685,18.0025],[-82.06974,14.49418],[-82.56142,11.91792],[-78.79327,9.93766],[-77.58292,9.22278],[-77.32389,8.81247],[-77.45064,8.49991],[-77.17257,7.97422],[-77.57185,7.51147],[-77.72514,7.72348],[-77.72157,7.47612],[-77.81426,7.48319],[-77.89178,7.22681],[-78.06168,7.07793],[-82.12561,4.00341],[-78.87137,1.47457],[-78.42749,1.15389],[-77.85677,.80197],[-77.7148,.85003],[-77.68613,.83029],[-77.66416,.81604],[-77.67815,.73863],[-77.49984,.64476],[-77.52001,.40782],[-76.89177,.24736],[-76.4094,.24015],[-76.41215,.38228],[-76.23441,.42294],[-75.82927,.09578],[-75.25764,-.11943],[-75.18513,-.0308],[-74.42701,-.50218],[-74.26675,-.97229],[-73.65312,-1.26222],[-72.92587,-2.44514],[-71.75223,-2.15058],[-70.94377,-2.23142],[-70.04609,-2.73906],[-70.71396,-3.7921],[-70.52393,-3.87553],[-70.3374,-3.79505],[-70.28573,-3.82549],[-69.96843,-4.19678],[-69.94924,-4.23116],[-69.93571,-4.2195],[-69.93323,-4.21971],[-69.43395,-1.42219],[-69.4215,-1.01853],[-69.59796,-.75136],[-69.603,-.51947],[-70.04294,-.19043],[-70.04708,.56194],[-69.82577,.59225],[-69.47696,.71065],[-69.20976,.57958],[-69.14422,.84172],[-69.26017,1.06856],[-69.84259,1.07881],[-69.84289,1.69122],[-69.55722,1.77158],[-69.39079,1.72934],[-68.18183,1.72948],[-68.26699,1.83463],[-68.18632,2.00091],[-67.9292,1.82455],[-67.40488,2.22258],[-67.299,1.87494],[-67.15784,1.80439],[-67.08222,1.17441],[-66.85795,1.22998],[-67.21967,2.35778],[-67.65696,2.81691],[-67.85862,2.79173],[-67.85862,2.86727],[-67.30945,3.38393],[-67.50067,3.75812],[-67.62671,3.74303],[-67.85358,4.53249],[-67.83341,5.31104],[-67.59141,5.5369],[-67.63914,5.64963],[-67.58558,5.84537],[-67.43513,5.98835],[-67.4625,6.20625],[-67.60654,6.2891],[-69.41843,6.1072],[-70.10716,6.96516],[-70.7596,7.09799],[-71.03941,6.98163],[-71.37234,7.01588],[-71.42212,7.03854],[-71.44118,7.02116],[-71.82441,7.04314],[-72.04895,7.03837],[-72.19437,7.37034],[-72.43132,7.40034],[-72.47415,7.48928],[-72.45321,7.57232],[-72.47827,7.65604],[-72.46763,7.79518],[-72.44454,7.86031],[-72.46183,7.90682],[-72.45806,7.91141],[-72.47042,7.92306],[-72.48183,7.92909],[-72.48801,7.94329],[-72.47213,7.96106],[-72.39137,8.03534],[-72.35163,8.01163],[-72.36987,8.19976],[-72.4042,8.36513],[-72.65474,8.61428],[-72.77415,9.10165],[-72.94052,9.10663],[-73.02119,9.27584],[-73.36905,9.16636],[-72.98085,9.85253],[-72.88002,10.44309],[-72.4767,11.1117],[-72.24983,11.14138],[-71.9675,11.65536],[-71.3275,11.85],[-70.92579,11.96275],[-71.19849,12.65801]]]]}},{type:"Feature",properties:{iso1A2:"CP",iso1A3:"CPT",wikidata:"Q161258",nameEn:"Clipperton Island",country:"FR",groups:["EU","013","003","019","UN"],isoStatus:"excRes"},geometry:{type:"MultiPolygon",coordinates:[[[[-110.36279,9.79626],[-108.755,9.84085],[-109.04145,11.13245],[-110.36279,9.79626]]]]}},{type:"Feature",properties:{iso1A2:"CQ",iso1A3:"CRQ",iso1N3:"680",m49:"680",wikidata:"Q3405693",ccTLD:null,nameEn:"Sark",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.65349,49.15373],[-2.09454,49.46288],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{iso1A2:"CR",iso1A3:"CRI",iso1N3:"188",wikidata:"Q800",nameEn:"Costa Rica",groups:["013","003","419","019","UN"],callingCodes:["506"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.68276,11.01562],[-83.66597,10.79916],[-83.90838,10.71161],[-84.68197,11.07568],[-84.92439,10.9497],[-85.60529,11.22607],[-85.71223,11.06868],[-86.14524,11.09059],[-87.41779,5.02401],[-82.94503,7.93865],[-82.89978,8.04083],[-82.89137,8.05755],[-82.88641,8.10219],[-82.9388,8.26634],[-83.05209,8.33394],[-82.93056,8.43465],[-82.8679,8.44042],[-82.8382,8.48117],[-82.83322,8.52464],[-82.83975,8.54755],[-82.82739,8.60153],[-82.8794,8.6981],[-82.92068,8.74832],[-82.91377,8.774],[-82.88253,8.83331],[-82.72126,8.97125],[-82.93516,9.07687],[-82.93516,9.46741],[-82.84871,9.4973],[-82.87919,9.62645],[-82.77206,9.59573],[-82.66667,9.49746],[-82.61345,9.49881],[-82.56507,9.57279],[-82.51044,9.65379],[-83.54024,10.96805],[-83.68276,11.01562]]]]}},{type:"Feature",properties:{iso1A2:"CU",iso1A3:"CUB",iso1N3:"192",wikidata:"Q241",nameEn:"Cuba",groups:["029","003","419","019","UN"],callingCodes:["53"]},geometry:{type:"MultiPolygon",coordinates:[[[[-73.62304,20.6935],[-82.02215,24.23074],[-85.77883,21.92705],[-74.81171,18.82201],[-73.62304,20.6935]]]]}},{type:"Feature",properties:{iso1A2:"CV",iso1A3:"CPV",iso1N3:"132",wikidata:"Q1011",nameEn:"Cape Verde",groups:["Q105472","011","202","002","UN"],callingCodes:["238"]},geometry:{type:"MultiPolygon",coordinates:[[[[-28.81604,14.57305],[-20.39702,14.12816],[-23.37101,19.134],[-28.81604,14.57305]]]]}},{type:"Feature",properties:{iso1A2:"CW",iso1A3:"CUW",iso1N3:"531",wikidata:"Q25279",nameEn:"Curaao",aliases:["NL-CW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["599"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.90012,12.62309],[-69.59009,12.46019],[-68.99639,11.79035],[-68.33524,11.78151],[-68.90012,12.62309]]]]}},{type:"Feature",properties:{iso1A2:"CX",iso1A3:"CXR",iso1N3:"162",wikidata:"Q31063",nameEn:"Christmas Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.66835,-9.31927],[104.67494,-11.2566],[106.66176,-11.14349],[105.66835,-9.31927]]]]}},{type:"Feature",properties:{iso1A2:"CY",iso1A3:"CYP",iso1N3:"196",wikidata:"Q229",nameEn:"Republic of Cyprus",groups:["Q644636","EU","145","142","UN"],driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.60361,35.16647],[32.46489,35.48584],[30.15137,34.08517],[32.74412,34.43926],[32.75515,34.64985],[32.76136,34.68318],[32.79433,34.67883],[32.82717,34.70622],[32.86014,34.70585],[32.86167,34.68734],[32.9068,34.66102],[32.91398,34.67343],[32.93043,34.67091],[32.92824,34.66821],[32.93535,34.66317],[32.93756,34.67072],[32.93989,34.67034],[32.94127,34.67426],[32.95567,34.6839],[32.98967,34.67981],[32.98668,34.67268],[32.99014,34.65518],[32.98046,34.65336],[32.969,34.6549],[32.9639,34.65866],[32.96154,34.65587],[32.95277,34.65104],[32.95471,34.64528],[32.95323,34.64075],[32.95516,34.63541],[32.96312,34.63236],[32.96718,34.63446],[32.96968,34.64046],[33.0138,34.64424],[33.26744,34.49942],[33.83531,34.73974],[33.70575,34.97947],[33.70639,34.99303],[33.71514,35.00294],[33.69731,35.01754],[33.69938,35.03123],[33.67678,35.03866],[33.63765,35.03869],[33.61215,35.0527],[33.59658,35.03635],[33.567,35.04803],[33.57478,35.06049],[33.53975,35.08151],[33.48915,35.06594],[33.47666,35.00701],[33.45256,35.00288],[33.45178,35.02078],[33.47825,35.04103],[33.48136,35.0636],[33.46813,35.10564],[33.41675,35.16325],[33.4076,35.20062],[33.38575,35.2018],[33.37248,35.18698],[33.3717,35.1788],[33.36569,35.17479],[33.35612,35.17402],[33.35596,35.17942],[33.34964,35.17803],[33.35056,35.18328],[33.31955,35.18096],[33.3072,35.16816],[33.27068,35.16815],[33.15138,35.19504],[33.11105,35.15639],[33.08249,35.17319],[33.01192,35.15639],[32.94471,35.09422],[32.86406,35.1043],[32.85733,35.07742],[32.70779,35.14127],[32.70947,35.18328],[32.64864,35.19967],[32.60361,35.16647]]],[[[33.7343,35.01178],[33.74144,35.01053],[33.7492,35.01319],[33.74983,35.02274],[33.74265,35.02329],[33.73781,35.02181],[33.7343,35.01178]]],[[[33.77553,34.99518],[33.77312,34.9976],[33.75994,35.00113],[33.75682,34.99916],[33.76605,34.99543],[33.76738,34.99188],[33.7778,34.98981],[33.77843,34.988],[33.78149,34.98854],[33.78318,34.98699],[33.78571,34.98951],[33.78917,34.98854],[33.79191,34.98914],[33.78516,34.99582],[33.77553,34.99518]]],[[[33.82051,35.0667],[33.8012,35.04786],[33.81524,35.04192],[33.83055,35.02865],[33.82875,35.01685],[33.84045,35.00616],[33.85216,35.00579],[33.85891,35.001],[33.85488,34.98462],[33.84616,34.98511],[33.83459,34.97448],[33.84028,34.97179],[33.84741,34.97167],[33.86018,34.97381],[33.90146,34.96458],[33.98684,34.76642],[35.48515,34.70851],[35.51152,36.10954],[34.23164,35.1777],[33.99999,35.07016],[33.94869,35.07277],[33.92495,35.06789],[33.90247,35.07686],[33.89322,35.06789],[33.87438,35.08118],[33.85261,35.0574],[33.8355,35.05777],[33.82051,35.0667]]]]}},{type:"Feature",properties:{iso1A2:"CZ",iso1A3:"CZE",iso1N3:"203",wikidata:"Q213",nameEn:"Czechia",groups:["EU","151","150","UN"],callingCodes:["420"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.82803,50.86966],[14.79139,50.81438],[14.70661,50.84096],[14.61993,50.86049],[14.63434,50.8883],[14.65259,50.90513],[14.64802,50.93241],[14.58024,50.91443],[14.56374,50.922],[14.59702,50.96148],[14.59908,50.98685],[14.58215,50.99306],[14.56432,51.01008],[14.53438,51.00374],[14.53321,51.01679],[14.49873,51.02242],[14.50809,51.0427],[14.49991,51.04692],[14.49154,51.04382],[14.49202,51.02286],[14.45827,51.03712],[14.41335,51.02086],[14.30098,51.05515],[14.25665,50.98935],[14.28776,50.97718],[14.32353,50.98556],[14.32793,50.97379],[14.30251,50.96606],[14.31422,50.95243],[14.39848,50.93866],[14.38691,50.89907],[14.30098,50.88448],[14.27123,50.89386],[14.24314,50.88761],[14.22331,50.86049],[14.02982,50.80662],[13.98864,50.8177],[13.89113,50.78533],[13.89444,50.74142],[13.82942,50.7251],[13.76316,50.73487],[13.70204,50.71771],[13.65977,50.73096],[13.52474,50.70394],[13.53748,50.67654],[13.5226,50.64721],[13.49742,50.63133],[13.46413,50.60102],[13.42189,50.61243],[13.37485,50.64931],[13.37805,50.627],[13.32264,50.60317],[13.32594,50.58009],[13.29454,50.57904],[13.25158,50.59268],[13.19043,50.50237],[13.13424,50.51709],[13.08301,50.50132],[13.0312,50.50944],[13.02038,50.4734],[13.02147,50.44763],[12.98433,50.42016],[12.94058,50.40944],[12.82465,50.45738],[12.73476,50.43237],[12.73044,50.42268],[12.70731,50.39948],[12.67261,50.41949],[12.51356,50.39694],[12.48747,50.37278],[12.49214,50.35228],[12.48256,50.34784],[12.46643,50.35527],[12.43722,50.33774],[12.43371,50.32506],[12.39924,50.32302],[12.40158,50.29521],[12.36594,50.28289],[12.35425,50.23993],[12.33263,50.24367],[12.32445,50.20442],[12.33847,50.19432],[12.32596,50.17146],[12.29232,50.17524],[12.28063,50.19544],[12.28755,50.22429],[12.23943,50.24594],[12.24791,50.25525],[12.26953,50.25189],[12.25119,50.27079],[12.20823,50.2729],[12.18013,50.32146],[12.10907,50.32041],[12.13716,50.27396],[12.09287,50.25032],[12.19335,50.19997],[12.21484,50.16399],[12.1917,50.13434],[12.2073,50.10315],[12.23709,50.10213],[12.27433,50.0771],[12.26111,50.06331],[12.30798,50.05719],[12.49908,49.97305],[12.47264,49.94222],[12.55197,49.92094],[12.48256,49.83575],[12.46603,49.78882],[12.40489,49.76321],[12.4462,49.70233],[12.52553,49.68415],[12.53544,49.61888],[12.56188,49.6146],[12.60155,49.52887],[12.64782,49.52565],[12.64121,49.47628],[12.669,49.42935],[12.71227,49.42363],[12.75854,49.3989],[12.78168,49.34618],[12.88414,49.33541],[12.88249,49.35479],[12.94859,49.34079],[13.03618,49.30417],[13.02957,49.27399],[13.05883,49.26259],[13.17665,49.16713],[13.17019,49.14339],[13.20405,49.12303],[13.23689,49.11412],[13.28242,49.1228],[13.39479,49.04812],[13.40802,48.98851],[13.50221,48.93752],[13.50552,48.97441],[13.58319,48.96899],[13.61624,48.9462],[13.67739,48.87886],[13.73854,48.88538],[13.76994,48.83537],[13.78977,48.83319],[13.8096,48.77877],[13.84023,48.76988],[14.06151,48.66873],[14.01482,48.63788],[14.09104,48.5943],[14.20691,48.5898],[14.33909,48.55852],[14.43076,48.58855],[14.4587,48.64695],[14.56139,48.60429],[14.60808,48.62881],[14.66762,48.58215],[14.71794,48.59794],[14.72756,48.69502],[14.80584,48.73489],[14.80821,48.77711],[14.81545,48.7874],[14.94773,48.76268],[14.95641,48.75915],[14.9758,48.76857],[14.98112,48.77524],[14.9782,48.7766],[14.98032,48.77959],[14.95072,48.79101],[14.98917,48.90082],[14.97612,48.96983],[14.99878,49.01444],[15.15534,48.99056],[15.16358,48.94278],[15.26177,48.95766],[15.28305,48.98831],[15.34823,48.98444],[15.48027,48.94481],[15.51357,48.91549],[15.61622,48.89541],[15.6921,48.85973],[15.75341,48.8516],[15.78087,48.87644],[15.84404,48.86921],[16.06034,48.75436],[16.37345,48.729],[16.40915,48.74576],[16.46134,48.80865],[16.67008,48.77699],[16.68518,48.7281],[16.71883,48.73806],[16.79779,48.70998],[16.90354,48.71541],[16.93955,48.60371],[17.00215,48.70887],[17.11202,48.82925],[17.19355,48.87602],[17.29054,48.85546],[17.3853,48.80936],[17.45671,48.85004],[17.5295,48.81117],[17.7094,48.86721],[17.73126,48.87885],[17.77944,48.92318],[17.87831,48.92679],[17.91814,49.01784],[18.06885,49.03157],[18.1104,49.08624],[18.15022,49.24518],[18.18456,49.28909],[18.36446,49.3267],[18.4139,49.36517],[18.4084,49.40003],[18.44686,49.39467],[18.54848,49.47059],[18.53063,49.49022],[18.57183,49.51162],[18.6144,49.49824],[18.67757,49.50895],[18.74761,49.492],[18.84521,49.51672],[18.84786,49.5446],[18.80479,49.6815],[18.72838,49.68163],[18.69817,49.70473],[18.62676,49.71983],[18.62943,49.74603],[18.62645,49.75002],[18.61368,49.75426],[18.61278,49.7618],[18.57183,49.83334],[18.60341,49.86256],[18.57045,49.87849],[18.57697,49.91565],[18.54299,49.92537],[18.54495,49.9079],[18.53423,49.89906],[18.41604,49.93498],[18.33562,49.94747],[18.33278,49.92415],[18.31914,49.91565],[18.27794,49.93863],[18.27107,49.96779],[18.21752,49.97309],[18.20241,49.99958],[18.10628,50.00223],[18.07898,50.04535],[18.03212,50.06574],[18.00396,50.04954],[18.04585,50.03311],[18.04585,50.01194],[18.00191,50.01723],[17.86886,49.97452],[17.77669,50.02253],[17.7506,50.07896],[17.6888,50.12037],[17.66683,50.10275],[17.59404,50.16437],[17.70528,50.18812],[17.76296,50.23382],[17.72176,50.25665],[17.74648,50.29966],[17.69292,50.32859],[17.67764,50.28977],[17.58889,50.27837],[17.3702,50.28123],[17.34548,50.2628],[17.34273,50.32947],[17.27681,50.32246],[17.19991,50.3654],[17.19579,50.38817],[17.14498,50.38117],[17.1224,50.39494],[16.89229,50.45117],[16.85933,50.41093],[16.90877,50.38642],[16.94448,50.31281],[16.99803,50.30316],[17.02138,50.27772],[16.99803,50.25753],[17.02825,50.23118],[17.00353,50.21449],[16.98018,50.24172],[16.8456,50.20834],[16.7014,50.09659],[16.63137,50.1142],[16.55446,50.16613],[16.56407,50.21009],[16.42674,50.32509],[16.39379,50.3207],[16.3622,50.34875],[16.36495,50.37679],[16.30289,50.38292],[16.28118,50.36891],[16.22821,50.41054],[16.21585,50.40627],[16.19526,50.43291],[16.31413,50.50274],[16.34572,50.49575],[16.44597,50.58041],[16.33611,50.66579],[16.23174,50.67101],[16.20839,50.63096],[16.10265,50.66405],[16.02437,50.60046],[15.98317,50.61528],[16.0175,50.63009],[15.97219,50.69799],[15.87331,50.67188],[15.81683,50.75666],[15.73186,50.73885],[15.43798,50.80833],[15.3803,50.77187],[15.36656,50.83956],[15.2773,50.8907],[15.27043,50.97724],[15.2361,50.99886],[15.1743,50.9833],[15.16744,51.01959],[15.11937,50.99021],[15.10152,51.01095],[15.06218,51.02269],[15.03895,51.0123],[15.02433,51.0242],[14.96419,50.99108],[15.01088,50.97984],[14.99852,50.86817],[14.82803,50.86966]]]]}},{type:"Feature",properties:{iso1A2:"DE",iso1A3:"DEU",iso1N3:"276",wikidata:"Q183",nameEn:"Germany",groups:["EU","155","150","UN"],callingCodes:["49"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.70847,47.68904],[8.71773,47.69088],[8.70237,47.71453],[8.68571,47.70954],[8.66416,47.71367],[8.67508,47.6979],[8.65769,47.68928],[8.66837,47.68437],[8.67538,47.68629],[8.68985,47.69552],[8.70847,47.68904]]],[[[8.72617,47.69651],[8.72809,47.69282],[8.75856,47.68969],[8.79511,47.67462],[8.79966,47.70222],[8.76965,47.7075],[8.77309,47.72059],[8.80663,47.73821],[8.82002,47.71458],[8.86881,47.70524],[8.87474,47.69425],[8.85148,47.69769],[8.87383,47.67045],[8.87625,47.65441],[8.89946,47.64769],[8.94093,47.65596],[9.02093,47.6868],[9.09891,47.67801],[9.13845,47.66389],[9.15181,47.66904],[9.1705,47.65513],[9.1755,47.65584],[9.17593,47.65399],[9.18203,47.65598],[9.25619,47.65939],[9.55125,47.53629],[9.72564,47.53282],[9.73683,47.53564],[9.73528,47.54527],[9.75798,47.57982],[9.77612,47.59359],[9.80254,47.59419],[9.82591,47.58158],[9.8189,47.54688],[9.87499,47.52953],[9.87733,47.54688],[9.92407,47.53111],[9.96229,47.53612],[9.97173,47.51551],[9.97837,47.51314],[10.00003,47.48216],[10.03859,47.48927],[10.07131,47.45531],[10.09001,47.46005],[10.1052,47.4316],[10.06897,47.40709],[10.09819,47.35724],[10.11805,47.37228],[10.16362,47.36674],[10.17648,47.38889],[10.2127,47.38019],[10.22774,47.38904],[10.23757,47.37609],[10.19998,47.32832],[10.2147,47.31014],[10.17648,47.29149],[10.17531,47.27167],[10.23257,47.27088],[10.33424,47.30813],[10.39851,47.37623],[10.4324,47.38494],[10.4359,47.41183],[10.47446,47.43318],[10.46278,47.47901],[10.44291,47.48453],[10.4324,47.50111],[10.45145,47.55472],[10.42973,47.57752],[10.43892,47.58408],[10.48202,47.58434],[10.45444,47.5558],[10.48849,47.54057],[10.56912,47.53584],[10.60337,47.56755],[10.63456,47.5591],[10.68832,47.55752],[10.6965,47.54253],[10.7596,47.53228],[10.77596,47.51729],[10.88814,47.53701],[10.91268,47.51334],[10.86945,47.5015],[10.87061,47.4786],[10.90918,47.48571],[10.93839,47.48018],[10.92437,47.46991],[10.98513,47.42882],[10.97111,47.41617],[10.97111,47.39561],[11.11835,47.39719],[11.12536,47.41222],[11.20482,47.43198],[11.25157,47.43277],[11.22002,47.3964],[11.27844,47.39956],[11.29597,47.42566],[11.33804,47.44937],[11.4175,47.44621],[11.38128,47.47465],[11.4362,47.51413],[11.52618,47.50939],[11.58578,47.52281],[11.58811,47.55515],[11.60681,47.57881],[11.63934,47.59202],[11.84052,47.58354],[11.85572,47.60166],[12.0088,47.62451],[12.02282,47.61033],[12.05788,47.61742],[12.13734,47.60639],[12.17824,47.61506],[12.18145,47.61019],[12.17737,47.60121],[12.18568,47.6049],[12.20398,47.60667],[12.20801,47.61082],[12.19895,47.64085],[12.18507,47.65984],[12.18347,47.66663],[12.16769,47.68167],[12.16217,47.70105],[12.18303,47.70065],[12.22571,47.71776],[12.2542,47.7433],[12.26238,47.73544],[12.24017,47.69534],[12.26004,47.67725],[12.27991,47.68827],[12.336,47.69534],[12.37222,47.68433],[12.40137,47.69215],[12.44018,47.6952],[12.44117,47.6741],[12.50076,47.62293],[12.53816,47.63553],[12.57438,47.63238],[12.6071,47.6741],[12.7357,47.6787],[12.77435,47.66102],[12.76492,47.64485],[12.82101,47.61493],[12.77427,47.58025],[12.80699,47.54477],[12.84672,47.54556],[12.85256,47.52741],[12.9624,47.47452],[12.98344,47.48716],[12.9998,47.46267],[13.04537,47.49426],[13.03252,47.53373],[13.05355,47.56291],[13.04537,47.58183],[13.06641,47.58577],[13.06407,47.60075],[13.09562,47.63304],[13.07692,47.68814],[13.01382,47.72116],[12.98578,47.7078],[12.92969,47.71094],[12.91333,47.7178],[12.90274,47.72513],[12.91711,47.74026],[12.9353,47.74788],[12.94371,47.76281],[12.93202,47.77302],[12.96311,47.79957],[12.98543,47.82896],[13.00588,47.84374],[12.94163,47.92927],[12.93886,47.94046],[12.93642,47.94436],[12.93419,47.94063],[12.92668,47.93879],[12.91985,47.94069],[12.9211,47.95135],[12.91683,47.95647],[12.87476,47.96195],[12.8549,48.01122],[12.76141,48.07373],[12.74973,48.10885],[12.7617,48.12796],[12.78595,48.12445],[12.80676,48.14979],[12.82673,48.15245],[12.8362,48.15876],[12.836,48.1647],[12.84475,48.16556],[12.87126,48.20318],[12.95306,48.20629],[13.02083,48.25689],[13.0851,48.27711],[13.126,48.27867],[13.18093,48.29577],[13.26039,48.29422],[13.31419,48.31643],[13.40656,48.3719],[13.43929,48.43386],[13.42527,48.45711],[13.45727,48.51092],[13.43695,48.55776],[13.45214,48.56472],[13.46967,48.55157],[13.50663,48.57506],[13.50131,48.58091],[13.51291,48.59023],[13.57535,48.55912],[13.59705,48.57013],[13.62508,48.55501],[13.65186,48.55092],[13.66113,48.53558],[13.72802,48.51208],[13.74816,48.53058],[13.7513,48.5624],[13.76921,48.55324],[13.80519,48.58026],[13.80038,48.59487],[13.82208,48.6151],[13.82609,48.62345],[13.81901,48.6761],[13.81283,48.68426],[13.81791,48.69832],[13.79337,48.71375],[13.81863,48.73257],[13.82266,48.75544],[13.84023,48.76988],[13.8096,48.77877],[13.78977,48.83319],[13.76994,48.83537],[13.73854,48.88538],[13.67739,48.87886],[13.61624,48.9462],[13.58319,48.96899],[13.50552,48.97441],[13.50221,48.93752],[13.40802,48.98851],[13.39479,49.04812],[13.28242,49.1228],[13.23689,49.11412],[13.20405,49.12303],[13.17019,49.14339],[13.17665,49.16713],[13.05883,49.26259],[13.02957,49.27399],[13.03618,49.30417],[12.94859,49.34079],[12.88249,49.35479],[12.88414,49.33541],[12.78168,49.34618],[12.75854,49.3989],[12.71227,49.42363],[12.669,49.42935],[12.64121,49.47628],[12.64782,49.52565],[12.60155,49.52887],[12.56188,49.6146],[12.53544,49.61888],[12.52553,49.68415],[12.4462,49.70233],[12.40489,49.76321],[12.46603,49.78882],[12.48256,49.83575],[12.55197,49.92094],[12.47264,49.94222],[12.49908,49.97305],[12.30798,50.05719],[12.26111,50.06331],[12.27433,50.0771],[12.23709,50.10213],[12.2073,50.10315],[12.1917,50.13434],[12.21484,50.16399],[12.19335,50.19997],[12.09287,50.25032],[12.13716,50.27396],[12.10907,50.32041],[12.18013,50.32146],[12.20823,50.2729],[12.25119,50.27079],[12.26953,50.25189],[12.24791,50.25525],[12.23943,50.24594],[12.28755,50.22429],[12.28063,50.19544],[12.29232,50.17524],[12.32596,50.17146],[12.33847,50.19432],[12.32445,50.20442],[12.33263,50.24367],[12.35425,50.23993],[12.36594,50.28289],[12.40158,50.29521],[12.39924,50.32302],[12.43371,50.32506],[12.43722,50.33774],[12.46643,50.35527],[12.48256,50.34784],[12.49214,50.35228],[12.48747,50.37278],[12.51356,50.39694],[12.67261,50.41949],[12.70731,50.39948],[12.73044,50.42268],[12.73476,50.43237],[12.82465,50.45738],[12.94058,50.40944],[12.98433,50.42016],[13.02147,50.44763],[13.02038,50.4734],[13.0312,50.50944],[13.08301,50.50132],[13.13424,50.51709],[13.19043,50.50237],[13.25158,50.59268],[13.29454,50.57904],[13.32594,50.58009],[13.32264,50.60317],[13.37805,50.627],[13.37485,50.64931],[13.42189,50.61243],[13.46413,50.60102],[13.49742,50.63133],[13.5226,50.64721],[13.53748,50.67654],[13.52474,50.70394],[13.65977,50.73096],[13.70204,50.71771],[13.76316,50.73487],[13.82942,50.7251],[13.89444,50.74142],[13.89113,50.78533],[13.98864,50.8177],[14.02982,50.80662],[14.22331,50.86049],[14.24314,50.88761],[14.27123,50.89386],[14.30098,50.88448],[14.38691,50.89907],[14.39848,50.93866],[14.31422,50.95243],[14.30251,50.96606],[14.32793,50.97379],[14.32353,50.98556],[14.28776,50.97718],[14.25665,50.98935],[14.30098,51.05515],[14.41335,51.02086],[14.45827,51.03712],[14.49202,51.02286],[14.49154,51.04382],[14.49991,51.04692],[14.50809,51.0427],[14.49873,51.02242],[14.53321,51.01679],[14.53438,51.00374],[14.56432,51.01008],[14.58215,50.99306],[14.59908,50.98685],[14.59702,50.96148],[14.56374,50.922],[14.58024,50.91443],[14.64802,50.93241],[14.65259,50.90513],[14.63434,50.8883],[14.61993,50.86049],[14.70661,50.84096],[14.79139,50.81438],[14.82803,50.86966],[14.81664,50.88148],[14.89681,50.9422],[14.89252,50.94999],[14.92942,50.99744],[14.95529,51.04552],[14.97938,51.07742],[14.98229,51.11354],[14.99689,51.12205],[14.99079,51.14284],[14.99646,51.14365],[15.00083,51.14974],[14.99414,51.15813],[14.99311,51.16249],[15.0047,51.16874],[15.01242,51.21285],[15.04288,51.28387],[14.98008,51.33449],[14.96899,51.38367],[14.9652,51.44793],[14.94749,51.47155],[14.73219,51.52922],[14.72652,51.53902],[14.73047,51.54606],[14.71125,51.56209],[14.7727,51.61263],[14.75759,51.62318],[14.75392,51.67445],[14.69065,51.70842],[14.66386,51.73282],[14.64625,51.79472],[14.60493,51.80473],[14.59089,51.83302],[14.6588,51.88359],[14.6933,51.9044],[14.70601,51.92944],[14.7177,51.94048],[14.72163,51.95188],[14.71836,51.95606],[14.7139,51.95643],[14.70488,51.97679],[14.71339,52.00337],[14.76026,52.06624],[14.72971,52.09167],[14.6917,52.10283],[14.67683,52.13936],[14.70616,52.16927],[14.68344,52.19612],[14.71319,52.22144],[14.70139,52.25038],[14.58149,52.28007],[14.56378,52.33838],[14.55228,52.35264],[14.54423,52.42568],[14.63056,52.48993],[14.60081,52.53116],[14.6289,52.57136],[14.61073,52.59847],[14.22071,52.81175],[14.13806,52.82392],[14.12256,52.84311],[14.15873,52.87715],[14.14056,52.95786],[14.25954,53.00264],[14.35044,53.05829],[14.38679,53.13669],[14.36696,53.16444],[14.37853,53.20405],[14.40662,53.21098],[14.45125,53.26241],[14.44133,53.27427],[14.4215,53.27724],[14.35209,53.49506],[14.3273,53.50587],[14.30416,53.55499],[14.31904,53.61581],[14.2853,53.63392],[14.28477,53.65955],[14.27133,53.66613],[14.2836,53.67721],[14.26782,53.69866],[14.27249,53.74464],[14.21323,53.8664],[14.20823,53.90776],[14.18544,53.91258],[14.20647,53.91671],[14.22634,53.9291],[14.20811,54.12784],[13.93395,54.84044],[12.85844,54.82438],[11.90309,54.38543],[11.00303,54.63689],[10.31111,54.65968],[10.16755,54.73883],[9.89314,54.84171],[9.73563,54.8247],[9.61187,54.85548],[9.62734,54.88057],[9.58937,54.88785],[9.4659,54.83131],[9.43155,54.82586],[9.41213,54.84254],[9.38532,54.83968],[9.36496,54.81749],[9.33849,54.80233],[9.32771,54.80602],[9.2474,54.8112],[9.23445,54.83432],[9.24631,54.84726],[9.20571,54.85841],[9.14275,54.87421],[9.04629,54.87249],[8.92795,54.90452],[8.81178,54.90518],[8.76387,54.8948],[8.63979,54.91069],[8.55769,54.91837],[8.45719,55.06747],[8.02459,55.09613],[5.45168,54.20039],[6.91025,53.44221],[7.00198,53.32672],[7.19052,53.31866],[7.21679,53.20058],[7.22681,53.18165],[7.17898,53.13817],[7.21694,53.00742],[7.07253,52.81083],[7.04557,52.63318],[6.77307,52.65375],[6.71641,52.62905],[6.69507,52.488],[6.94293,52.43597],[6.99041,52.47235],[7.03417,52.40237],[7.07044,52.37805],[7.02703,52.27941],[7.06365,52.23789],[7.03729,52.22695],[6.9897,52.2271],[6.97189,52.20329],[6.83984,52.11728],[6.76117,52.11895],[6.68128,52.05052],[6.83035,51.9905],[6.82357,51.96711],[6.72319,51.89518],[6.68386,51.91861],[6.58556,51.89386],[6.50231,51.86313],[6.47179,51.85395],[6.38815,51.87257],[6.40704,51.82771],[6.30593,51.84998],[6.29872,51.86801],[6.21443,51.86801],[6.15349,51.90439],[6.11551,51.89769],[6.16902,51.84094],[6.10337,51.84829],[6.06705,51.86136],[5.99848,51.83195],[5.94568,51.82786],[5.98665,51.76944],[5.95003,51.7493],[6.04091,51.71821],[6.02767,51.6742],[6.11759,51.65609],[6.09055,51.60564],[6.18017,51.54096],[6.21724,51.48568],[6.20654,51.40049],[6.22641,51.39948],[6.22674,51.36135],[6.16977,51.33169],[6.07889,51.24432],[6.07889,51.17038],[6.17384,51.19589],[6.16706,51.15677],[5.98292,51.07469],[5.9541,51.03496],[5.9134,51.06736],[5.86735,51.05182],[5.87849,51.01969],[5.90493,51.00198],[5.90296,50.97356],[5.95282,50.98728],[6.02697,50.98303],[6.01615,50.93367],[6.09297,50.92066],[6.07486,50.89307],[6.08805,50.87223],[6.07693,50.86025],[6.07431,50.84674],[6.05702,50.85179],[6.05623,50.8572],[6.01921,50.84435],[6.02328,50.81694],[6.00462,50.80065],[5.98404,50.80988],[5.97497,50.79992],[6.02624,50.77453],[6.01976,50.75398],[6.03889,50.74618],[6.0326,50.72647],[6.0406,50.71848],[6.04428,50.72861],[6.11707,50.72231],[6.17852,50.6245],[6.26957,50.62444],[6.2476,50.60392],[6.24888,50.59869],[6.24005,50.58732],[6.22581,50.5907],[6.20281,50.56952],[6.17739,50.55875],[6.17802,50.54179],[6.19735,50.53576],[6.19579,50.5313],[6.18716,50.52653],[6.19193,50.5212],[6.20599,50.52089],[6.22335,50.49578],[6.26637,50.50272],[6.30809,50.50058],[6.3465,50.48833],[6.34005,50.46083],[6.37219,50.45397],[6.36852,50.40776],[6.34406,50.37994],[6.3688,50.35898],[6.40785,50.33557],[6.40641,50.32425],[6.35701,50.31139],[6.32488,50.32333],[6.29949,50.30887],[6.28797,50.27458],[6.208,50.25179],[6.16853,50.2234],[6.18364,50.20815],[6.18739,50.1822],[6.14588,50.17106],[6.14132,50.14971],[6.15298,50.14126],[6.1379,50.12964],[6.12055,50.09171],[6.11274,50.05916],[6.13458,50.04141],[6.13044,50.02929],[6.14666,50.02207],[6.13794,50.01466],[6.13273,50.02019],[6.1295,50.01849],[6.13806,50.01056],[6.14948,50.00908],[6.14147,49.99563],[6.1701,49.98518],[6.16466,49.97086],[6.17872,49.9537],[6.18554,49.95622],[6.18045,49.96611],[6.19089,49.96991],[6.19856,49.95053],[6.22094,49.94955],[6.22608,49.929],[6.21882,49.92403],[6.22926,49.92096],[6.23496,49.89972],[6.26146,49.88203],[6.28874,49.87592],[6.29692,49.86685],[6.30963,49.87021],[6.32303,49.85133],[6.32098,49.83728],[6.33585,49.83785],[6.34267,49.84974],[6.36576,49.85032],[6.40022,49.82029],[6.42521,49.81591],[6.42905,49.81091],[6.44131,49.81443],[6.45425,49.81164],[6.47111,49.82263],[6.48718,49.81267],[6.50647,49.80916],[6.51215,49.80124],[6.52121,49.81338],[6.53122,49.80666],[6.52169,49.79787],[6.50534,49.78952],[6.51669,49.78336],[6.51056,49.77515],[6.51828,49.76855],[6.51646,49.75961],[6.50174,49.75292],[6.50193,49.73291],[6.51805,49.72425],[6.51397,49.72058],[6.50261,49.72718],[6.49535,49.72645],[6.49694,49.72205],[6.5042,49.71808],[6.50647,49.71353],[6.49785,49.71118],[6.48014,49.69767],[6.46048,49.69092],[6.44654,49.67799],[6.42937,49.66857],[6.42726,49.66078],[6.43768,49.66021],[6.4413,49.65722],[6.41861,49.61723],[6.39822,49.60081],[6.385,49.59946],[6.37464,49.58886],[6.38342,49.5799],[6.38024,49.57593],[6.36676,49.57813],[6.35825,49.57053],[6.38228,49.55855],[6.38072,49.55171],[6.35666,49.52931],[6.36788,49.50377],[6.36907,49.48931],[6.36778,49.46937],[6.38352,49.46463],[6.39168,49.4667],[6.40274,49.46546],[6.42432,49.47683],[6.55404,49.42464],[6.533,49.40748],[6.60091,49.36864],[6.58807,49.35358],[6.572,49.35027],[6.60186,49.31055],[6.66583,49.28065],[6.69274,49.21661],[6.71843,49.2208],[6.73256,49.20486],[6.71137,49.18808],[6.73765,49.16375],[6.78265,49.16793],[6.83385,49.15162],[6.84703,49.15734],[6.86225,49.18185],[6.85016,49.19354],[6.85119,49.20038],[6.83555,49.21249],[6.85939,49.22376],[6.89298,49.20863],[6.91875,49.22261],[6.93831,49.2223],[6.94028,49.21641],[6.95963,49.203],[6.97273,49.2099],[7.01318,49.19018],[7.03459,49.19096],[7.0274,49.17042],[7.03178,49.15734],[7.04662,49.13724],[7.04409,49.12123],[7.04843,49.11422],[7.05548,49.11185],[7.06642,49.11415],[7.07162,49.1255],[7.09007,49.13094],[7.07859,49.15031],[7.10715,49.15631],[7.10384,49.13787],[7.12504,49.14253],[7.1358,49.1282],[7.1593,49.1204],[7.23473,49.12971],[7.29514,49.11426],[7.3195,49.14231],[7.35995,49.14399],[7.3662,49.17308],[7.44052,49.18354],[7.44455,49.16765],[7.49473,49.17],[7.49172,49.13915],[7.53012,49.09818],[7.56416,49.08136],[7.62575,49.07654],[7.63618,49.05428],[7.75948,49.04562],[7.79557,49.06583],[7.86386,49.03499],[7.93641,49.05544],[7.97783,49.03161],[8.14189,48.97833],[8.22604,48.97352],[8.19989,48.95825],[8.12813,48.87985],[8.10253,48.81829],[8.06802,48.78957],[8.0326,48.79017],[8.01534,48.76085],[7.96994,48.75606],[7.96812,48.72491],[7.89002,48.66317],[7.84098,48.64217],[7.80057,48.5857],[7.80167,48.54758],[7.80647,48.51239],[7.76833,48.48945],[7.73109,48.39192],[7.74562,48.32736],[7.69022,48.30018],[7.6648,48.22219],[7.57137,48.12292],[7.56966,48.03265],[7.62302,47.97898],[7.55673,47.87371],[7.55975,47.83953],[7.52764,47.78161],[7.54761,47.72912],[7.53722,47.71635],[7.51266,47.70197],[7.51915,47.68335],[7.52067,47.66437],[7.53384,47.65115],[7.5591,47.63849],[7.57423,47.61628],[7.58851,47.60794],[7.59301,47.60058],[7.58945,47.59017],[7.60523,47.58519],[7.60459,47.57869],[7.61929,47.57683],[7.64309,47.59151],[7.64213,47.5944],[7.64599,47.59695],[7.67395,47.59212],[7.68229,47.59905],[7.69385,47.60099],[7.68486,47.59601],[7.67115,47.5871],[7.672,47.58527],[7.68904,47.57133],[7.68229,47.56754],[7.64859,47.55996],[7.63604,47.56387],[7.63432,47.56171],[7.65083,47.54662],[7.66174,47.54554],[7.6656,47.53752],[7.68101,47.53232],[7.69642,47.53297],[7.71961,47.54219],[7.75261,47.54599],[7.79716,47.5575],[7.82174,47.58757],[7.84412,47.5841],[7.88664,47.58854],[7.91159,47.57185],[7.90773,47.55738],[7.91554,47.54765],[7.94828,47.54408],[7.95494,47.55764],[7.97581,47.55493],[8.00113,47.55616],[8.02136,47.55096],[8.04692,47.55561],[8.06017,47.56351],[8.06689,47.56398],[8.08557,47.55768],[8.10002,47.56504],[8.10395,47.57918],[8.11543,47.5841],[8.13662,47.58432],[8.13823,47.59147],[8.14947,47.59558],[8.1652,47.5945],[8.19378,47.61636],[8.20617,47.62141],[8.22011,47.6181],[8.22577,47.60385],[8.23809,47.61204],[8.25863,47.61571],[8.26313,47.6103],[8.2824,47.61225],[8.2973,47.60647],[8.29524,47.5919],[8.30277,47.58607],[8.32735,47.57133],[8.35512,47.57014],[8.38273,47.56608],[8.39477,47.57826],[8.43235,47.56617],[8.49431,47.58107],[8.48949,47.588],[8.46637,47.58389],[8.45578,47.60121],[8.50747,47.61897],[8.51686,47.63476],[8.55756,47.62394],[8.57449,47.61148],[8.57586,47.59537],[8.60348,47.61204],[8.59545,47.64298],[8.60701,47.65271],[8.61471,47.64514],[8.60412,47.63735],[8.62049,47.63757],[8.62884,47.65098],[8.60695,47.66622],[8.60469,47.67239],[8.57683,47.66158],[8.56141,47.67088],[8.52801,47.66059],[8.5322,47.64687],[8.49656,47.64709],[8.46605,47.64103],[8.4667,47.65747],[8.44711,47.65379],[8.42264,47.66667],[8.41346,47.66676],[8.40473,47.67499],[8.4211,47.68407],[8.40569,47.69855],[8.44807,47.72426],[8.45771,47.7493],[8.48868,47.77215],[8.56814,47.78001],[8.56415,47.80633],[8.61657,47.79998],[8.62408,47.7626],[8.64425,47.76398],[8.65292,47.80066],[8.68022,47.78599],[8.68985,47.75686],[8.71778,47.76571],[8.74251,47.75168],[8.70543,47.73121],[8.73671,47.7169],[8.72617,47.69651]]]]}},{type:"Feature",properties:{iso1A2:"DG",iso1A3:"DGA",wikidata:"Q184851",nameEn:"Diego Garcia",country:"GB",groups:["IO","BOTS","014","202","002","UN"],isoStatus:"excRes",callingCodes:["246"]},geometry:{type:"MultiPolygon",coordinates:[[[[73.14823,-7.76302],[73.09982,-6.07324],[71.43792,-7.73904],[73.14823,-7.76302]]]]}},{type:"Feature",properties:{iso1A2:"DJ",iso1A3:"DJI",iso1N3:"262",wikidata:"Q977",nameEn:"Djibouti",groups:["014","202","002","UN"],callingCodes:["253"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.90659,12.3823],[43.90659,12.3823],[43.32909,12.59711],[43.29075,12.79154],[42.86195,12.58747],[42.7996,12.42629],[42.6957,12.36201],[42.46941,12.52661],[42.4037,12.46478],[41.95461,11.81157],[41.82878,11.72361],[41.77727,11.49902],[41.8096,11.33606],[41.80056,10.97127],[42.06302,10.92599],[42.13691,10.97586],[42.42669,10.98493],[42.62989,11.09711],[42.75111,11.06992],[42.79037,10.98493],[42.95776,10.98533],[43.90659,12.3823]]]]}},{type:"Feature",properties:{iso1A2:"DK",iso1A3:"DNK",iso1N3:"208",wikidata:"Q756617",nameEn:"Kingdom of Denmark"},geometry:null},{type:"Feature",properties:{iso1A2:"DM",iso1A3:"DMA",iso1N3:"212",wikidata:"Q784",nameEn:"Dominica",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 767"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.32485,14.91445],[-60.86656,15.82603],[-61.95646,15.5094],[-61.32485,14.91445]]]]}},{type:"Feature",properties:{iso1A2:"DO",iso1A3:"DOM",iso1N3:"214",wikidata:"Q786",nameEn:"Dominican Republic",groups:["029","003","419","019","UN"],callingCodes:["1 809","1 829","1 849"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.87844,21.7938],[-72.38946,20.27111],[-71.77419,19.73128],[-71.75865,19.70231],[-71.7429,19.58445],[-71.71449,19.55364],[-71.71268,19.53374],[-71.6802,19.45008],[-71.69448,19.37866],[-71.77766,19.33823],[-71.73229,19.26686],[-71.62642,19.21212],[-71.65337,19.11759],[-71.69938,19.10916],[-71.71088,19.08353],[-71.74088,19.0437],[-71.88102,18.95007],[-71.77766,18.95007],[-71.72624,18.87802],[-71.71885,18.78423],[-71.82556,18.62551],[-71.95412,18.64939],[-72.00201,18.62312],[-71.88102,18.50125],[-71.90875,18.45821],[-71.69952,18.34101],[-71.78271,18.18302],[-71.75465,18.14405],[-71.74994,18.11115],[-71.73783,18.07177],[-71.75671,18.03456],[-72.29523,17.48026],[-68.39466,16.14167],[-67.87844,21.7938]]]]}},{type:"Feature",properties:{iso1A2:"DZ",iso1A3:"DZA",iso1N3:"012",wikidata:"Q262",nameEn:"Algeria",groups:["015","002","UN"],callingCodes:["213"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.59123,37.14286],[5.10072,39.89531],[-2.27707,35.35051],[-2.21248,35.08532],[-2.21445,35.04378],[-2.04734,34.93218],[-1.97833,34.93218],[-1.97469,34.886],[-1.73707,34.74226],[-1.84569,34.61907],[-1.69788,34.48056],[-1.78042,34.39018],[-1.64666,34.10405],[-1.73494,33.71721],[-1.59508,33.59929],[-1.67067,33.27084],[-1.46249,33.0499],[-1.54244,32.95499],[-1.37794,32.73628],[-.9912,32.52467],[-1.24998,32.32993],[-1.24453,32.1917],[-1.15735,32.12096],[-1.22829,32.07832],[-2.46166,32.16603],[-2.93873,32.06557],[-2.82784,31.79459],[-3.66314,31.6339],[-3.66386,31.39202],[-3.77647,31.31912],[-3.77103,31.14984],[-3.54944,31.0503],[-3.65418,30.85566],[-3.64735,30.67539],[-4.31774,30.53229],[-4.6058,30.28343],[-5.21671,29.95253],[-5.58831,29.48103],[-5.72121,29.52322],[-5.75616,29.61407],[-6.69965,29.51623],[-6.78351,29.44634],[-6.95824,29.50924],[-7.61585,29.36252],[-8.6715,28.71194],[-8.66879,27.6666],[-8.66674,27.31569],[-4.83423,24.99935],[1.15698,21.12843],[1.20992,20.73533],[3.24648,19.81703],[3.12501,19.1366],[3.36082,18.9745],[4.26651,19.14224],[5.8153,19.45101],[7.38361,20.79165],[7.48273,20.87258],[11.96886,23.51735],[11.62498,24.26669],[11.41061,24.21456],[10.85323,24.5595],[10.33159,24.5465],[10.02432,24.98124],[10.03146,25.35635],[9.38834,26.19288],[9.51696,26.39148],[9.89569,26.57696],[9.78136,29.40961],[9.3876,30.16738],[9.55544,30.23971],[9.07483,32.07865],[8.35999,32.50101],[8.31895,32.83483],[8.1179,33.05086],[8.11433,33.10175],[7.83028,33.18851],[7.73687,33.42114],[7.54088,33.7726],[7.52851,34.06493],[7.66174,34.20167],[7.74207,34.16492],[7.81242,34.21841],[7.86264,34.3987],[8.20482,34.57575],[8.29655,34.72798],[8.25189,34.92009],[8.30727,34.95378],[8.3555,35.10007],[8.47318,35.23376],[8.30329,35.29884],[8.36086,35.47774],[8.35371,35.66373],[8.26472,35.73669],[8.2626,35.91733],[8.40731,36.42208],[8.18936,36.44939],[8.16167,36.48817],[8.47609,36.66607],[8.46537,36.7706],[8.57613,36.78062],[8.67706,36.8364],[8.62972,36.86499],[8.64044,36.9401],[8.59123,37.14286]]]]}},{type:"Feature",properties:{iso1A2:"EA",wikidata:"Q28868874",nameEn:"Ceuta, Melilla",country:"ES",level:"territory",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"EC",iso1A3:"ECU",iso1N3:"218",wikidata:"Q736",nameEn:"Ecuador"},geometry:null},{type:"Feature",properties:{iso1A2:"EE",iso1A3:"EST",iso1N3:"233",wikidata:"Q191",nameEn:"Estonia",aliases:["EW"],groups:["EU","154","150","UN"],callingCodes:["372"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.32936,60.00121],[20.5104,59.15546],[19.84909,57.57876],[22.80496,57.87798],[23.20055,57.56697],[24.26221,57.91787],[24.3579,57.87471],[25.19484,58.0831],[25.28237,57.98539],[25.29581,58.08288],[25.73499,57.90193],[26.05949,57.84744],[26.0324,57.79037],[26.02456,57.78342],[26.027,57.78158],[26.0266,57.77441],[26.02069,57.77169],[26.02415,57.76865],[26.03332,57.7718],[26.0543,57.76105],[26.08098,57.76619],[26.2029,57.7206],[26.1866,57.6849],[26.29253,57.59244],[26.46527,57.56885],[26.54675,57.51813],[26.90364,57.62823],[27.34698,57.52242],[27.31919,57.57672],[27.40393,57.62125],[27.3746,57.66834],[27.52615,57.72843],[27.50171,57.78842],[27.56689,57.83356],[27.78526,57.83963],[27.81841,57.89244],[27.67282,57.92627],[27.62393,58.09462],[27.48541,58.22615],[27.55489,58.39525],[27.36366,58.78381],[27.74429,58.98351],[27.80482,59.1116],[27.87978,59.18097],[27.90911,59.24353],[28.00689,59.28351],[28.14215,59.28934],[28.19284,59.35791],[28.20537,59.36491],[28.21137,59.38058],[28.19061,59.39962],[28.04187,59.47017],[27.85643,59.58538],[26.90044,59.63819],[26.32936,60.00121]]]]}},{type:"Feature",properties:{iso1A2:"EG",iso1A3:"EGY",iso1N3:"818",wikidata:"Q79",nameEn:"Egypt",groups:["015","002","UN"],callingCodes:["20"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.62659,31.82938],[26.92891,33.39516],[24.8458,31.39877],[25.01077,30.73861],[24.71117,30.17441],[24.99968,29.24574],[24.99885,21.99535],[33.17563,22.00405],[34.0765,22.00501],[37.8565,22.00903],[34.4454,27.91479],[34.8812,29.36878],[34.92298,29.45305],[34.26742,31.21998],[34.24012,31.29591],[34.23572,31.2966],[34.21853,31.32363],[34.052,31.46619],[33.62659,31.82938]]]]}},{type:"Feature",properties:{iso1A2:"EH",iso1A3:"ESH",iso1N3:"732",wikidata:"Q6250",nameEn:"Western Sahara",groups:["015","002"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.66879,27.6666],[-8.77527,27.66663],[-8.71787,26.9898],[-9.08698,26.98639],[-9.56957,26.90042],[-9.81998,26.71379],[-10.68417,26.90984],[-11.35695,26.8505],[-11.23622,26.72023],[-11.38635,26.611],[-11.62052,26.05229],[-12.06001,26.04442],[-12.12281,25.13682],[-12.92147,24.39502],[-13.00628,24.01923],[-13.75627,23.77231],[-14.10361,22.75501],[-14.1291,22.41636],[-14.48112,22.00886],[-14.47329,21.63839],[-14.78487,21.36587],[-16.44269,21.39745],[-16.9978,21.36239],[-17.02707,21.34022],[-17.21511,21.34226],[-17.35589,20.80492],[-17.0471,20.76408],[-17.0695,20.85742],[-17.06781,20.92697],[-17.0396,20.9961],[-17.0357,21.05368],[-16.99806,21.12142],[-16.95474,21.33997],[-13.01525,21.33343],[-13.08438,22.53866],[-13.15313,22.75649],[-13.10753,22.89493],[-13.00412,23.02297],[-12.5741,23.28975],[-12.36213,23.3187],[-12.14969,23.41935],[-12.00251,23.4538],[-12.0002,25.9986],[-8.66721,25.99918],[-8.66674,27.31569],[-8.66879,27.6666]]]]}},{type:"Feature",properties:{iso1A2:"ER",iso1A3:"ERI",iso1N3:"232",wikidata:"Q986",nameEn:"Eritrea",groups:["014","202","002","UN"],callingCodes:["291"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.99158,15.81743],[39.63762,18.37348],[38.57727,17.98125],[38.45916,17.87167],[38.37133,17.66269],[38.13362,17.53906],[37.50967,17.32199],[37.42694,17.04041],[36.99777,17.07172],[36.92193,16.23451],[36.76371,15.80831],[36.69761,15.75323],[36.54276,15.23478],[36.44337,15.14963],[36.54376,14.25597],[36.56536,14.26177],[36.55659,14.28237],[36.63364,14.31172],[36.85787,14.32201],[37.01622,14.2561],[37.09486,14.27155],[37.13206,14.40746],[37.3106,14.44657],[37.47319,14.2149],[37.528,14.18413],[37.91287,14.89447],[38.0364,14.72745],[38.25562,14.67287],[38.3533,14.51323],[38.45748,14.41445],[38.78306,14.4754],[38.98058,14.54895],[39.02834,14.63717],[39.16074,14.65187],[39.14772,14.61827],[39.19547,14.56996],[39.23888,14.56365],[39.26927,14.48801],[39.2302,14.44598],[39.2519,14.40393],[39.37685,14.54402],[39.52756,14.49011],[39.50585,14.55735],[39.58182,14.60987],[39.76632,14.54264],[39.9443,14.41024],[40.07236,14.54264],[40.14649,14.53969],[40.21128,14.39342],[40.25686,14.41445],[40.9167,14.11152],[41.25097,13.60787],[41.62864,13.38626],[42.05841,12.80912],[42.21469,12.75832],[42.2798,12.6355],[42.4037,12.46478],[42.46941,12.52661],[42.6957,12.36201],[42.7996,12.42629],[42.86195,12.58747],[43.29075,12.79154],[40.99158,15.81743]]]]}},{type:"Feature",properties:{iso1A2:"ES",iso1A3:"ESP",iso1N3:"724",wikidata:"Q29",nameEn:"Spain"},geometry:null},{type:"Feature",properties:{iso1A2:"ET",iso1A3:"ETH",iso1N3:"231",wikidata:"Q115",nameEn:"Ethiopia",groups:["014","202","002","UN"],callingCodes:["251"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.4037,12.46478],[42.2798,12.6355],[42.21469,12.75832],[42.05841,12.80912],[41.62864,13.38626],[41.25097,13.60787],[40.9167,14.11152],[40.25686,14.41445],[40.21128,14.39342],[40.14649,14.53969],[40.07236,14.54264],[39.9443,14.41024],[39.76632,14.54264],[39.58182,14.60987],[39.50585,14.55735],[39.52756,14.49011],[39.37685,14.54402],[39.2519,14.40393],[39.2302,14.44598],[39.26927,14.48801],[39.23888,14.56365],[39.19547,14.56996],[39.14772,14.61827],[39.16074,14.65187],[39.02834,14.63717],[38.98058,14.54895],[38.78306,14.4754],[38.45748,14.41445],[38.3533,14.51323],[38.25562,14.67287],[38.0364,14.72745],[37.91287,14.89447],[37.528,14.18413],[37.47319,14.2149],[37.3106,14.44657],[37.13206,14.40746],[37.09486,14.27155],[37.01622,14.2561],[36.85787,14.32201],[36.63364,14.31172],[36.55659,14.28237],[36.56536,14.26177],[36.54376,14.25597],[36.44653,13.95666],[36.48824,13.83954],[36.38993,13.56459],[36.24545,13.36759],[36.13374,12.92665],[36.16651,12.88019],[36.14268,12.70879],[36.01458,12.72478],[35.70476,12.67101],[35.24302,11.91132],[35.11492,11.85156],[35.05832,11.71158],[35.09556,11.56278],[34.95704,11.24448],[35.01215,11.19626],[34.93172,10.95946],[34.97789,10.91559],[34.97491,10.86147],[34.86916,10.78832],[34.86618,10.74588],[34.77532,10.69027],[34.77383,10.74588],[34.59062,10.89072],[34.4372,10.781],[34.2823,10.53508],[34.34783,10.23914],[34.32102,10.11599],[34.22718,10.02506],[34.20484,9.9033],[34.13186,9.7492],[34.08717,9.55243],[34.10229,9.50238],[34.14304,9.04654],[34.14453,8.60204],[34.01346,8.50041],[33.89579,8.4842],[33.87195,8.41938],[33.71407,8.3678],[33.66938,8.44442],[33.54575,8.47094],[33.3119,8.45474],[33.19721,8.40317],[33.1853,8.29264],[33.18083,8.13047],[33.08401,8.05822],[33.0006,7.90333],[33.04944,7.78989],[33.24637,7.77939],[33.32531,7.71297],[33.44745,7.7543],[33.71407,7.65983],[33.87642,7.5491],[34.02984,7.36449],[34.03878,7.27437],[34.01495,7.25664],[34.19369,7.12807],[34.19369,7.04382],[34.35753,6.91963],[34.47669,6.91076],[34.53925,6.82794],[34.53776,6.74808],[34.65096,6.72589],[34.77459,6.5957],[34.87736,6.60161],[35.01738,6.46991],[34.96227,6.26415],[35.00546,5.89387],[35.12611,5.68937],[35.13058,5.62118],[35.31188,5.50106],[35.29938,5.34042],[35.50792,5.42431],[35.8576,5.33413],[35.81968,5.10757],[35.82118,4.77382],[35.9419,4.61933],[35.95449,4.53244],[36.03924,4.44406],[36.84474,4.44518],[37.07724,4.33503],[38.14168,3.62487],[38.45812,3.60445],[38.52336,3.62551],[38.91938,3.51198],[39.07736,3.5267],[39.19954,3.47834],[39.49444,3.45521],[39.51551,3.40895],[39.55132,3.39634],[39.58339,3.47434],[39.76808,3.67058],[39.86043,3.86974],[40.77498,4.27683],[41.1754,3.94079],[41.89488,3.97375],[42.07619,4.17667],[42.55853,4.20518],[42.84526,4.28357],[42.97746,4.44032],[43.04177,4.57923],[43.40263,4.79289],[44.02436,4.9451],[44.98104,4.91821],[47.97917,8.00124],[47.92477,8.00111],[46.99339,7.9989],[44.19222,8.93028],[43.32613,9.59205],[43.23518,9.84605],[43.0937,9.90579],[42.87643,10.18441],[42.69452,10.62672],[42.95776,10.98533],[42.79037,10.98493],[42.75111,11.06992],[42.62989,11.09711],[42.42669,10.98493],[42.13691,10.97586],[42.06302,10.92599],[41.80056,10.97127],[41.8096,11.33606],[41.77727,11.49902],[41.82878,11.72361],[41.95461,11.81157],[42.4037,12.46478]]]]}},{type:"Feature",properties:{iso1A2:"EU",iso1A3:"EUE",wikidata:"Q458",nameEn:"European Union",level:"union",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"FI",iso1A3:"FIN",iso1N3:"246",wikidata:"Q33",nameEn:"Finland",aliases:["SF"]},geometry:null},{type:"Feature",properties:{iso1A2:"FJ",iso1A3:"FJI",iso1N3:"242",wikidata:"Q712",nameEn:"Fiji",groups:["054","009","UN"],driveSide:"left",callingCodes:["679"]},geometry:{type:"MultiPolygon",coordinates:[[[[174.245,-23.1974],[179.99999,-22.5],[179.99999,-11.5],[174,-11.5],[174.245,-23.1974]]],[[[-176.76826,-14.95183],[-180,-14.96041],[-180,-22.90585],[-176.74538,-22.89767],[-176.76826,-14.95183]]]]}},{type:"Feature",properties:{iso1A2:"FK",iso1A3:"FLK",iso1N3:"238",wikidata:"Q9648",nameEn:"Falkland Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.67376,-55.11859],[-54.56126,-51.26248],[-61.26735,-50.63919],[-63.67376,-55.11859]]]]}},{type:"Feature",properties:{iso1A2:"FM",iso1A3:"FSM",iso1N3:"583",wikidata:"Q702",nameEn:"Federated States of Micronesia",groups:["057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["691"]},geometry:{type:"MultiPolygon",coordinates:[[[[138.20583,13.3783],[136.27107,6.73747],[156.88247,-1.39237],[165.19726,6.22546],[138.20583,13.3783]]]]}},{type:"Feature",properties:{iso1A2:"FO",iso1A3:"FRO",iso1N3:"234",wikidata:"Q4628",nameEn:"Faroe Islands",country:"DK",groups:["154","150","UN"],callingCodes:["298"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.51774,62.35338],[-6.51083,60.95272],[-5.70102,62.77194],[-8.51774,62.35338]]]]}},{type:"Feature",properties:{iso1A2:"FR",iso1A3:"FRA",iso1N3:"250",wikidata:"Q142",nameEn:"France"},geometry:null},{type:"Feature",properties:{iso1A2:"FX",iso1A3:"FXX",iso1N3:"249",wikidata:"Q212429",nameEn:"Metropolitan France",country:"FR",groups:["EU","155","150","UN"],isoStatus:"excRes",callingCodes:["33"]},geometry:{type:"MultiPolygon",coordinates:[[[[2.55904,51.07014],[2.18458,51.52087],[1.17405,50.74239],[-2.02963,49.91866],[-2.09454,49.46288],[-1.83944,49.23037],[-2.00491,48.86706],[-2.65349,49.15373],[-6.28985,48.93406],[-1.81005,43.59738],[-1.77289,43.38957],[-1.79319,43.37497],[-1.78184,43.36235],[-1.78829,43.35192],[-1.77307,43.342],[-1.75913,43.34422],[-1.75334,43.34107],[-1.75079,43.3317],[-1.7397,43.32979],[-1.73074,43.29481],[-1.69407,43.31378],[-1.62481,43.30726],[-1.63052,43.28591],[-1.61341,43.25269],[-1.57674,43.25269],[-1.55963,43.28828],[-1.50992,43.29481],[-1.45289,43.27049],[-1.40942,43.27272],[-1.3758,43.24511],[-1.41562,43.12815],[-1.47555,43.08372],[-1.44067,43.047],[-1.35272,43.02658],[-1.34419,43.09665],[-1.32209,43.1127],[-1.28008,43.11842],[-1.26996,43.11832],[-1.27038,43.11712],[-1.2879,43.10494],[-1.29765,43.09427],[-1.30823,43.07102],[-1.25244,43.04164],[-1.22881,43.05534],[-1.10333,43.0059],[-1.00963,42.99279],[-.97133,42.96239],[-.81652,42.95166],[-.75478,42.96916],[-.72037,42.92541],[-.73422,42.91228],[-.72608,42.89318],[-.69837,42.87945],[-.67637,42.88303],[-.55497,42.77846],[-.50863,42.82713],[-.44334,42.79939],[-.41319,42.80776],[-.38833,42.80132],[-.3122,42.84788],[-.17939,42.78974],[-.16141,42.79535],[-.10519,42.72761],[-.02468,42.68513],[.17569,42.73424],[.25336,42.7174],[.29407,42.67431],[.36251,42.72282],[.40214,42.69779],[.67873,42.69458],[.65421,42.75872],[.66121,42.84021],[.711,42.86372],[.93089,42.79154],[.96166,42.80629],[.98292,42.78754],[1.0804,42.78569],[1.15928,42.71407],[1.35562,42.71944],[1.44197,42.60217],[1.47986,42.61346],[1.46718,42.63296],[1.48043,42.65203],[1.50867,42.64483],[1.55418,42.65669],[1.60085,42.62703],[1.63485,42.62957],[1.6625,42.61982],[1.68267,42.62533],[1.73452,42.61515],[1.72588,42.59098],[1.7858,42.57698],[1.73683,42.55492],[1.72515,42.50338],[1.76335,42.48863],[1.83037,42.48395],[1.88853,42.4501],[1.93663,42.45439],[1.94292,42.44316],[1.94061,42.43333],[1.94084,42.43039],[1.9574,42.42401],[1.96482,42.37787],[2.00488,42.35399],[2.06241,42.35906],[2.11621,42.38393],[2.12789,42.41291],[2.16599,42.42314],[2.20578,42.41633],[2.25551,42.43757],[2.38504,42.39977],[2.43299,42.39423],[2.43508,42.37568],[2.48457,42.33933],[2.54382,42.33406],[2.55516,42.35351],[2.57934,42.35808],[2.6747,42.33974],[2.65311,42.38771],[2.72056,42.42298],[2.75497,42.42578],[2.77464,42.41046],[2.84335,42.45724],[2.85675,42.45444],[2.86983,42.46843],[2.88413,42.45938],[2.92107,42.4573],[2.94283,42.48174],[2.96518,42.46692],[3.03734,42.47363],[3.08167,42.42748],[3.10027,42.42621],[3.11379,42.43646],[3.17156,42.43545],[3.75438,42.33445],[7.60802,41.05927],[10.09675,41.44089],[9.56115,43.20816],[7.50102,43.51859],[7.42422,43.72209],[7.40903,43.7296],[7.41113,43.73156],[7.41291,43.73168],[7.41298,43.73311],[7.41233,43.73439],[7.42062,43.73977],[7.42299,43.74176],[7.42443,43.74087],[7.42809,43.74396],[7.43013,43.74895],[7.43624,43.75014],[7.43708,43.75197],[7.4389,43.75151],[7.4379,43.74963],[7.47823,43.73341],[7.53006,43.78405],[7.50423,43.84345],[7.49355,43.86551],[7.51162,43.88301],[7.56075,43.89932],[7.56858,43.94506],[7.60771,43.95772],[7.65266,43.9763],[7.66848,43.99943],[7.6597,44.03009],[7.72508,44.07578],[7.66878,44.12795],[7.68694,44.17487],[7.63245,44.17877],[7.62155,44.14881],[7.36364,44.11882],[7.34547,44.14359],[7.27827,44.1462],[7.16929,44.20352],[7.00764,44.23736],[6.98221,44.28289],[6.89171,44.36637],[6.88784,44.42043],[6.94504,44.43112],[6.86233,44.49834],[6.85507,44.53072],[6.96042,44.62129],[6.95133,44.66264],[7.00582,44.69364],[7.07484,44.68073],[7.00401,44.78782],[7.02217,44.82519],[6.93499,44.8664],[6.90774,44.84322],[6.75518,44.89915],[6.74519,44.93661],[6.74791,45.01939],[6.66981,45.02324],[6.62803,45.11175],[6.7697,45.16044],[6.85144,45.13226],[6.96706,45.20841],[7.07074,45.21228],[7.13115,45.25386],[7.10572,45.32924],[7.18019,45.40071],[7.00037,45.509],[6.98948,45.63869],[6.80785,45.71864],[6.80785,45.83265],[6.95315,45.85163],[7.04151,45.92435],[7.00946,45.9944],[6.93862,46.06502],[6.87868,46.03855],[6.89321,46.12548],[6.78968,46.14058],[6.86052,46.28512],[6.77152,46.34784],[6.8024,46.39171],[6.82312,46.42661],[6.53358,46.45431],[6.25432,46.3632],[6.21981,46.31304],[6.24826,46.30175],[6.25137,46.29014],[6.23775,46.27822],[6.24952,46.26255],[6.26749,46.24745],[6.29474,46.26221],[6.31041,46.24417],[6.29663,46.22688],[6.27694,46.21566],[6.26007,46.21165],[6.24821,46.20531],[6.23913,46.20511],[6.23544,46.20714],[6.22175,46.20045],[6.22222,46.19888],[6.21844,46.19837],[6.21603,46.19507],[6.21273,46.19409],[6.21114,46.1927],[6.20539,46.19163],[6.19807,46.18369],[6.19552,46.18401],[6.18707,46.17999],[6.18871,46.16644],[6.18116,46.16187],[6.15305,46.15194],[6.13397,46.1406],[6.09926,46.14373],[6.09199,46.15191],[6.07491,46.14879],[6.05203,46.15191],[6.04564,46.14031],[6.03614,46.13712],[6.01791,46.14228],[5.9871,46.14499],[5.97893,46.13303],[5.95781,46.12925],[5.9641,46.14412],[5.97508,46.15863],[5.98188,46.17392],[5.98846,46.17046],[5.99573,46.18587],[5.96515,46.19638],[5.97542,46.21525],[6.02461,46.23313],[6.03342,46.2383],[6.04602,46.23127],[6.05029,46.23518],[6.0633,46.24583],[6.07072,46.24085],[6.08563,46.24651],[6.10071,46.23772],[6.12446,46.25059],[6.11926,46.2634],[6.1013,46.28512],[6.11697,46.29547],[6.1198,46.31157],[6.13876,46.33844],[6.15738,46.3491],[6.16987,46.36759],[6.15985,46.37721],[6.15016,46.3778],[6.09926,46.40768],[6.06407,46.41676],[6.08427,46.44305],[6.07269,46.46244],[6.1567,46.54402],[6.11084,46.57649],[6.27135,46.68251],[6.38351,46.73171],[6.45209,46.77502],[6.43216,46.80336],[6.46456,46.88865],[6.43341,46.92703],[6.50315,46.96736],[6.61239,46.99083],[6.64008,47.00251],[6.65915,47.02734],[6.68456,47.03714],[6.69579,47.0371],[6.71531,47.0494],[6.68823,47.06616],[6.76788,47.1208],[6.85069,47.15744],[6.86359,47.18015],[6.95087,47.24121],[6.95108,47.26428],[6.94316,47.28747],[7.00827,47.3014],[7.01,47.32451],[7.05302,47.33131],[7.05198,47.35634],[7.03125,47.36996],[6.87959,47.35335],[6.88542,47.37262],[6.93744,47.40714],[6.93953,47.43388],[7.0024,47.45264],[6.98425,47.49432],[7.0231,47.50522],[7.07425,47.48863],[7.12781,47.50371],[7.16249,47.49025],[7.19583,47.49455],[7.17026,47.44312],[7.24669,47.4205],[7.33818,47.44256],[7.34123,47.43873],[7.3527,47.43426],[7.37349,47.43399],[7.38122,47.43208],[7.38216,47.433],[7.40308,47.43638],[7.41906,47.44626],[7.43088,47.45846],[7.4462,47.46264],[7.4583,47.47216],[7.42923,47.48628],[7.43356,47.49712],[7.47534,47.47932],[7.49025,47.48355],[7.50898,47.49819],[7.50813,47.51601],[7.5229,47.51644],[7.53199,47.5284],[7.51904,47.53515],[7.50588,47.52856],[7.49691,47.53821],[7.50873,47.54546],[7.51723,47.54578],[7.52831,47.55347],[7.53634,47.55553],[7.55652,47.56779],[7.55689,47.57232],[7.56548,47.57617],[7.56684,47.57785],[7.58386,47.57536],[7.58945,47.59017],[7.59301,47.60058],[7.58851,47.60794],[7.57423,47.61628],[7.5591,47.63849],[7.53384,47.65115],[7.52067,47.66437],[7.51915,47.68335],[7.51266,47.70197],[7.53722,47.71635],[7.54761,47.72912],[7.52764,47.78161],[7.55975,47.83953],[7.55673,47.87371],[7.62302,47.97898],[7.56966,48.03265],[7.57137,48.12292],[7.6648,48.22219],[7.69022,48.30018],[7.74562,48.32736],[7.73109,48.39192],[7.76833,48.48945],[7.80647,48.51239],[7.80167,48.54758],[7.80057,48.5857],[7.84098,48.64217],[7.89002,48.66317],[7.96812,48.72491],[7.96994,48.75606],[8.01534,48.76085],[8.0326,48.79017],[8.06802,48.78957],[8.10253,48.81829],[8.12813,48.87985],[8.19989,48.95825],[8.22604,48.97352],[8.14189,48.97833],[7.97783,49.03161],[7.93641,49.05544],[7.86386,49.03499],[7.79557,49.06583],[7.75948,49.04562],[7.63618,49.05428],[7.62575,49.07654],[7.56416,49.08136],[7.53012,49.09818],[7.49172,49.13915],[7.49473,49.17],[7.44455,49.16765],[7.44052,49.18354],[7.3662,49.17308],[7.35995,49.14399],[7.3195,49.14231],[7.29514,49.11426],[7.23473,49.12971],[7.1593,49.1204],[7.1358,49.1282],[7.12504,49.14253],[7.10384,49.13787],[7.10715,49.15631],[7.07859,49.15031],[7.09007,49.13094],[7.07162,49.1255],[7.06642,49.11415],[7.05548,49.11185],[7.04843,49.11422],[7.04409,49.12123],[7.04662,49.13724],[7.03178,49.15734],[7.0274,49.17042],[7.03459,49.19096],[7.01318,49.19018],[6.97273,49.2099],[6.95963,49.203],[6.94028,49.21641],[6.93831,49.2223],[6.91875,49.22261],[6.89298,49.20863],[6.85939,49.22376],[6.83555,49.21249],[6.85119,49.20038],[6.85016,49.19354],[6.86225,49.18185],[6.84703,49.15734],[6.83385,49.15162],[6.78265,49.16793],[6.73765,49.16375],[6.71137,49.18808],[6.73256,49.20486],[6.71843,49.2208],[6.69274,49.21661],[6.66583,49.28065],[6.60186,49.31055],[6.572,49.35027],[6.58807,49.35358],[6.60091,49.36864],[6.533,49.40748],[6.55404,49.42464],[6.42432,49.47683],[6.40274,49.46546],[6.39168,49.4667],[6.38352,49.46463],[6.36778,49.46937],[6.3687,49.4593],[6.28818,49.48465],[6.27875,49.503],[6.25029,49.50609],[6.2409,49.51408],[6.19543,49.50536],[6.17386,49.50934],[6.15366,49.50226],[6.16115,49.49297],[6.14321,49.48796],[6.12814,49.49365],[6.12346,49.4735],[6.10325,49.4707],[6.09845,49.46351],[6.10072,49.45268],[6.08373,49.45594],[6.07887,49.46399],[6.05553,49.46663],[6.04176,49.44801],[6.02743,49.44845],[6.02648,49.45451],[5.97693,49.45513],[5.96876,49.49053],[5.94224,49.49608],[5.94128,49.50034],[5.86571,49.50015],[5.83389,49.52152],[5.83467,49.52717],[5.84466,49.53027],[5.83648,49.5425],[5.81664,49.53775],[5.80871,49.5425],[5.81838,49.54777],[5.79195,49.55228],[5.77435,49.56298],[5.7577,49.55915],[5.75649,49.54321],[5.64505,49.55146],[5.60909,49.51228],[5.55001,49.52729],[5.46541,49.49825],[5.46734,49.52648],[5.43713,49.5707],[5.3974,49.61596],[5.34837,49.62889],[5.33851,49.61599],[5.3137,49.61225],[5.30214,49.63055],[5.33039,49.6555],[5.31465,49.66846],[5.26232,49.69456],[5.14545,49.70287],[5.09249,49.76193],[4.96714,49.79872],[4.85464,49.78995],[4.86965,49.82271],[4.85134,49.86457],[4.88529,49.9236],[4.78827,49.95609],[4.8382,50.06738],[4.88602,50.15182],[4.83279,50.15331],[4.82438,50.16878],[4.75237,50.11314],[4.70064,50.09384],[4.68695,49.99685],[4.5414,49.96911],[4.51098,49.94659],[4.43488,49.94122],[4.35051,49.95315],[4.31963,49.97043],[4.20532,49.95803],[4.14239,49.98034],[4.13508,50.01976],[4.16294,50.04719],[4.23101,50.06945],[4.20147,50.13535],[4.13561,50.13078],[4.16014,50.19239],[4.15524,50.21103],[4.21945,50.25539],[4.20651,50.27333],[4.17861,50.27443],[4.17347,50.28838],[4.15524,50.2833],[4.16808,50.25786],[4.13665,50.25609],[4.11954,50.30425],[4.10957,50.30234],[4.10237,50.31247],[4.0689,50.3254],[4.0268,50.35793],[3.96771,50.34989],[3.90781,50.32814],[3.84314,50.35219],[3.73911,50.34809],[3.70987,50.3191],[3.71009,50.30305],[3.66976,50.34563],[3.65709,50.36873],[3.67262,50.38663],[3.67494,50.40239],[3.66153,50.45165],[3.64426,50.46275],[3.61014,50.49568],[3.58361,50.49049],[3.5683,50.50192],[3.49509,50.48885],[3.51564,50.5256],[3.47385,50.53397],[3.44629,50.51009],[3.37693,50.49538],[3.28575,50.52724],[3.2729,50.60718],[3.23951,50.6585],[3.264,50.67668],[3.2536,50.68977],[3.26141,50.69151],[3.26063,50.70086],[3.24593,50.71389],[3.22042,50.71019],[3.20845,50.71662],[3.19017,50.72569],[3.20064,50.73547],[3.18811,50.74025],[3.18339,50.74981],[3.16476,50.76843],[3.15017,50.79031],[3.1257,50.78603],[3.11987,50.79188],[3.11206,50.79416],[3.10614,50.78303],[3.09163,50.77717],[3.04314,50.77674],[3.00537,50.76588],[2.96778,50.75242],[2.95019,50.75138],[2.90873,50.702],[2.91036,50.6939],[2.90069,50.69263],[2.88504,50.70656],[2.87937,50.70298],[2.86985,50.7033],[2.8483,50.72276],[2.81056,50.71773],[2.71165,50.81295],[2.63331,50.81457],[2.59093,50.91751],[2.63074,50.94746],[2.57551,51.00326],[2.55904,51.07014]],[[1.99838,42.44682],[1.98378,42.44697],[1.96125,42.45364],[1.95606,42.45785],[1.96215,42.47854],[1.97003,42.48081],[1.97227,42.48487],[1.97697,42.48568],[1.98022,42.49569],[1.98916,42.49351],[1.99766,42.4858],[1.98579,42.47486],[1.99216,42.46208],[2.01564,42.45171],[1.99838,42.44682]]]]}},{type:"Feature",properties:{iso1A2:"GA",iso1A3:"GAB",iso1N3:"266",wikidata:"Q1000",nameEn:"Gabon",groups:["017","202","002","UN"],callingCodes:["241"]},geometry:{type:"MultiPolygon",coordinates:[[[[13.29457,2.16106],[13.28534,2.25716],[11.37116,2.29975],[11.3561,2.17217],[11.35307,1.00251],[9.79648,1.0019],[9.75065,1.06753],[9.66433,1.06723],[7.24416,-.64092],[10.75913,-4.39519],[11.12647,-3.94169],[11.22301,-3.69888],[11.48764,-3.51089],[11.57949,-3.52798],[11.68608,-3.68942],[11.87083,-3.71571],[11.92719,-3.62768],[11.8318,-3.5812],[11.96554,-3.30267],[11.70227,-3.17465],[11.70558,-3.0773],[11.80365,-3.00424],[11.64798,-2.81146],[11.5359,-2.85654],[11.64487,-2.61865],[11.57637,-2.33379],[11.74605,-2.39936],[11.96866,-2.33559],[12.04895,-2.41704],[12.47925,-2.32626],[12.44656,-1.92025],[12.61312,-1.8129],[12.82172,-1.91091],[13.02759,-2.33098],[13.47977,-2.43224],[13.75884,-2.09293],[13.92073,-2.35581],[13.85846,-2.46935],[14.10442,-2.49268],[14.23829,-2.33715],[14.16202,-2.23916],[14.23518,-2.15671],[14.25932,-1.97624],[14.41838,-1.89412],[14.52569,-.57818],[14.41887,-.44799],[14.2165,-.38261],[14.06862,-.20826],[13.90632,-.2287],[13.88648,.26652],[14.10909,.58563],[14.26066,.57255],[14.48179,.9152],[14.25186,1.39842],[13.89582,1.4261],[13.15519,1.23368],[13.25447,1.32339],[13.13461,1.57238],[13.29457,2.16106]]]]}},{type:"Feature",properties:{iso1A2:"GB",iso1A3:"GBR",iso1N3:"826",wikidata:"Q145",ccTLD:".uk",nameEn:"United Kingdom",aliases:["UK"]},geometry:null},{type:"Feature",properties:{iso1A2:"GD",iso1A3:"GRD",iso1N3:"308",wikidata:"Q769",nameEn:"Grenada",aliases:["WG"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 473"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-61.77886,11.36496],[-59.94058,12.34011],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"GE",iso1A3:"GEO",iso1N3:"268",wikidata:"Q230",nameEn:"Georgia",groups:["145","142","UN"],callingCodes:["995"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[45.61676,42.20768],[45.78692,42.48358],[45.36501,42.55268],[45.15318,42.70598],[44.88754,42.74934],[44.80941,42.61277],[44.70002,42.74679],[44.54202,42.75699],[43.95517,42.55396],[43.73119,42.62043],[43.81453,42.74297],[43.0419,43.02413],[43.03322,43.08883],[42.75889,43.19651],[42.66667,43.13917],[42.40563,43.23226],[41.64935,43.22331],[40.65957,43.56212],[40.10657,43.57344],[40.04445,43.47776],[40.03312,43.44262],[40.01007,43.42411],[40.01552,43.42025],[40.00853,43.40578],[40.0078,43.38551],[39.81147,43.06294],[40.89217,41.72528],[41.54366,41.52185],[41.7148,41.4932],[41.7124,41.47417],[41.81939,41.43621],[41.95134,41.52466],[42.26387,41.49346],[42.51772,41.43606],[42.59202,41.58183],[42.72794,41.59714],[42.84471,41.58912],[42.78995,41.50126],[42.84899,41.47265],[42.8785,41.50516],[43.02956,41.37891],[43.21707,41.30331],[43.13373,41.25503],[43.1945,41.25242],[43.23096,41.17536],[43.36118,41.2028],[43.44973,41.17666],[43.4717,41.12611],[43.67712,41.13398],[43.74717,41.1117],[43.84835,41.16329],[44.16591,41.19141],[44.18148,41.24644],[44.32139,41.2079],[44.34337,41.20312],[44.34417,41.2382],[44.46791,41.18204],[44.59322,41.1933],[44.61462,41.24018],[44.72814,41.20338],[44.82084,41.21513],[44.87887,41.20195],[44.89911,41.21366],[44.84358,41.23088],[44.81749,41.23488],[44.80053,41.25949],[44.81437,41.30371],[44.93493,41.25685],[45.0133,41.29747],[45.09867,41.34065],[45.1797,41.42231],[45.26285,41.46433],[45.31352,41.47168],[45.4006,41.42402],[45.45973,41.45898],[45.68389,41.3539],[45.71035,41.36208],[45.75705,41.35157],[45.69946,41.29545],[45.80842,41.2229],[45.95786,41.17956],[46.13221,41.19479],[46.27698,41.19011],[46.37661,41.10805],[46.456,41.09984],[46.48558,41.0576],[46.55096,41.1104],[46.63969,41.09515],[46.66148,41.20533],[46.72375,41.28609],[46.63658,41.37727],[46.4669,41.43331],[46.40307,41.48464],[46.33925,41.4963],[46.29794,41.5724],[46.34126,41.57454],[46.34039,41.5947],[46.3253,41.60912],[46.28182,41.60089],[46.26531,41.63339],[46.24429,41.59883],[46.19759,41.62327],[46.17891,41.72094],[46.20538,41.77205],[46.23962,41.75811],[46.30863,41.79133],[46.3984,41.84399],[46.42738,41.91323]]]]}},{type:"Feature",properties:{iso1A2:"GF",iso1A3:"GUF",iso1N3:"254",wikidata:"Q3769",nameEn:"French Guiana",country:"FR",groups:["Q3320166","EU","005","419","019","UN"],callingCodes:["594"]},geometry:{type:"MultiPolygon",coordinates:[[[[-51.35485,4.8383],[-53.7094,6.2264],[-54.01074,5.68785],[-54.01877,5.52789],[-54.26916,5.26909],[-54.4717,4.91964],[-54.38444,4.13222],[-54.19367,3.84387],[-54.05128,3.63557],[-53.98914,3.627],[-53.9849,3.58697],[-54.28534,2.67798],[-54.42864,2.42442],[-54.6084,2.32856],[-54.16286,2.10779],[-53.78743,2.34412],[-52.96539,2.1881],[-52.6906,2.37298],[-52.31787,3.17896],[-51.85573,3.83427],[-51.82312,3.85825],[-51.79599,3.89336],[-51.61983,4.14596],[-51.63798,4.51394],[-51.35485,4.8383]]]]}},{type:"Feature",properties:{iso1A2:"GG",iso1A3:"GGY",iso1N3:"831",wikidata:"Q25230",nameEn:"Bailiwick of Guernsey",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"GH",iso1A3:"GHA",iso1N3:"288",wikidata:"Q117",nameEn:"Ghana",groups:["011","202","002","UN"],callingCodes:["233"]},geometry:{type:"MultiPolygon",coordinates:[[[[-.13493,11.14075],[-.27374,11.17157],[-.28566,11.12713],[-.35955,11.07801],[-.38219,11.12596],[-.42391,11.11661],[-.44298,11.04292],[-.61937,10.91305],[-.67143,10.99811],[-2.83373,11.0067],[-2.94232,10.64281],[-2.83108,10.40252],[-2.74174,9.83172],[-2.76534,9.56589],[-2.68802,9.49343],[-2.69814,9.22717],[-2.77799,9.04949],[-2.66357,9.01771],[-2.58243,8.7789],[-2.49037,8.20872],[-2.62901,8.11495],[-2.61232,8.02645],[-2.67787,8.02055],[-2.74819,7.92613],[-2.78395,7.94974],[-2.79467,7.86002],[-2.92339,7.60847],[-2.97822,7.27165],[-2.95438,7.23737],[-3.23327,6.81744],[-3.21954,6.74407],[-3.25999,6.62521],[-3.01896,5.71697],[-2.95323,5.71865],[-2.96671,5.6415],[-2.93132,5.62137],[-2.85378,5.65156],[-2.76614,5.60963],[-2.72737,5.34789],[-2.77625,5.34621],[-2.73074,5.1364],[-2.75502,5.10657],[-2.95261,5.12477],[-2.96554,5.10397],[-3.063,5.13665],[-3.11073,5.12675],[-3.10675,5.08515],[-3.34019,4.17519],[1.07031,5.15655],[1.27574,5.93551],[1.19771,6.11522],[1.19966,6.17069],[1.09187,6.17074],[1.05969,6.22998],[1.03108,6.24064],[.99652,6.33779],[.89283,6.33779],[.71048,6.53083],[.74862,6.56517],[.63659,6.63857],[.6497,6.73682],[.58176,6.76049],[.57406,6.80348],[.52853,6.82921],[.56508,6.92971],[.52098,6.94391],[.52217,6.9723],[.59606,7.01252],[.65327,7.31643],[.62943,7.41099],[.57223,7.39326],[.52455,7.45354],[.51979,7.58706],[.58295,7.62368],[.62943,7.85751],[.58891,8.12779],[.6056,8.13959],[.61156,8.18324],[.5913,8.19622],[.63897,8.25873],[.73432,8.29529],[.64731,8.48866],[.47211,8.59945],[.37319,8.75262],[.52455,8.87746],[.45424,9.04581],[.56388,9.40697],[.49118,9.48339],[.36485,9.49749],[.33148,9.44812],[.25758,9.42696],[.2254,9.47869],[.31241,9.50337],[.30406,9.521],[.2409,9.52335],[.23851,9.57389],[.38153,9.58682],[.36008,9.6256],[.29334,9.59387],[.26712,9.66437],[.28261,9.69022],[.32313,9.6491],[.34816,9.66907],[.34816,9.71607],[.32075,9.72781],[.36366,10.03309],[.41252,10.02018],[.41371,10.06361],[.35293,10.09412],[.39584,10.31112],[.33028,10.30408],[.29453,10.41546],[.18846,10.4096],[.12886,10.53149],[-.05945,10.63458],[-.09141,10.7147],[-.07327,10.71845],[-.07183,10.76794],[-.0228,10.81916],[-.02685,10.8783],[-.00908,10.91644],[-.0063,10.96417],[.03355,10.9807],[.02395,11.06229],[.00342,11.08317],[-.00514,11.10763],[-.0275,11.11202],[-.05733,11.08628],[-.14462,11.10811],[-.13493,11.14075]]]]}},{type:"Feature",properties:{iso1A2:"GI",iso1A3:"GIB",iso1N3:"292",wikidata:"Q1410",nameEn:"Gibraltar",country:"GB",groups:["Q12837","BOTS","039","150","UN"],callingCodes:["350"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.34064,36.03744],[-5.27801,36.14942],[-5.33822,36.15272],[-5.34536,36.15501],[-5.40526,36.15488],[-5.34064,36.03744]]]]}},{type:"Feature",properties:{iso1A2:"GL",iso1A3:"GRL",iso1N3:"304",wikidata:"Q223",nameEn:"Greenland",country:"DK",groups:["Q1451600","021","003","019","UN"],callingCodes:["299"]},geometry:{type:"MultiPolygon",coordinates:[[[[-49.33696,84.57952],[-68.21821,80.48551],[-77.52957,77.23408],[-46.37635,57.3249],[-9.68082,72.73731],[-5.7106,84.28058],[-49.33696,84.57952]]]]}},{type:"Feature",properties:{iso1A2:"GM",iso1A3:"GMB",iso1N3:"270",wikidata:"Q1005",nameEn:"The Gambia",groups:["011","202","002","UN"],callingCodes:["220"]},geometry:{type:"MultiPolygon",coordinates:[[[[-15.14917,13.57989],[-14.36795,13.23033],[-13.79409,13.34472],[-13.8955,13.59126],[-14.34721,13.46578],[-14.93719,13.80173],[-15.36504,13.79313],[-15.47902,13.58758],[-17.43598,13.59273],[-17.43966,13.04579],[-16.74676,13.06025],[-16.69343,13.16791],[-15.80355,13.16729],[-15.80478,13.34832],[-15.26908,13.37768],[-15.14917,13.57989]]]]}},{type:"Feature",properties:{iso1A2:"GN",iso1A3:"GIN",iso1N3:"324",wikidata:"Q1006",nameEn:"Guinea",groups:["011","202","002","UN"],callingCodes:["224"]},geometry:{type:"MultiPolygon",coordinates:[[[[-11.37536,12.40788],[-11.46267,12.44559],[-11.91331,12.42008],[-12.35415,12.32758],[-12.87336,12.51892],[-13.06603,12.49342],[-13.05296,12.64003],[-13.70523,12.68013],[-13.7039,12.60313],[-13.65089,12.49515],[-13.64168,12.42764],[-13.70851,12.24978],[-13.92745,12.24077],[-13.94589,12.16869],[-13.7039,12.00869],[-13.7039,11.70195],[-14.09799,11.63649],[-14.26623,11.67486],[-14.31513,11.60713],[-14.51173,11.49708],[-14.66677,11.51188],[-14.77786,11.36323],[-14.95993,10.99244],[-15.07174,10.89557],[-15.96748,10.162],[-14.36218,8.64107],[-13.29911,9.04245],[-13.18586,9.0925],[-13.08953,9.0409],[-12.94095,9.26335],[-12.76788,9.3133],[-12.47254,9.86834],[-12.24262,9.92386],[-12.12634,9.87203],[-11.91023,9.93927],[-11.89624,9.99763],[-11.2118,10.00098],[-10.6534,9.29919],[-10.74484,9.07998],[-10.5783,9.06386],[-10.56197,8.81225],[-10.47707,8.67669],[-10.61422,8.5314],[-10.70565,8.29235],[-10.63934,8.35326],[-10.54891,8.31174],[-10.37257,8.48941],[-10.27575,8.48711],[-10.203,8.47991],[-10.14579,8.52665],[-10.05375,8.50697],[-10.05873,8.42578],[-9.77763,8.54633],[-9.47415,8.35195],[-9.50898,8.18455],[-9.41445,8.02448],[-9.44928,7.9284],[-9.35724,7.74111],[-9.37465,7.62032],[-9.48161,7.37122],[-9.41943,7.41809],[-9.305,7.42056],[-9.20798,7.38109],[-9.18311,7.30461],[-9.09107,7.1985],[-8.93435,7.2824],[-8.85724,7.26019],[-8.8448,7.35149],[-8.72789,7.51429],[-8.67814,7.69428],[-8.55874,7.70167],[-8.55874,7.62525],[-8.47114,7.55676],[-8.4003,7.6285],[-8.21374,7.54466],[-8.09931,7.78626],[-8.13414,7.87991],[-8.06449,8.04989],[-7.94695,8.00925],[-7.99919,8.11023],[-7.98675,8.20134],[-8.062,8.16071],[-8.2411,8.24196],[-8.22991,8.48438],[-7.92518,8.50652],[-7.65653,8.36873],[-7.69882,8.66148],[-7.95503,8.81146],[-7.92518,8.99332],[-7.73862,9.08422],[-7.90777,9.20456],[-7.85056,9.41812],[-8.03463,9.39604],[-8.14657,9.55062],[-8.09434,9.86936],[-8.15652,9.94288],[-8.11921,10.04577],[-8.01225,10.1021],[-7.97971,10.17117],[-7.9578,10.2703],[-8.10207,10.44649],[-8.22711,10.41722],[-8.32614,10.69273],[-8.2667,10.91762],[-8.35083,11.06234],[-8.66923,10.99397],[-8.40058,11.37466],[-8.80854,11.66715],[-8.94784,12.34842],[-9.13689,12.50875],[-9.38067,12.48446],[-9.32097,12.29009],[-9.63938,12.18312],[-9.714,12.0226],[-10.30604,12.24634],[-10.71897,11.91552],[-10.80355,12.1053],[-10.99758,12.24634],[-11.24136,12.01286],[-11.50006,12.17826],[-11.37536,12.40788]]]]}},{type:"Feature",properties:{iso1A2:"GP",iso1A3:"GLP",iso1N3:"312",wikidata:"Q17012",nameEn:"Guadeloupe",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-60.03183,16.1129],[-61.60296,16.73066],[-63.00549,15.26166],[-60.03183,16.1129]]]]}},{type:"Feature",properties:{iso1A2:"GQ",iso1A3:"GNQ",iso1N3:"226",wikidata:"Q983",nameEn:"Equatorial Guinea",groups:["017","202","002","UN"],callingCodes:["240"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.22018,3.72052],[8.34397,4.30689],[7.71762,.6674],[3.35016,-3.29031],[9.66433,1.06723],[9.75065,1.06753],[9.79648,1.0019],[11.35307,1.00251],[11.3561,2.17217],[9.991,2.16561],[9.90749,2.20049],[9.89012,2.20457],[9.84716,2.24676],[9.83238,2.29079],[9.83754,2.32428],[9.82123,2.35097],[9.81162,2.33797],[9.22018,3.72052]]]]}},{type:"Feature",properties:{iso1A2:"GR",iso1A3:"GRC",iso1N3:"300",wikidata:"Q41",nameEn:"Greece",aliases:["EL"],groups:["EU","039","150","UN"],callingCodes:["30"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.03489,40.73051],[26.0754,40.72772],[26.08638,40.73214],[26.12495,40.74283],[26.12854,40.77339],[26.15685,40.80709],[26.21351,40.83298],[26.20856,40.86048],[26.26169,40.9168],[26.29441,40.89119],[26.28623,40.93005],[26.32259,40.94042],[26.35894,40.94292],[26.33297,40.98388],[26.3606,41.02027],[26.31928,41.07386],[26.32259,41.24929],[26.39861,41.25053],[26.5209,41.33993],[26.5837,41.32131],[26.62997,41.34613],[26.61767,41.42281],[26.59742,41.48058],[26.59196,41.60491],[26.5209,41.62592],[26.47958,41.67037],[26.35957,41.71149],[26.30255,41.70925],[26.2654,41.71544],[26.22888,41.74139],[26.21325,41.73223],[26.16841,41.74858],[26.06148,41.70345],[26.07083,41.64584],[26.15146,41.60828],[26.14328,41.55496],[26.17951,41.55409],[26.176,41.50072],[26.14796,41.47533],[26.20288,41.43943],[26.16548,41.42278],[26.12926,41.35878],[25.87919,41.30526],[25.8266,41.34563],[25.70507,41.29209],[25.66183,41.31316],[25.61042,41.30614],[25.55082,41.31667],[25.52394,41.2798],[25.48187,41.28506],[25.28322,41.23411],[25.11611,41.34212],[24.942,41.38685],[24.90928,41.40876],[24.86136,41.39298],[24.82514,41.4035],[24.8041,41.34913],[24.71529,41.41928],[24.61129,41.42278],[24.52599,41.56808],[24.30513,41.51297],[24.27124,41.57682],[24.18126,41.51735],[24.10063,41.54796],[24.06323,41.53222],[24.06908,41.46132],[23.96975,41.44118],[23.91483,41.47971],[23.89613,41.45257],[23.80148,41.43943],[23.76525,41.40175],[23.67644,41.41139],[23.63203,41.37632],[23.52453,41.40262],[23.40416,41.39999],[23.33639,41.36317],[23.31301,41.40525],[23.22771,41.37106],[23.21953,41.33773],[23.1833,41.31755],[22.93334,41.34104],[22.81199,41.3398],[22.76408,41.32225],[22.74538,41.16321],[22.71266,41.13945],[22.65306,41.18168],[22.62852,41.14385],[22.58295,41.11568],[22.5549,41.13065],[22.42285,41.11921],[22.26744,41.16409],[22.17629,41.15969],[22.1424,41.12449],[22.06527,41.15617],[21.90869,41.09191],[21.91102,41.04786],[21.7556,40.92525],[21.69601,40.9429],[21.57448,40.86076],[21.53007,40.90759],[21.41555,40.9173],[21.35595,40.87578],[21.25779,40.86165],[21.21105,40.8855],[21.15262,40.85546],[20.97887,40.85475],[20.98396,40.79109],[20.95752,40.76982],[20.98134,40.76046],[21.05833,40.66586],[21.03932,40.56299],[20.96908,40.51526],[20.94925,40.46625],[20.83688,40.47882],[20.7906,40.42726],[20.78234,40.35803],[20.71789,40.27739],[20.67162,40.09433],[20.62566,40.0897],[20.61081,40.07866],[20.55593,40.06524],[20.51297,40.08168],[20.48487,40.06271],[20.42373,40.06777],[20.37911,39.99058],[20.31135,39.99438],[20.41546,39.82832],[20.41475,39.81437],[20.38572,39.78516],[20.30804,39.81563],[20.29152,39.80421],[20.31961,39.72799],[20.27412,39.69884],[20.22707,39.67459],[20.22376,39.64532],[20.15988,39.652],[20.12956,39.65805],[20.05189,39.69112],[20.00957,39.69227],[19.98042,39.6504],[19.92466,39.69533],[19.97622,39.78684],[19.95905,39.82857],[19.0384,40.35325],[19.20409,39.7532],[22.5213,33.45682],[29.73302,35.92555],[29.69611,36.10365],[29.61805,36.14179],[29.61002,36.1731],[29.48192,36.18377],[29.30783,36.01033],[28.23708,36.56812],[27.95037,36.46155],[27.89482,36.69898],[27.46117,36.53789],[27.24613,36.71622],[27.45627,36.9008],[27.20312,36.94571],[27.14757,37.32],[26.95583,37.64989],[26.99377,37.69034],[27.16428,37.72343],[27.05537,37.9131],[26.21136,38.17558],[26.24183,38.44695],[26.32173,38.48731],[26.21136,38.65436],[26.61814,38.81372],[26.70773,39.0312],[26.43357,39.43096],[25.94257,39.39358],[25.61285,40.17161],[26.04292,40.3958],[25.94795,40.72797],[26.03489,40.73051]]]]}},{type:"Feature",properties:{iso1A2:"GS",iso1A3:"SGS",iso1N3:"239",wikidata:"Q35086",nameEn:"South Georgia and South Sandwich Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-35.26394,-43.68272],[-53.39656,-59.87088],[-22.31757,-59.85974],[-35.26394,-43.68272]]]]}},{type:"Feature",properties:{iso1A2:"GT",iso1A3:"GTM",iso1N3:"320",wikidata:"Q774",nameEn:"Guatemala",groups:["013","003","419","019","UN"],callingCodes:["502"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.14985,17.81563],[-90.98678,17.81655],[-90.99199,17.25192],[-91.43809,17.25373],[-91.04436,16.92175],[-90.69064,16.70697],[-90.61212,16.49832],[-90.40499,16.40524],[-90.44567,16.07573],[-91.73182,16.07371],[-92.20983,15.26077],[-92.0621,15.07406],[-92.1454,14.98143],[-92.1423,14.88647],[-92.18161,14.84147],[-92.1454,14.6804],[-92.2261,14.53423],[-92.37213,14.39277],[-90.55276,12.8866],[-90.11344,13.73679],[-90.10505,13.85104],[-89.88937,14.0396],[-89.81807,14.07073],[-89.76103,14.02923],[-89.73251,14.04133],[-89.75569,14.07073],[-89.70756,14.1537],[-89.61844,14.21937],[-89.52397,14.22628],[-89.50614,14.26084],[-89.58814,14.33165],[-89.57441,14.41637],[-89.39028,14.44561],[-89.34776,14.43013],[-89.35189,14.47553],[-89.23719,14.58046],[-89.15653,14.57802],[-89.13132,14.71582],[-89.23467,14.85596],[-89.15149,14.97775],[-89.18048,14.99967],[-89.15149,15.07392],[-88.97343,15.14039],[-88.32467,15.63665],[-88.31459,15.66942],[-88.24022,15.69247],[-88.22552,15.72294],[-88.20359,16.03858],[-88.40779,16.09624],[-88.95358,15.88698],[-89.02415,15.9063],[-89.17418,15.90898],[-89.22683,15.88619],[-89.15025,17.04813],[-89.14985,17.81563]]]]}},{type:"Feature",properties:{iso1A2:"GU",iso1A3:"GUM",iso1N3:"316",wikidata:"Q16635",nameEn:"Guam",aliases:["US-GU"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 671"]},geometry:{type:"MultiPolygon",coordinates:[[[[146.25931,13.85876],[143.82485,13.92273],[144.61642,12.82462],[146.25931,13.85876]]]]}},{type:"Feature",properties:{iso1A2:"GW",iso1A3:"GNB",iso1N3:"624",wikidata:"Q1007",nameEn:"Guinea-Bissau",groups:["011","202","002","UN"],callingCodes:["245"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.31513,11.60713],[-14.26623,11.67486],[-14.09799,11.63649],[-13.7039,11.70195],[-13.7039,12.00869],[-13.94589,12.16869],[-13.92745,12.24077],[-13.70851,12.24978],[-13.64168,12.42764],[-13.65089,12.49515],[-13.7039,12.60313],[-13.70523,12.68013],[-15.17582,12.6847],[-15.67302,12.42974],[-16.20591,12.46157],[-16.38191,12.36449],[-16.70562,12.34803],[-17.4623,11.92379],[-15.96748,10.162],[-15.07174,10.89557],[-14.95993,10.99244],[-14.77786,11.36323],[-14.66677,11.51188],[-14.51173,11.49708],[-14.31513,11.60713]]]]}},{type:"Feature",properties:{iso1A2:"GY",iso1A3:"GUY",iso1N3:"328",wikidata:"Q734",nameEn:"Guyana",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["592"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.84822,6.73257],[-59.54058,8.6862],[-59.98508,8.53046],[-59.85562,8.35213],[-59.80661,8.28906],[-59.83156,8.23261],[-59.97059,8.20791],[-60.02407,8.04557],[-60.38056,7.8302],[-60.51959,7.83373],[-60.64793,7.56877],[-60.71923,7.55817],[-60.59802,7.33194],[-60.63367,7.25061],[-60.54098,7.14804],[-60.44116,7.20817],[-60.28074,7.1162],[-60.39419,6.94847],[-60.54873,6.8631],[-61.13632,6.70922],[-61.20762,6.58174],[-61.15058,6.19558],[-61.4041,5.95304],[-60.73204,5.20931],[-60.32352,5.21299],[-60.20944,5.28754],[-59.98129,5.07097],[-60.04189,4.69801],[-60.15953,4.53456],[-59.78878,4.45637],[-59.69361,4.34069],[-59.73353,4.20399],[-59.51963,3.91951],[-59.86899,3.57089],[-59.81484,3.41955],[-59.81107,3.38023],[-59.8041,3.37027],[-59.80525,3.35466],[-59.99733,2.92312],[-59.91177,2.36759],[-59.7264,2.27497],[-59.74066,1.87596],[-59.25583,1.40559],[-58.92072,1.31293],[-58.84229,1.17749],[-58.53571,1.29154],[-58.4858,1.48399],[-58.33887,1.58014],[-58.01873,1.51966],[-57.97336,1.64566],[-57.77281,1.73344],[-57.55743,1.69605],[-57.35073,1.98327],[-57.23981,1.95808],[-57.09109,2.01854],[-57.07092,1.95304],[-56.7659,1.89509],[-56.47045,1.95135],[-56.55439,2.02003],[-56.70519,2.02964],[-57.35891,3.32121],[-58.0307,3.95513],[-57.8699,4.89394],[-57.37442,5.0208],[-57.22536,5.15605],[-57.31629,5.33714],[-56.84822,6.73257]]]]}},{type:"Feature",properties:{iso1A2:"HK",iso1A3:"HKG",iso1N3:"344",wikidata:"Q8646",nameEn:"Hong Kong",country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["852"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.92195,22.13873],[114.50148,22.15017],[114.44998,22.55977],[114.25154,22.55977],[114.22888,22.5436],[114.22185,22.55343],[114.20655,22.55706],[114.18338,22.55444],[114.17247,22.55944],[114.1597,22.56041],[114.15123,22.55163],[114.1482,22.54091],[114.13823,22.54319],[114.12665,22.54003],[114.11656,22.53415],[114.11181,22.52878],[114.1034,22.5352],[114.09692,22.53435],[114.09048,22.53716],[114.08606,22.53276],[114.07817,22.52997],[114.07267,22.51855],[114.06272,22.51617],[114.05729,22.51104],[114.05438,22.5026],[114.03113,22.5065],[113.86771,22.42972],[113.81621,22.2163],[113.83338,22.1826],[113.92195,22.13873]]]]}},{type:"Feature",properties:{iso1A2:"HM",iso1A3:"HMD",iso1N3:"334",wikidata:"Q131198",nameEn:"Heard Island and McDonald Islands",country:"AU",groups:["053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[71.08716,-53.87687],[75.44182,-53.99822],[72.87012,-51.48322],[71.08716,-53.87687]]]]}},{type:"Feature",properties:{iso1A2:"HN",iso1A3:"HND",iso1N3:"340",wikidata:"Q783",nameEn:"Honduras",groups:["013","003","419","019","UN"],callingCodes:["504"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.86109,17.73736],[-88.20359,16.03858],[-88.22552,15.72294],[-88.24022,15.69247],[-88.31459,15.66942],[-88.32467,15.63665],[-88.97343,15.14039],[-89.15149,15.07392],[-89.18048,14.99967],[-89.15149,14.97775],[-89.23467,14.85596],[-89.13132,14.71582],[-89.15653,14.57802],[-89.23719,14.58046],[-89.35189,14.47553],[-89.34776,14.43013],[-89.04187,14.33644],[-88.94608,14.20207],[-88.85785,14.17763],[-88.815,14.11652],[-88.73182,14.10919],[-88.70661,14.04317],[-88.49738,13.97224],[-88.48982,13.86458],[-88.25791,13.91108],[-88.23018,13.99915],[-88.07641,13.98447],[-88.00331,13.86948],[-87.7966,13.91353],[-87.68821,13.80829],[-87.73106,13.75443],[-87.78148,13.52906],[-87.71657,13.50577],[-87.72115,13.46083],[-87.73841,13.44169],[-87.77354,13.45767],[-87.83467,13.44655],[-87.84675,13.41078],[-87.80177,13.35689],[-87.73714,13.32715],[-87.69751,13.25228],[-87.55124,13.12523],[-87.37107,12.98646],[-87.06306,13.00892],[-87.03785,12.98682],[-86.93197,13.05313],[-86.93383,13.18677],[-86.87066,13.30641],[-86.71267,13.30348],[-86.76812,13.79605],[-86.35219,13.77157],[-86.14801,14.04317],[-86.00685,14.08474],[-86.03458,13.99181],[-85.75477,13.8499],[-85.73964,13.9698],[-85.45762,14.11304],[-85.32149,14.2562],[-85.18602,14.24929],[-85.1575,14.53934],[-84.90082,14.80489],[-84.82596,14.82212],[-84.70119,14.68078],[-84.48373,14.63249],[-84.10584,14.76353],[-83.89551,14.76697],[-83.62101,14.89448],[-83.49268,15.01158],[-83.13724,15.00002],[-83.04763,15.03256],[-82.06974,14.49418],[-81.58685,18.0025],[-83.86109,17.73736]]]]}},{type:"Feature",properties:{iso1A2:"HR",iso1A3:"HRV",iso1N3:"191",wikidata:"Q224",nameEn:"Croatia",groups:["EU","039","150","UN"],callingCodes:["385"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.6444,42.88641],[17.5392,42.92787],[17.70879,42.97223],[17.64268,43.08595],[17.46986,43.16559],[17.286,43.33065],[17.25579,43.40353],[17.29699,43.44542],[17.24411,43.49376],[17.15828,43.49376],[17.00585,43.58037],[16.80736,43.76011],[16.75316,43.77157],[16.70922,43.84887],[16.55472,43.95326],[16.50528,44.0244],[16.43629,44.02826],[16.43662,44.07523],[16.36864,44.08263],[16.18688,44.27012],[16.21346,44.35231],[16.12969,44.38275],[16.16814,44.40679],[16.10566,44.52586],[16.03012,44.55572],[16.00884,44.58605],[16.05828,44.61538],[15.89348,44.74964],[15.8255,44.71501],[15.72584,44.82334],[15.79472,44.8455],[15.76096,44.87045],[15.74723,44.96818],[15.78568,44.97401],[15.74585,45.0638],[15.78842,45.11519],[15.76371,45.16508],[15.83512,45.22459],[15.98412,45.23088],[16.12153,45.09616],[16.29036,44.99732],[16.35404,45.00241],[16.35863,45.03529],[16.3749,45.05206],[16.38219,45.05139],[16.38309,45.05955],[16.40023,45.1147],[16.4634,45.14522],[16.49155,45.21153],[16.52982,45.22713],[16.5501,45.2212],[16.56559,45.22307],[16.60194,45.23042],[16.64962,45.20714],[16.74845,45.20393],[16.78219,45.19002],[16.81137,45.18434],[16.83804,45.18951],[16.92405,45.27607],[16.9385,45.22742],[17.0415,45.20759],[17.18438,45.14764],[17.24325,45.146],[17.25131,45.14957],[17.26815,45.18444],[17.32092,45.16246],[17.33573,45.14521],[17.41229,45.13335],[17.4498,45.16119],[17.45615,45.12523],[17.47589,45.12656],[17.51469,45.10791],[17.59104,45.10816],[17.66571,45.13408],[17.84826,45.04489],[17.87148,45.04645],[17.93706,45.08016],[17.97336,45.12245],[17.97834,45.13831],[17.99479,45.14958],[18.01594,45.15163],[18.03121,45.12632],[18.1624,45.07654],[18.24387,45.13699],[18.32077,45.1021],[18.41896,45.11083],[18.47939,45.05871],[18.65723,45.07544],[18.78357,44.97741],[18.80661,44.93561],[18.76369,44.93707],[18.76347,44.90669],[18.8704,44.85097],[19.01994,44.85493],[18.98957,44.90645],[19.02871,44.92541],[19.06853,44.89915],[19.15573,44.95409],[19.05205,44.97692],[19.1011,45.01191],[19.07952,45.14668],[19.14063,45.12972],[19.19144,45.17863],[19.43589,45.17137],[19.41941,45.23475],[19.28208,45.23813],[19.10774,45.29547],[18.97446,45.37528],[18.99918,45.49333],[19.08364,45.48804],[19.07471,45.53086],[18.94562,45.53712],[18.88776,45.57253],[18.96691,45.66731],[18.90305,45.71863],[18.85783,45.85493],[18.81394,45.91329],[18.80211,45.87995],[18.6792,45.92057],[18.57483,45.80772],[18.44368,45.73972],[18.12439,45.78905],[18.08869,45.76511],[17.99805,45.79671],[17.87377,45.78522],[17.66545,45.84207],[17.56821,45.93728],[17.35672,45.95209],[17.14592,46.16697],[16.8903,46.28122],[16.8541,46.36255],[16.7154,46.39523],[16.6639,46.45203],[16.59527,46.47524],[16.52604,46.47831],[16.5007,46.49644],[16.44036,46.5171],[16.38771,46.53608],[16.37193,46.55008],[16.29793,46.5121],[16.26733,46.51505],[16.26759,46.50566],[16.23961,46.49653],[16.25124,46.48067],[16.27398,46.42875],[16.27329,46.41467],[16.30162,46.40437],[16.30233,46.37837],[16.18824,46.38282],[16.14859,46.40547],[16.05281,46.39141],[16.05065,46.3833],[16.07314,46.36458],[16.07616,46.3463],[15.97965,46.30652],[15.79284,46.25811],[15.78817,46.21719],[15.75479,46.20336],[15.75436,46.21969],[15.67395,46.22478],[15.6434,46.21396],[15.64904,46.19229],[15.59909,46.14761],[15.6083,46.11992],[15.62317,46.09103],[15.72977,46.04682],[15.71246,46.01196],[15.70327,46.00015],[15.70636,45.92116],[15.67967,45.90455],[15.68383,45.88867],[15.68232,45.86819],[15.70411,45.8465],[15.66662,45.84085],[15.64185,45.82915],[15.57952,45.84953],[15.52234,45.82195],[15.47325,45.8253],[15.47531,45.79802],[15.40836,45.79491],[15.25423,45.72275],[15.30872,45.69014],[15.34919,45.71623],[15.4057,45.64727],[15.38952,45.63682],[15.34214,45.64702],[15.34695,45.63382],[15.31027,45.6303],[15.27747,45.60504],[15.29837,45.5841],[15.30249,45.53224],[15.38188,45.48752],[15.33051,45.45258],[15.27758,45.46678],[15.16862,45.42309],[15.05187,45.49079],[15.02385,45.48533],[14.92266,45.52788],[14.90554,45.47769],[14.81992,45.45913],[14.80124,45.49515],[14.71718,45.53442],[14.68605,45.53006],[14.69694,45.57366],[14.59576,45.62812],[14.60977,45.66403],[14.57397,45.67165],[14.53816,45.6205],[14.5008,45.60852],[14.49769,45.54424],[14.36693,45.48642],[14.32487,45.47142],[14.27681,45.4902],[14.26611,45.48239],[14.24239,45.50607],[14.22371,45.50388],[14.20348,45.46896],[14.07116,45.48752],[14.00578,45.52352],[13.96063,45.50825],[13.99488,45.47551],[13.97309,45.45258],[13.90771,45.45149],[13.88124,45.42637],[13.81742,45.43729],[13.7785,45.46787],[13.67398,45.4436],[13.62902,45.45898],[13.56979,45.4895],[13.45644,45.59464],[13.05142,45.33128],[13.12821,44.48877],[16.15283,42.18525],[18.45131,42.21682],[18.54128,42.39171],[18.52152,42.42302],[18.43588,42.48556],[18.44307,42.51077],[18.43735,42.55921],[18.36197,42.61423],[18.24318,42.6112],[17.88201,42.83668],[17.80854,42.9182],[17.7948,42.89556],[17.68151,42.92725],[17.6444,42.88641]]]]}},{type:"Feature",properties:{iso1A2:"HT",iso1A3:"HTI",iso1N3:"332",wikidata:"Q790",nameEn:"Haiti",aliases:["RH"],groups:["029","003","419","019","UN"],callingCodes:["509"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.71885,18.78423],[-71.72624,18.87802],[-71.77766,18.95007],[-71.88102,18.95007],[-71.74088,19.0437],[-71.71088,19.08353],[-71.69938,19.10916],[-71.65337,19.11759],[-71.62642,19.21212],[-71.73229,19.26686],[-71.77766,19.33823],[-71.69448,19.37866],[-71.6802,19.45008],[-71.71268,19.53374],[-71.71449,19.55364],[-71.7429,19.58445],[-71.75865,19.70231],[-71.77419,19.73128],[-72.38946,20.27111],[-73.37289,20.43199],[-74.7289,18.71009],[-74.76465,18.06252],[-72.29523,17.48026],[-71.75671,18.03456],[-71.73783,18.07177],[-71.74994,18.11115],[-71.75465,18.14405],[-71.78271,18.18302],[-71.69952,18.34101],[-71.90875,18.45821],[-71.88102,18.50125],[-72.00201,18.62312],[-71.95412,18.64939],[-71.82556,18.62551],[-71.71885,18.78423]]]]}},{type:"Feature",properties:{iso1A2:"HU",iso1A3:"HUN",iso1N3:"348",wikidata:"Q28",nameEn:"Hungary",groups:["EU","151","150","UN"],callingCodes:["36"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.72525,48.34628],[21.67134,48.3989],[21.6068,48.50365],[21.44063,48.58456],[21.11516,48.49546],[20.83248,48.5824],[20.5215,48.53336],[20.29943,48.26104],[20.24312,48.2784],[19.92452,48.1283],[19.63338,48.25006],[19.52489,48.19791],[19.47957,48.09437],[19.28182,48.08336],[19.23924,48.0595],[19.01952,48.07052],[18.82176,48.04206],[18.76134,47.97499],[18.76821,47.87469],[18.8506,47.82308],[18.74074,47.8157],[18.72154,47.78683],[18.65644,47.7568],[18.56496,47.76588],[18.29305,47.73541],[18.02938,47.75665],[17.71215,47.7548],[17.23699,48.02094],[17.16001,48.00636],[17.09786,47.97336],[17.11269,47.92736],[17.08275,47.87719],[17.01645,47.8678],[17.00995,47.85836],[17.07039,47.81129],[17.05048,47.79377],[17.08893,47.70928],[16.87538,47.68895],[16.86509,47.72268],[16.82938,47.68432],[16.7511,47.67878],[16.72089,47.73469],[16.65679,47.74197],[16.61183,47.76171],[16.54779,47.75074],[16.53514,47.73837],[16.55129,47.72268],[16.41442,47.65936],[16.51643,47.64538],[16.58699,47.61772],[16.64193,47.63114],[16.71059,47.52692],[16.64821,47.50155],[16.67049,47.47426],[16.66203,47.45571],[16.57152,47.40868],[16.52414,47.41007],[16.49908,47.39416],[16.45104,47.41181],[16.47782,47.25918],[16.44142,47.25079],[16.43663,47.21127],[16.41739,47.20649],[16.42801,47.18422],[16.4523,47.18812],[16.46442,47.16845],[16.44932,47.14418],[16.52863,47.13974],[16.46134,47.09395],[16.52176,47.05747],[16.43936,47.03548],[16.51369,47.00084],[16.28202,47.00159],[16.27594,46.9643],[16.22403,46.939],[16.19904,46.94134],[16.10983,46.867],[16.14365,46.8547],[16.15711,46.85434],[16.21892,46.86961],[16.2365,46.87775],[16.2941,46.87137],[16.34547,46.83836],[16.3408,46.80641],[16.31303,46.79838],[16.30966,46.7787],[16.37816,46.69975],[16.42641,46.69228],[16.41863,46.66238],[16.38594,46.6549],[16.39217,46.63673],[16.50139,46.56684],[16.52885,46.53303],[16.52604,46.5051],[16.59527,46.47524],[16.6639,46.45203],[16.7154,46.39523],[16.8541,46.36255],[16.8903,46.28122],[17.14592,46.16697],[17.35672,45.95209],[17.56821,45.93728],[17.66545,45.84207],[17.87377,45.78522],[17.99805,45.79671],[18.08869,45.76511],[18.12439,45.78905],[18.44368,45.73972],[18.57483,45.80772],[18.6792,45.92057],[18.80211,45.87995],[18.81394,45.91329],[18.99712,45.93537],[19.01284,45.96529],[19.0791,45.96458],[19.10388,46.04015],[19.14543,45.9998],[19.28826,45.99694],[19.52473,46.1171],[19.56113,46.16824],[19.66007,46.19005],[19.81491,46.1313],[19.93508,46.17553],[20.01816,46.17696],[20.03533,46.14509],[20.09713,46.17315],[20.26068,46.12332],[20.28324,46.1438],[20.35573,46.16629],[20.45377,46.14405],[20.49718,46.18721],[20.63863,46.12728],[20.76085,46.21002],[20.74574,46.25467],[20.86797,46.28884],[21.06572,46.24897],[21.16872,46.30118],[21.28061,46.44941],[21.26929,46.4993],[21.33214,46.63035],[21.43926,46.65109],[21.5151,46.72147],[21.48935,46.7577],[21.52028,46.84118],[21.59307,46.86935],[21.59581,46.91628],[21.68645,46.99595],[21.648,47.03902],[21.78395,47.11104],[21.94463,47.38046],[22.01055,47.37767],[22.03389,47.42508],[22.00917,47.50492],[22.31816,47.76126],[22.41979,47.7391],[22.46559,47.76583],[22.67247,47.7871],[22.76617,47.8417],[22.77991,47.87211],[22.89849,47.95851],[22.84276,47.98602],[22.87847,48.04665],[22.81804,48.11363],[22.73427,48.12005],[22.66835,48.09162],[22.58733,48.10813],[22.59007,48.15121],[22.49806,48.25189],[22.38133,48.23726],[22.2083,48.42534],[22.14689,48.4005],[21.83339,48.36242],[21.8279,48.33321],[21.72525,48.34628]]]]}},{type:"Feature",properties:{iso1A2:"IC",wikidata:"Q5813",nameEn:"Canary Islands",country:"ES",groups:["Q3320166","Q105472","EU","039","150","UN"],isoStatus:"excRes",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-12.00985,30.24121],[-25.3475,27.87574],[-14.43883,27.02969],[-12.00985,30.24121]]]]}},{type:"Feature",properties:{iso1A2:"ID",iso1A3:"IDN",iso1N3:"360",wikidata:"Q252",nameEn:"Indonesia",aliases:["RI"]},geometry:null},{type:"Feature",properties:{iso1A2:"IE",iso1A3:"IRL",iso1N3:"372",wikidata:"Q27",nameEn:"Republic of Ireland",groups:["EU","Q22890","154","150","UN"],driveSide:"left",callingCodes:["353"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.26218,54.09785],[-6.29003,54.11278],[-6.32694,54.09337],[-6.36279,54.11248],[-6.36605,54.07234],[-6.47849,54.06947],[-6.62842,54.03503],[-6.66264,54.0666],[-6.6382,54.17071],[-6.70175,54.20218],[-6.74575,54.18788],[-6.81583,54.22791],[-6.85179,54.29176],[-6.87775,54.34682],[-7.02034,54.4212],[-7.19145,54.31296],[-7.14908,54.22732],[-7.25012,54.20063],[-7.26316,54.13863],[-7.29493,54.12013],[-7.29687,54.1354],[-7.28017,54.16714],[-7.29157,54.17191],[-7.34005,54.14698],[-7.30553,54.11869],[-7.32834,54.11475],[-7.44567,54.1539],[-7.4799,54.12239],[-7.55812,54.12239],[-7.69501,54.20731],[-7.81397,54.20159],[-7.8596,54.21779],[-7.87101,54.29299],[-8.04555,54.36292],[-8.179,54.46763],[-8.04538,54.48941],[-7.99812,54.54427],[-7.8596,54.53671],[-7.70315,54.62077],[-7.93293,54.66603],[-7.83352,54.73854],[-7.75041,54.7103],[-7.64449,54.75265],[-7.54671,54.74606],[-7.54508,54.79401],[-7.47626,54.83084],[-7.4473,54.87003],[-7.44404,54.9403],[-7.40004,54.94498],[-7.4033,55.00391],[-7.34464,55.04688],[-7.2471,55.06933],[-6.34755,55.49206],[-7.75229,55.93854],[-11.75,54],[-11,51],[-6.03913,51.13217],[-5.37267,53.63269],[-6.26218,54.09785]]]]}},{type:"Feature",properties:{iso1A2:"IL",iso1A3:"ISR",iso1N3:"376",wikidata:"Q801",nameEn:"Israel",groups:["145","142","UN"],callingCodes:["972"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.29262,31.70393],[34.48681,31.59711],[34.56797,31.54197],[34.48892,31.48365],[34.40077,31.40926],[34.36505,31.36404],[34.37381,31.30598],[34.36523,31.28963],[34.29417,31.24194],[34.26742,31.21998],[34.92298,29.45305],[34.97718,29.54294],[34.98207,29.58147],[35.02147,29.66343],[35.14108,30.07374],[35.19183,30.34636],[35.16218,30.43535],[35.19595,30.50297],[35.21379,30.60401],[35.29311,30.71365],[35.33456,30.81224],[35.33984,30.8802],[35.41371,30.95565],[35.43658,31.12444],[35.40316,31.25535],[35.47672,31.49578],[35.39675,31.49572],[35.22921,31.37445],[35.13033,31.3551],[35.02459,31.35979],[34.92571,31.34337],[34.88932,31.37093],[34.87833,31.39321],[34.89756,31.43891],[34.93258,31.47816],[34.94356,31.50743],[34.9415,31.55601],[34.95249,31.59813],[35.00879,31.65426],[35.08226,31.69107],[35.10782,31.71594],[35.11895,31.71454],[35.12933,31.7325],[35.13931,31.73012],[35.15119,31.73634],[35.15474,31.73352],[35.16478,31.73242],[35.18023,31.72067],[35.20538,31.72388],[35.21937,31.71578],[35.22392,31.71899],[35.23972,31.70896],[35.24315,31.71244],[35.2438,31.7201],[35.24981,31.72543],[35.25182,31.73945],[35.26319,31.74846],[35.25225,31.7678],[35.26058,31.79064],[35.25573,31.81362],[35.26404,31.82567],[35.251,31.83085],[35.25753,31.8387],[35.24816,31.8458],[35.2304,31.84222],[35.2249,31.85433],[35.22817,31.8638],[35.22567,31.86745],[35.22294,31.87889],[35.22014,31.88264],[35.2136,31.88241],[35.21276,31.88153],[35.21016,31.88237],[35.20945,31.8815],[35.20791,31.8821],[35.20673,31.88151],[35.20381,31.86716],[35.21128,31.863],[35.216,31.83894],[35.21469,31.81835],[35.19461,31.82687],[35.18169,31.82542],[35.18603,31.80901],[35.14174,31.81325],[35.07677,31.85627],[35.05617,31.85685],[35.01978,31.82944],[34.9724,31.83352],[34.99712,31.85569],[35.03489,31.85919],[35.03978,31.89276],[35.03489,31.92448],[35.00124,31.93264],[34.98682,31.96935],[35.00261,32.027],[34.9863,32.09551],[34.99437,32.10962],[34.98507,32.12606],[34.99039,32.14626],[34.96009,32.17503],[34.95703,32.19522],[34.98885,32.20758],[35.01841,32.23981],[35.02939,32.2671],[35.01119,32.28684],[35.01772,32.33863],[35.04243,32.35008],[35.05142,32.3667],[35.0421,32.38242],[35.05311,32.4024],[35.05423,32.41754],[35.07059,32.4585],[35.08564,32.46948],[35.09236,32.47614],[35.10024,32.47856],[35.10882,32.4757],[35.15937,32.50466],[35.2244,32.55289],[35.25049,32.52453],[35.29306,32.50947],[35.30685,32.51024],[35.35212,32.52047],[35.40224,32.50136],[35.42034,32.46009],[35.41598,32.45593],[35.41048,32.43706],[35.42078,32.41562],[35.55807,32.38674],[35.55494,32.42687],[35.57485,32.48669],[35.56614,32.64393],[35.59813,32.65159],[35.61669,32.67999],[35.66527,32.681],[35.68467,32.70715],[35.75983,32.74803],[35.78745,32.77938],[35.83758,32.82817],[35.84021,32.8725],[35.87012,32.91976],[35.89298,32.9456],[35.87188,32.98028],[35.84802,33.1031],[35.81911,33.11077],[35.81911,33.1336],[35.84285,33.16673],[35.83846,33.19397],[35.81647,33.2028],[35.81295,33.24841],[35.77513,33.27342],[35.813,33.3172],[35.77477,33.33609],[35.62019,33.27278],[35.62283,33.24226],[35.58502,33.26653],[35.58326,33.28381],[35.56523,33.28969],[35.55555,33.25844],[35.54544,33.25513],[35.54808,33.236],[35.5362,33.23196],[35.54228,33.19865],[35.52573,33.11921],[35.50335,33.114],[35.50272,33.09056],[35.448,33.09264],[35.43059,33.06659],[35.35223,33.05617],[35.31429,33.10515],[35.1924,33.08743],[35.10645,33.09318],[34.78515,33.20368],[33.62659,31.82938],[34.052,31.46619]]]]}},{type:"Feature",properties:{iso1A2:"IM",iso1A3:"IMN",iso1N3:"833",wikidata:"Q9676",nameEn:"Isle of Man",country:"GB",groups:["Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01624","44 07624","44 07524","44 07924"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.98763,54.07351],[-4.1819,54.57861],[-5.6384,53.81157],[-3.98763,54.07351]]]]}},{type:"Feature",properties:{iso1A2:"IN",iso1A3:"IND",iso1N3:"356",wikidata:"Q668",nameEn:"India"},geometry:null},{type:"Feature",properties:{iso1A2:"IO",iso1A3:"IOT",iso1N3:"086",wikidata:"Q43448",nameEn:"British Indian Ocean Territory",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"IQ",iso1A3:"IRQ",iso1N3:"368",wikidata:"Q796",nameEn:"Iraq",groups:["145","142","UN"],callingCodes:["964"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.78887,37.38615],[42.56725,37.14878],[42.35724,37.10998],[42.36697,37.0627],[41.81736,36.58782],[41.40058,36.52502],[41.28864,36.35368],[41.2564,36.06012],[41.37027,35.84095],[41.38184,35.62502],[41.26569,35.42708],[41.21654,35.1508],[41.2345,34.80049],[41.12388,34.65742],[40.97676,34.39788],[40.64314,34.31604],[38.79171,33.37328],[39.08202,32.50304],[38.98762,32.47694],[39.04251,32.30203],[39.26157,32.35555],[39.29903,32.23259],[40.01521,32.05667],[42.97601,30.72204],[42.97796,30.48295],[44.72255,29.19736],[46.42415,29.05947],[46.5527,29.10283],[46.89695,29.50584],[47.15166,30.01044],[47.37192,30.10421],[47.7095,30.10453],[48.01114,29.98906],[48.06782,30.02906],[48.17332,30.02448],[48.40479,29.85763],[48.59531,29.66815],[48.83867,29.78572],[48.61441,29.93675],[48.51011,29.96238],[48.44785,30.00148],[48.4494,30.04456],[48.43384,30.08233],[48.38869,30.11062],[48.38714,30.13485],[48.41671,30.17254],[48.41117,30.19846],[48.26393,30.3408],[48.24385,30.33846],[48.21279,30.31644],[48.19425,30.32796],[48.18321,30.39703],[48.14585,30.44133],[48.02443,30.4789],[48.03221,30.9967],[47.68219,31.00004],[47.6804,31.39086],[47.86337,31.78422],[47.64771,32.07666],[47.52474,32.15972],[47.57144,32.20583],[47.37529,32.47808],[47.17218,32.45393],[46.46788,32.91992],[46.32298,32.9731],[46.17198,32.95612],[46.09103,32.98354],[46.15175,33.07229],[46.03966,33.09577],[46.05367,33.13097],[46.11905,33.11924],[46.20623,33.20395],[45.99919,33.5082],[45.86687,33.49263],[45.96183,33.55751],[45.89801,33.63661],[45.77814,33.60938],[45.50261,33.94968],[45.42789,33.9458],[45.41077,33.97421],[45.47264,34.03099],[45.56176,34.15088],[45.58667,34.30147],[45.53552,34.35148],[45.49171,34.3439],[45.46697,34.38221],[45.43879,34.45949],[45.51883,34.47692],[45.53219,34.60441],[45.59074,34.55558],[45.60224,34.55057],[45.73923,34.54416],[45.70031,34.69277],[45.65672,34.7222],[45.68284,34.76624],[45.70031,34.82322],[45.73641,34.83975],[45.79682,34.85133],[45.78904,34.91135],[45.86532,34.89858],[45.89477,34.95805],[45.87864,35.03441],[45.92173,35.0465],[45.92203,35.09538],[45.93108,35.08148],[45.94756,35.09188],[46.06508,35.03699],[46.07747,35.0838],[46.11763,35.07551],[46.19116,35.11097],[46.15642,35.1268],[46.16229,35.16984],[46.19738,35.18536],[46.18457,35.22561],[46.11367,35.23729],[46.15474,35.2883],[46.13152,35.32548],[46.05358,35.38568],[45.98453,35.49848],[46.01518,35.52012],[45.97584,35.58132],[46.03028,35.57416],[46.01307,35.59756],[46.0165,35.61501],[45.99452,35.63574],[46.0117,35.65059],[46.01631,35.69139],[46.23736,35.71414],[46.34166,35.78363],[46.32921,35.82655],[46.17198,35.8013],[46.08325,35.8581],[45.94711,35.82218],[45.89784,35.83708],[45.81442,35.82107],[45.76145,35.79898],[45.6645,35.92872],[45.60018,35.96069],[45.55245,35.99943],[45.46594,36.00042],[45.38275,35.97156],[45.33916,35.99424],[45.37652,36.06222],[45.37312,36.09917],[45.32235,36.17383],[45.30038,36.27769],[45.26261,36.3001],[45.27394,36.35846],[45.23953,36.43257],[45.11811,36.40751],[45.00759,36.5402],[45.06985,36.62645],[45.06985,36.6814],[45.01537,36.75128],[44.84725,36.77622],[44.83479,36.81362],[44.90173,36.86096],[44.91199,36.91468],[44.89862,37.01897],[44.81611,37.04383],[44.75229,37.11958],[44.78319,37.1431],[44.76698,37.16162],[44.63179,37.19229],[44.42631,37.05825],[44.38117,37.05825],[44.35315,37.04955],[44.35937,37.02843],[44.30645,36.97373],[44.25975,36.98119],[44.18503,37.09551],[44.22239,37.15756],[44.27998,37.16501],[44.2613,37.25055],[44.13521,37.32486],[44.02002,37.33229],[43.90949,37.22453],[43.84878,37.22205],[43.82699,37.19477],[43.8052,37.22825],[43.7009,37.23692],[43.63085,37.21957],[43.56702,37.25675],[43.50787,37.24436],[43.33508,37.33105],[43.30083,37.30629],[43.11403,37.37436],[42.93705,37.32015],[42.78887,37.38615]]]]}},{type:"Feature",properties:{iso1A2:"IR",iso1A3:"IRN",iso1N3:"364",wikidata:"Q794",nameEn:"Iran",groups:["034","142","UN"],callingCodes:["98"]},geometry:{type:"MultiPolygon",coordinates:[[[[44.96746,39.42998],[44.88916,39.59653],[44.81043,39.62677],[44.71806,39.71124],[44.65422,39.72163],[44.6137,39.78393],[44.47298,39.68788],[44.48111,39.61579],[44.41849,39.56659],[44.42832,39.4131],[44.37921,39.4131],[44.29818,39.378],[44.22452,39.4169],[44.03667,39.39223],[44.1043,39.19842],[44.20946,39.13975],[44.18863,38.93881],[44.30322,38.81581],[44.26155,38.71427],[44.28065,38.6465],[44.32058,38.62752],[44.3207,38.49799],[44.3119,38.37887],[44.38309,38.36117],[44.44386,38.38295],[44.50115,38.33939],[44.42476,38.25763],[44.22509,37.88859],[44.3883,37.85433],[44.45948,37.77065],[44.55498,37.783],[44.62096,37.71985],[44.56887,37.6429],[44.61401,37.60165],[44.58449,37.45018],[44.81021,37.2915],[44.75986,37.21549],[44.7868,37.16644],[44.78319,37.1431],[44.75229,37.11958],[44.81611,37.04383],[44.89862,37.01897],[44.91199,36.91468],[44.90173,36.86096],[44.83479,36.81362],[44.84725,36.77622],[45.01537,36.75128],[45.06985,36.6814],[45.06985,36.62645],[45.00759,36.5402],[45.11811,36.40751],[45.23953,36.43257],[45.27394,36.35846],[45.26261,36.3001],[45.30038,36.27769],[45.32235,36.17383],[45.37312,36.09917],[45.37652,36.06222],[45.33916,35.99424],[45.38275,35.97156],[45.46594,36.00042],[45.55245,35.99943],[45.60018,35.96069],[45.6645,35.92872],[45.76145,35.79898],[45.81442,35.82107],[45.89784,35.83708],[45.94711,35.82218],[46.08325,35.8581],[46.17198,35.8013],[46.32921,35.82655],[46.34166,35.78363],[46.23736,35.71414],[46.01631,35.69139],[46.0117,35.65059],[45.99452,35.63574],[46.0165,35.61501],[46.01307,35.59756],[46.03028,35.57416],[45.97584,35.58132],[46.01518,35.52012],[45.98453,35.49848],[46.05358,35.38568],[46.13152,35.32548],[46.15474,35.2883],[46.11367,35.23729],[46.18457,35.22561],[46.19738,35.18536],[46.16229,35.16984],[46.15642,35.1268],[46.19116,35.11097],[46.11763,35.07551],[46.07747,35.0838],[46.06508,35.03699],[45.94756,35.09188],[45.93108,35.08148],[45.92203,35.09538],[45.92173,35.0465],[45.87864,35.03441],[45.89477,34.95805],[45.86532,34.89858],[45.78904,34.91135],[45.79682,34.85133],[45.73641,34.83975],[45.70031,34.82322],[45.68284,34.76624],[45.65672,34.7222],[45.70031,34.69277],[45.73923,34.54416],[45.60224,34.55057],[45.59074,34.55558],[45.53219,34.60441],[45.51883,34.47692],[45.43879,34.45949],[45.46697,34.38221],[45.49171,34.3439],[45.53552,34.35148],[45.58667,34.30147],[45.56176,34.15088],[45.47264,34.03099],[45.41077,33.97421],[45.42789,33.9458],[45.50261,33.94968],[45.77814,33.60938],[45.89801,33.63661],[45.96183,33.55751],[45.86687,33.49263],[45.99919,33.5082],[46.20623,33.20395],[46.11905,33.11924],[46.05367,33.13097],[46.03966,33.09577],[46.15175,33.07229],[46.09103,32.98354],[46.17198,32.95612],[46.32298,32.9731],[46.46788,32.91992],[47.17218,32.45393],[47.37529,32.47808],[47.57144,32.20583],[47.52474,32.15972],[47.64771,32.07666],[47.86337,31.78422],[47.6804,31.39086],[47.68219,31.00004],[48.03221,30.9967],[48.02443,30.4789],[48.14585,30.44133],[48.18321,30.39703],[48.19425,30.32796],[48.21279,30.31644],[48.24385,30.33846],[48.26393,30.3408],[48.41117,30.19846],[48.41671,30.17254],[48.38714,30.13485],[48.38869,30.11062],[48.43384,30.08233],[48.4494,30.04456],[48.44785,30.00148],[48.51011,29.96238],[48.61441,29.93675],[48.83867,29.78572],[49.98877,27.87827],[50.37726,27.89227],[54.39838,25.68383],[55.14145,25.62624],[55.81777,26.18798],[56.2644,26.58649],[56.68954,26.76645],[56.79239,26.41236],[56.82555,25.7713],[56.86325,25.03856],[61.46682,24.57869],[61.6433,25.27541],[61.683,25.66638],[61.83968,25.7538],[61.83831,26.07249],[61.89391,26.26251],[62.05117,26.31647],[62.21304,26.26601],[62.31484,26.528],[62.77352,26.64099],[63.1889,26.65072],[63.18688,26.83844],[63.25005,26.84212],[63.25005,27.08692],[63.32283,27.14437],[63.19649,27.25674],[62.80604,27.22412],[62.79684,27.34381],[62.84905,27.47627],[62.7638,28.02992],[62.79412,28.28108],[62.59499,28.24842],[62.40259,28.42703],[61.93581,28.55284],[61.65978,28.77937],[61.53765,29.00507],[61.31508,29.38903],[60.87231,29.86514],[61.80829,30.84224],[61.78268,30.92724],[61.8335,30.97669],[61.83257,31.0452],[61.80957,31.12576],[61.80569,31.16167],[61.70929,31.37391],[60.84541,31.49561],[60.86191,32.22565],[60.56485,33.12944],[60.88908,33.50219],[60.91133,33.55596],[60.69573,33.56054],[60.57762,33.59772],[60.5485,33.73422],[60.5838,33.80793],[60.50209,34.13992],[60.66502,34.31539],[60.91321,34.30411],[60.72316,34.52857],[60.99922,34.63064],[61.00197,34.70631],[61.06926,34.82139],[61.12831,35.09938],[61.0991,35.27845],[61.18187,35.30249],[61.27371,35.61482],[61.22719,35.67038],[61.26152,35.80749],[61.22444,35.92879],[61.12007,35.95992],[61.22719,36.12759],[61.1393,36.38782],[61.18187,36.55348],[61.14516,36.64644],[60.34767,36.63214],[60.00768,37.04102],[59.74678,37.12499],[59.55178,37.13594],[59.39385,37.34257],[59.39797,37.47892],[59.33507,37.53146],[59.22905,37.51161],[58.9338,37.67374],[58.6921,37.64548],[58.5479,37.70526],[58.47786,37.6433],[58.39959,37.63134],[58.22999,37.6856],[58.21399,37.77281],[57.79534,37.89299],[57.35042,37.98546],[57.37236,38.09321],[57.21169,38.28965],[57.03453,38.18717],[56.73928,38.27887],[56.62255,38.24005],[56.43303,38.26054],[56.32454,38.18502],[56.33278,38.08132],[55.97847,38.08024],[55.76561,38.12238],[55.44152,38.08564],[55.13412,37.94705],[54.851,37.75739],[54.77684,37.62264],[54.81804,37.61285],[54.77822,37.51597],[54.67247,37.43532],[54.58664,37.45809],[54.36211,37.34912],[54.24565,37.32047],[53.89734,37.3464],[48.88288,38.43975],[48.84969,38.45015],[48.81072,38.44853],[48.78979,38.45026],[48.70001,38.40564],[48.62217,38.40198],[48.58793,38.45076],[48.45084,38.61013],[48.3146,38.59958],[48.24773,38.71883],[48.02581,38.82705],[48.01409,38.90333],[48.07734,38.91616],[48.08627,38.94434],[48.28437,38.97186],[48.33884,39.03022],[48.31239,39.09278],[48.15361,39.19419],[48.12404,39.25208],[48.15984,39.30028],[48.37385,39.37584],[48.34264,39.42935],[47.98977,39.70999],[47.84774,39.66285],[47.50099,39.49615],[47.38978,39.45999],[47.31301,39.37492],[47.05927,39.24846],[47.05771,39.20143],[46.95341,39.13505],[46.92539,39.16644],[46.83822,39.13143],[46.75752,39.03231],[46.53497,38.86548],[46.34059,38.92076],[46.20601,38.85262],[46.14785,38.84206],[46.06766,38.87861],[46.00228,38.87376],[45.94624,38.89072],[45.90266,38.87739],[45.83883,38.90768],[45.65172,38.95199],[45.6155,38.94304],[45.6131,38.964],[45.44966,38.99243],[45.44811,39.04927],[45.40452,39.07224],[45.40148,39.09007],[45.30489,39.18333],[45.16168,39.21952],[45.08751,39.35052],[45.05932,39.36435],[44.96746,39.42998]]]]}},{type:"Feature",properties:{iso1A2:"IS",iso1A3:"ISL",iso1N3:"352",wikidata:"Q189",nameEn:"Iceland",groups:["154","150","UN"],callingCodes:["354"]},geometry:{type:"MultiPolygon",coordinates:[[[[-33.15676,62.62995],[-8.25539,63.0423],[-15.70914,69.67442],[-33.15676,62.62995]]]]}},{type:"Feature",properties:{iso1A2:"IT",iso1A3:"ITA",iso1N3:"380",wikidata:"Q38",nameEn:"Italy",groups:["EU","039","150","UN"],callingCodes:["39"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.95861,45.96485],[8.97604,45.96151],[8.97741,45.98317],[8.96668,45.98436],[8.95861,45.96485]]],[[[7.63035,43.57419],[9.56115,43.20816],[10.09675,41.44089],[7.60802,41.05927],[7.89009,38.19924],[11.2718,37.6713],[12.13667,34.20326],[14.02721,36.53141],[17.67657,35.68918],[18.83516,40.36999],[16.15283,42.18525],[13.12821,44.48877],[13.05142,45.33128],[13.45644,45.59464],[13.6076,45.64761],[13.7198,45.59352],[13.74587,45.59811],[13.78445,45.5825],[13.84106,45.58185],[13.86771,45.59898],[13.8695,45.60835],[13.9191,45.6322],[13.87933,45.65207],[13.83422,45.68703],[13.83332,45.70855],[13.8235,45.7176],[13.66986,45.79955],[13.59784,45.8072],[13.58858,45.83503],[13.57563,45.8425],[13.58644,45.88173],[13.59565,45.89446],[13.60857,45.89907],[13.61931,45.91782],[13.63815,45.93607],[13.6329,45.94894],[13.64307,45.98326],[13.63458,45.98947],[13.62074,45.98388],[13.58903,45.99009],[13.56759,45.96991],[13.52963,45.96588],[13.50104,45.98078],[13.47474,46.00546],[13.49702,46.01832],[13.50998,46.04498],[13.49568,46.04839],[13.50104,46.05986],[13.57072,46.09022],[13.64053,46.13587],[13.66472,46.17392],[13.64451,46.18966],[13.56682,46.18703],[13.56114,46.2054],[13.47587,46.22725],[13.42218,46.20758],[13.40899,46.21509],[13.41193,46.22767],[13.37671,46.29668],[13.44808,46.33507],[13.43418,46.35992],[13.47019,46.3621],[13.5763,46.40915],[13.5763,46.42613],[13.59777,46.44137],[13.68684,46.43881],[13.7148,46.5222],[13.64088,46.53438],[13.27627,46.56059],[12.94445,46.60401],[12.59992,46.6595],[12.38708,46.71529],[12.27591,46.88651],[12.2006,46.88854],[12.11675,47.01241],[12.21781,47.03996],[12.19254,47.09331],[11.74789,46.98484],[11.50739,47.00644],[11.33355,46.99862],[11.10618,46.92966],[11.00764,46.76896],[10.72974,46.78972],[10.75753,46.82258],[10.66405,46.87614],[10.54783,46.84505],[10.47197,46.85698],[10.38659,46.67847],[10.40475,46.63671],[10.44686,46.64162],[10.49375,46.62049],[10.46136,46.53164],[10.25309,46.57432],[10.23674,46.63484],[10.10307,46.61003],[10.03715,46.44479],[10.165,46.41051],[10.10506,46.3372],[10.17862,46.25626],[10.14439,46.22992],[10.07055,46.21668],[9.95249,46.38045],[9.73086,46.35071],[9.71273,46.29266],[9.57015,46.2958],[9.46117,46.37481],[9.45936,46.50873],[9.40487,46.46621],[9.36128,46.5081],[9.28136,46.49685],[9.25502,46.43743],[9.29226,46.32717],[9.24503,46.23616],[9.01618,46.04928],[8.99257,45.9698],[9.09065,45.89906],[9.06642,45.8761],[9.04546,45.84968],[9.04059,45.8464],[9.03505,45.83976],[9.03793,45.83548],[9.03279,45.82865],[9.0298,45.82127],[9.00324,45.82055],[8.99663,45.83466],[8.9621,45.83707],[8.94737,45.84285],[8.91129,45.8388],[8.93504,45.86245],[8.94372,45.86587],[8.93649,45.86775],[8.88904,45.95465],[8.86688,45.96135],[8.85121,45.97239],[8.8319,45.9879],[8.79362,45.99207],[8.78585,45.98973],[8.79414,46.00913],[8.85617,46.0748],[8.80778,46.10085],[8.75697,46.10395],[8.62242,46.12112],[8.45032,46.26869],[8.46317,46.43712],[8.42464,46.46367],[8.30648,46.41587],[8.31162,46.38044],[8.08814,46.26692],[8.16866,46.17817],[8.11383,46.11577],[8.02906,46.10331],[7.98881,45.99867],[7.9049,45.99945],[7.85949,45.91485],[7.56343,45.97421],[7.10685,45.85653],[7.04151,45.92435],[6.95315,45.85163],[6.80785,45.83265],[6.80785,45.71864],[6.98948,45.63869],[7.00037,45.509],[7.18019,45.40071],[7.10572,45.32924],[7.13115,45.25386],[7.07074,45.21228],[6.96706,45.20841],[6.85144,45.13226],[6.7697,45.16044],[6.62803,45.11175],[6.66981,45.02324],[6.74791,45.01939],[6.74519,44.93661],[6.75518,44.89915],[6.90774,44.84322],[6.93499,44.8664],[7.02217,44.82519],[7.00401,44.78782],[7.07484,44.68073],[7.00582,44.69364],[6.95133,44.66264],[6.96042,44.62129],[6.85507,44.53072],[6.86233,44.49834],[6.94504,44.43112],[6.88784,44.42043],[6.89171,44.36637],[6.98221,44.28289],[7.00764,44.23736],[7.16929,44.20352],[7.27827,44.1462],[7.34547,44.14359],[7.36364,44.11882],[7.62155,44.14881],[7.63245,44.17877],[7.68694,44.17487],[7.66878,44.12795],[7.72508,44.07578],[7.6597,44.03009],[7.66848,43.99943],[7.65266,43.9763],[7.60771,43.95772],[7.56858,43.94506],[7.56075,43.89932],[7.51162,43.88301],[7.49355,43.86551],[7.50423,43.84345],[7.53006,43.78405],[7.63035,43.57419]],[[12.45181,41.90056],[12.44834,41.90095],[12.44582,41.90194],[12.44815,41.90326],[12.44984,41.90545],[12.45091,41.90625],[12.45543,41.90738],[12.45561,41.90629],[12.45762,41.9058],[12.45755,41.9033],[12.45826,41.90281],[12.45834,41.90174],[12.4577,41.90115],[12.45691,41.90125],[12.45626,41.90172],[12.45435,41.90143],[12.45446,41.90028],[12.45181,41.90056]],[[12.45648,43.89369],[12.44184,43.90498],[12.41641,43.89991],[12.40935,43.9024],[12.41233,43.90956],[12.40733,43.92379],[12.41551,43.92984],[12.41165,43.93769],[12.40506,43.94325],[12.40415,43.95485],[12.41414,43.95273],[12.42005,43.9578],[12.43662,43.95698],[12.44684,43.96597],[12.46205,43.97463],[12.47853,43.98052],[12.49406,43.98492],[12.50678,43.99113],[12.51463,43.99122],[12.5154,43.98508],[12.51064,43.98165],[12.51109,43.97201],[12.50622,43.97131],[12.50875,43.96198],[12.50655,43.95796],[12.51427,43.94897],[12.51553,43.94096],[12.50496,43.93017],[12.50269,43.92363],[12.49724,43.92248],[12.49247,43.91774],[12.49429,43.90973],[12.48771,43.89706],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"JE",iso1A3:"JEY",iso1N3:"832",wikidata:"Q785",nameEn:"Bailiwick of Jersey",country:"GB",groups:["830","Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01534"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.00491,48.86706],[-1.83944,49.23037],[-2.09454,49.46288],[-2.65349,49.15373],[-2.00491,48.86706]]]]}},{type:"Feature",properties:{iso1A2:"JM",iso1A3:"JAM",iso1N3:"388",wikidata:"Q766",nameEn:"Jamaica",aliases:["JA"],groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 876","1 658"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.09729,17.36817],[-78.9741,19.59515],[-78.34606,16.57862],[-74.09729,17.36817]]]]}},{type:"Feature",properties:{iso1A2:"JO",iso1A3:"JOR",iso1N3:"400",wikidata:"Q810",nameEn:"Jordan",groups:["145","142","UN"],callingCodes:["962"]},geometry:{type:"MultiPolygon",coordinates:[[[[39.04251,32.30203],[38.98762,32.47694],[39.08202,32.50304],[38.79171,33.37328],[36.83946,32.31293],[36.40959,32.37908],[36.23948,32.50108],[36.20875,32.49529],[36.20379,32.52751],[36.08074,32.51463],[36.02239,32.65911],[35.96633,32.66237],[35.93307,32.71966],[35.88405,32.71321],[35.75983,32.74803],[35.68467,32.70715],[35.66527,32.681],[35.61669,32.67999],[35.59813,32.65159],[35.56614,32.64393],[35.57485,32.48669],[35.55494,32.42687],[35.55807,32.38674],[35.57111,32.21877],[35.52012,32.04076],[35.54375,31.96587],[35.52758,31.9131],[35.55941,31.76535],[35.47672,31.49578],[35.40316,31.25535],[35.43658,31.12444],[35.41371,30.95565],[35.33984,30.8802],[35.33456,30.81224],[35.29311,30.71365],[35.21379,30.60401],[35.19595,30.50297],[35.16218,30.43535],[35.19183,30.34636],[35.14108,30.07374],[35.02147,29.66343],[34.98207,29.58147],[34.97718,29.54294],[34.92298,29.45305],[34.8812,29.36878],[36.07081,29.18469],[36.50005,29.49696],[36.75083,29.86903],[37.4971,29.99949],[37.66395,30.33245],[37.99354,30.49998],[36.99791,31.50081],[38.99233,31.99721],[39.29903,32.23259],[39.26157,32.35555],[39.04251,32.30203]]]]}},{type:"Feature",properties:{iso1A2:"JP",iso1A3:"JPN",iso1N3:"392",wikidata:"Q17",nameEn:"Japan",groups:["030","142","UN"],driveSide:"left",callingCodes:["81"]},geometry:{type:"MultiPolygon",coordinates:[[[[145.82361,43.38904],[145.23667,43.76813],[145.82343,44.571],[140.9182,45.92937],[133.61399,37.41],[129.2669,34.87122],[122.26612,25.98197],[123.92912,17.8782],[155.16731,23.60141],[145.82361,43.38904]]]]}},{type:"Feature",properties:{iso1A2:"KE",iso1A3:"KEN",iso1N3:"404",wikidata:"Q114",nameEn:"Kenya",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["254"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.9419,4.61933],[35.51424,4.61643],[35.42366,4.76969],[35.47843,4.91872],[35.30992,4.90402],[35.34151,5.02364],[34.47601,4.72162],[33.9873,4.23316],[34.06046,4.15235],[34.15429,3.80464],[34.45815,3.67385],[34.44922,3.51627],[34.39112,3.48802],[34.41794,3.44342],[34.40006,3.37949],[34.45815,3.18319],[34.56242,3.11478],[34.60114,2.93034],[34.65774,2.8753],[34.73967,2.85447],[34.78137,2.76223],[34.77244,2.70272],[34.95267,2.47209],[34.90947,2.42447],[34.98692,1.97348],[34.9899,1.6668],[34.92734,1.56109],[34.87819,1.5596],[34.7918,1.36752],[34.82606,1.30944],[34.82606,1.26626],[34.80223,1.22754],[34.67562,1.21265],[34.58029,1.14712],[34.57427,1.09868],[34.52369,1.10692],[34.43349,.85254],[34.40041,.80266],[34.31516,.75693],[34.27345,.63182],[34.20196,.62289],[34.13493,.58118],[34.11408,.48884],[34.08727,.44713],[34.10067,.36372],[33.90936,.10581],[33.98449,-.13079],[33.9264,-.54188],[33.93107,-.99298],[34.02286,-1.00779],[34.03084,-1.05101],[34.0824,-1.02264],[37.67199,-3.06222],[37.71745,-3.304],[37.5903,-3.42735],[37.63099,-3.50723],[37.75036,-3.54243],[37.81321,-3.69179],[39.21631,-4.67835],[39.44306,-4.93877],[39.62121,-4.68136],[41.75542,-1.85308],[41.56362,-1.66375],[41.56,-1.59812],[41.00099,-.83068],[40.98767,2.82959],[41.31368,3.14314],[41.89488,3.97375],[41.1754,3.94079],[40.77498,4.27683],[39.86043,3.86974],[39.76808,3.67058],[39.58339,3.47434],[39.55132,3.39634],[39.51551,3.40895],[39.49444,3.45521],[39.19954,3.47834],[39.07736,3.5267],[38.91938,3.51198],[38.52336,3.62551],[38.45812,3.60445],[38.14168,3.62487],[37.07724,4.33503],[36.84474,4.44518],[36.03924,4.44406],[35.95449,4.53244],[35.9419,4.61933]]]]}},{type:"Feature",properties:{iso1A2:"KG",iso1A3:"KGZ",iso1N3:"417",wikidata:"Q813",nameEn:"Kyrgyzstan",groups:["143","142","UN"],callingCodes:["996"]},geometry:{type:"MultiPolygon",coordinates:[[[[74.88756,42.98612],[74.75,42.99029],[74.70331,43.02519],[74.64615,43.05881],[74.57491,43.13702],[74.22489,43.24657],[73.55634,43.03071],[73.50992,42.82356],[73.44393,42.43098],[71.88792,42.83578],[71.62405,42.76613],[71.53272,42.8014],[71.2724,42.77853],[71.22785,42.69248],[71.17807,42.67381],[71.15232,42.60486],[70.97717,42.50147],[70.85973,42.30188],[70.94483,42.26238],[71.13263,42.28356],[71.28719,42.18033],[70.69777,41.92554],[70.17682,41.5455],[70.48909,41.40335],[70.67586,41.47953],[70.78572,41.36419],[70.77885,41.24813],[70.86263,41.23833],[70.9615,41.16393],[71.02193,41.19494],[71.11806,41.15359],[71.25813,41.18796],[71.27187,41.11015],[71.34877,41.16807],[71.40198,41.09436],[71.46148,41.13958],[71.43814,41.19644],[71.46688,41.31883],[71.57227,41.29175],[71.6787,41.42111],[71.65914,41.49599],[71.73054,41.54713],[71.71132,41.43012],[71.76625,41.4466],[71.83914,41.3546],[71.91457,41.2982],[71.85964,41.19081],[72.07249,41.11739],[72.10745,41.15483],[72.16433,41.16483],[72.17594,41.15522],[72.14864,41.13363],[72.1792,41.10621],[72.21061,41.05607],[72.17594,41.02377],[72.18339,40.99571],[72.324,41.03381],[72.34026,41.04539],[72.34757,41.06104],[72.36138,41.04384],[72.38511,41.02785],[72.45206,41.03018],[72.48742,40.97136],[72.55109,40.96046],[72.59136,40.86947],[72.68157,40.84942],[72.84291,40.85512],[72.94454,40.8094],[73.01869,40.84681],[73.13267,40.83512],[73.13412,40.79122],[73.0612,40.76678],[72.99133,40.76457],[72.93296,40.73089],[72.8722,40.71111],[72.85372,40.7116],[72.84754,40.67229],[72.80137,40.67856],[72.74866,40.60873],[72.74894,40.59592],[72.75982,40.57273],[72.74862,40.57131],[72.74768,40.58051],[72.73995,40.58409],[72.69579,40.59778],[72.66713,40.59076],[72.66713,40.5219],[72.47795,40.5532],[72.40517,40.61917],[72.34406,40.60144],[72.41714,40.55736],[72.38384,40.51535],[72.41513,40.50856],[72.44191,40.48222],[72.40346,40.4007],[72.24368,40.46091],[72.18648,40.49893],[71.96401,40.31907],[72.05464,40.27586],[71.85002,40.25647],[71.82646,40.21872],[71.73054,40.14818],[71.71719,40.17886],[71.69621,40.18492],[71.70569,40.20391],[71.68386,40.26984],[71.61931,40.26775],[71.61725,40.20615],[71.51549,40.22986],[71.51215,40.26943],[71.4246,40.28619],[71.36663,40.31593],[71.13042,40.34106],[71.05901,40.28765],[70.95789,40.28761],[70.9818,40.22392],[70.80495,40.16813],[70.7928,40.12797],[70.65827,40.0981],[70.65946,39.9878],[70.58912,39.95211],[70.55033,39.96619],[70.47557,39.93216],[70.57384,39.99394],[70.58297,40.00891],[70.01283,40.23288],[69.67001,40.10639],[69.64704,40.12165],[69.57615,40.10524],[69.55555,40.12296],[69.53794,40.11833],[69.53855,40.0887],[69.5057,40.03277],[69.53615,39.93991],[69.43557,39.92877],[69.43134,39.98431],[69.35649,40.01994],[69.26938,39.8127],[69.3594,39.52516],[69.68677,39.59281],[69.87491,39.53882],[70.11111,39.58223],[70.2869,39.53141],[70.44757,39.60128],[70.64087,39.58792],[70.7854,39.38933],[71.06418,39.41586],[71.08752,39.50704],[71.49814,39.61397],[71.55856,39.57588],[71.5517,39.45722],[71.62688,39.44056],[71.76816,39.45456],[71.80164,39.40631],[71.7522,39.32031],[71.79202,39.27355],[71.90601,39.27674],[72.04059,39.36704],[72.09689,39.26823],[72.17242,39.2661],[72.23834,39.17248],[72.33173,39.33093],[72.62027,39.39696],[72.85934,39.35116],[73.18454,39.35536],[73.31912,39.38615],[73.45096,39.46677],[73.59831,39.46425],[73.87018,39.47879],[73.94683,39.60733],[73.92354,39.69565],[73.9051,39.75073],[73.83006,39.76136],[73.97049,40.04378],[74.25533,40.13191],[74.35063,40.09742],[74.69875,40.34668],[74.85996,40.32857],[74.78168,40.44886],[74.82013,40.52197],[75.08243,40.43945],[75.22834,40.45382],[75.5854,40.66874],[75.69663,40.28642],[75.91361,40.2948],[75.96168,40.38064],[76.33659,40.3482],[76.5261,40.46114],[76.75681,40.95354],[76.99302,41.0696],[77.28004,41.0033],[77.3693,41.0375],[77.52723,41.00227],[77.76206,41.01574],[77.81287,41.14307],[78.12873,41.23091],[78.15757,41.38565],[78.3732,41.39603],[79.92977,42.04113],[80.17842,42.03211],[80.17807,42.21166],[79.97364,42.42816],[79.52921,42.44778],[79.19763,42.804],[78.91502,42.76839],[78.48469,42.89649],[75.82823,42.94848],[75.72174,42.79672],[75.29966,42.86183],[75.22619,42.85528],[74.88756,42.98612]],[[70.74189,39.86319],[70.63105,39.77923],[70.59667,39.83542],[70.54998,39.85137],[70.52631,39.86989],[70.53651,39.89155],[70.74189,39.86319]],[[71.86463,39.98598],[71.84316,39.95582],[71.7504,39.93701],[71.71511,39.96348],[71.78838,40.01404],[71.86463,39.98598]],[[71.21139,40.03369],[71.1427,39.95026],[71.23067,39.93581],[71.16101,39.88423],[71.10531,39.91354],[71.04979,39.89808],[71.10501,39.95568],[71.09063,39.99],[71.11668,39.99291],[71.11037,40.01984],[71.01035,40.05481],[71.00236,40.18154],[71.06305,40.1771],[71.12218,40.03052],[71.21139,40.03369]]]]}},{type:"Feature",properties:{iso1A2:"KH",iso1A3:"KHM",iso1N3:"116",wikidata:"Q424",nameEn:"Cambodia",groups:["035","142","UN"],callingCodes:["855"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.87328,11.55953],[105.81645,11.56876],[105.80867,11.60536],[105.8507,11.66635],[105.88962,11.67854],[105.95188,11.63738],[106.00792,11.7197],[106.02038,11.77457],[106.06708,11.77761],[106.13158,11.73283],[106.18539,11.75171],[106.26478,11.72122],[106.30525,11.67549],[106.37219,11.69836],[106.44691,11.66787],[106.45158,11.68616],[106.41577,11.76999],[106.44535,11.8279],[106.44068,11.86294],[106.4687,11.86751],[106.4111,11.97413],[106.70687,11.96956],[106.79405,12.0807],[106.92325,12.06548],[106.99953,12.08983],[107.15831,12.27547],[107.34511,12.33327],[107.42917,12.24657],[107.4463,12.29373],[107.55059,12.36824],[107.5755,12.52177],[107.55993,12.7982],[107.49611,12.88926],[107.49144,13.01215],[107.62843,13.3668],[107.61909,13.52577],[107.53503,13.73908],[107.45252,13.78897],[107.46498,13.91593],[107.44318,13.99751],[107.38247,13.99147],[107.35757,14.02319],[107.37158,14.07906],[107.33577,14.11832],[107.40427,14.24509],[107.39493,14.32655],[107.44941,14.41552],[107.48521,14.40346],[107.52569,14.54665],[107.52102,14.59034],[107.55371,14.628],[107.54361,14.69092],[107.47238,14.61523],[107.44435,14.52785],[107.37897,14.54443],[107.3276,14.58812],[107.29803,14.58963],[107.26534,14.54292],[107.256,14.48716],[107.21241,14.48716],[107.17038,14.41782],[107.09722,14.3937],[107.03962,14.45099],[107.04585,14.41782],[106.98825,14.36806],[106.9649,14.3198],[106.90574,14.33639],[106.8497,14.29416],[106.80767,14.31226],[106.73762,14.42687],[106.63333,14.44194],[106.59908,14.50977],[106.57106,14.50525],[106.54148,14.59565],[106.50723,14.58963],[106.45898,14.55045],[106.47766,14.50977],[106.43874,14.52032],[106.40916,14.45249],[106.32355,14.44043],[106.25194,14.48415],[106.21302,14.36203],[106.00131,14.36957],[105.99509,14.32734],[106.02311,14.30623],[106.04801,14.20363],[106.10872,14.18401],[106.11962,14.11307],[106.18656,14.06324],[106.16632,14.01794],[106.10094,13.98471],[106.10405,13.9137],[105.90791,13.92881],[105.78182,14.02247],[105.78338,14.08438],[105.5561,14.15684],[105.44869,14.10703],[105.36775,14.09948],[105.2759,14.17496],[105.20894,14.34967],[105.17748,14.34432],[105.14012,14.23873],[105.08408,14.20402],[105.02804,14.23722],[104.97667,14.38806],[104.69335,14.42726],[104.55014,14.36091],[104.27616,14.39861],[103.93836,14.3398],[103.70175,14.38052],[103.71109,14.4348],[103.53518,14.42575],[103.39353,14.35639],[103.16469,14.33075],[102.93275,14.19044],[102.91251,14.01531],[102.77864,13.93374],[102.72727,13.77806],[102.56848,13.69366],[102.5481,13.6589],[102.58635,13.6286],[102.62483,13.60883],[102.57573,13.60461],[102.5358,13.56933],[102.44601,13.5637],[102.36859,13.57488],[102.33828,13.55613],[102.361,13.50551],[102.35563,13.47307],[102.35692,13.38274],[102.34611,13.35618],[102.36001,13.31142],[102.36146,13.26006],[102.43422,13.09061],[102.46011,13.08057],[102.52275,12.99813],[102.48694,12.97537],[102.49335,12.92711],[102.53053,12.77506],[102.4994,12.71736],[102.51963,12.66117],[102.57567,12.65358],[102.7796,12.43781],[102.78116,12.40284],[102.73134,12.37091],[102.70176,12.1686],[102.77026,12.06815],[102.78427,11.98746],[102.83957,11.8519],[102.90973,11.75613],[102.91449,11.65512],[102.52395,11.25257],[102.47649,9.66162],[103.99198,10.48391],[104.43778,10.42386],[104.47963,10.43046],[104.49869,10.4057],[104.59018,10.53073],[104.87933,10.52833],[104.95094,10.64003],[105.09571,10.72722],[105.02722,10.89236],[105.08326,10.95656],[105.11449,10.96332],[105.34011,10.86179],[105.42884,10.96878],[105.50045,10.94586],[105.77751,11.03671],[105.86376,10.89839],[105.84603,10.85873],[105.93403,10.83853],[105.94535,10.9168],[106.06708,10.8098],[106.18539,10.79451],[106.14301,10.98176],[106.20095,10.97795],[106.1757,11.07301],[106.1527,11.10476],[106.10444,11.07879],[105.86782,11.28343],[105.88962,11.43605],[105.87328,11.55953]]]]}},{type:"Feature",properties:{iso1A2:"KI",iso1A3:"KIR",iso1N3:"296",wikidata:"Q710",nameEn:"Kiribati",groups:["057","009","UN"],driveSide:"left",callingCodes:["686"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[169,-3.5],[178,-3.5],[178,3.9],[169,3.9]]],[[[-161.06795,5.2462],[-158.12991,-1.86122],[-175.33482,-1.40631],[-175.31804,-7.54825],[-156.50903,-7.4975],[-156.48634,-15.52824],[-135.59706,-4.70473],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{iso1A2:"KM",iso1A3:"COM",iso1N3:"174",wikidata:"Q970",nameEn:"Comoros",groups:["014","202","002","UN"],callingCodes:["269"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.63904,-10.02522],[43.28731,-13.97126],[45.4971,-11.75965],[42.63904,-10.02522]]]]}},{type:"Feature",properties:{iso1A2:"KN",iso1A3:"KNA",iso1N3:"659",wikidata:"Q763",nameEn:"St. Kitts and Nevis",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 869"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.29333,17.43155],[-62.76692,17.64353],[-63.09677,17.21372],[-62.63813,16.65446],[-62.29333,17.43155]]]]}},{type:"Feature",properties:{iso1A2:"KP",iso1A3:"PRK",iso1N3:"408",wikidata:"Q423",nameEn:"North Korea",groups:["030","142","UN"],callingCodes:["850"]},geometry:{type:"MultiPolygon",coordinates:[[[[130.26095,42.9027],[130.09764,42.91425],[130.12957,42.98361],[129.96409,42.97306],[129.95082,43.01051],[129.8865,43.00395],[129.85261,42.96494],[129.83277,42.86746],[129.80719,42.79218],[129.7835,42.76521],[129.77183,42.69435],[129.75294,42.59409],[129.72541,42.43739],[129.60482,42.44461],[129.54701,42.37254],[129.42882,42.44702],[129.28541,42.41574],[129.22423,42.3553],[129.22285,42.26491],[129.15178,42.17224],[128.96068,42.06657],[128.94007,42.03537],[128.04487,42.01769],[128.15119,41.74568],[128.30716,41.60322],[128.20061,41.40895],[128.18546,41.41279],[128.12967,41.37931],[128.03311,41.39232],[128.02633,41.42103],[127.92943,41.44291],[127.29712,41.49473],[127.17841,41.59714],[126.90729,41.79955],[126.60631,41.65565],[126.53189,41.35206],[126.242,41.15454],[126.00335,40.92835],[125.76869,40.87908],[125.71172,40.85223],[124.86913,40.45387],[124.40719,40.13655],[124.38556,40.11047],[124.3322,40.05573],[124.37089,40.03004],[124.35029,39.95639],[124.23201,39.9248],[124.17532,39.8232],[123.90497,38.79949],[123.85601,37.49093],[124.67666,38.05679],[124.84224,37.977],[124.87921,37.80827],[125.06408,37.66334],[125.37112,37.62643],[125.81159,37.72949],[126.13074,37.70512],[126.18776,37.74728],[126.19097,37.81462],[126.24402,37.83113],[126.43239,37.84095],[126.46818,37.80873],[126.56709,37.76857],[126.59918,37.76364],[126.66067,37.7897],[126.68793,37.83728],[126.68793,37.9175],[126.67023,37.95852],[126.84961,38.0344],[126.88106,38.10246],[126.95887,38.1347],[126.95338,38.17735],[127.04479,38.25518],[127.15749,38.30722],[127.38727,38.33227],[127.49672,38.30647],[127.55013,38.32257],[128.02917,38.31861],[128.27652,38.41657],[128.31105,38.58462],[128.37487,38.62345],[128.65655,38.61914],[131.95041,41.5445],[130.65022,42.32281],[130.66367,42.38024],[130.64181,42.41422],[130.60805,42.4317],[130.56835,42.43281],[130.55143,42.52158],[130.50123,42.61636],[130.44361,42.54849],[130.41826,42.6011],[130.2385,42.71127],[130.23068,42.80125],[130.26095,42.9027]]]]}},{type:"Feature",properties:{iso1A2:"KR",iso1A3:"KOR",iso1N3:"410",wikidata:"Q884",nameEn:"South Korea",groups:["030","142","UN"],callingCodes:["82"]},geometry:{type:"MultiPolygon",coordinates:[[[[133.11729,37.53115],[128.65655,38.61914],[128.37487,38.62345],[128.31105,38.58462],[128.27652,38.41657],[128.02917,38.31861],[127.55013,38.32257],[127.49672,38.30647],[127.38727,38.33227],[127.15749,38.30722],[127.04479,38.25518],[126.95338,38.17735],[126.95887,38.1347],[126.88106,38.10246],[126.84961,38.0344],[126.67023,37.95852],[126.68793,37.9175],[126.68793,37.83728],[126.66067,37.7897],[126.59918,37.76364],[126.56709,37.76857],[126.46818,37.80873],[126.43239,37.84095],[126.24402,37.83113],[126.19097,37.81462],[126.18776,37.74728],[126.13074,37.70512],[125.81159,37.72949],[125.37112,37.62643],[125.06408,37.66334],[124.87921,37.80827],[124.84224,37.977],[124.67666,38.05679],[123.85601,37.49093],[122.80525,33.30571],[125.99728,32.63328],[129.2669,34.87122],[133.11729,37.53115]]]]}},{type:"Feature",properties:{iso1A2:"KW",iso1A3:"KWT",iso1N3:"414",wikidata:"Q817",nameEn:"Kuwait",groups:["145","142","UN"],callingCodes:["965"]},geometry:{type:"MultiPolygon",coordinates:[[[[49.00421,28.81495],[48.59531,29.66815],[48.40479,29.85763],[48.17332,30.02448],[48.06782,30.02906],[48.01114,29.98906],[47.7095,30.10453],[47.37192,30.10421],[47.15166,30.01044],[46.89695,29.50584],[46.5527,29.10283],[47.46202,29.0014],[47.58376,28.83382],[47.59863,28.66798],[47.70561,28.5221],[48.42991,28.53628],[49.00421,28.81495]]]]}},{type:"Feature",properties:{iso1A2:"KY",iso1A3:"CYM",iso1N3:"136",wikidata:"Q5785",nameEn:"Cayman Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 345"]},geometry:{type:"MultiPolygon",coordinates:[[[[-82.11509,19.60401],[-80.36068,18.11751],[-79.32727,20.06742],[-82.11509,19.60401]]]]}},{type:"Feature",properties:{iso1A2:"KZ",iso1A3:"KAZ",iso1N3:"398",wikidata:"Q232",nameEn:"Kazakhstan",groups:["143","142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[68.90865,55.38148],[68.19206,55.18823],[68.26661,55.09226],[68.21308,54.98645],[65.20174,54.55216],[65.24663,54.35721],[65.11033,54.33028],[64.97216,54.4212],[63.97686,54.29763],[64.02715,54.22679],[63.91224,54.20013],[63.80604,54.27079],[62.58651,54.05871],[62.56876,53.94047],[62.45931,53.90737],[62.38535,54.03961],[62.00966,54.04134],[62.03913,53.94768],[61.65318,54.02445],[61.56941,53.95703],[61.47603,54.08048],[61.3706,54.08464],[61.26863,53.92797],[60.99796,53.93699],[61.14283,53.90063],[61.22574,53.80268],[60.90626,53.62937],[61.55706,53.57144],[61.57185,53.50112],[61.37957,53.45887],[61.29082,53.50992],[61.14291,53.41481],[61.19024,53.30536],[62.14574,53.09626],[62.12799,52.99133],[62.0422,52.96105],[61.23462,53.03227],[61.05842,52.92217],[60.71989,52.75923],[60.71693,52.66245],[60.84118,52.63912],[60.84709,52.52228],[60.98021,52.50068],[61.05417,52.35096],[60.78201,52.22067],[60.72581,52.15538],[60.48915,52.15175],[60.19925,51.99173],[59.99809,51.98263],[60.09867,51.87135],[60.50986,51.7964],[60.36787,51.66815],[60.5424,51.61675],[60.92401,51.61124],[60.95655,51.48615],[61.50677,51.40687],[61.55114,51.32746],[61.6813,51.25716],[61.56889,51.23679],[61.4431,50.80679],[60.81833,50.6629],[60.31914,50.67705],[60.17262,50.83312],[60.01288,50.8163],[59.81172,50.54451],[59.51886,50.49937],[59.48928,50.64216],[58.87974,50.70852],[58.3208,51.15151],[57.75578,51.13852],[57.74986,50.93017],[57.44221,50.88354],[57.17302,51.11253],[56.17906,50.93204],[56.11398,50.7471],[55.67774,50.54508],[54.72067,51.03261],[54.56685,51.01958],[54.71476,50.61214],[54.55797,50.52006],[54.41894,50.61214],[54.46331,50.85554],[54.12248,51.11542],[53.69299,51.23466],[53.46165,51.49445],[52.54329,51.48444],[52.36119,51.74161],[51.8246,51.67916],[51.77431,51.49536],[51.301,51.48799],[51.26254,51.68466],[50.59695,51.61859],[50.26859,51.28677],[49.97277,51.2405],[49.76866,51.11067],[49.39001,51.09396],[49.41959,50.85927],[49.12673,50.78639],[48.86936,50.61589],[48.57946,50.63278],[48.90782,50.02281],[48.68352,49.89546],[48.42564,49.82283],[48.24519,49.86099],[48.10044,50.09242],[47.58551,50.47867],[47.30448,50.30894],[47.34589,50.09308],[47.18319,49.93721],[46.9078,49.86707],[46.78398,49.34026],[47.04658,49.19834],[47.00857,49.04921],[46.78392,48.95352],[46.49011,48.43019],[47.11516,48.27188],[47.12107,47.83687],[47.38731,47.68176],[47.41689,47.83687],[47.64973,47.76559],[48.15348,47.74545],[48.45173,47.40818],[48.52326,47.4102],[49.01136,46.72716],[48.51142,46.69268],[48.54988,46.56267],[49.16518,46.38542],[49.32259,46.26944],[49.88945,46.04554],[49.2134,44.84989],[52.26048,41.69249],[52.47884,41.78034],[52.97575,42.1308],[54.20635,42.38477],[54.95182,41.92424],[55.45471,41.25609],[56.00314,41.32584],[55.97584,44.99322],[55.97584,44.99328],[55.97584,44.99338],[55.97584,44.99343],[55.97584,44.99348],[55.97584,44.99353],[55.97584,44.99359],[55.97584,44.99369],[55.97584,44.99374],[55.97584,44.99384],[55.97584,44.9939],[55.97584,44.994],[55.97584,44.99405],[55.97584,44.99415],[55.97584,44.99421],[55.97584,44.99426],[55.97584,44.99431],[55.97584,44.99436],[55.97584,44.99441],[55.97594,44.99446],[55.97605,44.99452],[55.97605,44.99457],[55.97605,44.99462],[55.97605,44.99467],[55.97605,44.99477],[55.97615,44.99477],[55.97615,44.99483],[55.97615,44.99493],[55.97615,44.99498],[55.97615,44.99503],[55.97615,44.99508],[55.97625,44.99514],[55.97636,44.99519],[55.97636,44.99524],[55.97646,44.99529],[55.97646,44.99534],[55.97656,44.99539],[55.97667,44.99545],[55.97677,44.9955],[55.97677,44.99555],[55.97677,44.9956],[55.97687,44.9956],[55.97698,44.99565],[55.97698,44.9957],[55.97708,44.99576],[55.97718,44.99581],[55.97729,44.99586],[55.97739,44.99586],[55.97739,44.99591],[55.97749,44.99591],[55.9776,44.99591],[55.9777,44.99596],[55.9777,44.99601],[55.9778,44.99607],[55.97791,44.99607],[55.97801,44.99607],[55.97801,44.99612],[55.97811,44.99617],[55.97822,44.99617],[55.97832,44.99622],[55.97842,44.99622],[58.59711,45.58671],[61.01475,44.41383],[62.01711,43.51008],[63.34656,43.64003],[64.53885,43.56941],[64.96464,43.74748],[65.18666,43.48835],[65.53277,43.31856],[65.85194,42.85481],[66.09482,42.93426],[66.00546,41.94455],[66.53302,41.87388],[66.69129,41.1311],[67.9644,41.14611],[67.98511,41.02794],[68.08273,41.08148],[68.1271,41.0324],[67.96736,40.83798],[68.49983,40.56437],[68.63,40.59358],[68.58444,40.91447],[68.49983,40.99669],[68.62221,41.03019],[68.65662,40.93861],[68.73945,40.96989],[68.7217,41.05025],[69.01308,41.22804],[69.05006,41.36183],[69.15137,41.43078],[69.17701,41.43769],[69.18528,41.45175],[69.20439,41.45391],[69.22671,41.46298],[69.23332,41.45847],[69.25059,41.46693],[69.29778,41.43673],[69.35554,41.47211],[69.37468,41.46555],[69.45081,41.46246],[69.39485,41.51518],[69.45751,41.56863],[69.49545,41.545],[70.94483,42.26238],[70.85973,42.30188],[70.97717,42.50147],[71.15232,42.60486],[71.17807,42.67381],[71.22785,42.69248],[71.2724,42.77853],[71.53272,42.8014],[71.62405,42.76613],[71.88792,42.83578],[73.44393,42.43098],[73.50992,42.82356],[73.55634,43.03071],[74.22489,43.24657],[74.57491,43.13702],[74.64615,43.05881],[74.70331,43.02519],[74.75,42.99029],[74.88756,42.98612],[75.22619,42.85528],[75.29966,42.86183],[75.72174,42.79672],[75.82823,42.94848],[78.48469,42.89649],[78.91502,42.76839],[79.19763,42.804],[79.52921,42.44778],[79.97364,42.42816],[80.17807,42.21166],[80.26841,42.23797],[80.16892,42.61137],[80.26886,42.8366],[80.38169,42.83142],[80.58999,42.9011],[80.3735,43.01557],[80.62913,43.141],[80.78817,43.14235],[80.77771,43.30065],[80.69718,43.32589],[80.75156,43.44948],[80.40031,44.10986],[80.40229,44.23319],[80.38384,44.63073],[79.8987,44.89957],[80.11169,45.03352],[81.73278,45.3504],[82.51374,45.1755],[82.58474,45.40027],[82.21792,45.56619],[83.04622,47.19053],[83.92184,46.98912],[84.73077,47.01394],[84.93995,46.87399],[85.22443,47.04816],[85.54294,47.06171],[85.69696,47.2898],[85.61067,47.49753],[85.5169,48.05493],[85.73581,48.3939],[86.38069,48.46064],[86.75343,48.70331],[86.73568,48.99918],[86.87238,49.12432],[87.28386,49.11626],[87.31465,49.23603],[87.03071,49.25142],[86.82606,49.51796],[86.61307,49.60239],[86.79056,49.74787],[86.63674,49.80136],[86.18709,49.50259],[85.24047,49.60239],[84.99198,50.06793],[84.29385,50.27257],[83.8442,50.87375],[83.14607,51.00796],[82.55443,50.75412],[81.94999,50.79307],[81.46581,50.77658],[81.41248,50.97524],[81.06091,50.94833],[81.16999,51.15662],[80.80318,51.28262],[80.44819,51.20855],[80.4127,50.95581],[80.08138,50.77658],[79.11255,52.01171],[77.90383,53.29807],[76.54243,53.99329],[76.44076,54.16017],[76.82266,54.1798],[76.91052,54.4677],[75.3668,54.07439],[75.43398,53.98652],[75.07405,53.80831],[73.39218,53.44623],[73.25412,53.61532],[73.68921,53.86522],[73.74778,54.07194],[73.37963,53.96132],[72.71026,54.1161],[72.43415,53.92685],[72.17477,54.36303],[71.96141,54.17736],[71.10379,54.13326],[71.08706,54.33376],[71.24185,54.64965],[71.08288,54.71253],[70.96009,55.10558],[70.76493,55.3027],[70.19179,55.1476],[69.74917,55.35545],[69.34224,55.36344],[68.90865,55.38148]]]]}},{type:"Feature",properties:{iso1A2:"LA",iso1A3:"LAO",iso1N3:"418",wikidata:"Q819",nameEn:"Laos",groups:["035","142","UN"],callingCodes:["856"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.1245,22.43372],[102.03633,22.46164],[101.98487,22.42766],[101.91344,22.44417],[101.90714,22.38688],[101.86828,22.38397],[101.7685,22.50337],[101.68973,22.46843],[101.61306,22.27515],[101.56789,22.28876],[101.53638,22.24794],[101.60675,22.13513],[101.57525,22.13026],[101.62566,21.96574],[101.7791,21.83019],[101.74555,21.72852],[101.83257,21.61562],[101.80001,21.57461],[101.7475,21.5873],[101.7727,21.51794],[101.74224,21.48276],[101.74014,21.30967],[101.84412,21.25291],[101.83887,21.20983],[101.76745,21.21571],[101.79266,21.19025],[101.7622,21.14813],[101.70548,21.14911],[101.66977,21.20004],[101.60886,21.17947],[101.59491,21.18621],[101.6068,21.23329],[101.54563,21.25668],[101.29326,21.17254],[101.2229,21.23271],[101.26912,21.36482],[101.19349,21.41959],[101.2124,21.56422],[101.15156,21.56129],[101.16198,21.52808],[101.00234,21.39612],[100.80173,21.2934],[100.72716,21.31786],[100.63578,21.05639],[100.55281,21.02796],[100.50974,20.88574],[100.64628,20.88279],[100.60112,20.8347],[100.51079,20.82194],[100.36375,20.82783],[100.1957,20.68247],[100.08404,20.36626],[100.09999,20.31614],[100.09337,20.26293],[100.11785,20.24787],[100.1712,20.24324],[100.16668,20.2986],[100.22076,20.31598],[100.25769,20.3992],[100.33383,20.4028],[100.37439,20.35156],[100.41473,20.25625],[100.44992,20.23644],[100.4537,20.19971],[100.47567,20.19133],[100.51052,20.14928],[100.55218,20.17741],[100.58808,20.15791],[100.5094,19.87904],[100.398,19.75047],[100.49604,19.53504],[100.58219,19.49164],[100.64606,19.55884],[100.77231,19.48324],[100.90302,19.61901],[101.08928,19.59748],[101.26545,19.59242],[101.26991,19.48324],[101.21347,19.46223],[101.20604,19.35296],[101.24911,19.33334],[101.261,19.12717],[101.35606,19.04716],[101.25803,18.89545],[101.22832,18.73377],[101.27585,18.68875],[101.06047,18.43247],[101.18227,18.34367],[101.15108,18.25624],[101.19118,18.2125],[101.1793,18.0544],[101.02185,17.87637],[100.96541,17.57926],[101.15108,17.47586],[101.44667,17.7392],[101.72294,17.92867],[101.78087,18.07559],[101.88485,18.02474],[102.11359,18.21532],[102.45523,17.97106],[102.59234,17.96127],[102.60971,17.95411],[102.61432,17.92273],[102.5896,17.84889],[102.59485,17.83537],[102.68194,17.80151],[102.69946,17.81686],[102.67543,17.84529],[102.68538,17.86653],[102.75954,17.89561],[102.79044,17.93612],[102.81988,17.94233],[102.86323,17.97531],[102.95812,18.0054],[102.9912,17.9949],[103.01998,17.97095],[103.0566,18.00144],[103.07823,18.03833],[103.07343,18.12351],[103.1493,18.17799],[103.14994,18.23172],[103.17093,18.2618],[103.29757,18.30475],[103.23818,18.34875],[103.24779,18.37807],[103.30977,18.4341],[103.41044,18.4486],[103.47773,18.42841],[103.60957,18.40528],[103.699,18.34125],[103.82449,18.33979],[103.85642,18.28666],[103.93916,18.33914],[103.97725,18.33631],[104.06533,18.21656],[104.10927,18.10826],[104.21776,17.99335],[104.2757,17.86139],[104.35432,17.82871],[104.45404,17.66788],[104.69867,17.53038],[104.80061,17.39367],[104.80716,17.19025],[104.73712,17.01404],[104.7373,16.91125],[104.76442,16.84752],[104.7397,16.81005],[104.76099,16.69302],[104.73349,16.565],[104.88057,16.37311],[105.00262,16.25627],[105.06204,16.09792],[105.42001,16.00657],[105.38508,15.987],[105.34115,15.92737],[105.37959,15.84074],[105.42285,15.76971],[105.46573,15.74742],[105.61756,15.68792],[105.60446,15.53301],[105.58191,15.41031],[105.47635,15.3796],[105.4692,15.33709],[105.50662,15.32054],[105.58043,15.32724],[105.46661,15.13132],[105.61162,15.00037],[105.5121,14.80802],[105.53864,14.55731],[105.43783,14.43865],[105.20894,14.34967],[105.2759,14.17496],[105.36775,14.09948],[105.44869,14.10703],[105.5561,14.15684],[105.78338,14.08438],[105.78182,14.02247],[105.90791,13.92881],[106.10405,13.9137],[106.10094,13.98471],[106.16632,14.01794],[106.18656,14.06324],[106.11962,14.11307],[106.10872,14.18401],[106.04801,14.20363],[106.02311,14.30623],[105.99509,14.32734],[106.00131,14.36957],[106.21302,14.36203],[106.25194,14.48415],[106.32355,14.44043],[106.40916,14.45249],[106.43874,14.52032],[106.47766,14.50977],[106.45898,14.55045],[106.50723,14.58963],[106.54148,14.59565],[106.57106,14.50525],[106.59908,14.50977],[106.63333,14.44194],[106.73762,14.42687],[106.80767,14.31226],[106.8497,14.29416],[106.90574,14.33639],[106.9649,14.3198],[106.98825,14.36806],[107.04585,14.41782],[107.03962,14.45099],[107.09722,14.3937],[107.17038,14.41782],[107.21241,14.48716],[107.256,14.48716],[107.26534,14.54292],[107.29803,14.58963],[107.3276,14.58812],[107.37897,14.54443],[107.44435,14.52785],[107.47238,14.61523],[107.54361,14.69092],[107.51579,14.79282],[107.59285,14.87795],[107.48277,14.93751],[107.46516,15.00982],[107.61486,15.0566],[107.61926,15.13949],[107.58844,15.20111],[107.62587,15.2266],[107.60605,15.37524],[107.62367,15.42193],[107.53341,15.40496],[107.50699,15.48771],[107.3815,15.49832],[107.34408,15.62345],[107.27583,15.62769],[107.27143,15.71459],[107.21859,15.74638],[107.21419,15.83747],[107.34188,15.89464],[107.39471,15.88829],[107.46296,16.01106],[107.44975,16.08511],[107.33968,16.05549],[107.25822,16.13587],[107.14595,16.17816],[107.15035,16.26271],[107.09091,16.3092],[107.02597,16.31132],[106.97385,16.30204],[106.96638,16.34938],[106.88067,16.43594],[106.88727,16.52671],[106.84104,16.55415],[106.74418,16.41904],[106.65832,16.47816],[106.66052,16.56892],[106.61477,16.60713],[106.58267,16.6012],[106.59013,16.62259],[106.55485,16.68704],[106.55265,16.86831],[106.52183,16.87884],[106.51963,16.92097],[106.54824,16.92729],[106.55045,17.0031],[106.50862,16.9673],[106.43597,17.01362],[106.31929,17.20509],[106.29287,17.3018],[106.24444,17.24714],[106.18991,17.28227],[106.09019,17.36399],[105.85744,17.63221],[105.76612,17.67147],[105.60381,17.89356],[105.64784,17.96687],[105.46292,18.22008],[105.38366,18.15315],[105.15942,18.38691],[105.10408,18.43533],[105.1327,18.58355],[105.19654,18.64196],[105.12829,18.70453],[104.64617,18.85668],[104.5361,18.97747],[103.87125,19.31854],[104.06058,19.43484],[104.10832,19.51575],[104.05617,19.61743],[104.06498,19.66926],[104.23229,19.70242],[104.41281,19.70035],[104.53169,19.61743],[104.64837,19.62365],[104.68359,19.72729],[104.8355,19.80395],[104.8465,19.91783],[104.9874,20.09573],[104.91695,20.15567],[104.86852,20.14121],[104.61315,20.24452],[104.62195,20.36633],[104.72102,20.40554],[104.66158,20.47774],[104.47886,20.37459],[104.40621,20.3849],[104.38199,20.47155],[104.63957,20.6653],[104.27412,20.91433],[104.11121,20.96779],[103.98024,20.91531],[103.82282,20.8732],[103.73478,20.6669],[103.68633,20.66324],[103.45737,20.82382],[103.38032,20.79501],[103.21497,20.89832],[103.12055,20.89994],[103.03469,21.05821],[102.97745,21.05821],[102.89825,21.24707],[102.80794,21.25736],[102.88939,21.3107],[102.94223,21.46034],[102.86297,21.4255],[102.98846,21.58936],[102.97965,21.74076],[102.86077,21.71213],[102.85637,21.84501],[102.81894,21.83888],[102.82115,21.73667],[102.74189,21.66713],[102.67145,21.65894],[102.62301,21.91447],[102.49092,21.99002],[102.51734,22.02676],[102.18712,22.30403],[102.14099,22.40092],[102.1245,22.43372]]]]}},{type:"Feature",properties:{iso1A2:"LB",iso1A3:"LBN",iso1N3:"422",wikidata:"Q822",nameEn:"Lebanon",aliases:["RL"],groups:["145","142","UN"],callingCodes:["961"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.94816,33.47886],[35.94465,33.52774],[36.05723,33.57904],[35.9341,33.6596],[36.06778,33.82927],[36.14517,33.85118],[36.3967,33.83365],[36.38263,33.86579],[36.28589,33.91981],[36.41078,34.05253],[36.50576,34.05982],[36.5128,34.09916],[36.62537,34.20251],[36.59195,34.2316],[36.58667,34.27667],[36.60778,34.31009],[36.56556,34.31881],[36.53039,34.3798],[36.55853,34.41609],[36.46179,34.46541],[36.4442,34.50165],[36.34745,34.5002],[36.3369,34.52629],[36.39846,34.55672],[36.41429,34.61175],[36.45299,34.59438],[36.46003,34.6378],[36.42941,34.62505],[36.35384,34.65447],[36.35135,34.68516],[36.32399,34.69334],[36.29165,34.62991],[35.98718,34.64977],[35.97386,34.63322],[35.48515,34.70851],[34.78515,33.20368],[35.10645,33.09318],[35.1924,33.08743],[35.31429,33.10515],[35.35223,33.05617],[35.43059,33.06659],[35.448,33.09264],[35.50272,33.09056],[35.50335,33.114],[35.52573,33.11921],[35.54228,33.19865],[35.5362,33.23196],[35.54808,33.236],[35.54544,33.25513],[35.55555,33.25844],[35.56523,33.28969],[35.58326,33.28381],[35.58502,33.26653],[35.62283,33.24226],[35.62019,33.27278],[35.77477,33.33609],[35.81324,33.36354],[35.82577,33.40479],[35.88668,33.43183],[35.94816,33.47886]]]]}},{type:"Feature",properties:{iso1A2:"LC",iso1A3:"LCA",iso1N3:"662",wikidata:"Q760",nameEn:"St. Lucia",aliases:["WL"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 758"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.69315,14.26451],[-59.94058,12.34011],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"LI",iso1A3:"LIE",iso1N3:"438",wikidata:"Q347",nameEn:"Liechtenstein",aliases:["FL"],groups:["155","150","UN"],callingCodes:["423"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.60717,47.06091],[9.61216,47.07732],[9.63395,47.08443],[9.62623,47.14685],[9.56539,47.17124],[9.58264,47.20673],[9.56981,47.21926],[9.55176,47.22585],[9.56766,47.24281],[9.53116,47.27029],[9.52406,47.24959],[9.50318,47.22153],[9.4891,47.19346],[9.48774,47.17402],[9.51044,47.13727],[9.52089,47.10019],[9.51362,47.08505],[9.47139,47.06402],[9.47548,47.05257],[9.54041,47.06495],[9.55721,47.04762],[9.60717,47.06091]]]]}},{type:"Feature",properties:{iso1A2:"LK",iso1A3:"LKA",iso1N3:"144",wikidata:"Q854",nameEn:"Sri Lanka",groups:["034","142","UN"],driveSide:"left",callingCodes:["94"]},geometry:{type:"MultiPolygon",coordinates:[[[[76.59015,5.591],[85.15017,5.21497],[80.48418,10.20786],[79.42124,9.80115],[79.50447,8.91876],[76.59015,5.591]]]]}},{type:"Feature",properties:{iso1A2:"LR",iso1A3:"LBR",iso1N3:"430",wikidata:"Q1014",nameEn:"Liberia",groups:["011","202","002","UN"],callingCodes:["231"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.47114,7.55676],[-8.55874,7.62525],[-8.55874,7.70167],[-8.67814,7.69428],[-8.72789,7.51429],[-8.8448,7.35149],[-8.85724,7.26019],[-8.93435,7.2824],[-9.09107,7.1985],[-9.18311,7.30461],[-9.20798,7.38109],[-9.305,7.42056],[-9.41943,7.41809],[-9.48161,7.37122],[-9.37465,7.62032],[-9.35724,7.74111],[-9.44928,7.9284],[-9.41445,8.02448],[-9.50898,8.18455],[-9.47415,8.35195],[-9.77763,8.54633],[-10.05873,8.42578],[-10.05375,8.50697],[-10.14579,8.52665],[-10.203,8.47991],[-10.27575,8.48711],[-10.30084,8.30008],[-10.31635,8.28554],[-10.29839,8.21283],[-10.35227,8.15223],[-10.45023,8.15627],[-10.51554,8.1393],[-10.57523,8.04829],[-10.60492,8.04072],[-10.60422,7.7739],[-11.29417,7.21576],[-11.4027,6.97746],[-11.50429,6.92704],[-12.15048,6.15992],[-7.52774,3.7105],[-7.53259,4.35145],[-7.59349,4.8909],[-7.53876,4.94294],[-7.55369,5.08667],[-7.48901,5.14118],[-7.46165,5.26256],[-7.36463,5.32944],[-7.43428,5.42355],[-7.37209,5.61173],[-7.43926,5.74787],[-7.43677,5.84687],[-7.46165,5.84934],[-7.48155,5.80974],[-7.67309,5.94337],[-7.70294,5.90625],[-7.78254,5.99037],[-7.79747,6.07696],[-7.8497,6.08932],[-7.83478,6.20309],[-7.90692,6.27728],[-8.00642,6.31684],[-8.17557,6.28222],[-8.3298,6.36381],[-8.38453,6.35887],[-8.45666,6.49977],[-8.48652,6.43797],[-8.59456,6.50612],[-8.31736,6.82837],[-8.29249,7.1691],[-8.37458,7.25794],[-8.41935,7.51203],[-8.47114,7.55676]]]]}},{type:"Feature",properties:{iso1A2:"LS",iso1A3:"LSO",iso1N3:"426",wikidata:"Q1013",nameEn:"Lesotho",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["266"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.33204,-29.45598],[29.44883,-29.3772],[29.40524,-29.21246],[28.68043,-28.58744],[28.65091,-28.57025],[28.40612,-28.6215],[28.30518,-28.69531],[28.2348,-28.69471],[28.1317,-28.7293],[28.02503,-28.85991],[27.98675,-28.8787],[27.9392,-28.84864],[27.88933,-28.88156],[27.8907,-28.91612],[27.75458,-28.89839],[27.55974,-29.18954],[27.5158,-29.2261],[27.54258,-29.25575],[27.48679,-29.29349],[27.45125,-29.29708],[27.47254,-29.31968],[27.4358,-29.33465],[27.33464,-29.48161],[27.01016,-29.65439],[27.09489,-29.72796],[27.22719,-30.00718],[27.29603,-30.05473],[27.32555,-30.14785],[27.40778,-30.14577],[27.37293,-30.19401],[27.36649,-30.27246],[27.38108,-30.33456],[27.45452,-30.32239],[27.56901,-30.42504],[27.56781,-30.44562],[27.62137,-30.50509],[27.6521,-30.51707],[27.67819,-30.53437],[27.69467,-30.55862],[27.74814,-30.60635],[28.12073,-30.68072],[28.2319,-30.28476],[28.399,-30.1592],[28.68627,-30.12885],[28.80222,-30.10579],[28.9338,-30.05072],[29.16548,-29.91706],[29.12553,-29.76266],[29.28545,-29.58456],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"LT",iso1A3:"LTU",iso1N3:"440",wikidata:"Q37",nameEn:"Lithuania",groups:["EU","154","150","UN"],callingCodes:["370"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.89005,56.46666],[24.83686,56.41565],[24.70022,56.40483],[24.57353,56.31525],[24.58143,56.29125],[24.42746,56.26522],[24.32334,56.30226],[24.13139,56.24881],[24.02657,56.3231],[23.75726,56.37282],[23.49803,56.34307],[23.40486,56.37689],[23.31606,56.3827],[23.17312,56.36795],[23.09531,56.30511],[22.96988,56.41213],[22.83048,56.367],[22.69354,56.36284],[22.56441,56.39305],[22.3361,56.4016],[22.09728,56.42851],[22.00548,56.41508],[21.74558,56.33181],[21.57888,56.31406],[21.49736,56.29106],[21.24644,56.16917],[21.15016,56.07818],[20.68447,56.04073],[20.60454,55.40986],[20.95181,55.27994],[21.26425,55.24456],[21.35465,55.28427],[21.38446,55.29348],[21.46766,55.21115],[21.51095,55.18507],[21.55605,55.20311],[21.64954,55.1791],[21.85521,55.09493],[21.96505,55.07353],[21.99543,55.08691],[22.03984,55.07888],[22.02582,55.05078],[22.06087,55.02935],[22.11697,55.02131],[22.14267,55.05345],[22.31562,55.0655],[22.47688,55.04408],[22.58907,55.07085],[22.60075,55.01863],[22.65451,54.97037],[22.68723,54.9811],[22.76422,54.92521],[22.85083,54.88711],[22.87317,54.79492],[22.73631,54.72952],[22.73397,54.66604],[22.75467,54.6483],[22.74225,54.64339],[22.7522,54.63525],[22.68021,54.58486],[22.71293,54.56454],[22.67788,54.532],[22.70208,54.45312],[22.7253,54.41732],[22.79705,54.36264],[22.83756,54.40827],[23.00584,54.38514],[22.99649,54.35927],[23.05726,54.34565],[23.04323,54.31567],[23.104,54.29794],[23.13905,54.31567],[23.15526,54.31076],[23.15938,54.29894],[23.24656,54.25701],[23.3494,54.25155],[23.39525,54.21672],[23.42418,54.17911],[23.45223,54.17775],[23.49196,54.14764],[23.52702,54.04622],[23.48261,53.98855],[23.51284,53.95052],[23.61677,53.92691],[23.71726,53.93379],[23.80543,53.89558],[23.81309,53.94205],[23.95098,53.9613],[23.98837,53.92554],[24.19638,53.96405],[24.34128,53.90076],[24.44411,53.90076],[24.62275,54.00217],[24.69652,54.01901],[24.69185,53.96543],[24.74279,53.96663],[24.85311,54.02862],[24.77131,54.11091],[24.96894,54.17589],[24.991,54.14241],[25.0728,54.13419],[25.19199,54.219],[25.22705,54.26271],[25.35559,54.26544],[25.509,54.30267],[25.56823,54.25212],[25.51452,54.17799],[25.54724,54.14925],[25.64875,54.1259],[25.71084,54.16704],[25.78563,54.15747],[25.78553,54.23327],[25.68513,54.31727],[25.55425,54.31591],[25.5376,54.33158],[25.63371,54.42075],[25.62203,54.4656],[25.64813,54.48704],[25.68045,54.5321],[25.75977,54.57252],[25.74122,54.80108],[25.89462,54.93438],[25.99129,54.95705],[26.05907,54.94631],[26.13386,54.98924],[26.20397,54.99729],[26.26941,55.08032],[26.23202,55.10439],[26.30628,55.12536],[26.35121,55.1525],[26.46249,55.12814],[26.51481,55.16051],[26.54753,55.14181],[26.69243,55.16718],[26.68075,55.19787],[26.72983,55.21788],[26.73017,55.24226],[26.835,55.28182],[26.83266,55.30444],[26.80929,55.31642],[26.6714,55.33902],[26.5709,55.32572],[26.44937,55.34832],[26.5522,55.40277],[26.55094,55.5093],[26.63167,55.57887],[26.63231,55.67968],[26.58248,55.6754],[26.46661,55.70375],[26.39561,55.71156],[26.18509,55.86813],[26.03815,55.95884],[25.90047,56.0013],[25.85893,56.00188],[25.81773,56.05444],[25.69246,56.08892],[25.68588,56.14725],[25.53621,56.16663],[25.39751,56.15707],[25.23099,56.19147],[25.09325,56.1878],[25.05762,56.26742],[24.89005,56.46666]]]]}},{type:"Feature",properties:{iso1A2:"LU",iso1A3:"LUX",iso1N3:"442",wikidata:"Q32",nameEn:"Luxembourg",groups:["EU","155","150","UN"],callingCodes:["352"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.1379,50.12964],[6.1137,50.13668],[6.12028,50.16374],[6.08577,50.17246],[6.06406,50.15344],[6.03093,50.16362],[6.02488,50.18283],[5.96453,50.17259],[5.95929,50.13295],[5.89488,50.11476],[5.8857,50.07824],[5.85474,50.06342],[5.86904,50.04614],[5.8551,50.02683],[5.81866,50.01286],[5.82331,49.99662],[5.83968,49.9892],[5.83467,49.97823],[5.81163,49.97142],[5.80833,49.96451],[5.77291,49.96056],[5.77314,49.93646],[5.73621,49.89796],[5.78415,49.87922],[5.75269,49.8711],[5.75861,49.85631],[5.74567,49.85368],[5.75884,49.84811],[5.74953,49.84709],[5.74975,49.83933],[5.74076,49.83823],[5.7404,49.83452],[5.74844,49.82435],[5.74364,49.82058],[5.74953,49.81428],[5.75409,49.79239],[5.78871,49.7962],[5.82245,49.75048],[5.83149,49.74729],[5.82562,49.72395],[5.84193,49.72161],[5.86503,49.72739],[5.88677,49.70951],[5.86527,49.69291],[5.86175,49.67862],[5.9069,49.66377],[5.90164,49.6511],[5.90599,49.63853],[5.88552,49.63507],[5.88393,49.62802],[5.87609,49.62047],[5.8762,49.60898],[5.84826,49.5969],[5.84971,49.58674],[5.86986,49.58756],[5.87256,49.57539],[5.8424,49.56082],[5.84692,49.55663],[5.84143,49.5533],[5.81838,49.54777],[5.80871,49.5425],[5.81664,49.53775],[5.83648,49.5425],[5.84466,49.53027],[5.83467,49.52717],[5.83389,49.52152],[5.86571,49.50015],[5.94128,49.50034],[5.94224,49.49608],[5.96876,49.49053],[5.97693,49.45513],[6.02648,49.45451],[6.02743,49.44845],[6.04176,49.44801],[6.05553,49.46663],[6.07887,49.46399],[6.08373,49.45594],[6.10072,49.45268],[6.09845,49.46351],[6.10325,49.4707],[6.12346,49.4735],[6.12814,49.49365],[6.14321,49.48796],[6.16115,49.49297],[6.15366,49.50226],[6.17386,49.50934],[6.19543,49.50536],[6.2409,49.51408],[6.25029,49.50609],[6.27875,49.503],[6.28818,49.48465],[6.3687,49.4593],[6.36778,49.46937],[6.36907,49.48931],[6.36788,49.50377],[6.35666,49.52931],[6.38072,49.55171],[6.38228,49.55855],[6.35825,49.57053],[6.36676,49.57813],[6.38024,49.57593],[6.38342,49.5799],[6.37464,49.58886],[6.385,49.59946],[6.39822,49.60081],[6.41861,49.61723],[6.4413,49.65722],[6.43768,49.66021],[6.42726,49.66078],[6.42937,49.66857],[6.44654,49.67799],[6.46048,49.69092],[6.48014,49.69767],[6.49785,49.71118],[6.50647,49.71353],[6.5042,49.71808],[6.49694,49.72205],[6.49535,49.72645],[6.50261,49.72718],[6.51397,49.72058],[6.51805,49.72425],[6.50193,49.73291],[6.50174,49.75292],[6.51646,49.75961],[6.51828,49.76855],[6.51056,49.77515],[6.51669,49.78336],[6.50534,49.78952],[6.52169,49.79787],[6.53122,49.80666],[6.52121,49.81338],[6.51215,49.80124],[6.50647,49.80916],[6.48718,49.81267],[6.47111,49.82263],[6.45425,49.81164],[6.44131,49.81443],[6.42905,49.81091],[6.42521,49.81591],[6.40022,49.82029],[6.36576,49.85032],[6.34267,49.84974],[6.33585,49.83785],[6.32098,49.83728],[6.32303,49.85133],[6.30963,49.87021],[6.29692,49.86685],[6.28874,49.87592],[6.26146,49.88203],[6.23496,49.89972],[6.22926,49.92096],[6.21882,49.92403],[6.22608,49.929],[6.22094,49.94955],[6.19856,49.95053],[6.19089,49.96991],[6.18045,49.96611],[6.18554,49.95622],[6.17872,49.9537],[6.16466,49.97086],[6.1701,49.98518],[6.14147,49.99563],[6.14948,50.00908],[6.13806,50.01056],[6.1295,50.01849],[6.13273,50.02019],[6.13794,50.01466],[6.14666,50.02207],[6.13044,50.02929],[6.13458,50.04141],[6.11274,50.05916],[6.12055,50.09171],[6.1379,50.12964]]]]}},{type:"Feature",properties:{iso1A2:"LV",iso1A3:"LVA",iso1N3:"428",wikidata:"Q211",nameEn:"Latvia",groups:["EU","154","150","UN"],callingCodes:["371"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.34698,57.52242],[26.90364,57.62823],[26.54675,57.51813],[26.46527,57.56885],[26.29253,57.59244],[26.1866,57.6849],[26.2029,57.7206],[26.08098,57.76619],[26.0543,57.76105],[26.03332,57.7718],[26.02415,57.76865],[26.02069,57.77169],[26.0266,57.77441],[26.027,57.78158],[26.02456,57.78342],[26.0324,57.79037],[26.05949,57.84744],[25.73499,57.90193],[25.29581,58.08288],[25.28237,57.98539],[25.19484,58.0831],[24.3579,57.87471],[24.26221,57.91787],[23.20055,57.56697],[22.80496,57.87798],[19.84909,57.57876],[19.64795,57.06466],[20.68447,56.04073],[21.15016,56.07818],[21.24644,56.16917],[21.49736,56.29106],[21.57888,56.31406],[21.74558,56.33181],[22.00548,56.41508],[22.09728,56.42851],[22.3361,56.4016],[22.56441,56.39305],[22.69354,56.36284],[22.83048,56.367],[22.96988,56.41213],[23.09531,56.30511],[23.17312,56.36795],[23.31606,56.3827],[23.40486,56.37689],[23.49803,56.34307],[23.75726,56.37282],[24.02657,56.3231],[24.13139,56.24881],[24.32334,56.30226],[24.42746,56.26522],[24.58143,56.29125],[24.57353,56.31525],[24.70022,56.40483],[24.83686,56.41565],[24.89005,56.46666],[25.05762,56.26742],[25.09325,56.1878],[25.23099,56.19147],[25.39751,56.15707],[25.53621,56.16663],[25.68588,56.14725],[25.69246,56.08892],[25.81773,56.05444],[25.85893,56.00188],[25.90047,56.0013],[26.03815,55.95884],[26.18509,55.86813],[26.39561,55.71156],[26.46661,55.70375],[26.58248,55.6754],[26.63231,55.67968],[26.64888,55.70515],[26.71802,55.70645],[26.76872,55.67658],[26.87448,55.7172],[26.97153,55.8102],[27.1559,55.85032],[27.27804,55.78299],[27.3541,55.8089],[27.61683,55.78558],[27.63065,55.89687],[27.97865,56.11849],[28.15217,56.16964],[28.23716,56.27588],[28.16599,56.37806],[28.19057,56.44637],[28.10069,56.524],[28.13526,56.57989],[28.04768,56.59004],[27.86101,56.88204],[27.66511,56.83921],[27.86101,57.29402],[27.52453,57.42826],[27.56832,57.53728],[27.34698,57.52242]]]]}},{type:"Feature",properties:{iso1A2:"LY",iso1A3:"LBY",iso1N3:"434",wikidata:"Q1016",nameEn:"Libya",groups:["015","002","UN"],callingCodes:["218"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.92891,33.39516],[11.58941,33.36891],[11.55852,33.1409],[11.51549,33.09826],[11.46037,32.6307],[11.57828,32.48013],[11.53898,32.4138],[11.04234,32.2145],[10.7315,31.97235],[10.62788,31.96629],[10.48497,31.72956],[10.31364,31.72648],[10.12239,31.42098],[10.29516,30.90337],[9.88152,30.34074],[9.76848,30.34366],[9.55544,30.23971],[9.3876,30.16738],[9.78136,29.40961],[9.89569,26.57696],[9.51696,26.39148],[9.38834,26.19288],[10.03146,25.35635],[10.02432,24.98124],[10.33159,24.5465],[10.85323,24.5595],[11.41061,24.21456],[11.62498,24.26669],[11.96886,23.51735],[13.5631,23.16574],[14.22918,22.61719],[14.99751,23.00539],[15.99566,23.49639],[23.99539,19.49944],[23.99715,20.00038],[24.99794,19.99661],[24.99885,21.99535],[24.99968,29.24574],[24.71117,30.17441],[25.01077,30.73861],[24.8458,31.39877],[26.92891,33.39516]]]]}},{type:"Feature",properties:{iso1A2:"MA",iso1A3:"MAR",iso1N3:"504",wikidata:"Q1028",nameEn:"Morocco",groups:["015","002","UN"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[-5.10878,36.05227],[-7.2725,35.73269],[-14.43883,27.02969],[-17.27295,21.93519],[-17.21511,21.34226],[-17.02707,21.34022],[-16.9978,21.36239],[-16.44269,21.39745],[-14.78487,21.36587],[-14.47329,21.63839],[-14.48112,22.00886],[-14.1291,22.41636],[-14.10361,22.75501],[-13.75627,23.77231],[-13.00628,24.01923],[-12.92147,24.39502],[-12.12281,25.13682],[-12.06001,26.04442],[-11.62052,26.05229],[-11.38635,26.611],[-11.23622,26.72023],[-11.35695,26.8505],[-10.68417,26.90984],[-9.81998,26.71379],[-9.56957,26.90042],[-9.08698,26.98639],[-8.71787,26.9898],[-8.77527,27.66663],[-8.66879,27.6666],[-8.6715,28.71194],[-7.61585,29.36252],[-6.95824,29.50924],[-6.78351,29.44634],[-6.69965,29.51623],[-5.75616,29.61407],[-5.72121,29.52322],[-5.58831,29.48103],[-5.21671,29.95253],[-4.6058,30.28343],[-4.31774,30.53229],[-3.64735,30.67539],[-3.65418,30.85566],[-3.54944,31.0503],[-3.77103,31.14984],[-3.77647,31.31912],[-3.66386,31.39202],[-3.66314,31.6339],[-2.82784,31.79459],[-2.93873,32.06557],[-2.46166,32.16603],[-1.22829,32.07832],[-1.15735,32.12096],[-1.24453,32.1917],[-1.24998,32.32993],[-.9912,32.52467],[-1.37794,32.73628],[-1.54244,32.95499],[-1.46249,33.0499],[-1.67067,33.27084],[-1.59508,33.59929],[-1.73494,33.71721],[-1.64666,34.10405],[-1.78042,34.39018],[-1.69788,34.48056],[-1.84569,34.61907],[-1.73707,34.74226],[-1.97469,34.886],[-1.97833,34.93218],[-2.04734,34.93218],[-2.21445,35.04378],[-2.21248,35.08532],[-2.27707,35.35051]],[[-2.91909,35.33927],[-2.92272,35.27509],[-2.93893,35.26737],[-2.95065,35.26576],[-2.95431,35.2728],[-2.96516,35.27967],[-2.96826,35.28296],[-2.96507,35.28801],[-2.97035,35.28852],[-2.96978,35.29459],[-2.96648,35.30475],[-2.96038,35.31609],[-2.91909,35.33927]],[[-3.90602,35.21494],[-3.89343,35.22728],[-3.88372,35.20767],[-3.90602,35.21494]],[[-4.30191,35.17419],[-4.29436,35.17149],[-4.30112,35.17058],[-4.30191,35.17419]],[[-2.40316,35.16893],[-2.45965,35.16527],[-2.43262,35.20652],[-2.40316,35.16893]],[[-5.38491,35.92591],[-5.21179,35.90091],[-5.34379,35.8711],[-5.35844,35.87375],[-5.37338,35.88417],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{iso1A2:"MC",iso1A3:"MCO",iso1N3:"492",wikidata:"Q235",nameEn:"Monaco",groups:["155","150","UN"],callingCodes:["377"]},geometry:{type:"MultiPolygon",coordinates:[[[[7.47823,43.73341],[7.4379,43.74963],[7.4389,43.75151],[7.43708,43.75197],[7.43624,43.75014],[7.43013,43.74895],[7.42809,43.74396],[7.42443,43.74087],[7.42299,43.74176],[7.42062,43.73977],[7.41233,43.73439],[7.41298,43.73311],[7.41291,43.73168],[7.41113,43.73156],[7.40903,43.7296],[7.42422,43.72209],[7.47823,43.73341]]]]}},{type:"Feature",properties:{iso1A2:"MD",iso1A3:"MDA",iso1N3:"498",wikidata:"Q217",nameEn:"Moldova",groups:["151","150","UN"],callingCodes:["373"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.74422,48.45926],[27.6658,48.44034],[27.59027,48.46311],[27.5889,48.49224],[27.46942,48.454],[27.44333,48.41209],[27.37741,48.41026],[27.37604,48.44398],[27.32159,48.4434],[27.27855,48.37534],[27.13434,48.37288],[27.08078,48.43214],[27.0231,48.42485],[27.03821,48.37653],[26.93384,48.36558],[26.85556,48.41095],[26.71274,48.40388],[26.82809,48.31629],[26.79239,48.29071],[26.6839,48.35828],[26.62823,48.25804],[26.81161,48.25049],[26.87708,48.19919],[26.94265,48.1969],[26.98042,48.15752],[26.96119,48.13003],[27.04118,48.12522],[27.02985,48.09083],[27.15622,47.98538],[27.1618,47.92391],[27.29069,47.73722],[27.25519,47.71366],[27.32202,47.64009],[27.3979,47.59473],[27.47942,47.48113],[27.55731,47.46637],[27.60263,47.32507],[27.68706,47.28962],[27.73172,47.29248],[27.81892,47.1381],[28.09095,46.97621],[28.12173,46.82283],[28.24808,46.64305],[28.22281,46.50481],[28.25769,46.43334],[28.18902,46.35283],[28.19864,46.31869],[28.10937,46.22852],[28.13684,46.18099],[28.08612,46.01105],[28.13111,45.92819],[28.16568,45.6421],[28.08927,45.6051],[28.18741,45.47358],[28.21139,45.46895],[28.30201,45.54744],[28.41836,45.51715],[28.43072,45.48538],[28.51449,45.49982],[28.49252,45.56716],[28.54196,45.58062],[28.51587,45.6613],[28.47879,45.66994],[28.52823,45.73803],[28.70401,45.78019],[28.69852,45.81753],[28.78503,45.83475],[28.74383,45.96664],[28.98004,46.00385],[29.00613,46.04962],[28.94643,46.09176],[29.06656,46.19716],[28.94953,46.25852],[28.98478,46.31803],[29.004,46.31495],[28.9306,46.45699],[29.01241,46.46177],[29.02409,46.49582],[29.23547,46.55435],[29.24886,46.37912],[29.35357,46.49505],[29.49914,46.45889],[29.5939,46.35472],[29.6763,46.36041],[29.66359,46.4215],[29.74496,46.45605],[29.88329,46.35851],[29.94114,46.40114],[30.09103,46.38694],[30.16794,46.40967],[30.02511,46.45132],[29.88916,46.54302],[29.94409,46.56002],[29.9743,46.75325],[29.94522,46.80055],[29.98814,46.82358],[29.87405,46.88199],[29.75458,46.8604],[29.72986,46.92234],[29.57056,46.94766],[29.62137,47.05069],[29.61038,47.09932],[29.53044,47.07851],[29.49732,47.12878],[29.57696,47.13581],[29.54996,47.24962],[29.59665,47.25521],[29.5733,47.36508],[29.48678,47.36043],[29.47854,47.30366],[29.39889,47.30179],[29.3261,47.44664],[29.18603,47.43387],[29.11743,47.55001],[29.22414,47.60012],[29.22242,47.73607],[29.27255,47.79953],[29.20663,47.80367],[29.27804,47.88893],[29.19839,47.89261],[29.1723,47.99013],[28.9306,47.96255],[28.8414,48.03392],[28.85232,48.12506],[28.69896,48.13106],[28.53921,48.17453],[28.48428,48.0737],[28.42454,48.12047],[28.43701,48.15832],[28.38712,48.17567],[28.34009,48.13147],[28.30609,48.14018],[28.30586,48.1597],[28.34912,48.1787],[28.36996,48.20543],[28.35519,48.24957],[28.32508,48.23384],[28.2856,48.23202],[28.19314,48.20749],[28.17666,48.25963],[28.07504,48.23494],[28.09873,48.3124],[28.04527,48.32661],[27.95883,48.32368],[27.88391,48.36699],[27.87533,48.4037],[27.81902,48.41874],[27.79225,48.44244],[27.74422,48.45926]]]]}},{type:"Feature",properties:{iso1A2:"ME",iso1A3:"MNE",iso1N3:"499",wikidata:"Q236",nameEn:"Montenegro",groups:["039","150","UN"],callingCodes:["382"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.22807,43.5264],[19.15685,43.53943],[19.13933,43.5282],[19.04934,43.50384],[19.01078,43.55806],[18.91379,43.50299],[18.95469,43.49367],[18.96053,43.45042],[19.01078,43.43854],[19.04071,43.397],[19.08673,43.31453],[19.08206,43.29668],[19.04233,43.30008],[19.00844,43.24988],[18.95001,43.29327],[18.95819,43.32899],[18.90911,43.36383],[18.83912,43.34795],[18.84794,43.33735],[18.85342,43.32426],[18.76538,43.29838],[18.6976,43.25243],[18.71747,43.2286],[18.66605,43.2056],[18.64735,43.14766],[18.66254,43.03928],[18.52232,43.01451],[18.49076,42.95553],[18.49661,42.89306],[18.4935,42.86433],[18.47633,42.85829],[18.45921,42.81682],[18.47324,42.74992],[18.56789,42.72074],[18.55221,42.69045],[18.54603,42.69171],[18.54841,42.68328],[18.57373,42.64429],[18.52232,42.62279],[18.55504,42.58409],[18.53751,42.57376],[18.49778,42.58409],[18.43735,42.55921],[18.44307,42.51077],[18.43588,42.48556],[18.52152,42.42302],[18.54128,42.39171],[18.45131,42.21682],[19.26406,41.74971],[19.37597,41.84849],[19.37451,41.8842],[19.33812,41.90669],[19.34601,41.95675],[19.37691,41.96977],[19.36867,42.02564],[19.37548,42.06835],[19.40687,42.10024],[19.28623,42.17745],[19.42,42.33019],[19.42352,42.36546],[19.4836,42.40831],[19.65972,42.62774],[19.73244,42.66299],[19.77375,42.58517],[19.74731,42.57422],[19.76549,42.50237],[19.82333,42.46581],[19.9324,42.51699],[20.00842,42.5109],[20.01834,42.54622],[20.07761,42.55582],[20.0969,42.65559],[20.02915,42.71147],[20.02088,42.74789],[20.04898,42.77701],[20.2539,42.76245],[20.27869,42.81945],[20.35692,42.8335],[20.34528,42.90676],[20.16415,42.97177],[20.14896,42.99058],[20.12325,42.96237],[20.05431,42.99571],[20.04729,43.02732],[19.98887,43.0538],[19.96549,43.11098],[19.92576,43.08539],[19.79255,43.11951],[19.76918,43.16044],[19.64063,43.19027],[19.62661,43.2286],[19.54598,43.25158],[19.52962,43.31623],[19.48171,43.32644],[19.44315,43.38846],[19.22229,43.47926],[19.22807,43.5264]]]]}},{type:"Feature",properties:{iso1A2:"MF",iso1A3:"MAF",iso1N3:"663",wikidata:"Q126125",nameEn:"Saint-Martin",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.93924,18.02904],[-62.62718,18.26185],[-63.35989,18.06012],[-63.33064,17.9615],[-63.13502,18.05445],[-63.11042,18.05339],[-63.09686,18.04608],[-63.07759,18.04943],[-63.0579,18.06614],[-63.04039,18.05619],[-63.02323,18.05757],[-62.93924,18.02904]]]]}},{type:"Feature",properties:{iso1A2:"MG",iso1A3:"MDG",iso1N3:"450",wikidata:"Q1019",nameEn:"Madagascar",aliases:["RM"],groups:["014","202","002","UN"],callingCodes:["261"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.93891,-10.85085],[45.84651,-12.77177],[42.14681,-19.63341],[45.80092,-33.00974],[51.93891,-10.85085]]]]}},{type:"Feature",properties:{iso1A2:"MH",iso1A3:"MHL",iso1N3:"584",wikidata:"Q709",nameEn:"Marshall Islands",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["692"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[173.53711,5.70687],[169.29099,15.77133],[159.04653,10.59067],[169,3.9]]]]}},{type:"Feature",properties:{iso1A2:"MK",iso1A3:"MKD",iso1N3:"807",wikidata:"Q221",nameEn:"North Macedonia",groups:["039","150","UN"],callingCodes:["389"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.34773,42.31725],[22.29275,42.34913],[22.29605,42.37477],[22.16384,42.32103],[22.02908,42.29848],[21.94405,42.34669],[21.91595,42.30392],[21.84654,42.3247],[21.77176,42.2648],[21.70111,42.23789],[21.58992,42.25915],[21.52145,42.24465],[21.50823,42.27156],[21.43882,42.2789],[21.43882,42.23609],[21.38428,42.24465],[21.30496,42.1418],[21.29913,42.13954],[21.31983,42.10993],[21.22728,42.08909],[21.16614,42.19815],[21.11491,42.20794],[20.75464,42.05229],[20.76786,41.91839],[20.68523,41.85318],[20.59524,41.8818],[20.55976,41.87068],[20.57144,41.7897],[20.53405,41.78099],[20.51301,41.72433],[20.52937,41.69292],[20.51769,41.65975],[20.55508,41.58113],[20.52103,41.56473],[20.45809,41.5549],[20.45331,41.51436],[20.49039,41.49277],[20.51301,41.442],[20.55976,41.4087],[20.52119,41.34381],[20.49432,41.33679],[20.51068,41.2323],[20.59715,41.13644],[20.58546,41.11179],[20.59832,41.09066],[20.63454,41.0889],[20.65558,41.08009],[20.71634,40.91781],[20.73504,40.9081],[20.81567,40.89662],[20.83671,40.92752],[20.94305,40.92399],[20.97693,40.90103],[20.97887,40.85475],[21.15262,40.85546],[21.21105,40.8855],[21.25779,40.86165],[21.35595,40.87578],[21.41555,40.9173],[21.53007,40.90759],[21.57448,40.86076],[21.69601,40.9429],[21.7556,40.92525],[21.91102,41.04786],[21.90869,41.09191],[22.06527,41.15617],[22.1424,41.12449],[22.17629,41.15969],[22.26744,41.16409],[22.42285,41.11921],[22.5549,41.13065],[22.58295,41.11568],[22.62852,41.14385],[22.65306,41.18168],[22.71266,41.13945],[22.74538,41.16321],[22.76408,41.32225],[22.81199,41.3398],[22.93334,41.34104],[22.96331,41.35782],[22.95513,41.63265],[23.03342,41.71034],[23.01239,41.76527],[22.96682,41.77137],[22.90254,41.87587],[22.86749,42.02275],[22.67701,42.06614],[22.51224,42.15457],[22.50289,42.19527],[22.47251,42.20393],[22.38136,42.30339],[22.34773,42.31725]]]]}},{type:"Feature",properties:{iso1A2:"ML",iso1A3:"MLI",iso1N3:"466",wikidata:"Q912",nameEn:"Mali",groups:["011","202","002","UN"],callingCodes:["223"]},geometry:{type:"MultiPolygon",coordinates:[[[[-4.83423,24.99935],[-6.57191,25.0002],[-5.60725,16.49919],[-5.33435,16.33354],[-5.50165,15.50061],[-9.32979,15.50032],[-9.31106,15.69412],[-9.33314,15.7044],[-9.44673,15.60553],[-9.40447,15.4396],[-10.71721,15.4223],[-10.90932,15.11001],[-11.43483,15.62339],[-11.70705,15.51558],[-11.94903,14.76143],[-12.23936,14.76324],[-11.93043,13.84505],[-12.06897,13.71049],[-11.83345,13.33333],[-11.63025,13.39174],[-11.39935,12.97808],[-11.37536,12.40788],[-11.50006,12.17826],[-11.24136,12.01286],[-10.99758,12.24634],[-10.80355,12.1053],[-10.71897,11.91552],[-10.30604,12.24634],[-9.714,12.0226],[-9.63938,12.18312],[-9.32097,12.29009],[-9.38067,12.48446],[-9.13689,12.50875],[-8.94784,12.34842],[-8.80854,11.66715],[-8.40058,11.37466],[-8.66923,10.99397],[-8.35083,11.06234],[-8.2667,10.91762],[-8.32614,10.69273],[-8.22711,10.41722],[-8.10207,10.44649],[-7.9578,10.2703],[-7.97971,10.17117],[-7.92107,10.15577],[-7.63048,10.46334],[-7.54462,10.40921],[-7.52261,10.4655],[-7.44555,10.44602],[-7.3707,10.24677],[-7.13331,10.24877],[-7.0603,10.14711],[-7.00966,10.15794],[-6.97444,10.21644],[-7.01186,10.25111],[-6.93921,10.35291],[-6.68164,10.35074],[-6.63541,10.66893],[-6.52974,10.59104],[-6.42847,10.5694],[-6.40646,10.69922],[-6.325,10.68624],[-6.24795,10.74248],[-6.1731,10.46983],[-6.18851,10.24244],[-5.99478,10.19694],[-5.78124,10.43952],[-5.65135,10.46767],[-5.51058,10.43177],[-5.46643,10.56074],[-5.47083,10.75329],[-5.41579,10.84628],[-5.49284,11.07538],[-5.32994,11.13371],[-5.32553,11.21578],[-5.25949,11.24816],[-5.25509,11.36905],[-5.20665,11.43811],[-5.22867,11.60421],[-5.29251,11.61715],[-5.26389,11.75728],[-5.40258,11.8327],[-5.26389,11.84778],[-5.07897,11.97918],[-4.72893,12.01579],[-4.70692,12.06746],[-4.62987,12.06531],[-4.62546,12.13204],[-4.54841,12.1385],[-4.57703,12.19875],[-4.41412,12.31922],[-4.47356,12.71252],[-4.238,12.71467],[-4.21819,12.95722],[-4.34477,13.12927],[-3.96501,13.49778],[-3.90558,13.44375],[-3.96282,13.38164],[-3.7911,13.36665],[-3.54454,13.1781],[-3.4313,13.1588],[-3.43507,13.27272],[-3.23599,13.29035],[-3.28396,13.5422],[-3.26407,13.70699],[-2.88189,13.64921],[-2.90831,13.81174],[-2.84667,14.05532],[-2.66175,14.14713],[-2.47587,14.29671],[-2.10223,14.14878],[-1.9992,14.19011],[-1.97945,14.47709],[-1.68083,14.50023],[-1.32166,14.72774],[-1.05875,14.7921],[-.72004,15.08655],[-.24673,15.07805],[.06588,14.96961],[.23859,15.00135],[.72632,14.95898],[.96711,14.98275],[1.31275,15.27978],[3.01806,15.34571],[3.03134,15.42221],[3.50368,15.35934],[4.19893,16.39923],[4.21787,17.00118],[4.26762,17.00432],[4.26651,19.14224],[3.36082,18.9745],[3.12501,19.1366],[3.24648,19.81703],[1.20992,20.73533],[1.15698,21.12843],[-4.83423,24.99935]]]]}},{type:"Feature",properties:{iso1A2:"MM",iso1A3:"MMR",iso1N3:"104",wikidata:"Q836",nameEn:"Myanmar",aliases:["Burma","BU"],groups:["035","142","UN"],callingCodes:["95"]},geometry:{type:"MultiPolygon",coordinates:[[[[92.62187,21.87037],[92.59775,21.6092],[92.68152,21.28454],[92.60187,21.24615],[92.55105,21.3856],[92.43158,21.37025],[92.37939,21.47764],[92.20087,21.337],[92.17752,21.17445],[92.26071,21.05697],[92.47409,20.38654],[92.61042,13.76986],[94.6371,13.81803],[97.63455,9.60854],[98.12555,9.44056],[98.33094,9.91973],[98.47298,9.95782],[98.52291,9.92389],[98.55174,9.92804],[98.7391,10.31488],[98.81944,10.52761],[98.77275,10.62548],[98.78511,10.68351],[98.86819,10.78336],[99.0069,10.85485],[98.99701,10.92962],[99.02337,10.97217],[99.06938,10.94857],[99.32756,11.28545],[99.31573,11.32081],[99.39485,11.3925],[99.47598,11.62434],[99.5672,11.62732],[99.64108,11.78948],[99.64891,11.82699],[99.53424,12.02317],[99.56445,12.14805],[99.47519,12.1353],[99.409,12.60603],[99.29254,12.68921],[99.18905,12.84799],[99.18748,12.9898],[99.10646,13.05804],[99.12225,13.19847],[99.20617,13.20575],[99.16695,13.72621],[98.97356,14.04868],[98.56762,14.37701],[98.24874,14.83013],[98.18821,15.13125],[98.22,15.21327],[98.30446,15.30667],[98.40522,15.25268],[98.41906,15.27103],[98.39351,15.34177],[98.4866,15.39154],[98.56027,15.33471],[98.58598,15.46821],[98.541,15.65406],[98.59853,15.87197],[98.57019,16.04578],[98.69585,16.13353],[98.8376,16.11706],[98.92656,16.36425],[98.84485,16.42354],[98.68074,16.27068],[98.63817,16.47424],[98.57912,16.55983],[98.5695,16.62826],[98.51113,16.64503],[98.51833,16.676],[98.51472,16.68521],[98.51579,16.69433],[98.51043,16.70107],[98.49713,16.69022],[98.50253,16.7139],[98.46994,16.73613],[98.53833,16.81934],[98.49603,16.8446],[98.52624,16.89979],[98.39441,17.06266],[98.34566,17.04822],[98.10439,17.33847],[98.11185,17.36829],[97.91829,17.54504],[97.76407,17.71595],[97.66794,17.88005],[97.73723,17.97912],[97.60841,18.23846],[97.64116,18.29778],[97.56219,18.33885],[97.50383,18.26844],[97.34522,18.54596],[97.36444,18.57138],[97.5258,18.4939],[97.76752,18.58097],[97.73836,18.88478],[97.66487,18.9371],[97.73654,18.9812],[97.73797,19.04261],[97.83479,19.09972],[97.84024,19.22217],[97.78606,19.26769],[97.84186,19.29526],[97.78769,19.39429],[97.88423,19.5041],[97.84715,19.55782],[98.04364,19.65755],[98.03314,19.80941],[98.13829,19.78541],[98.24884,19.67876],[98.51182,19.71303],[98.56065,19.67807],[98.83661,19.80931],[98.98679,19.7419],[99.0735,20.10298],[99.20328,20.12877],[99.416,20.08614],[99.52943,20.14811],[99.5569,20.20676],[99.46077,20.36198],[99.46008,20.39673],[99.68255,20.32077],[99.81096,20.33687],[99.86383,20.44371],[99.88211,20.44488],[99.88451,20.44596],[99.89168,20.44548],[99.89301,20.44311],[99.89692,20.44789],[99.90499,20.4487],[99.91616,20.44986],[99.95721,20.46301],[100.08404,20.36626],[100.1957,20.68247],[100.36375,20.82783],[100.51079,20.82194],[100.60112,20.8347],[100.64628,20.88279],[100.50974,20.88574],[100.55281,21.02796],[100.63578,21.05639],[100.72716,21.31786],[100.80173,21.2934],[101.00234,21.39612],[101.16198,21.52808],[101.15156,21.56129],[101.11744,21.77659],[100.87265,21.67396],[100.72143,21.51898],[100.57861,21.45637],[100.4811,21.46148],[100.42892,21.54325],[100.35201,21.53176],[100.25863,21.47043],[100.18447,21.51898],[100.1625,21.48704],[100.12542,21.50365],[100.10757,21.59945],[100.17486,21.65306],[100.12679,21.70539],[100.04956,21.66843],[99.98654,21.71064],[99.94003,21.82782],[99.99084,21.97053],[99.96612,22.05965],[99.85351,22.04183],[99.47585,22.13345],[99.33166,22.09656],[99.1552,22.15874],[99.19176,22.16983],[99.17318,22.18025],[99.28771,22.4105],[99.37972,22.50188],[99.38247,22.57544],[99.31243,22.73893],[99.45654,22.85726],[99.43537,22.94086],[99.54218,22.90014],[99.52214,23.08218],[99.34127,23.13099],[99.25741,23.09025],[99.04601,23.12215],[99.05975,23.16382],[98.88597,23.18656],[98.92515,23.29535],[98.93958,23.31414],[98.87573,23.33038],[98.92104,23.36946],[98.87683,23.48995],[98.82877,23.47908],[98.80294,23.5345],[98.88396,23.59555],[98.81775,23.694],[98.82933,23.72921],[98.79607,23.77947],[98.68209,23.80492],[98.67797,23.9644],[98.89632,24.10612],[98.87998,24.15624],[98.85319,24.13042],[98.59256,24.08371],[98.54476,24.13119],[98.20666,24.11406],[98.07806,24.07988],[98.06703,24.08028],[98.0607,24.07812],[98.05671,24.07961],[98.05302,24.07408],[98.04709,24.07616],[97.99583,24.04932],[97.98691,24.03897],[97.93951,24.01953],[97.90998,24.02094],[97.88616,24.00463],[97.88414,23.99405],[97.88814,23.98605],[97.89683,23.98389],[97.89676,23.97931],[97.8955,23.97758],[97.88811,23.97446],[97.86545,23.97723],[97.84328,23.97603],[97.79416,23.95663],[97.79456,23.94836],[97.72302,23.89288],[97.64667,23.84574],[97.5247,23.94032],[97.62363,24.00506],[97.72903,24.12606],[97.75305,24.16902],[97.72799,24.18883],[97.72998,24.2302],[97.76799,24.26365],[97.71941,24.29652],[97.66723,24.30027],[97.65624,24.33781],[97.7098,24.35658],[97.66998,24.45288],[97.60029,24.4401],[97.52757,24.43748],[97.56286,24.54535],[97.56525,24.72838],[97.54675,24.74202],[97.5542,24.74943],[97.56383,24.75535],[97.56648,24.76475],[97.64354,24.79171],[97.70181,24.84557],[97.73127,24.83015],[97.76481,24.8289],[97.79949,24.85655],[97.72903,24.91332],[97.72216,25.08508],[97.77023,25.11492],[97.83614,25.2715],[97.92541,25.20815],[98.14925,25.41547],[98.12591,25.50722],[98.18084,25.56298],[98.16848,25.62739],[98.25774,25.6051],[98.31268,25.55307],[98.40606,25.61129],[98.54064,25.85129],[98.63128,25.79937],[98.70818,25.86241],[98.60763,26.01512],[98.57085,26.11547],[98.63128,26.15492],[98.66884,26.09165],[98.7329,26.17218],[98.67797,26.24487],[98.72741,26.36183],[98.77547,26.61994],[98.7333,26.85615],[98.69582,27.56499],[98.43353,27.67086],[98.42529,27.55404],[98.32641,27.51385],[98.13964,27.9478],[98.15337,28.12114],[97.90069,28.3776],[97.79632,28.33168],[97.70705,28.5056],[97.56835,28.55628],[97.50518,28.49716],[97.47085,28.2688],[97.41729,28.29783],[97.34547,28.21385],[97.31292,28.06784],[97.35412,28.06663],[97.38845,28.01329],[97.35824,27.87256],[97.29919,27.92233],[96.90112,27.62149],[96.91431,27.45752],[97.17422,27.14052],[97.14675,27.09041],[96.89132,27.17474],[96.85287,27.2065],[96.88445,27.25046],[96.73888,27.36638],[96.55761,27.29928],[96.40779,27.29818],[96.15591,27.24572],[96.04949,27.19428],[95.93002,27.04149],[95.81603,27.01335],[95.437,26.7083],[95.30339,26.65372],[95.23513,26.68499],[95.05798,26.45408],[95.12801,26.38397],[95.11428,26.1019],[95.18556,26.07338],[94.80117,25.49359],[94.68032,25.47003],[94.57458,25.20318],[94.74212,25.13606],[94.73937,25.00545],[94.60204,24.70889],[94.5526,24.70764],[94.50729,24.59281],[94.45279,24.56656],[94.32362,24.27692],[94.30215,24.23752],[94.14081,23.83333],[93.92089,23.95812],[93.80279,23.92549],[93.75952,24.0003],[93.62871,24.00922],[93.50616,23.94432],[93.46633,23.97067],[93.41415,24.07854],[93.34735,24.10151],[93.32351,24.04468],[93.36059,23.93176],[93.3908,23.92925],[93.3908,23.7622],[93.43475,23.68299],[93.38805,23.4728],[93.39981,23.38828],[93.38781,23.36139],[93.36862,23.35426],[93.38478,23.13698],[93.2878,23.00464],[93.12988,23.05772],[93.134,22.92498],[93.09417,22.69459],[93.134,22.59573],[93.11477,22.54374],[93.13537,22.45873],[93.18206,22.43716],[93.19991,22.25425],[93.14224,22.24535],[93.15734,22.18687],[93.04885,22.20595],[92.99255,22.05965],[92.99804,21.98964],[92.93899,22.02656],[92.89504,21.95143],[92.86208,22.05456],[92.70416,22.16017],[92.67532,22.03547],[92.60949,21.97638],[92.62187,21.87037]]]]}},{type:"Feature",properties:{iso1A2:"MN",iso1A3:"MNG",iso1N3:"496",wikidata:"Q711",nameEn:"Mongolia",groups:["030","142","UN"],callingCodes:["976"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.14032,51.35566],[101.5044,51.50467],[101.39085,51.45753],[100.61116,51.73028],[99.89203,51.74903],[99.75578,51.90108],[99.27888,51.96876],[98.87768,52.14563],[98.74142,51.8637],[98.33222,51.71832],[98.22053,51.46579],[98.05257,51.46696],[97.83305,51.00248],[98.01472,50.86652],[97.9693,50.78044],[98.06393,50.61262],[98.31373,50.4996],[98.29481,50.33561],[97.85197,49.91339],[97.76871,49.99861],[97.56432,49.92801],[97.56811,49.84265],[97.24639,49.74737],[96.97388,49.88413],[95.80056,50.04239],[95.74757,49.97915],[95.02465,49.96941],[94.97166,50.04725],[94.6121,50.04239],[94.49477,50.17832],[94.39258,50.22193],[94.30823,50.57498],[92.99595,50.63183],[93.01109,50.79001],[92.44714,50.78762],[92.07173,50.69585],[91.86048,50.73734],[89.59711,49.90851],[89.70687,49.72535],[88.82499,49.44808],[88.42449,49.48821],[88.17223,49.46934],[88.15543,49.30314],[87.98977,49.18147],[87.81333,49.17354],[87.88171,48.95853],[87.73822,48.89582],[88.0788,48.71436],[87.96361,48.58478],[88.58939,48.34531],[88.58316,48.21893],[88.8011,48.11302],[88.93186,48.10263],[89.0711,47.98528],[89.55453,48.0423],[89.76624,47.82745],[90.06512,47.88177],[90.10871,47.7375],[90.33598,47.68303],[90.48854,47.41826],[90.48542,47.30438],[90.76108,46.99399],[90.84035,46.99525],[91.03649,46.72916],[91.0147,46.58171],[91.07696,46.57315],[90.89639,46.30711],[90.99672,46.14207],[91.03026,46.04194],[90.70907,45.73437],[90.65114,45.49314],[90.89169,45.19667],[91.64048,45.07408],[93.51161,44.95964],[94.10003,44.71016],[94.71959,44.35284],[95.01191,44.25274],[95.39772,44.2805],[95.32891,44.02407],[95.52594,43.99353],[95.89543,43.2528],[96.35658,42.90363],[96.37926,42.72055],[97.1777,42.7964],[99.50671,42.56535],[100.33297,42.68231],[100.84979,42.67087],[101.80515,42.50074],[102.07645,42.22519],[102.72403,42.14675],[103.92804,41.78246],[104.52258,41.8706],[104.51667,41.66113],[105.0123,41.63188],[106.76517,42.28741],[107.24774,42.36107],[107.29755,42.41395],[107.49681,42.46221],[107.57258,42.40898],[108.84489,42.40246],[109.00679,42.45302],[109.452,42.44842],[109.89402,42.63111],[110.08401,42.6411],[110.4327,42.78293],[111.0149,43.3289],[111.59087,43.51207],[111.79758,43.6637],[111.93776,43.68709],[111.96289,43.81596],[111.40498,44.3461],[111.76275,44.98032],[111.98695,45.09074],[112.4164,45.06858],[112.74662,44.86297],[113.70918,44.72891],[114.5166,45.27189],[114.54801,45.38337],[114.74612,45.43585],[114.94546,45.37377],[115.60329,45.44717],[116.16989,45.68603],[116.27366,45.78637],[116.24012,45.8778],[116.26678,45.96479],[116.58612,46.30211],[116.75551,46.33083],[116.83166,46.38637],[117.36609,46.36335],[117.41782,46.57862],[117.60748,46.59771],[117.69554,46.50991],[118.30534,46.73519],[118.78747,46.68689],[118.8337,46.77742],[118.89974,46.77139],[118.92616,46.72765],[119.00541,46.74273],[119.10448,46.65516],[119.24978,46.64761],[119.32827,46.61433],[119.42827,46.63783],[119.65265,46.62342],[119.68127,46.59015],[119.77373,46.62947],[119.80455,46.67631],[119.89261,46.66423],[119.91242,46.90091],[119.85518,46.92196],[119.71209,47.19192],[119.62403,47.24575],[119.56019,47.24874],[119.54918,47.29505],[119.31964,47.42617],[119.35892,47.48104],[119.13995,47.53997],[119.12343,47.66458],[118.7564,47.76947],[118.55766,47.99277],[118.29654,48.00246],[118.22677,48.03853],[118.11009,48.04],[118.03676,48.00982],[117.80196,48.01661],[117.50181,47.77216],[117.37875,47.63627],[116.9723,47.87285],[116.67405,47.89039],[116.4465,47.83662],[116.21879,47.88505],[115.94296,47.67741],[115.57128,47.91988],[115.52082,48.15367],[115.811,48.25699],[115.78876,48.51781],[116.06565,48.81716],[116.03781,48.87014],[116.71193,49.83813],[116.62502,49.92919],[116.22402,50.04477],[115.73602,49.87688],[115.26068,49.97367],[114.9703,50.19254],[114.325,50.28098],[113.20216,49.83356],[113.02647,49.60772],[110.64493,49.1816],[110.39891,49.25083],[110.24373,49.16676],[109.51325,49.22859],[109.18017,49.34709],[108.53969,49.32325],[108.27937,49.53167],[107.95387,49.66659],[107.96116,49.93191],[107.36407,49.97612],[107.1174,50.04239],[107.00007,50.1977],[106.80326,50.30177],[106.58373,50.34044],[106.51122,50.34408],[106.49628,50.32436],[106.47156,50.31909],[106.07865,50.33474],[106.05562,50.40582],[105.32528,50.4648],[103.70343,50.13952],[102.71178,50.38873],[102.32194,50.67982],[102.14032,51.35566]]]]}},{type:"Feature",properties:{iso1A2:"MO",iso1A3:"MAC",iso1N3:"446",wikidata:"Q14773",nameEn:"Macau",aliases:["Macao"],country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["853"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.54942,22.14519],[113.54839,22.10909],[113.57191,22.07696],[113.63011,22.10782],[113.60504,22.20464],[113.57123,22.20416],[113.56865,22.20973],[113.5508,22.21672],[113.54333,22.21688],[113.54093,22.21314],[113.53593,22.2137],[113.53301,22.21235],[113.53552,22.20607],[113.52659,22.18271],[113.54093,22.15497],[113.54942,22.14519]]]]}},{type:"Feature",properties:{iso1A2:"MP",iso1A3:"MNP",iso1N3:"580",wikidata:"Q16644",nameEn:"Northern Mariana Islands",aliases:["US-MP"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",callingCodes:["1 670"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.52896,14.32623],[152.19114,13.63487],[145.05972,21.28731],[135.52896,14.32623]]]]}},{type:"Feature",properties:{iso1A2:"MQ",iso1A3:"MTQ",iso1N3:"474",wikidata:"Q17054",nameEn:"Martinique",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["596"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.07821,15.25109],[-61.69315,14.26451],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"MR",iso1A3:"MRT",iso1N3:"478",wikidata:"Q1025",nameEn:"Mauritania",groups:["011","202","002","UN"],callingCodes:["222"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.60725,16.49919],[-6.57191,25.0002],[-4.83423,24.99935],[-8.66674,27.31569],[-8.66721,25.99918],[-12.0002,25.9986],[-12.00251,23.4538],[-12.14969,23.41935],[-12.36213,23.3187],[-12.5741,23.28975],[-13.00412,23.02297],[-13.10753,22.89493],[-13.15313,22.75649],[-13.08438,22.53866],[-13.01525,21.33343],[-16.95474,21.33997],[-16.99806,21.12142],[-17.0357,21.05368],[-17.0396,20.9961],[-17.06781,20.92697],[-17.0695,20.85742],[-17.0471,20.76408],[-17.15288,16.07139],[-16.50854,16.09032],[-16.48967,16.0496],[-16.44814,16.09753],[-16.4429,16.20605],[-16.27016,16.51565],[-15.6509,16.50315],[-15.00557,16.64997],[-14.32144,16.61495],[-13.80075,16.13961],[-13.43135,16.09022],[-13.11029,15.52116],[-12.23936,14.76324],[-11.94903,14.76143],[-11.70705,15.51558],[-11.43483,15.62339],[-10.90932,15.11001],[-10.71721,15.4223],[-9.40447,15.4396],[-9.44673,15.60553],[-9.33314,15.7044],[-9.31106,15.69412],[-9.32979,15.50032],[-5.50165,15.50061],[-5.33435,16.33354],[-5.60725,16.49919]]]]}},{type:"Feature",properties:{iso1A2:"MS",iso1A3:"MSR",iso1N3:"500",wikidata:"Q13353",nameEn:"Montserrat",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 664"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.91508,16.51165],[-62.1023,16.97277],[-62.58307,16.68909],[-61.91508,16.51165]]]]}},{type:"Feature",properties:{iso1A2:"MT",iso1A3:"MLT",iso1N3:"470",wikidata:"Q233",nameEn:"Malta",groups:["EU","039","150","UN"],driveSide:"left",callingCodes:["356"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.70991,35.79901],[14.07544,36.41525],[13.27636,35.20764],[15.70991,35.79901]]]]}},{type:"Feature",properties:{iso1A2:"MU",iso1A3:"MUS",iso1N3:"480",wikidata:"Q1027",nameEn:"Mauritius",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["230"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.09755,-9.55401],[57.50644,-31.92637],[68.4673,-19.15185],[56.09755,-9.55401]]]]}},{type:"Feature",properties:{iso1A2:"MV",iso1A3:"MDV",iso1N3:"462",wikidata:"Q826",nameEn:"Maldives",groups:["034","142","UN"],driveSide:"left",callingCodes:["960"]},geometry:{type:"MultiPolygon",coordinates:[[[[71.9161,8.55531],[72.57428,-3.7623],[76.59015,5.591],[71.9161,8.55531]]]]}},{type:"Feature",properties:{iso1A2:"MW",iso1A3:"MWI",iso1N3:"454",wikidata:"Q1020",nameEn:"Malawi",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["265"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.48052,-9.62442],[33.31581,-9.48554],[33.14925,-9.49322],[32.99397,-9.36712],[32.95389,-9.40138],[33.00476,-9.5133],[33.00256,-9.63053],[33.05485,-9.61316],[33.10163,-9.66525],[33.12144,-9.58929],[33.2095,-9.61099],[33.31517,-9.82364],[33.36581,-9.81063],[33.37902,-9.9104],[33.31297,-10.05133],[33.53863,-10.20148],[33.54797,-10.36077],[33.70675,-10.56896],[33.47636,-10.78465],[33.28022,-10.84428],[33.25998,-10.88862],[33.39697,-11.15296],[33.29267,-11.3789],[33.29267,-11.43536],[33.23663,-11.40637],[33.24252,-11.59302],[33.32692,-11.59248],[33.33937,-11.91252],[33.25998,-12.14242],[33.3705,-12.34931],[33.47636,-12.32498],[33.54485,-12.35996],[33.37517,-12.54085],[33.28177,-12.54692],[33.18837,-12.61377],[33.05917,-12.59554],[32.94397,-12.76868],[32.96733,-12.88251],[33.02181,-12.88707],[32.98289,-13.12671],[33.0078,-13.19492],[32.86113,-13.47292],[32.84176,-13.52794],[32.73683,-13.57682],[32.68436,-13.55769],[32.66468,-13.60019],[32.68654,-13.64268],[32.7828,-13.64805],[32.84528,-13.71576],[32.76962,-13.77224],[32.79015,-13.80755],[32.88985,-13.82956],[32.99042,-13.95689],[33.02977,-14.05022],[33.07568,-13.98447],[33.16749,-13.93992],[33.24249,-14.00019],[33.66677,-14.61306],[33.7247,-14.4989],[33.88503,-14.51652],[33.92898,-14.47929],[34.08588,-14.48893],[34.18733,-14.43823],[34.22355,-14.43607],[34.34453,-14.3985],[34.35843,-14.38652],[34.39277,-14.39467],[34.4192,-14.43191],[34.44641,-14.47746],[34.45053,-14.49873],[34.47628,-14.53363],[34.48932,-14.53646],[34.49636,-14.55091],[34.52366,-14.5667],[34.53962,-14.59776],[34.55112,-14.64494],[34.53516,-14.67782],[34.52057,-14.68263],[34.54503,-14.74672],[34.567,-14.77345],[34.61522,-14.99583],[34.57503,-15.30619],[34.43126,-15.44778],[34.44981,-15.60864],[34.25195,-15.90321],[34.43126,-16.04737],[34.40344,-16.20923],[35.04805,-16.83167],[35.13771,-16.81687],[35.17017,-16.93521],[35.04805,-17.00027],[35.0923,-17.13235],[35.3062,-17.1244],[35.27065,-16.93817],[35.30929,-16.82871],[35.27219,-16.69402],[35.14235,-16.56812],[35.25828,-16.4792],[35.30157,-16.2211],[35.43355,-16.11371],[35.52365,-16.15414],[35.70107,-16.10147],[35.80487,-16.03907],[35.85303,-15.41913],[35.78799,-15.17428],[35.91812,-14.89514],[35.87212,-14.89478],[35.86945,-14.67481],[35.5299,-14.27714],[35.47989,-14.15594],[34.86229,-13.48958],[34.60253,-13.48487],[34.37831,-12.17408],[34.46088,-12.0174],[34.70739,-12.15652],[34.82903,-12.04837],[34.57917,-11.87849],[34.64241,-11.57499],[34.96296,-11.57354],[34.91153,-11.39799],[34.79375,-11.32245],[34.63305,-11.11731],[34.61161,-11.01611],[34.67047,-10.93796],[34.65946,-10.6828],[34.57581,-10.56271],[34.51911,-10.12279],[34.54499,-10.0678],[34.03865,-9.49398],[33.95829,-9.54066],[33.9638,-9.62206],[33.93298,-9.71647],[33.76677,-9.58516],[33.48052,-9.62442]]]]}},{type:"Feature",properties:{iso1A2:"MX",iso1A3:"MEX",iso1N3:"484",wikidata:"Q96",nameEn:"Mexico",groups:["013","003","419","019","UN"],callingCodes:["52"]},geometry:{type:"MultiPolygon",coordinates:[[[[-117.1243,32.53427],[-118.48109,32.5991],[-120.12904,18.41089],[-92.37213,14.39277],[-92.2261,14.53423],[-92.1454,14.6804],[-92.18161,14.84147],[-92.1423,14.88647],[-92.1454,14.98143],[-92.0621,15.07406],[-92.20983,15.26077],[-91.73182,16.07371],[-90.44567,16.07573],[-90.40499,16.40524],[-90.61212,16.49832],[-90.69064,16.70697],[-91.04436,16.92175],[-91.43809,17.25373],[-90.99199,17.25192],[-90.98678,17.81655],[-89.14985,17.81563],[-89.15105,17.95104],[-89.03839,18.0067],[-88.8716,17.89535],[-88.71505,18.0707],[-88.48242,18.49164],[-88.3268,18.49048],[-88.29909,18.47591],[-88.26593,18.47617],[-88.03238,18.41778],[-88.03165,18.16657],[-87.90671,18.15213],[-87.87604,18.18313],[-87.86657,18.19971],[-87.85693,18.18266],[-87.84815,18.18511],[-86.92368,17.61462],[-85.9092,21.8218],[-96.92418,25.97377],[-97.13927,25.96583],[-97.35946,25.92189],[-97.37332,25.83854],[-97.42511,25.83969],[-97.45669,25.86874],[-97.49828,25.89877],[-97.52025,25.88518],[-97.66511,26.01708],[-97.95155,26.0625],[-97.97017,26.05232],[-98.24603,26.07191],[-98.27075,26.09457],[-98.30491,26.10475],[-98.35126,26.15129],[-99.00546,26.3925],[-99.03053,26.41249],[-99.08477,26.39849],[-99.53573,27.30926],[-99.49744,27.43746],[-99.482,27.47128],[-99.48045,27.49016],[-99.50208,27.50021],[-99.52955,27.49747],[-99.51478,27.55836],[-99.55409,27.61314],[-100.50029,28.66117],[-100.51222,28.70679],[-100.5075,28.74066],[-100.52313,28.75598],[-100.59809,28.88197],[-100.63689,28.90812],[-100.67294,29.09744],[-100.79696,29.24688],[-100.87982,29.296],[-100.94056,29.33371],[-100.94579,29.34523],[-100.96725,29.3477],[-101.01128,29.36947],[-101.05686,29.44738],[-101.47277,29.7744],[-102.60596,29.8192],[-103.15787,28.93865],[-104.37752,29.54255],[-104.39363,29.55396],[-104.3969,29.57105],[-104.5171,29.64671],[-104.77674,30.4236],[-106.00363,31.39181],[-106.09025,31.40569],[-106.20346,31.46305],[-106.23711,31.51262],[-106.24612,31.54193],[-106.28084,31.56173],[-106.30305,31.62154],[-106.33419,31.66303],[-106.34864,31.69663],[-106.3718,31.71165],[-106.38003,31.73151],[-106.41773,31.75196],[-106.43419,31.75478],[-106.45244,31.76523],[-106.46726,31.75998],[-106.47298,31.75054],[-106.48815,31.74769],[-106.50111,31.75714],[-106.50962,31.76155],[-106.51251,31.76922],[-106.52266,31.77509],[-106.529,31.784],[-108.20899,31.78534],[-108.20979,31.33316],[-111.07523,31.33232],[-114.82011,32.49609],[-114.79524,32.55731],[-114.81141,32.55543],[-114.80584,32.62028],[-114.76736,32.64094],[-114.71871,32.71894],[-115.88053,32.63624],[-117.1243,32.53427]]]]}},{type:"Feature",properties:{iso1A2:"MY",iso1A3:"MYS",iso1N3:"458",wikidata:"Q833",nameEn:"Malaysia"},geometry:null},{type:"Feature",properties:{iso1A2:"MZ",iso1A3:"MOZ",iso1N3:"508",wikidata:"Q1029",nameEn:"Mozambique",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["258"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.74206,-10.25691],[40.44265,-10.4618],[40.00295,-10.80255],[39.58249,-10.96043],[39.24395,-11.17433],[38.88996,-11.16978],[38.47258,-11.4199],[38.21598,-11.27289],[37.93618,-11.26228],[37.8388,-11.3123],[37.76614,-11.53352],[37.3936,-11.68949],[36.80309,-11.56836],[36.62068,-11.72884],[36.19094,-11.70008],[36.19094,-11.57593],[35.82767,-11.41081],[35.63599,-11.55927],[34.96296,-11.57354],[34.64241,-11.57499],[34.57917,-11.87849],[34.82903,-12.04837],[34.70739,-12.15652],[34.46088,-12.0174],[34.37831,-12.17408],[34.60253,-13.48487],[34.86229,-13.48958],[35.47989,-14.15594],[35.5299,-14.27714],[35.86945,-14.67481],[35.87212,-14.89478],[35.91812,-14.89514],[35.78799,-15.17428],[35.85303,-15.41913],[35.80487,-16.03907],[35.70107,-16.10147],[35.52365,-16.15414],[35.43355,-16.11371],[35.30157,-16.2211],[35.25828,-16.4792],[35.14235,-16.56812],[35.27219,-16.69402],[35.30929,-16.82871],[35.27065,-16.93817],[35.3062,-17.1244],[35.0923,-17.13235],[35.04805,-17.00027],[35.17017,-16.93521],[35.13771,-16.81687],[35.04805,-16.83167],[34.40344,-16.20923],[34.43126,-16.04737],[34.25195,-15.90321],[34.44981,-15.60864],[34.43126,-15.44778],[34.57503,-15.30619],[34.61522,-14.99583],[34.567,-14.77345],[34.54503,-14.74672],[34.52057,-14.68263],[34.53516,-14.67782],[34.55112,-14.64494],[34.53962,-14.59776],[34.52366,-14.5667],[34.49636,-14.55091],[34.48932,-14.53646],[34.47628,-14.53363],[34.45053,-14.49873],[34.44641,-14.47746],[34.4192,-14.43191],[34.39277,-14.39467],[34.35843,-14.38652],[34.34453,-14.3985],[34.22355,-14.43607],[34.18733,-14.43823],[34.08588,-14.48893],[33.92898,-14.47929],[33.88503,-14.51652],[33.7247,-14.4989],[33.66677,-14.61306],[33.24249,-14.00019],[30.22098,-14.99447],[30.41902,-15.62269],[30.42568,-15.9962],[30.91597,-15.99924],[30.97761,-16.05848],[31.13171,-15.98019],[31.30563,-16.01193],[31.42451,-16.15154],[31.67988,-16.19595],[31.90223,-16.34388],[31.91324,-16.41569],[32.02772,-16.43892],[32.28529,-16.43892],[32.42838,-16.4727],[32.71017,-16.59932],[32.69917,-16.66893],[32.78943,-16.70267],[32.97655,-16.70689],[32.91051,-16.89446],[32.84113,-16.92259],[32.96554,-17.11971],[33.00517,-17.30477],[33.0426,-17.3468],[32.96554,-17.48964],[32.98536,-17.55891],[33.0492,-17.60298],[32.94133,-17.99705],[33.03159,-18.35054],[33.02278,-18.4696],[32.88629,-18.51344],[32.88629,-18.58023],[32.95013,-18.69079],[32.9017,-18.7992],[32.82465,-18.77419],[32.70137,-18.84712],[32.73439,-18.92628],[32.69917,-18.94293],[32.72118,-19.02204],[32.84006,-19.0262],[32.87088,-19.09279],[32.85107,-19.29238],[32.77966,-19.36098],[32.78282,-19.47513],[32.84446,-19.48343],[32.84666,-19.68462],[32.95013,-19.67219],[33.06461,-19.77787],[33.01178,-20.02007],[32.93032,-20.03868],[32.85987,-20.16686],[32.85987,-20.27841],[32.66174,-20.56106],[32.55167,-20.56312],[32.48122,-20.63319],[32.51644,-20.91929],[32.37115,-21.133],[32.48236,-21.32873],[32.41234,-21.31246],[31.38336,-22.36919],[31.30611,-22.422],[31.55779,-23.176],[31.56539,-23.47268],[31.67942,-23.60858],[31.70223,-23.72695],[31.77445,-23.90082],[31.87707,-23.95293],[31.90368,-24.18892],[31.9835,-24.29983],[32.03196,-25.10785],[32.01676,-25.38117],[31.97875,-25.46356],[32.00631,-25.65044],[31.92649,-25.84216],[31.974,-25.95387],[32.00916,-25.999],[32.08599,-26.00978],[32.10435,-26.15656],[32.07352,-26.40185],[32.13409,-26.5317],[32.13315,-26.84345],[32.19409,-26.84032],[32.22302,-26.84136],[32.29584,-26.852],[32.35222,-26.86027],[34.51034,-26.91792],[42.99868,-12.65261],[40.74206,-10.25691]]]]}},{type:"Feature",properties:{iso1A2:"NA",iso1A3:"NAM",iso1N3:"516",wikidata:"Q1030",nameEn:"Namibia",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["264"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.28743,-17.38814],[13.95896,-17.43141],[13.36212,-16.98048],[12.97145,-16.98567],[12.52111,-17.24495],[12.07076,-17.15165],[11.75063,-17.25013],[10.5065,-17.25284],[12.51595,-32.27486],[16.45332,-28.63117],[16.46592,-28.57126],[16.59922,-28.53246],[16.90446,-28.057],[17.15405,-28.08573],[17.4579,-28.68718],[18.99885,-28.89165],[19.99882,-28.42622],[19.99817,-24.76768],[19.99912,-21.99991],[20.99751,-22.00026],[20.99904,-18.31743],[21.45556,-18.31795],[23.0996,-18.00075],[23.29618,-17.99855],[23.61088,-18.4881],[24.19416,-18.01919],[24.40577,-17.95726],[24.57485,-18.07151],[24.6303,-17.9863],[24.71887,-17.9218],[24.73364,-17.89338],[24.95586,-17.79674],[25.05895,-17.84452],[25.16882,-17.78253],[25.26433,-17.79571],[25.00198,-17.58221],[24.70864,-17.49501],[24.5621,-17.52963],[24.38712,-17.46818],[24.32811,-17.49082],[24.23619,-17.47489],[23.47474,-17.62877],[21.42741,-18.02787],[21.14283,-17.94318],[18.84226,-17.80375],[18.39229,-17.38927],[14.28743,-17.38814]]]]}},{type:"Feature",properties:{iso1A2:"NC",iso1A3:"NCL",iso1N3:"540",wikidata:"Q33788",nameEn:"New Caledonia",country:"FR",groups:["EU","Q1451600","054","009","UN"],callingCodes:["687"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[174.245,-23.1974],[156.73836,-14.50464],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{iso1A2:"NE",iso1A3:"NER",iso1N3:"562",wikidata:"Q1032",nameEn:"Niger",aliases:["RN"],groups:["011","202","002","UN"],callingCodes:["227"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.22918,22.61719],[13.5631,23.16574],[11.96886,23.51735],[7.48273,20.87258],[7.38361,20.79165],[5.8153,19.45101],[4.26651,19.14224],[4.26762,17.00432],[4.21787,17.00118],[4.19893,16.39923],[3.50368,15.35934],[3.03134,15.42221],[3.01806,15.34571],[1.31275,15.27978],[.96711,14.98275],[.72632,14.95898],[.23859,15.00135],[.16936,14.51654],[.38051,14.05575],[.61924,13.68491],[.77377,13.6866],[.77637,13.64442],[.99514,13.5668],[1.02813,13.46635],[1.20088,13.38951],[1.24429,13.39373],[1.28509,13.35488],[1.24516,13.33968],[1.21217,13.37853],[1.18873,13.31771],[.99253,13.37515],[.99167,13.10727],[2.26349,12.41915],[2.05785,12.35539],[2.39723,11.89473],[2.45824,11.98672],[2.39657,12.10952],[2.37783,12.24804],[2.6593,12.30631],[2.83978,12.40585],[3.25352,12.01467],[3.31613,11.88495],[3.48187,11.86092],[3.59375,11.70269],[3.61075,11.69181],[3.67988,11.75429],[3.67122,11.80865],[3.63063,11.83042],[3.61955,11.91847],[3.67775,11.97599],[3.63136,12.11826],[3.66364,12.25884],[3.65111,12.52223],[3.94339,12.74979],[4.10006,12.98862],[4.14367,13.17189],[4.14186,13.47586],[4.23456,13.47725],[4.4668,13.68286],[4.87425,13.78],[4.9368,13.7345],[5.07396,13.75052],[5.21026,13.73627],[5.27797,13.75474],[5.35437,13.83567],[5.52957,13.8845],[6.15771,13.64564],[6.27411,13.67835],[6.43053,13.6006],[6.69617,13.34057],[6.94445,12.99825],[7.0521,13.00076],[7.12676,13.02445],[7.22399,13.1293],[7.39241,13.09717],[7.81085,13.34902],[8.07997,13.30847],[8.25185,13.20369],[8.41853,13.06166],[8.49493,13.07519],[8.60431,13.01768],[8.64251,12.93985],[8.97413,12.83661],[9.65995,12.80614],[10.00373,13.18171],[10.19993,13.27129],[10.46731,13.28819],[10.66004,13.36422],[11.4535,13.37773],[11.88236,13.2527],[12.04209,13.14452],[12.16189,13.10056],[12.19315,13.12423],[12.47095,13.06673],[12.58033,13.27805],[12.6793,13.29157],[12.87376,13.48919],[13.05085,13.53984],[13.19844,13.52802],[13.33213,13.71195],[13.6302,13.71094],[13.47559,14.40881],[13.48259,14.46704],[13.68573,14.55276],[13.67878,14.64013],[13.809,14.72915],[13.78991,14.87519],[13.86301,15.04043],[14.37425,15.72591],[15.50373,16.89649],[15.6032,18.77402],[15.75098,19.93002],[15.99632,20.35364],[15.6721,20.70069],[15.59841,20.74039],[15.56004,20.79488],[15.55382,20.86507],[15.57248,20.92138],[15.62515,20.95395],[15.28332,21.44557],[15.20213,21.49365],[15.19692,21.99339],[14.99751,23.00539],[14.22918,22.61719]]]]}},{type:"Feature",properties:{iso1A2:"NF",iso1A3:"NFK",iso1N3:"574",wikidata:"Q31057",nameEn:"Norfolk Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["672 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.82316,-28.16667],[166.29505,-28.29175],[167.94076,-30.60745],[169.82316,-28.16667]]]]}},{type:"Feature",properties:{iso1A2:"NG",iso1A3:"NGA",iso1N3:"566",wikidata:"Q1033",nameEn:"Nigeria",groups:["011","202","002","UN"],callingCodes:["234"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.15771,13.64564],[5.52957,13.8845],[5.35437,13.83567],[5.27797,13.75474],[5.21026,13.73627],[5.07396,13.75052],[4.9368,13.7345],[4.87425,13.78],[4.4668,13.68286],[4.23456,13.47725],[4.14186,13.47586],[4.14367,13.17189],[4.10006,12.98862],[3.94339,12.74979],[3.65111,12.52223],[3.66364,12.25884],[3.63136,12.11826],[3.67775,11.97599],[3.61955,11.91847],[3.63063,11.83042],[3.67122,11.80865],[3.67988,11.75429],[3.61075,11.69181],[3.59375,11.70269],[3.49175,11.29765],[3.71505,11.13015],[3.84243,10.59316],[3.78292,10.40538],[3.6844,10.46351],[3.57275,10.27185],[3.66908,10.18136],[3.54429,9.87739],[3.35383,9.83641],[3.32099,9.78032],[3.34726,9.70696],[3.25093,9.61632],[3.13928,9.47167],[3.14147,9.28375],[3.08017,9.10006],[2.77907,9.06924],[2.67523,7.87825],[2.73095,7.7755],[2.73405,7.5423],[2.78668,7.5116],[2.79442,7.43486],[2.74489,7.42565],[2.76965,7.13543],[2.71702,6.95722],[2.74024,6.92802],[2.73405,6.78508],[2.78823,6.76356],[2.78204,6.70514],[2.7325,6.64057],[2.74334,6.57291],[2.70464,6.50831],[2.70566,6.38038],[2.74181,6.13349],[5.87055,3.78489],[8.34397,4.30689],[8.60302,4.87353],[8.78027,5.1243],[8.92029,5.58403],[8.83687,5.68483],[8.88156,5.78857],[8.84209,5.82562],[9.51757,6.43874],[9.70674,6.51717],[9.77824,6.79088],[9.86314,6.77756],[10.15135,7.03781],[10.21466,6.88996],[10.53639,6.93432],[10.57214,7.16345],[10.59746,7.14719],[10.60789,7.06885],[10.83727,6.9358],[10.8179,6.83377],[10.94302,6.69325],[11.09644,6.68437],[11.09495,6.51717],[11.42041,6.53789],[11.42264,6.5882],[11.51499,6.60892],[11.57755,6.74059],[11.55818,6.86186],[11.63117,6.9905],[11.87396,7.09398],[11.84864,7.26098],[11.93205,7.47812],[12.01844,7.52981],[11.99908,7.67302],[12.20909,7.97553],[12.19271,8.10826],[12.24782,8.17904],[12.26123,8.43696],[12.4489,8.52536],[12.44146,8.6152],[12.68722,8.65938],[12.71701,8.7595],[12.79,8.75361],[12.81085,8.91992],[12.90022,9.11411],[12.91958,9.33905],[12.85628,9.36698],[13.02385,9.49334],[13.22642,9.57266],[13.25472,9.76795],[13.29941,9.8296],[13.25025,9.86042],[13.24132,9.91031],[13.27409,9.93232],[13.286,9.9822],[13.25323,10.00127],[13.25025,10.03647],[13.34111,10.12299],[13.43644,10.13326],[13.5705,10.53183],[13.54964,10.61236],[13.73434,10.9255],[13.70753,10.94451],[13.7403,11.00593],[13.78945,11.00154],[13.97489,11.30258],[14.17821,11.23831],[14.6124,11.51283],[14.64591,11.66166],[14.55207,11.72001],[14.61612,11.7798],[14.6474,12.17466],[14.4843,12.35223],[14.22215,12.36533],[14.17523,12.41916],[14.20204,12.53405],[14.08251,13.0797],[13.6302,13.71094],[13.33213,13.71195],[13.19844,13.52802],[13.05085,13.53984],[12.87376,13.48919],[12.6793,13.29157],[12.58033,13.27805],[12.47095,13.06673],[12.19315,13.12423],[12.16189,13.10056],[12.04209,13.14452],[11.88236,13.2527],[11.4535,13.37773],[10.66004,13.36422],[10.46731,13.28819],[10.19993,13.27129],[10.00373,13.18171],[9.65995,12.80614],[8.97413,12.83661],[8.64251,12.93985],[8.60431,13.01768],[8.49493,13.07519],[8.41853,13.06166],[8.25185,13.20369],[8.07997,13.30847],[7.81085,13.34902],[7.39241,13.09717],[7.22399,13.1293],[7.12676,13.02445],[7.0521,13.00076],[6.94445,12.99825],[6.69617,13.34057],[6.43053,13.6006],[6.27411,13.67835],[6.15771,13.64564]]]]}},{type:"Feature",properties:{iso1A2:"NI",iso1A3:"NIC",iso1N3:"558",wikidata:"Q811",nameEn:"Nicaragua",groups:["013","003","419","019","UN"],callingCodes:["505"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.13724,15.00002],[-83.49268,15.01158],[-83.62101,14.89448],[-83.89551,14.76697],[-84.10584,14.76353],[-84.48373,14.63249],[-84.70119,14.68078],[-84.82596,14.82212],[-84.90082,14.80489],[-85.1575,14.53934],[-85.18602,14.24929],[-85.32149,14.2562],[-85.45762,14.11304],[-85.73964,13.9698],[-85.75477,13.8499],[-86.03458,13.99181],[-86.00685,14.08474],[-86.14801,14.04317],[-86.35219,13.77157],[-86.76812,13.79605],[-86.71267,13.30348],[-86.87066,13.30641],[-86.93383,13.18677],[-86.93197,13.05313],[-87.03785,12.98682],[-87.06306,13.00892],[-87.37107,12.98646],[-87.55124,13.12523],[-87.7346,13.13228],[-88.11443,12.63306],[-86.14524,11.09059],[-85.71223,11.06868],[-85.60529,11.22607],[-84.92439,10.9497],[-84.68197,11.07568],[-83.90838,10.71161],[-83.66597,10.79916],[-83.68276,11.01562],[-82.56142,11.91792],[-82.06974,14.49418],[-83.04763,15.03256],[-83.13724,15.00002]]]]}},{type:"Feature",properties:{iso1A2:"NL",iso1A3:"NLD",iso1N3:"528",wikidata:"Q29999",nameEn:"Kingdom of the Netherlands"},geometry:null},{type:"Feature",properties:{iso1A2:"NO",iso1A3:"NOR",iso1N3:"578",wikidata:"Q20",nameEn:"Norway"},geometry:null},{type:"Feature",properties:{iso1A2:"NP",iso1A3:"NPL",iso1N3:"524",wikidata:"Q837",nameEn:"Nepal",groups:["034","142","UN"],driveSide:"left",callingCodes:["977"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.13378,27.88015],[87.82681,27.95248],[87.72718,27.80938],[87.56996,27.84517],[87.11696,27.84104],[87.03757,27.94835],[86.75582,28.04182],[86.74181,28.10638],[86.56265,28.09569],[86.51609,27.96623],[86.42736,27.91122],[86.22966,27.9786],[86.18607,28.17364],[86.088,28.09264],[86.08333,28.02121],[86.12069,27.93047],[86.06309,27.90021],[85.94946,27.9401],[85.97813,27.99023],[85.90743,28.05144],[85.84672,28.18187],[85.74864,28.23126],[85.71907,28.38064],[85.69105,28.38475],[85.60854,28.25045],[85.59765,28.30529],[85.4233,28.32996],[85.38127,28.28336],[85.10729,28.34092],[85.18668,28.54076],[85.19135,28.62825],[85.06059,28.68562],[84.85511,28.58041],[84.62317,28.73887],[84.47528,28.74023],[84.2231,28.89571],[84.24801,29.02783],[84.18107,29.23451],[83.97559,29.33091],[83.82303,29.30513],[83.63156,29.16249],[83.44787,29.30513],[83.28131,29.56813],[83.07116,29.61957],[82.73024,29.81695],[82.5341,29.9735],[82.38622,30.02608],[82.16984,30.0692],[82.19475,30.16884],[82.10757,30.23745],[82.10135,30.35439],[81.99082,30.33423],[81.62033,30.44703],[81.5459,30.37688],[81.41018,30.42153],[81.39928,30.21862],[81.33355,30.15303],[81.2623,30.14596],[81.29032,30.08806],[81.24362,30.0126],[81.12842,30.01395],[81.03953,30.20059],[80.92547,30.17193],[80.91143,30.22173],[80.86673,30.17321],[80.8778,30.13384],[80.67076,29.95732],[80.60226,29.95732],[80.57179,29.91422],[80.56247,29.86661],[80.48997,29.79566],[80.43458,29.80466],[80.41554,29.79451],[80.36803,29.73865],[80.38428,29.68513],[80.41858,29.63581],[80.37939,29.57098],[80.24322,29.44299],[80.31428,29.30784],[80.28626,29.20327],[80.24112,29.21414],[80.26602,29.13938],[80.23178,29.11626],[80.18085,29.13649],[80.05743,28.91479],[80.06957,28.82763],[80.12125,28.82346],[80.37188,28.63371],[80.44504,28.63098],[80.52443,28.54897],[80.50575,28.6706],[80.55142,28.69182],[81.03471,28.40054],[81.19847,28.36284],[81.32923,28.13521],[81.38683,28.17638],[81.48179,28.12148],[81.47867,28.08303],[81.91223,27.84995],[81.97214,27.93322],[82.06554,27.92222],[82.46405,27.6716],[82.70378,27.72122],[82.74119,27.49838],[82.93261,27.50328],[82.94938,27.46036],[83.19413,27.45632],[83.27197,27.38309],[83.2673,27.36235],[83.29999,27.32778],[83.35136,27.33885],[83.38872,27.39276],[83.39495,27.4798],[83.61288,27.47013],[83.85595,27.35797],[83.86182,27.4241],[83.93306,27.44939],[84.02229,27.43836],[84.10791,27.52399],[84.21376,27.45218],[84.25735,27.44941],[84.29315,27.39],[84.62161,27.33885],[84.69166,27.21294],[84.64496,27.04669],[84.793,26.9968],[84.82913,27.01989],[84.85754,26.98984],[84.96687,26.95599],[84.97186,26.9149],[85.00536,26.89523],[85.05592,26.88991],[85.02635,26.85381],[85.15883,26.86966],[85.19291,26.86909],[85.18046,26.80519],[85.21159,26.75933],[85.34302,26.74954],[85.47752,26.79292],[85.56471,26.84133],[85.5757,26.85955],[85.59461,26.85161],[85.61621,26.86721],[85.66239,26.84822],[85.73483,26.79613],[85.72315,26.67471],[85.76907,26.63076],[85.83126,26.61134],[85.85126,26.60866],[85.8492,26.56667],[86.02729,26.66756],[86.13596,26.60651],[86.22513,26.58863],[86.26235,26.61886],[86.31564,26.61925],[86.49726,26.54218],[86.54258,26.53819],[86.57073,26.49825],[86.61313,26.48658],[86.62686,26.46891],[86.69124,26.45169],[86.74025,26.42386],[86.76797,26.45892],[86.82898,26.43919],[86.94543,26.52076],[86.95912,26.52076],[87.01559,26.53228],[87.04691,26.58685],[87.0707,26.58571],[87.09147,26.45039],[87.14751,26.40542],[87.18863,26.40558],[87.24682,26.4143],[87.26587,26.40592],[87.26568,26.37294],[87.34568,26.34787],[87.37314,26.40815],[87.46566,26.44058],[87.51571,26.43106],[87.55274,26.40596],[87.59175,26.38342],[87.66803,26.40294],[87.67893,26.43501],[87.76004,26.40711],[87.7918,26.46737],[87.84193,26.43663],[87.89085,26.48565],[87.90115,26.44923],[88.00895,26.36029],[88.09414,26.43732],[88.09963,26.54195],[88.16452,26.64111],[88.1659,26.68177],[88.19107,26.75516],[88.12302,26.95324],[88.13422,26.98705],[88.11719,26.98758],[87.9887,27.11045],[88.01587,27.21388],[88.01646,27.21612],[88.07277,27.43007],[88.04008,27.49223],[88.19107,27.79285],[88.1973,27.85067],[88.13378,27.88015]]]]}},{type:"Feature",properties:{iso1A2:"NR",iso1A3:"NRU",iso1N3:"520",wikidata:"Q697",nameEn:"Nauru",groups:["057","009","UN"],driveSide:"left",callingCodes:["674"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.95155,.14829],[166.21778,-.7977],[167.60042,-.88259],[166.95155,.14829]]]]}},{type:"Feature",properties:{iso1A2:"NU",iso1A3:"NIU",iso1N3:"570",wikidata:"Q34020",nameEn:"Niue",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["683"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.83899,-18.53439],[-170.82274,-20.44429],[-168.63096,-18.60489],[-170.83899,-18.53439]]]]}},{type:"Feature",properties:{iso1A2:"NZ",iso1A3:"NZL",iso1N3:"554",wikidata:"Q664",nameEn:"New Zealand"},geometry:null},{type:"Feature",properties:{iso1A2:"OM",iso1A3:"OMN",iso1N3:"512",wikidata:"Q842",nameEn:"Oman",groups:["145","142","UN"],callingCodes:["968"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.82555,25.7713],[56.79239,26.41236],[56.68954,26.76645],[56.2644,26.58649],[55.81777,26.18798],[56.08666,26.05038],[56.15498,26.06828],[56.19334,25.9795],[56.13963,25.82765],[56.17416,25.77239],[56.13579,25.73524],[56.14826,25.66351],[56.18363,25.65508],[56.20473,25.61119],[56.25365,25.60211],[56.26636,25.60643],[56.25341,25.61443],[56.26534,25.62825],[56.82555,25.7713]]],[[[56.26062,25.33108],[56.23362,25.31253],[56.25008,25.28843],[56.24465,25.27505],[56.20838,25.25668],[56.20872,25.24104],[56.24341,25.22867],[56.27628,25.23404],[56.34438,25.26653],[56.35172,25.30681],[56.3111,25.30107],[56.3005,25.31815],[56.26062,25.33108]],[[56.28423,25.26344],[56.27086,25.26128],[56.2716,25.27916],[56.28102,25.28486],[56.29379,25.2754],[56.28423,25.26344]]],[[[61.45114,22.55394],[56.86325,25.03856],[56.3227,24.97284],[56.34873,24.93205],[56.30269,24.88334],[56.20568,24.85063],[56.20062,24.78565],[56.13684,24.73699],[56.06128,24.74457],[56.03535,24.81161],[55.97836,24.87673],[55.97467,24.89639],[56.05106,24.87461],[56.05715,24.95727],[55.96316,25.00857],[55.90849,24.96771],[55.85094,24.96858],[55.81116,24.9116],[55.81348,24.80102],[55.83408,24.77858],[55.83271,24.68567],[55.76461,24.5287],[55.83271,24.41521],[55.83395,24.32776],[55.80747,24.31069],[55.79145,24.27914],[55.76781,24.26209],[55.75939,24.26114],[55.75382,24.2466],[55.75257,24.23466],[55.76558,24.23227],[55.77658,24.23476],[55.83367,24.20193],[55.95472,24.2172],[56.01799,24.07426],[55.8308,24.01633],[55.73301,24.05994],[55.48677,23.94946],[55.57358,23.669],[55.22634,23.10378],[55.2137,22.71065],[55.66469,21.99658],[54.99756,20.00083],[52.00311,19.00083],[52.78009,17.35124],[52.74267,17.29519],[52.81185,17.28568],[57.49095,8.14549],[61.45114,22.55394]]]]}},{type:"Feature",properties:{iso1A2:"PA",iso1A3:"PAN",iso1N3:"591",wikidata:"Q804",nameEn:"Panama",groups:["013","003","419","019","UN"],callingCodes:["507"]},geometry:{type:"MultiPolygon",coordinates:[[[[-77.32389,8.81247],[-77.58292,9.22278],[-78.79327,9.93766],[-82.51044,9.65379],[-82.56507,9.57279],[-82.61345,9.49881],[-82.66667,9.49746],[-82.77206,9.59573],[-82.87919,9.62645],[-82.84871,9.4973],[-82.93516,9.46741],[-82.93516,9.07687],[-82.72126,8.97125],[-82.88253,8.83331],[-82.91377,8.774],[-82.92068,8.74832],[-82.8794,8.6981],[-82.82739,8.60153],[-82.83975,8.54755],[-82.83322,8.52464],[-82.8382,8.48117],[-82.8679,8.44042],[-82.93056,8.43465],[-83.05209,8.33394],[-82.9388,8.26634],[-82.88641,8.10219],[-82.89137,8.05755],[-82.89978,8.04083],[-82.94503,7.93865],[-82.13751,6.97312],[-78.06168,7.07793],[-77.89178,7.22681],[-77.81426,7.48319],[-77.72157,7.47612],[-77.72514,7.72348],[-77.57185,7.51147],[-77.17257,7.97422],[-77.45064,8.49991],[-77.32389,8.81247]]]]}},{type:"Feature",properties:{iso1A2:"PE",iso1A3:"PER",iso1N3:"604",wikidata:"Q419",nameEn:"Peru",groups:["005","419","019","UN"],callingCodes:["51"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.26675,-.97229],[-74.42701,-.50218],[-75.18513,-.0308],[-75.25764,-.11943],[-75.40192,-.17196],[-75.61997,-.10012],[-75.60169,-.18708],[-75.53615,-.19213],[-75.22862,-.60048],[-75.22862,-.95588],[-75.3872,-.9374],[-75.57429,-1.55961],[-76.05203,-2.12179],[-76.6324,-2.58397],[-77.94147,-3.05454],[-78.19369,-3.36431],[-78.14324,-3.47653],[-78.22642,-3.51113],[-78.24589,-3.39907],[-78.34362,-3.38633],[-78.68394,-4.60754],[-78.85149,-4.66795],[-79.01659,-5.01481],[-79.1162,-4.97774],[-79.26248,-4.95167],[-79.59402,-4.46848],[-79.79722,-4.47558],[-80.13945,-4.29786],[-80.39256,-4.48269],[-80.46386,-4.41516],[-80.32114,-4.21323],[-80.45023,-4.20938],[-80.4822,-4.05477],[-80.46386,-4.01342],[-80.13232,-3.90317],[-80.19926,-3.68894],[-80.18741,-3.63994],[-80.19848,-3.59249],[-80.21642,-3.5888],[-80.20535,-3.51667],[-80.22629,-3.501],[-80.23651,-3.48652],[-80.24586,-3.48677],[-80.24123,-3.46124],[-80.20647,-3.431],[-80.30602,-3.39149],[-84.52388,-3.36941],[-85.71054,-21.15413],[-70.59118,-18.35072],[-70.378,-18.3495],[-70.31267,-18.31258],[-70.16394,-18.31737],[-69.96732,-18.25992],[-69.81607,-18.12582],[-69.75305,-17.94605],[-69.82868,-17.72048],[-69.79087,-17.65563],[-69.66483,-17.65083],[-69.46897,-17.4988],[-69.46863,-17.37466],[-69.62883,-17.28142],[-69.16896,-16.72233],[-69.00853,-16.66769],[-69.04027,-16.57214],[-68.98358,-16.42165],[-68.79464,-16.33272],[-68.96238,-16.194],[-69.09986,-16.22693],[-69.20291,-16.16668],[-69.40336,-15.61358],[-69.14856,-15.23478],[-69.36254,-14.94634],[-68.88135,-14.18639],[-69.05265,-13.68546],[-68.8864,-13.40792],[-68.85615,-12.87769],[-68.65044,-12.50689],[-68.98115,-11.8979],[-69.57156,-10.94555],[-69.57835,-10.94051],[-69.90896,-10.92744],[-70.38791,-11.07096],[-70.51395,-10.92249],[-70.64134,-11.0108],[-70.62487,-9.80666],[-70.55429,-9.76692],[-70.59272,-9.62142],[-70.49706,-9.425],[-71.23394,-9.9668],[-72.14742,-9.98049],[-72.31883,-9.5184],[-72.72216,-9.41397],[-73.21498,-9.40904],[-72.92886,-9.04074],[-73.76576,-7.89884],[-73.65485,-7.77897],[-73.96938,-7.58465],[-73.77011,-7.28944],[-73.73986,-6.87919],[-73.12983,-6.43852],[-73.24116,-6.07187],[-72.87086,-5.26346],[-72.83973,-5.14765],[-72.64391,-5.0391],[-71.87003,-4.51661],[-70.96814,-4.36915],[-70.78125,-4.16295],[-70.74728,-4.16112],[-70.73715,-4.17416],[-70.33236,-4.15214],[-70.27991,-4.23226],[-70.30567,-4.24361],[-70.19582,-4.3607],[-70.14422,-4.2714],[-70.0533,-4.2907],[-70.04593,-4.37554],[-70.02689,-4.37095],[-70.03272,-4.35441],[-69.99218,-4.32041],[-69.95836,-4.32881],[-69.94924,-4.23116],[-69.96843,-4.19678],[-70.28573,-3.82549],[-70.3374,-3.79505],[-70.52393,-3.87553],[-70.71396,-3.7921],[-70.04609,-2.73906],[-70.94377,-2.23142],[-71.75223,-2.15058],[-72.92587,-2.44514],[-73.65312,-1.26222],[-74.26675,-.97229]]]]}},{type:"Feature",properties:{iso1A2:"PF",iso1A3:"PYF",iso1N3:"258",wikidata:"Q30971",nameEn:"French Polynesia",country:"FR",groups:["EU","Q1451600","061","009","UN"],callingCodes:["689"]},geometry:{type:"MultiPolygon",coordinates:[[[[-135.59706,-4.70473],[-156.48634,-15.52824],[-156.45576,-31.75456],[-133.59543,-28.4709],[-135.59706,-4.70473]]]]}},{type:"Feature",properties:{iso1A2:"PG",iso1A3:"PNG",iso1N3:"598",wikidata:"Q691",nameEn:"Papua New Guinea",groups:["054","009","UN"],driveSide:"left",callingCodes:["675"]},geometry:{type:"MultiPolygon",coordinates:[[[[141.03157,2.12829],[140.99813,-6.3233],[140.85295,-6.72996],[140.90448,-6.85033],[141.01763,-6.90181],[141.01842,-9.35091],[141.88934,-9.36111],[142.19246,-9.15378],[142.48658,-9.36754],[143.29772,-9.33993],[143.87386,-9.02382],[145.2855,-9.62524],[156.73836,-14.50464],[154.74815,-7.33315],[155.60735,-6.92266],[155.69784,-6.92661],[155.92557,-6.84664],[156.03993,-6.65703],[156.03296,-6.55528],[160.43769,-4.17974],[141.03157,2.12829]]]]}},{type:"Feature",properties:{iso1A2:"PH",iso1A3:"PHL",iso1N3:"608",wikidata:"Q928",nameEn:"Philippines",aliases:["PI","RP"],groups:["035","142","UN"],callingCodes:["63"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.19694,7.84182],[121.8109,21.77688],[120.69238,21.52331],[118.82252,14.67191],[115.39742,10.92666],[116.79524,7.43869],[117.17735,7.52841],[117.93857,6.89845],[117.96674,6.28383],[118.33378,5.99991],[119.52945,5.35672],[118.99941,4.76678],[118.93936,4.09009],[118.06469,4.16638],[121.14448,2.12444],[129.19694,7.84182]]]]}},{type:"Feature",properties:{iso1A2:"PK",iso1A3:"PAK",iso1N3:"586",wikidata:"Q843",nameEn:"Pakistan",groups:["034","142","UN"],driveSide:"left",callingCodes:["92"]},geometry:{type:"MultiPolygon",coordinates:[[[[75.72737,36.7529],[75.45562,36.71971],[75.40481,36.95382],[75.13839,37.02622],[74.56453,37.03023],[74.53739,36.96224],[74.43389,37.00977],[74.04856,36.82648],[73.82685,36.91421],[72.6323,36.84601],[72.18135,36.71838],[71.80267,36.49924],[71.60491,36.39429],[71.19505,36.04134],[71.37969,35.95865],[71.55273,35.71483],[71.49917,35.6267],[71.65435,35.4479],[71.54294,35.31037],[71.5541,35.28776],[71.67495,35.21262],[71.52938,35.09023],[71.55273,35.02615],[71.49917,35.00478],[71.50329,34.97328],[71.29472,34.87728],[71.28356,34.80882],[71.08718,34.69034],[71.11602,34.63047],[71.0089,34.54568],[71.02401,34.44835],[71.17662,34.36769],[71.12815,34.26619],[71.13078,34.16503],[71.09453,34.13524],[71.09307,34.11961],[71.06933,34.10564],[71.07345,34.06242],[70.88119,33.97933],[70.54336,33.9463],[69.90203,34.04194],[69.87307,33.9689],[69.85671,33.93719],[70.00503,33.73528],[70.14236,33.71701],[70.14785,33.6553],[70.20141,33.64387],[70.17062,33.53535],[70.32775,33.34496],[70.13686,33.21064],[70.07369,33.22557],[70.02563,33.14282],[69.85259,33.09451],[69.79766,33.13247],[69.71526,33.09911],[69.57656,33.09911],[69.49004,33.01509],[69.49854,32.88843],[69.5436,32.8768],[69.47082,32.85834],[69.38018,32.76601],[69.43649,32.7302],[69.44747,32.6678],[69.38155,32.56601],[69.2868,32.53938],[69.23599,32.45946],[69.27932,32.29119],[69.27032,32.14141],[69.3225,31.93186],[69.20577,31.85957],[69.11514,31.70782],[69.00939,31.62249],[68.95995,31.64822],[68.91078,31.59687],[68.79997,31.61665],[68.6956,31.75687],[68.57475,31.83158],[68.44222,31.76446],[68.27605,31.75863],[68.25614,31.80357],[68.1655,31.82691],[68.00071,31.6564],[67.86887,31.63536],[67.72056,31.52304],[67.58323,31.52772],[67.62374,31.40473],[67.7748,31.4188],[67.78854,31.33203],[67.29964,31.19586],[67.03323,31.24519],[67.04147,31.31561],[66.83273,31.26867],[66.72561,31.20526],[66.68166,31.07597],[66.58175,30.97532],[66.42645,30.95309],[66.39194,30.9408],[66.28413,30.57001],[66.34869,30.404],[66.23609,30.06321],[66.36042,29.9583],[66.24175,29.85181],[65.04005,29.53957],[64.62116,29.58903],[64.19796,29.50407],[64.12966,29.39157],[63.5876,29.50456],[62.47751,29.40782],[60.87231,29.86514],[61.31508,29.38903],[61.53765,29.00507],[61.65978,28.77937],[61.93581,28.55284],[62.40259,28.42703],[62.59499,28.24842],[62.79412,28.28108],[62.7638,28.02992],[62.84905,27.47627],[62.79684,27.34381],[62.80604,27.22412],[63.19649,27.25674],[63.32283,27.14437],[63.25005,27.08692],[63.25005,26.84212],[63.18688,26.83844],[63.1889,26.65072],[62.77352,26.64099],[62.31484,26.528],[62.21304,26.26601],[62.05117,26.31647],[61.89391,26.26251],[61.83831,26.07249],[61.83968,25.7538],[61.683,25.66638],[61.6433,25.27541],[61.46682,24.57869],[68.11329,23.53945],[68.20763,23.85849],[68.39339,23.96838],[68.74643,23.97027],[68.7416,24.31904],[68.90914,24.33156],[68.97781,24.26021],[69.07806,24.29777],[69.19341,24.25646],[69.29778,24.28712],[69.59579,24.29777],[69.73335,24.17007],[70.03428,24.172],[70.11712,24.30915],[70.5667,24.43787],[70.57906,24.27774],[70.71502,24.23517],[70.88393,24.27398],[70.85784,24.30903],[70.94985,24.3791],[71.04461,24.34657],[71.12838,24.42662],[71.00341,24.46038],[70.97594,24.60904],[71.09405,24.69017],[70.94002,24.92843],[70.89148,25.15064],[70.66695,25.39314],[70.67382,25.68186],[70.60378,25.71898],[70.53649,25.68928],[70.37444,25.67443],[70.2687,25.71156],[70.0985,25.93238],[70.08193,26.08094],[70.17532,26.24118],[70.17532,26.55362],[70.05584,26.60398],[69.88555,26.56836],[69.50904,26.74892],[69.58519,27.18109],[70.03136,27.56627],[70.12502,27.8057],[70.37307,28.01208],[70.60927,28.02178],[70.79054,27.68423],[71.89921,27.96035],[71.9244,28.11555],[72.20329,28.3869],[72.29495,28.66367],[72.40402,28.78283],[72.94272,29.02487],[73.01337,29.16422],[73.05886,29.1878],[73.28094,29.56646],[73.3962,29.94707],[73.58665,30.01848],[73.80299,30.06969],[73.97225,30.19829],[73.95736,30.28466],[73.88993,30.36305],[74.5616,31.04153],[74.67971,31.05479],[74.6852,31.12771],[74.60006,31.13711],[74.60281,31.10419],[74.56023,31.08303],[74.51629,31.13829],[74.53223,31.30321],[74.59773,31.4136],[74.64713,31.45605],[74.59319,31.50197],[74.61517,31.55698],[74.57498,31.60382],[74.47771,31.72227],[74.58907,31.87824],[74.79919,31.95983],[74.86236,32.04485],[74.9269,32.0658],[75.00793,32.03786],[75.25649,32.10187],[75.38046,32.26836],[75.28259,32.36556],[75.03265,32.49538],[74.97634,32.45367],[74.84725,32.49075],[74.68362,32.49298],[74.67431,32.56676],[74.65251,32.56416],[74.64424,32.60985],[74.69542,32.66792],[74.65345,32.71225],[74.7113,32.84219],[74.64675,32.82604],[74.6289,32.75561],[74.45312,32.77755],[74.41467,32.90563],[74.31227,32.92795],[74.34875,32.97823],[74.31854,33.02891],[74.17571,33.07495],[74.15374,33.13477],[74.02144,33.18908],[74.01366,33.25199],[74.08782,33.26232],[74.17983,33.3679],[74.18121,33.4745],[74.10115,33.56392],[74.03576,33.56718],[73.97367,33.64061],[73.98968,33.66155],[73.96423,33.73071],[74.00891,33.75437],[74.05898,33.82089],[74.14001,33.83002],[74.26086,33.92237],[74.25262,34.01577],[74.21554,34.03853],[73.91341,34.01235],[73.88732,34.05105],[73.90677,34.10504],[73.98208,34.2522],[73.90517,34.35317],[73.8475,34.32935],[73.74862,34.34183],[73.74999,34.3781],[73.88732,34.48911],[73.89419,34.54568],[73.93951,34.57169],[73.93401,34.63386],[73.96423,34.68244],[74.12897,34.70073],[74.31239,34.79626],[74.58083,34.77386],[74.6663,34.703],[75.01479,34.64629],[75.38009,34.55021],[75.75438,34.51827],[76.04614,34.67566],[76.15463,34.6429],[76.47186,34.78965],[76.67648,34.76371],[76.74377,34.84039],[76.74514,34.92488],[76.87193,34.96906],[76.99251,34.93349],[77.11796,35.05419],[76.93465,35.39866],[76.85088,35.39754],[76.75475,35.52617],[76.77323,35.66062],[76.50961,35.8908],[76.33453,35.84296],[76.14913,35.82848],[76.15325,35.9264],[75.93028,36.13136],[76.00906,36.17511],[76.0324,36.41198],[75.92391,36.56986],[75.72737,36.7529]]]]}},{type:"Feature",properties:{iso1A2:"PL",iso1A3:"POL",iso1N3:"616",wikidata:"Q36",nameEn:"Poland",groups:["EU","151","150","UN"],callingCodes:["48"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[14.20811,54.12784],[14.22634,53.9291],[14.20647,53.91671],[14.18544,53.91258],[14.20823,53.90776],[14.21323,53.8664],[14.27249,53.74464],[14.26782,53.69866],[14.2836,53.67721],[14.27133,53.66613],[14.28477,53.65955],[14.2853,53.63392],[14.31904,53.61581],[14.30416,53.55499],[14.3273,53.50587],[14.35209,53.49506],[14.4215,53.27724],[14.44133,53.27427],[14.45125,53.26241],[14.40662,53.21098],[14.37853,53.20405],[14.36696,53.16444],[14.38679,53.13669],[14.35044,53.05829],[14.25954,53.00264],[14.14056,52.95786],[14.15873,52.87715],[14.12256,52.84311],[14.13806,52.82392],[14.22071,52.81175],[14.61073,52.59847],[14.6289,52.57136],[14.60081,52.53116],[14.63056,52.48993],[14.54423,52.42568],[14.55228,52.35264],[14.56378,52.33838],[14.58149,52.28007],[14.70139,52.25038],[14.71319,52.22144],[14.68344,52.19612],[14.70616,52.16927],[14.67683,52.13936],[14.6917,52.10283],[14.72971,52.09167],[14.76026,52.06624],[14.71339,52.00337],[14.70488,51.97679],[14.7139,51.95643],[14.71836,51.95606],[14.72163,51.95188],[14.7177,51.94048],[14.70601,51.92944],[14.6933,51.9044],[14.6588,51.88359],[14.59089,51.83302],[14.60493,51.80473],[14.64625,51.79472],[14.66386,51.73282],[14.69065,51.70842],[14.75392,51.67445],[14.75759,51.62318],[14.7727,51.61263],[14.71125,51.56209],[14.73047,51.54606],[14.72652,51.53902],[14.73219,51.52922],[14.94749,51.47155],[14.9652,51.44793],[14.96899,51.38367],[14.98008,51.33449],[15.04288,51.28387],[15.01242,51.21285],[15.0047,51.16874],[14.99311,51.16249],[14.99414,51.15813],[15.00083,51.14974],[14.99646,51.14365],[14.99079,51.14284],[14.99689,51.12205],[14.98229,51.11354],[14.97938,51.07742],[14.95529,51.04552],[14.92942,50.99744],[14.89252,50.94999],[14.89681,50.9422],[14.81664,50.88148],[14.82803,50.86966],[14.99852,50.86817],[15.01088,50.97984],[14.96419,50.99108],[15.02433,51.0242],[15.03895,51.0123],[15.06218,51.02269],[15.10152,51.01095],[15.11937,50.99021],[15.16744,51.01959],[15.1743,50.9833],[15.2361,50.99886],[15.27043,50.97724],[15.2773,50.8907],[15.36656,50.83956],[15.3803,50.77187],[15.43798,50.80833],[15.73186,50.73885],[15.81683,50.75666],[15.87331,50.67188],[15.97219,50.69799],[16.0175,50.63009],[15.98317,50.61528],[16.02437,50.60046],[16.10265,50.66405],[16.20839,50.63096],[16.23174,50.67101],[16.33611,50.66579],[16.44597,50.58041],[16.34572,50.49575],[16.31413,50.50274],[16.19526,50.43291],[16.21585,50.40627],[16.22821,50.41054],[16.28118,50.36891],[16.30289,50.38292],[16.36495,50.37679],[16.3622,50.34875],[16.39379,50.3207],[16.42674,50.32509],[16.56407,50.21009],[16.55446,50.16613],[16.63137,50.1142],[16.7014,50.09659],[16.8456,50.20834],[16.98018,50.24172],[17.00353,50.21449],[17.02825,50.23118],[16.99803,50.25753],[17.02138,50.27772],[16.99803,50.30316],[16.94448,50.31281],[16.90877,50.38642],[16.85933,50.41093],[16.89229,50.45117],[17.1224,50.39494],[17.14498,50.38117],[17.19579,50.38817],[17.19991,50.3654],[17.27681,50.32246],[17.34273,50.32947],[17.34548,50.2628],[17.3702,50.28123],[17.58889,50.27837],[17.67764,50.28977],[17.69292,50.32859],[17.74648,50.29966],[17.72176,50.25665],[17.76296,50.23382],[17.70528,50.18812],[17.59404,50.16437],[17.66683,50.10275],[17.6888,50.12037],[17.7506,50.07896],[17.77669,50.02253],[17.86886,49.97452],[18.00191,50.01723],[18.04585,50.01194],[18.04585,50.03311],[18.00396,50.04954],[18.03212,50.06574],[18.07898,50.04535],[18.10628,50.00223],[18.20241,49.99958],[18.21752,49.97309],[18.27107,49.96779],[18.27794,49.93863],[18.31914,49.91565],[18.33278,49.92415],[18.33562,49.94747],[18.41604,49.93498],[18.53423,49.89906],[18.54495,49.9079],[18.54299,49.92537],[18.57697,49.91565],[18.57045,49.87849],[18.60341,49.86256],[18.57183,49.83334],[18.61278,49.7618],[18.61368,49.75426],[18.62645,49.75002],[18.62943,49.74603],[18.62676,49.71983],[18.69817,49.70473],[18.72838,49.68163],[18.80479,49.6815],[18.84786,49.5446],[18.84521,49.51672],[18.94536,49.52143],[18.97283,49.49914],[18.9742,49.39557],[19.18019,49.41165],[19.25435,49.53391],[19.36009,49.53747],[19.37795,49.574],[19.45348,49.61583],[19.52626,49.57311],[19.53313,49.52856],[19.57845,49.46077],[19.64162,49.45184],[19.6375,49.40897],[19.72127,49.39288],[19.78581,49.41701],[19.82237,49.27806],[19.75286,49.20751],[19.86409,49.19316],[19.90529,49.23532],[19.98494,49.22904],[20.08238,49.1813],[20.13738,49.31685],[20.21977,49.35265],[20.31453,49.34817],[20.31728,49.39914],[20.39939,49.3896],[20.46422,49.41612],[20.5631,49.375],[20.61666,49.41791],[20.72274,49.41813],[20.77971,49.35383],[20.9229,49.29626],[20.98733,49.30774],[21.09799,49.37176],[21.041,49.41791],[21.12477,49.43666],[21.19756,49.4054],[21.27858,49.45988],[21.43376,49.41433],[21.62328,49.4447],[21.77983,49.35443],[21.82927,49.39467],[21.96385,49.3437],[22.04427,49.22136],[22.56155,49.08865],[22.89122,49.00725],[22.86336,49.10513],[22.72009,49.20288],[22.748,49.32759],[22.69444,49.49378],[22.64534,49.53094],[22.78304,49.65543],[22.80261,49.69098],[22.83179,49.69875],[22.99329,49.84249],[23.28221,50.0957],[23.67635,50.33385],[23.71382,50.38248],[23.79445,50.40481],[23.99563,50.41289],[24.03668,50.44507],[24.07048,50.5071],[24.0996,50.60752],[24.0595,50.71625],[23.95925,50.79271],[23.99254,50.83847],[24.0952,50.83262],[24.14524,50.86128],[24.04576,50.90196],[23.92217,51.00836],[23.90376,51.07697],[23.80678,51.18405],[23.63858,51.32182],[23.69905,51.40871],[23.62751,51.50512],[23.56236,51.53673],[23.57053,51.55938],[23.53198,51.74298],[23.62691,51.78208],[23.61523,51.92066],[23.68733,51.9906],[23.64066,52.07626],[23.61,52.11264],[23.54314,52.12148],[23.47859,52.18215],[23.20071,52.22848],[23.18196,52.28812],[23.34141,52.44845],[23.45112,52.53774],[23.58296,52.59868],[23.73615,52.6149],[23.93763,52.71332],[23.91805,52.94016],[23.94689,52.95919],[23.92184,53.02079],[23.87548,53.0831],[23.91393,53.16469],[23.85657,53.22923],[23.81995,53.24131],[23.62004,53.60942],[23.51284,53.95052],[23.48261,53.98855],[23.52702,54.04622],[23.49196,54.14764],[23.45223,54.17775],[23.42418,54.17911],[23.39525,54.21672],[23.3494,54.25155],[23.24656,54.25701],[23.15938,54.29894],[23.15526,54.31076],[23.13905,54.31567],[23.104,54.29794],[23.04323,54.31567],[23.05726,54.34565],[22.99649,54.35927],[23.00584,54.38514],[22.83756,54.40827],[22.79705,54.36264],[21.41123,54.32395],[20.63871,54.3706],[19.8038,54.44203],[19.64312,54.45423],[18.57853,55.25302]]]]}},{type:"Feature",properties:{iso1A2:"PM",iso1A3:"SPM",iso1N3:"666",wikidata:"Q34617",nameEn:"Saint Pierre and Miquelon",country:"FR",groups:["EU","Q1451600","021","003","019","UN"],callingCodes:["508"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.72993,46.65575],[-55.90758,46.6223],[-56.27503,47.39728],[-56.72993,46.65575]]]]}},{type:"Feature",properties:{iso1A2:"PN",iso1A3:"PCN",iso1N3:"612",wikidata:"Q35672",nameEn:"Pitcairn Islands",country:"GB",groups:["BOTS","061","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-133.59543,-28.4709],[-122.0366,-24.55017],[-133.61511,-21.93325],[-133.59543,-28.4709]]]]}},{type:"Feature",properties:{iso1A2:"PR",iso1A3:"PRI",iso1N3:"630",wikidata:"Q1183",nameEn:"Puerto Rico",aliases:["US-PR"],country:"US",groups:["Q1352230","029","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["1 787","1 939"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.27974,17.56928],[-65.02435,18.73231],[-67.99519,18.97186],[-68.23894,17.84663],[-65.27974,17.56928]]]]}},{type:"Feature",properties:{iso1A2:"PS",iso1A3:"PSE",iso1N3:"275",wikidata:"Q219060",nameEn:"Palestine"},geometry:null},{type:"Feature",properties:{iso1A2:"PT",iso1A3:"PRT",iso1N3:"620",wikidata:"Q45",nameEn:"Portugal"},geometry:null},{type:"Feature",properties:{iso1A2:"PW",iso1A3:"PLW",iso1N3:"585",wikidata:"Q695",nameEn:"Palau",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["680"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.97621,3.08804],[136.39296,1.54187],[136.04605,12.45908],[128.97621,3.08804]]]]}},{type:"Feature",properties:{iso1A2:"PY",iso1A3:"PRY",iso1N3:"600",wikidata:"Q733",nameEn:"Paraguay",groups:["005","419","019","UN"],callingCodes:["595"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.16225,-20.16193],[-58.23216,-19.80058],[-59.06965,-19.29148],[-60.00638,-19.2981],[-61.73723,-19.63958],[-61.93912,-20.10053],[-62.26883,-20.55311],[-62.2757,-21.06657],[-62.64455,-22.25091],[-62.51761,-22.37684],[-62.22768,-22.55807],[-61.9756,-23.0507],[-61.0782,-23.62932],[-60.99754,-23.80934],[-60.28163,-24.04436],[-60.03367,-24.00701],[-59.45482,-24.34787],[-59.33886,-24.49935],[-58.33055,-24.97099],[-58.25492,-24.92528],[-57.80821,-25.13863],[-57.57431,-25.47269],[-57.87176,-25.93604],[-58.1188,-26.16704],[-58.3198,-26.83443],[-58.65321,-27.14028],[-58.59549,-27.29973],[-58.04205,-27.2387],[-56.85337,-27.5165],[-56.18313,-27.29851],[-55.89195,-27.3467],[-55.74475,-27.44485],[-55.59094,-27.32444],[-55.62322,-27.1941],[-55.39611,-26.97679],[-55.25243,-26.93808],[-55.16948,-26.96068],[-55.06351,-26.80195],[-55.00584,-26.78754],[-54.80868,-26.55669],[-54.70732,-26.45099],[-54.69333,-26.37705],[-54.67359,-25.98607],[-54.60664,-25.9691],[-54.62063,-25.91213],[-54.59398,-25.59224],[-54.59509,-25.53696],[-54.60196,-25.48397],[-54.62033,-25.46026],[-54.4423,-25.13381],[-54.31115,-24.26625],[-54.34579,-24.13058],[-54.28207,-24.07305],[-54.32807,-24.01865],[-54.6238,-23.83078],[-55.02691,-23.97317],[-55.0518,-23.98666],[-55.12292,-23.99669],[-55.41784,-23.9657],[-55.44117,-23.9185],[-55.43585,-23.87157],[-55.4471,-23.7602],[-55.47567,-23.67566],[-55.55496,-23.28366],[-55.5222,-23.26048],[-55.53614,-23.24524],[-55.63849,-22.95122],[-55.62493,-22.62765],[-55.69103,-22.57959],[-55.69863,-22.56307],[-55.71193,-22.55809],[-55.72399,-22.55131],[-55.73792,-22.52632],[-55.74032,-22.51928],[-55.74069,-22.51564],[-55.74715,-22.50567],[-55.74718,-22.48376],[-55.75128,-22.48165],[-55.75257,-22.47633],[-55.74691,-22.46966],[-55.8331,-22.29008],[-56.23206,-22.25347],[-56.45893,-22.08072],[-56.5212,-22.11556],[-56.6508,-22.28387],[-57.98625,-22.09157],[-57.94642,-21.73799],[-57.88239,-21.6868],[-57.93492,-21.65505],[-57.84536,-20.93155],[-58.16225,-20.16193]]]]}},{type:"Feature",properties:{iso1A2:"QA",iso1A3:"QAT",iso1N3:"634",wikidata:"Q846",nameEn:"Qatar",groups:["145","142","UN"],callingCodes:["974"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.92992,24.54396],[51.09638,24.46907],[51.29972,24.50747],[51.39468,24.62785],[51.58834,24.66608],[51.83108,24.71675],[51.83682,26.70231],[50.93865,26.30758],[50.81266,25.88946],[50.86149,25.6965],[50.7801,25.595],[50.80824,25.54641],[50.57069,25.57887],[50.8133,24.74049],[50.92992,24.54396]]]]}},{type:"Feature",properties:{iso1A2:"RE",iso1A3:"REU",iso1N3:"638",wikidata:"Q17070",nameEn:"Runion",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[53.37984,-21.23941],[56.73473,-21.9174],[56.62373,-20.2711],[53.37984,-21.23941]]]]}},{type:"Feature",properties:{iso1A2:"RO",iso1A3:"ROU",iso1N3:"642",wikidata:"Q218",nameEn:"Romania",groups:["EU","151","150","UN"],callingCodes:["40"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.15622,47.98538],[27.02985,48.09083],[27.04118,48.12522],[26.96119,48.13003],[26.98042,48.15752],[26.94265,48.1969],[26.87708,48.19919],[26.81161,48.25049],[26.62823,48.25804],[26.55202,48.22445],[26.33504,48.18418],[26.17711,47.99246],[26.05901,47.9897],[25.77723,47.93919],[25.63878,47.94924],[25.23778,47.89403],[25.11144,47.75203],[24.88896,47.7234],[24.81893,47.82031],[24.70632,47.84428],[24.61994,47.95062],[24.43578,47.97131],[24.34926,47.9244],[24.22566,47.90231],[24.11281,47.91487],[24.06466,47.95317],[24.02999,47.95087],[24.00801,47.968],[23.98553,47.96076],[23.96337,47.96672],[23.94192,47.94868],[23.89352,47.94512],[23.8602,47.9329],[23.80904,47.98142],[23.75188,47.99705],[23.66262,47.98786],[23.63894,48.00293],[23.5653,48.00499],[23.52803,48.01818],[23.4979,47.96858],[23.33577,48.0237],[23.27397,48.08245],[23.15999,48.12188],[23.1133,48.08061],[23.08858,48.00716],[23.0158,47.99338],[22.92241,48.02002],[22.94301,47.96672],[22.89849,47.95851],[22.77991,47.87211],[22.76617,47.8417],[22.67247,47.7871],[22.46559,47.76583],[22.41979,47.7391],[22.31816,47.76126],[22.00917,47.50492],[22.03389,47.42508],[22.01055,47.37767],[21.94463,47.38046],[21.78395,47.11104],[21.648,47.03902],[21.68645,46.99595],[21.59581,46.91628],[21.59307,46.86935],[21.52028,46.84118],[21.48935,46.7577],[21.5151,46.72147],[21.43926,46.65109],[21.33214,46.63035],[21.26929,46.4993],[21.28061,46.44941],[21.16872,46.30118],[21.06572,46.24897],[20.86797,46.28884],[20.74574,46.25467],[20.76085,46.21002],[20.63863,46.12728],[20.49718,46.18721],[20.45377,46.14405],[20.35573,46.16629],[20.28324,46.1438],[20.26068,46.12332],[20.35862,45.99356],[20.54818,45.89939],[20.65645,45.82801],[20.70069,45.7493],[20.77416,45.75601],[20.78446,45.78522],[20.82364,45.77738],[20.80361,45.65875],[20.76798,45.60969],[20.83321,45.53567],[20.77217,45.49788],[20.86026,45.47295],[20.87948,45.42743],[21.09894,45.30144],[21.17612,45.32566],[21.20392,45.2677],[21.29398,45.24148],[21.48278,45.19557],[21.51299,45.15345],[21.4505,45.04294],[21.35855,45.01941],[21.54938,44.9327],[21.56328,44.89502],[21.48202,44.87199],[21.44013,44.87613],[21.35643,44.86364],[21.38802,44.78133],[21.55007,44.77304],[21.60019,44.75208],[21.61942,44.67059],[21.67504,44.67107],[21.71692,44.65349],[21.7795,44.66165],[21.99364,44.63395],[22.08016,44.49844],[22.13234,44.47444],[22.18315,44.48179],[22.30844,44.6619],[22.45301,44.7194],[22.61917,44.61489],[22.69196,44.61587],[22.76749,44.54446],[22.70981,44.51852],[22.61368,44.55719],[22.56493,44.53419],[22.54021,44.47836],[22.45436,44.47258],[22.56012,44.30712],[22.68166,44.28206],[22.67173,44.21564],[23.04988,44.07694],[23.01674,44.01946],[22.87873,43.9844],[22.83753,43.88055],[22.85314,43.84452],[23.05288,43.79494],[23.26772,43.84843],[23.4507,43.84936],[23.61687,43.79289],[23.73978,43.80627],[24.18149,43.68218],[24.35364,43.70211],[24.50264,43.76314],[24.62281,43.74082],[24.73542,43.68523],[24.96682,43.72693],[25.10718,43.6831],[25.17144,43.70261],[25.39528,43.61866],[25.72792,43.69263],[25.94911,43.85745],[26.05584,43.90925],[26.10115,43.96908],[26.38764,44.04356],[26.62712,44.05698],[26.95141,44.13555],[27.26845,44.12602],[27.39757,44.0141],[27.60834,44.01206],[27.64542,44.04958],[27.73468,43.95326],[27.92008,44.00761],[27.99558,43.84193],[28.23293,43.76],[29.24336,43.70874],[30.04414,45.08461],[29.69272,45.19227],[29.65428,45.25629],[29.68175,45.26885],[29.59798,45.38857],[29.42632,45.44545],[29.24779,45.43388],[28.96077,45.33164],[28.94292,45.28045],[28.81383,45.3384],[28.78911,45.24179],[28.71358,45.22631],[28.5735,45.24759],[28.34554,45.32102],[28.28504,45.43907],[28.21139,45.46895],[28.18741,45.47358],[28.08927,45.6051],[28.16568,45.6421],[28.13111,45.92819],[28.08612,46.01105],[28.13684,46.18099],[28.10937,46.22852],[28.19864,46.31869],[28.18902,46.35283],[28.25769,46.43334],[28.22281,46.50481],[28.24808,46.64305],[28.12173,46.82283],[28.09095,46.97621],[27.81892,47.1381],[27.73172,47.29248],[27.68706,47.28962],[27.60263,47.32507],[27.55731,47.46637],[27.47942,47.48113],[27.3979,47.59473],[27.32202,47.64009],[27.25519,47.71366],[27.29069,47.73722],[27.1618,47.92391],[27.15622,47.98538]]]]}},{type:"Feature",properties:{iso1A2:"RS",iso1A3:"SRB",iso1N3:"688",wikidata:"Q403",nameEn:"Serbia",groups:["039","150","UN"],callingCodes:["381"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.66007,46.19005],[19.56113,46.16824],[19.52473,46.1171],[19.28826,45.99694],[19.14543,45.9998],[19.10388,46.04015],[19.0791,45.96458],[19.01284,45.96529],[18.99712,45.93537],[18.81394,45.91329],[18.85783,45.85493],[18.90305,45.71863],[18.96691,45.66731],[18.88776,45.57253],[18.94562,45.53712],[19.07471,45.53086],[19.08364,45.48804],[18.99918,45.49333],[18.97446,45.37528],[19.10774,45.29547],[19.28208,45.23813],[19.41941,45.23475],[19.43589,45.17137],[19.19144,45.17863],[19.14063,45.12972],[19.07952,45.14668],[19.1011,45.01191],[19.05205,44.97692],[19.15573,44.95409],[19.06853,44.89915],[19.02871,44.92541],[18.98957,44.90645],[19.01994,44.85493],[19.18183,44.92055],[19.36722,44.88164],[19.32543,44.74058],[19.26388,44.65412],[19.16699,44.52197],[19.13369,44.52521],[19.12278,44.50132],[19.14837,44.45253],[19.14681,44.41463],[19.11785,44.40313],[19.10749,44.39421],[19.10704,44.38249],[19.10365,44.37795],[19.10298,44.36924],[19.11865,44.36712],[19.1083,44.3558],[19.11547,44.34218],[19.13556,44.338],[19.13332,44.31492],[19.16741,44.28648],[19.18328,44.28383],[19.20508,44.2917],[19.23306,44.26097],[19.26945,44.26957],[19.32464,44.27185],[19.34773,44.23244],[19.3588,44.18353],[19.40927,44.16722],[19.43905,44.13088],[19.47338,44.15034],[19.48386,44.14332],[19.47321,44.1193],[19.51167,44.08158],[19.55999,44.06894],[19.57467,44.04716],[19.61991,44.05254],[19.61836,44.01464],[19.56498,43.99922],[19.52515,43.95573],[19.38439,43.96611],[19.24363,44.01502],[19.23465,43.98764],[19.3986,43.79668],[19.5176,43.71403],[19.50455,43.58385],[19.42696,43.57987],[19.41941,43.54056],[19.36653,43.60921],[19.33426,43.58833],[19.2553,43.5938],[19.24774,43.53061],[19.22807,43.5264],[19.22229,43.47926],[19.44315,43.38846],[19.48171,43.32644],[19.52962,43.31623],[19.54598,43.25158],[19.62661,43.2286],[19.64063,43.19027],[19.76918,43.16044],[19.79255,43.11951],[19.92576,43.08539],[19.96549,43.11098],[19.98887,43.0538],[20.04729,43.02732],[20.05431,42.99571],[20.12325,42.96237],[20.14896,42.99058],[20.16415,42.97177],[20.34528,42.90676],[20.35692,42.8335],[20.40594,42.84853],[20.43734,42.83157],[20.53484,42.8885],[20.48692,42.93208],[20.59929,43.01067],[20.64557,43.00826],[20.69515,43.09641],[20.59929,43.20492],[20.68688,43.21335],[20.73811,43.25068],[20.82145,43.26769],[20.88685,43.21697],[20.83727,43.17842],[20.96287,43.12416],[21.00749,43.13984],[21.05378,43.10707],[21.08952,43.13471],[21.14465,43.11089],[21.16734,42.99694],[21.2041,43.02277],[21.23877,43.00848],[21.23534,42.95523],[21.2719,42.8994],[21.32974,42.90424],[21.36941,42.87397],[21.44047,42.87276],[21.39045,42.74888],[21.47498,42.74695],[21.59154,42.72643],[21.58755,42.70418],[21.6626,42.67813],[21.75025,42.70125],[21.79413,42.65923],[21.75672,42.62695],[21.7327,42.55041],[21.70522,42.54176],[21.7035,42.51899],[21.62556,42.45106],[21.64209,42.41081],[21.62887,42.37664],[21.59029,42.38042],[21.57021,42.3647],[21.53467,42.36809],[21.5264,42.33634],[21.56772,42.30946],[21.58992,42.25915],[21.70111,42.23789],[21.77176,42.2648],[21.84654,42.3247],[21.91595,42.30392],[21.94405,42.34669],[22.02908,42.29848],[22.16384,42.32103],[22.29605,42.37477],[22.29275,42.34913],[22.34773,42.31725],[22.45919,42.33822],[22.47498,42.3915],[22.51961,42.3991],[22.55669,42.50144],[22.43983,42.56851],[22.4997,42.74144],[22.43309,42.82057],[22.54302,42.87774],[22.74826,42.88701],[22.78397,42.98253],[22.89521,43.03625],[22.98104,43.11199],[23.00806,43.19279],[22.89727,43.22417],[22.82036,43.33665],[22.53397,43.47225],[22.47582,43.6558],[22.41043,43.69566],[22.35558,43.81281],[22.41449,44.00514],[22.61688,44.06534],[22.61711,44.16938],[22.67173,44.21564],[22.68166,44.28206],[22.56012,44.30712],[22.45436,44.47258],[22.54021,44.47836],[22.56493,44.53419],[22.61368,44.55719],[22.70981,44.51852],[22.76749,44.54446],[22.69196,44.61587],[22.61917,44.61489],[22.45301,44.7194],[22.30844,44.6619],[22.18315,44.48179],[22.13234,44.47444],[22.08016,44.49844],[21.99364,44.63395],[21.7795,44.66165],[21.71692,44.65349],[21.67504,44.67107],[21.61942,44.67059],[21.60019,44.75208],[21.55007,44.77304],[21.38802,44.78133],[21.35643,44.86364],[21.44013,44.87613],[21.48202,44.87199],[21.56328,44.89502],[21.54938,44.9327],[21.35855,45.01941],[21.4505,45.04294],[21.51299,45.15345],[21.48278,45.19557],[21.29398,45.24148],[21.20392,45.2677],[21.17612,45.32566],[21.09894,45.30144],[20.87948,45.42743],[20.86026,45.47295],[20.77217,45.49788],[20.83321,45.53567],[20.76798,45.60969],[20.80361,45.65875],[20.82364,45.77738],[20.78446,45.78522],[20.77416,45.75601],[20.70069,45.7493],[20.65645,45.82801],[20.54818,45.89939],[20.35862,45.99356],[20.26068,46.12332],[20.09713,46.17315],[20.03533,46.14509],[20.01816,46.17696],[19.93508,46.17553],[19.81491,46.1313],[19.66007,46.19005]]]]}},{type:"Feature",properties:{iso1A2:"RU",iso1A3:"RUS",iso1N3:"643",wikidata:"Q159",nameEn:"Russia"},geometry:null},{type:"Feature",properties:{iso1A2:"RW",iso1A3:"RWA",iso1N3:"646",wikidata:"Q1037",nameEn:"Rwanda",groups:["014","202","002","UN"],callingCodes:["250"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.47194,-1.0555],[30.35212,-1.06896],[30.16369,-1.34303],[29.912,-1.48269],[29.82657,-1.31187],[29.59061,-1.39016],[29.53062,-1.40499],[29.45038,-1.5054],[29.36322,-1.50887],[29.24323,-1.66826],[29.24458,-1.69663],[29.11847,-1.90576],[29.17562,-2.12278],[29.105,-2.27043],[29.00051,-2.29001],[28.95642,-2.37321],[28.89601,-2.37321],[28.86826,-2.41888],[28.86846,-2.44866],[28.89132,-2.47557],[28.89342,-2.49017],[28.88846,-2.50493],[28.87497,-2.50887],[28.86209,-2.5231],[28.86193,-2.53185],[28.87943,-2.55165],[28.89288,-2.55848],[28.90226,-2.62385],[28.89793,-2.66111],[28.94346,-2.69124],[29.00357,-2.70596],[29.04081,-2.7416],[29.0562,-2.58632],[29.32234,-2.6483],[29.36805,-2.82933],[29.88237,-2.75105],[29.95911,-2.33348],[30.14034,-2.43626],[30.42933,-2.31064],[30.54501,-2.41404],[30.83915,-2.35795],[30.89303,-2.08223],[30.80802,-1.91477],[30.84079,-1.64652],[30.71974,-1.43244],[30.57123,-1.33264],[30.50889,-1.16412],[30.45116,-1.10641],[30.47194,-1.0555]]]]}},{type:"Feature",properties:{iso1A2:"SA",iso1A3:"SAU",iso1N3:"682",wikidata:"Q851",nameEn:"Saudi Arabia",groups:["145","142","UN"],callingCodes:["966"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.01521,32.05667],[39.29903,32.23259],[38.99233,31.99721],[36.99791,31.50081],[37.99354,30.49998],[37.66395,30.33245],[37.4971,29.99949],[36.75083,29.86903],[36.50005,29.49696],[36.07081,29.18469],[34.8812,29.36878],[34.4454,27.91479],[37.8565,22.00903],[39.63762,18.37348],[40.99158,15.81743],[42.15205,16.40211],[42.76801,16.40371],[42.94625,16.39721],[42.94351,16.49467],[42.97215,16.51093],[43.11601,16.53166],[43.15274,16.67248],[43.22066,16.65179],[43.21325,16.74416],[43.25857,16.75304],[43.26303,16.79479],[43.24801,16.80613],[43.22956,16.80613],[43.22012,16.83932],[43.18338,16.84852],[43.1398,16.90696],[43.19328,16.94703],[43.1813,16.98438],[43.18233,17.02673],[43.23967,17.03428],[43.17787,17.14717],[43.20156,17.25901],[43.32653,17.31179],[43.22533,17.38343],[43.29185,17.53224],[43.43005,17.56148],[43.70631,17.35762],[44.50126,17.47475],[46.31018,17.20464],[46.76494,17.29151],[47.00571,16.94765],[47.48245,17.10808],[47.58351,17.50366],[48.19996,18.20584],[49.04884,18.59899],[52.00311,19.00083],[54.99756,20.00083],[55.66469,21.99658],[55.2137,22.71065],[55.13599,22.63334],[52.56622,22.94341],[51.59617,24.12041],[51.58871,24.27256],[51.41644,24.39615],[51.58834,24.66608],[51.39468,24.62785],[51.29972,24.50747],[51.09638,24.46907],[50.92992,24.54396],[50.8133,24.74049],[50.57069,25.57887],[50.302,25.87592],[50.26923,26.08243],[50.38162,26.53976],[50.71771,26.73086],[50.37726,27.89227],[49.98877,27.87827],[49.00421,28.81495],[48.42991,28.53628],[47.70561,28.5221],[47.59863,28.66798],[47.58376,28.83382],[47.46202,29.0014],[46.5527,29.10283],[46.42415,29.05947],[44.72255,29.19736],[42.97796,30.48295],[42.97601,30.72204],[40.01521,32.05667]]]]}},{type:"Feature",properties:{iso1A2:"SB",iso1A3:"SLB",iso1N3:"090",wikidata:"Q685",nameEn:"Solomon Islands",groups:["054","009","UN"],driveSide:"left",callingCodes:["677"]},geometry:{type:"MultiPolygon",coordinates:[[[[172.71443,-12.01327],[160.43769,-4.17974],[156.03296,-6.55528],[156.03993,-6.65703],[155.92557,-6.84664],[155.69784,-6.92661],[155.60735,-6.92266],[154.74815,-7.33315],[156.73836,-14.50464],[172.71443,-12.01327]]]]}},{type:"Feature",properties:{iso1A2:"SC",iso1A3:"SYC",iso1N3:"690",wikidata:"Q1042",nameEn:"Seychelles",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["248"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.75112,-10.38913],[54.83239,-10.93575],[66.3222,5.65313],[43.75112,-10.38913]]]]}},{type:"Feature",properties:{iso1A2:"SD",iso1A3:"SDN",iso1N3:"729",wikidata:"Q1049",nameEn:"Sudan",groups:["015","002","UN"],callingCodes:["249"]},geometry:{type:"MultiPolygon",coordinates:[[[[37.8565,22.00903],[34.0765,22.00501],[33.99686,21.76784],[33.57251,21.72406],[33.17563,22.00405],[24.99885,21.99535],[24.99794,19.99661],[23.99715,20.00038],[23.99539,19.49944],[23.99997,15.69575],[23.62785,15.7804],[23.38812,15.69649],[23.10792,15.71297],[22.93201,15.55107],[22.92579,15.47007],[22.99584,15.40105],[22.99584,15.22989],[22.66115,14.86308],[22.70474,14.69149],[22.38562,14.58907],[22.44944,14.24986],[22.55997,14.23024],[22.5553,14.11704],[22.22995,13.96754],[22.08674,13.77863],[22.29689,13.3731],[22.1599,13.19281],[22.02914,13.13976],[21.94819,13.05637],[21.81432,12.81362],[21.89371,12.68001],[21.98711,12.63292],[22.15679,12.66634],[22.22684,12.74682],[22.46345,12.61925],[22.38873,12.45514],[22.50548,12.16769],[22.48369,12.02766],[22.64092,12.07485],[22.54907,11.64372],[22.7997,11.40424],[22.93124,11.41645],[22.97249,11.21955],[22.87758,10.91915],[23.02221,10.69235],[23.3128,10.45214],[23.67164,9.86923],[23.69155,9.67566],[24.09319,9.66572],[24.12744,9.73784],[24.49389,9.79962],[24.84653,9.80643],[24.97739,9.9081],[25.05688,10.06776],[25.0918,10.33718],[25.78141,10.42599],[25.93163,10.38159],[25.93241,10.17941],[26.21338,9.91545],[26.35815,9.57946],[26.70685,9.48735],[27.14427,9.62858],[27.90704,9.61323],[28.99983,9.67155],[29.06988,9.74826],[29.53844,9.75133],[29.54,10.07949],[29.94629,10.29245],[30.00389,10.28633],[30.53005,9.95992],[30.82893,9.71451],[30.84605,9.7498],[31.28504,9.75287],[31.77539,10.28939],[31.99177,10.65065],[32.46967,11.04662],[32.39358,11.18207],[32.39578,11.70208],[32.10079,11.95203],[32.73921,11.95203],[32.73921,12.22757],[33.25876,12.22111],[33.13988,11.43248],[33.26977,10.83632],[33.24645,10.77913],[33.52294,10.64382],[33.66604,10.44254],[33.80913,10.32994],[33.90159,10.17179],[33.96984,10.15446],[33.99185,9.99623],[33.96323,9.80972],[33.9082,9.762],[33.87958,9.49937],[34.10229,9.50238],[34.08717,9.55243],[34.13186,9.7492],[34.20484,9.9033],[34.22718,10.02506],[34.32102,10.11599],[34.34783,10.23914],[34.2823,10.53508],[34.4372,10.781],[34.59062,10.89072],[34.77383,10.74588],[34.77532,10.69027],[34.86618,10.74588],[34.86916,10.78832],[34.97491,10.86147],[34.97789,10.91559],[34.93172,10.95946],[35.01215,11.19626],[34.95704,11.24448],[35.09556,11.56278],[35.05832,11.71158],[35.11492,11.85156],[35.24302,11.91132],[35.70476,12.67101],[36.01458,12.72478],[36.14268,12.70879],[36.16651,12.88019],[36.13374,12.92665],[36.24545,13.36759],[36.38993,13.56459],[36.48824,13.83954],[36.44653,13.95666],[36.54376,14.25597],[36.44337,15.14963],[36.54276,15.23478],[36.69761,15.75323],[36.76371,15.80831],[36.92193,16.23451],[36.99777,17.07172],[37.42694,17.04041],[37.50967,17.32199],[38.13362,17.53906],[38.37133,17.66269],[38.45916,17.87167],[38.57727,17.98125],[39.63762,18.37348],[37.8565,22.00903]]]]}},{type:"Feature",properties:{iso1A2:"SE",iso1A3:"SWE",iso1N3:"752",wikidata:"Q34",nameEn:"Sweden",groups:["EU","154","150","UN"],callingCodes:["46"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.15791,65.85385],[23.90497,66.15802],[23.71339,66.21299],[23.64982,66.30603],[23.67591,66.3862],[23.63776,66.43568],[23.85959,66.56434],[23.89488,66.772],[23.98059,66.79585],[23.98563,66.84149],[23.56214,67.17038],[23.58735,67.20752],[23.54701,67.25435],[23.75372,67.29914],[23.75372,67.43688],[23.39577,67.46974],[23.54701,67.59306],[23.45627,67.85297],[23.65793,67.9497],[23.40081,68.05545],[23.26469,68.15134],[23.15377,68.14759],[23.10336,68.26551],[22.73028,68.40881],[22.00429,68.50692],[21.03001,68.88969],[20.90649,68.89696],[20.85104,68.93142],[20.91658,68.96764],[20.78802,69.03087],[20.55258,69.06069],[20.0695,69.04469],[20.28444,68.93283],[20.33435,68.80174],[20.22027,68.67246],[19.95647,68.55546],[20.22027,68.48759],[19.93508,68.35911],[18.97255,68.52416],[18.63032,68.50849],[18.39503,68.58672],[18.1241,68.53721],[18.13836,68.20874],[17.90787,67.96537],[17.30416,68.11591],[16.7409,67.91037],[16.38441,67.52923],[16.12774,67.52106],[16.09922,67.4364],[16.39154,67.21653],[16.35589,67.06419],[15.37197,66.48217],[15.49318,66.28509],[15.05113,66.15572],[14.53778,66.12399],[14.50926,65.31786],[13.64276,64.58402],[14.11117,64.46674],[14.16051,64.18725],[13.98222,64.00953],[13.23411,64.09087],[12.74105,64.02171],[12.14928,63.59373],[12.19919,63.47935],[11.98529,63.27487],[12.19919,63.00104],[12.07085,62.6297],[12.29187,62.25699],[12.14746,61.7147],[12.40595,61.57226],[12.57707,61.56547],[12.86939,61.35427],[12.69115,61.06584],[12.2277,61.02442],[12.59133,60.50559],[12.52003,60.13846],[12.36317,59.99259],[12.15641,59.8926],[11.87121,59.86039],[11.92112,59.69531],[11.69297,59.59442],[11.8213,59.24985],[11.65732,58.90177],[11.45199,58.89604],[11.4601,58.99022],[11.34459,59.11672],[11.15367,59.07862],[11.08911,58.98745],[10.64958,58.89391],[10.40861,58.38489],[12.16597,56.60205],[12.07466,56.29488],[12.65312,56.04345],[12.6372,55.91371],[12.88472,55.63369],[12.60345,55.42675],[12.84405,55.13257],[14.28399,55.1553],[14.89259,55.5623],[15.79951,55.54655],[19.64795,57.06466],[19.84909,57.57876],[20.5104,59.15546],[19.08191,60.19152],[19.23413,60.61414],[20.15877,63.06556],[24.14112,65.39731],[24.15107,65.81427],[24.14798,65.83466],[24.15791,65.85385]]]]}},{type:"Feature",properties:{iso1A2:"SG",iso1A3:"SGP",iso1N3:"702",wikidata:"Q334",nameEn:"Singapore",groups:["035","142","UN"],driveSide:"left",callingCodes:["65"]},geometry:{type:"MultiPolygon",coordinates:[[[[104.00131,1.42405],[103.93384,1.42926],[103.89565,1.42841],[103.86383,1.46288],[103.81181,1.47953],[103.76395,1.45183],[103.74161,1.4502],[103.7219,1.46108],[103.67468,1.43166],[103.62738,1.35255],[103.56591,1.19719],[103.66049,1.18825],[103.74084,1.12902],[104.03085,1.26954],[104.12282,1.27714],[104.08072,1.35998],[104.09162,1.39694],[104.08871,1.42015],[104.07348,1.43322],[104.04622,1.44691],[104.02277,1.4438],[104.00131,1.42405]]]]}},{type:"Feature",properties:{iso1A2:"SH",iso1A3:"SHN",iso1N3:"654",wikidata:"Q192184",nameEn:"Saint Helena, Ascension and Tristan da Cunha",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"SI",iso1A3:"SVN",iso1N3:"705",wikidata:"Q215",nameEn:"Slovenia",groups:["EU","039","150","UN"],callingCodes:["386"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.50139,46.56684],[16.39217,46.63673],[16.38594,46.6549],[16.41863,46.66238],[16.42641,46.69228],[16.37816,46.69975],[16.30966,46.7787],[16.31303,46.79838],[16.3408,46.80641],[16.34547,46.83836],[16.2941,46.87137],[16.2365,46.87775],[16.21892,46.86961],[16.15711,46.85434],[16.14365,46.8547],[16.10983,46.867],[16.05786,46.83927],[15.99054,46.82772],[15.99126,46.78199],[15.98432,46.74991],[15.99769,46.7266],[16.02808,46.71094],[16.04347,46.68694],[16.04036,46.6549],[15.99988,46.67947],[15.98512,46.68463],[15.94864,46.68769],[15.87691,46.7211],[15.8162,46.71897],[15.78518,46.70712],[15.76771,46.69863],[15.73823,46.70011],[15.72279,46.69548],[15.69523,46.69823],[15.67411,46.70735],[15.6543,46.70616],[15.6543,46.69228],[15.6365,46.6894],[15.63255,46.68069],[15.62317,46.67947],[15.59826,46.68908],[15.54533,46.66985],[15.55333,46.64988],[15.54431,46.6312],[15.46906,46.61321],[15.45514,46.63697],[15.41235,46.65556],[15.23711,46.63994],[15.14215,46.66131],[15.01451,46.641],[14.98024,46.6009],[14.96002,46.63459],[14.92283,46.60848],[14.87129,46.61],[14.86419,46.59411],[14.83549,46.56614],[14.81836,46.51046],[14.72185,46.49974],[14.66892,46.44936],[14.5942,46.43434],[14.56463,46.37208],[14.52176,46.42617],[14.45877,46.41717],[14.42608,46.44614],[14.314,46.43327],[14.28326,46.44315],[14.15989,46.43327],[14.12097,46.47724],[14.04002,46.49117],[14.00422,46.48474],[13.89837,46.52331],[13.7148,46.5222],[13.68684,46.43881],[13.59777,46.44137],[13.5763,46.42613],[13.5763,46.40915],[13.47019,46.3621],[13.43418,46.35992],[13.44808,46.33507],[13.37671,46.29668],[13.41193,46.22767],[13.40899,46.21509],[13.42218,46.20758],[13.47587,46.22725],[13.56114,46.2054],[13.56682,46.18703],[13.64451,46.18966],[13.66472,46.17392],[13.64053,46.13587],[13.57072,46.09022],[13.50104,46.05986],[13.49568,46.04839],[13.50998,46.04498],[13.49702,46.01832],[13.47474,46.00546],[13.50104,45.98078],[13.52963,45.96588],[13.56759,45.96991],[13.58903,45.99009],[13.62074,45.98388],[13.63458,45.98947],[13.64307,45.98326],[13.6329,45.94894],[13.63815,45.93607],[13.61931,45.91782],[13.60857,45.89907],[13.59565,45.89446],[13.58644,45.88173],[13.57563,45.8425],[13.58858,45.83503],[13.59784,45.8072],[13.66986,45.79955],[13.8235,45.7176],[13.83332,45.70855],[13.83422,45.68703],[13.87933,45.65207],[13.9191,45.6322],[13.8695,45.60835],[13.86771,45.59898],[13.84106,45.58185],[13.78445,45.5825],[13.74587,45.59811],[13.7198,45.59352],[13.6076,45.64761],[13.45644,45.59464],[13.56979,45.4895],[13.62902,45.45898],[13.67398,45.4436],[13.7785,45.46787],[13.81742,45.43729],[13.88124,45.42637],[13.90771,45.45149],[13.97309,45.45258],[13.99488,45.47551],[13.96063,45.50825],[14.00578,45.52352],[14.07116,45.48752],[14.20348,45.46896],[14.22371,45.50388],[14.24239,45.50607],[14.26611,45.48239],[14.27681,45.4902],[14.32487,45.47142],[14.36693,45.48642],[14.49769,45.54424],[14.5008,45.60852],[14.53816,45.6205],[14.57397,45.67165],[14.60977,45.66403],[14.59576,45.62812],[14.69694,45.57366],[14.68605,45.53006],[14.71718,45.53442],[14.80124,45.49515],[14.81992,45.45913],[14.90554,45.47769],[14.92266,45.52788],[15.02385,45.48533],[15.05187,45.49079],[15.16862,45.42309],[15.27758,45.46678],[15.33051,45.45258],[15.38188,45.48752],[15.30249,45.53224],[15.29837,45.5841],[15.27747,45.60504],[15.31027,45.6303],[15.34695,45.63382],[15.34214,45.64702],[15.38952,45.63682],[15.4057,45.64727],[15.34919,45.71623],[15.30872,45.69014],[15.25423,45.72275],[15.40836,45.79491],[15.47531,45.79802],[15.47325,45.8253],[15.52234,45.82195],[15.57952,45.84953],[15.64185,45.82915],[15.66662,45.84085],[15.70411,45.8465],[15.68232,45.86819],[15.68383,45.88867],[15.67967,45.90455],[15.70636,45.92116],[15.70327,46.00015],[15.71246,46.01196],[15.72977,46.04682],[15.62317,46.09103],[15.6083,46.11992],[15.59909,46.14761],[15.64904,46.19229],[15.6434,46.21396],[15.67395,46.22478],[15.75436,46.21969],[15.75479,46.20336],[15.78817,46.21719],[15.79284,46.25811],[15.97965,46.30652],[16.07616,46.3463],[16.07314,46.36458],[16.05065,46.3833],[16.05281,46.39141],[16.14859,46.40547],[16.18824,46.38282],[16.30233,46.37837],[16.30162,46.40437],[16.27329,46.41467],[16.27398,46.42875],[16.25124,46.48067],[16.23961,46.49653],[16.26759,46.50566],[16.26733,46.51505],[16.29793,46.5121],[16.37193,46.55008],[16.38771,46.53608],[16.44036,46.5171],[16.5007,46.49644],[16.52604,46.47831],[16.59527,46.47524],[16.52604,46.5051],[16.52885,46.53303],[16.50139,46.56684]]]]}},{type:"Feature",properties:{iso1A2:"SJ",iso1A3:"SJM",iso1N3:"744",wikidata:"Q842829",nameEn:"Svalbard and Jan Mayen",country:"NO"},geometry:null},{type:"Feature",properties:{iso1A2:"SK",iso1A3:"SVK",iso1N3:"703",wikidata:"Q214",nameEn:"Slovakia",groups:["EU","151","150","UN"],callingCodes:["421"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.82237,49.27806],[19.78581,49.41701],[19.72127,49.39288],[19.6375,49.40897],[19.64162,49.45184],[19.57845,49.46077],[19.53313,49.52856],[19.52626,49.57311],[19.45348,49.61583],[19.37795,49.574],[19.36009,49.53747],[19.25435,49.53391],[19.18019,49.41165],[18.9742,49.39557],[18.97283,49.49914],[18.94536,49.52143],[18.84521,49.51672],[18.74761,49.492],[18.67757,49.50895],[18.6144,49.49824],[18.57183,49.51162],[18.53063,49.49022],[18.54848,49.47059],[18.44686,49.39467],[18.4084,49.40003],[18.4139,49.36517],[18.36446,49.3267],[18.18456,49.28909],[18.15022,49.24518],[18.1104,49.08624],[18.06885,49.03157],[17.91814,49.01784],[17.87831,48.92679],[17.77944,48.92318],[17.73126,48.87885],[17.7094,48.86721],[17.5295,48.81117],[17.45671,48.85004],[17.3853,48.80936],[17.29054,48.85546],[17.19355,48.87602],[17.11202,48.82925],[17.00215,48.70887],[16.93955,48.60371],[16.94611,48.53614],[16.85204,48.44968],[16.8497,48.38321],[16.83588,48.3844],[16.83317,48.38138],[16.84243,48.35258],[16.90903,48.32519],[16.89461,48.31332],[16.97701,48.17385],[17.02919,48.13996],[17.05735,48.14179],[17.09168,48.09366],[17.07039,48.0317],[17.16001,48.00636],[17.23699,48.02094],[17.71215,47.7548],[18.02938,47.75665],[18.29305,47.73541],[18.56496,47.76588],[18.65644,47.7568],[18.72154,47.78683],[18.74074,47.8157],[18.8506,47.82308],[18.76821,47.87469],[18.76134,47.97499],[18.82176,48.04206],[19.01952,48.07052],[19.23924,48.0595],[19.28182,48.08336],[19.47957,48.09437],[19.52489,48.19791],[19.63338,48.25006],[19.92452,48.1283],[20.24312,48.2784],[20.29943,48.26104],[20.5215,48.53336],[20.83248,48.5824],[21.11516,48.49546],[21.44063,48.58456],[21.6068,48.50365],[21.67134,48.3989],[21.72525,48.34628],[21.8279,48.33321],[21.83339,48.36242],[22.14689,48.4005],[22.16023,48.56548],[22.21379,48.6218],[22.34151,48.68893],[22.42934,48.92857],[22.48296,48.99172],[22.54338,49.01424],[22.56155,49.08865],[22.04427,49.22136],[21.96385,49.3437],[21.82927,49.39467],[21.77983,49.35443],[21.62328,49.4447],[21.43376,49.41433],[21.27858,49.45988],[21.19756,49.4054],[21.12477,49.43666],[21.041,49.41791],[21.09799,49.37176],[20.98733,49.30774],[20.9229,49.29626],[20.77971,49.35383],[20.72274,49.41813],[20.61666,49.41791],[20.5631,49.375],[20.46422,49.41612],[20.39939,49.3896],[20.31728,49.39914],[20.31453,49.34817],[20.21977,49.35265],[20.13738,49.31685],[20.08238,49.1813],[19.98494,49.22904],[19.90529,49.23532],[19.86409,49.19316],[19.75286,49.20751],[19.82237,49.27806]]]]}},{type:"Feature",properties:{iso1A2:"SL",iso1A3:"SLE",iso1N3:"694",wikidata:"Q1044",nameEn:"Sierra Leone",groups:["011","202","002","UN"],callingCodes:["232"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.27575,8.48711],[-10.37257,8.48941],[-10.54891,8.31174],[-10.63934,8.35326],[-10.70565,8.29235],[-10.61422,8.5314],[-10.47707,8.67669],[-10.56197,8.81225],[-10.5783,9.06386],[-10.74484,9.07998],[-10.6534,9.29919],[-11.2118,10.00098],[-11.89624,9.99763],[-11.91023,9.93927],[-12.12634,9.87203],[-12.24262,9.92386],[-12.47254,9.86834],[-12.76788,9.3133],[-12.94095,9.26335],[-13.08953,9.0409],[-13.18586,9.0925],[-13.29911,9.04245],[-14.36218,8.64107],[-12.15048,6.15992],[-11.50429,6.92704],[-11.4027,6.97746],[-11.29417,7.21576],[-10.60422,7.7739],[-10.60492,8.04072],[-10.57523,8.04829],[-10.51554,8.1393],[-10.45023,8.15627],[-10.35227,8.15223],[-10.29839,8.21283],[-10.31635,8.28554],[-10.30084,8.30008],[-10.27575,8.48711]]]]}},{type:"Feature",properties:{iso1A2:"SM",iso1A3:"SMR",iso1N3:"674",wikidata:"Q238",nameEn:"San Marino",groups:["039","150","UN"],callingCodes:["378"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45648,43.89369],[12.48771,43.89706],[12.49429,43.90973],[12.49247,43.91774],[12.49724,43.92248],[12.50269,43.92363],[12.50496,43.93017],[12.51553,43.94096],[12.51427,43.94897],[12.50655,43.95796],[12.50875,43.96198],[12.50622,43.97131],[12.51109,43.97201],[12.51064,43.98165],[12.5154,43.98508],[12.51463,43.99122],[12.50678,43.99113],[12.49406,43.98492],[12.47853,43.98052],[12.46205,43.97463],[12.44684,43.96597],[12.43662,43.95698],[12.42005,43.9578],[12.41414,43.95273],[12.40415,43.95485],[12.40506,43.94325],[12.41165,43.93769],[12.41551,43.92984],[12.40733,43.92379],[12.41233,43.90956],[12.40935,43.9024],[12.41641,43.89991],[12.44184,43.90498],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"SN",iso1A3:"SEN",iso1N3:"686",wikidata:"Q1041",nameEn:"Senegal",groups:["011","202","002","UN"],callingCodes:["221"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.32144,16.61495],[-15.00557,16.64997],[-15.6509,16.50315],[-16.27016,16.51565],[-16.4429,16.20605],[-16.44814,16.09753],[-16.48967,16.0496],[-16.50854,16.09032],[-17.15288,16.07139],[-18.35085,14.63444],[-17.43598,13.59273],[-15.47902,13.58758],[-15.36504,13.79313],[-14.93719,13.80173],[-14.34721,13.46578],[-13.8955,13.59126],[-13.79409,13.34472],[-14.36795,13.23033],[-15.14917,13.57989],[-15.26908,13.37768],[-15.80478,13.34832],[-15.80355,13.16729],[-16.69343,13.16791],[-16.74676,13.06025],[-17.43966,13.04579],[-17.4623,11.92379],[-16.70562,12.34803],[-16.38191,12.36449],[-16.20591,12.46157],[-15.67302,12.42974],[-15.17582,12.6847],[-13.70523,12.68013],[-13.05296,12.64003],[-13.06603,12.49342],[-12.87336,12.51892],[-12.35415,12.32758],[-11.91331,12.42008],[-11.46267,12.44559],[-11.37536,12.40788],[-11.39935,12.97808],[-11.63025,13.39174],[-11.83345,13.33333],[-12.06897,13.71049],[-11.93043,13.84505],[-12.23936,14.76324],[-13.11029,15.52116],[-13.43135,16.09022],[-13.80075,16.13961],[-14.32144,16.61495]]]]}},{type:"Feature",properties:{iso1A2:"SO",iso1A3:"SOM",iso1N3:"706",wikidata:"Q1045",nameEn:"Somalia",groups:["014","202","002","UN"],callingCodes:["252"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.12877,12.56479],[43.90659,12.3823],[42.95776,10.98533],[42.69452,10.62672],[42.87643,10.18441],[43.0937,9.90579],[43.23518,9.84605],[43.32613,9.59205],[44.19222,8.93028],[46.99339,7.9989],[47.92477,8.00111],[47.97917,8.00124],[44.98104,4.91821],[44.02436,4.9451],[43.40263,4.79289],[43.04177,4.57923],[42.97746,4.44032],[42.84526,4.28357],[42.55853,4.20518],[42.07619,4.17667],[41.89488,3.97375],[41.31368,3.14314],[40.98767,2.82959],[41.00099,-.83068],[41.56,-1.59812],[41.56362,-1.66375],[41.75542,-1.85308],[57.49095,8.14549],[51.12877,12.56479]]]]}},{type:"Feature",properties:{iso1A2:"SR",iso1A3:"SUR",iso1N3:"740",wikidata:"Q730",nameEn:"Suriname",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["597"]},geometry:{type:"MultiPolygon",coordinates:[[[[-54.26916,5.26909],[-54.01877,5.52789],[-54.01074,5.68785],[-53.7094,6.2264],[-56.84822,6.73257],[-57.31629,5.33714],[-57.22536,5.15605],[-57.37442,5.0208],[-57.8699,4.89394],[-58.0307,3.95513],[-57.35891,3.32121],[-56.70519,2.02964],[-56.55439,2.02003],[-56.47045,1.95135],[-55.99278,1.83137],[-55.89863,1.89861],[-55.92159,2.05236],[-56.13054,2.27723],[-55.96292,2.53188],[-55.71493,2.40342],[-55.01919,2.564],[-54.6084,2.32856],[-54.42864,2.42442],[-54.28534,2.67798],[-53.9849,3.58697],[-53.98914,3.627],[-54.05128,3.63557],[-54.19367,3.84387],[-54.38444,4.13222],[-54.4717,4.91964],[-54.26916,5.26909]]]]}},{type:"Feature",properties:{iso1A2:"SS",iso1A3:"SSD",iso1N3:"728",wikidata:"Q958",nameEn:"South Sudan",groups:["014","202","002","UN"],callingCodes:["211"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.10229,9.50238],[33.87958,9.49937],[33.9082,9.762],[33.96323,9.80972],[33.99185,9.99623],[33.96984,10.15446],[33.90159,10.17179],[33.80913,10.32994],[33.66604,10.44254],[33.52294,10.64382],[33.24645,10.77913],[33.26977,10.83632],[33.13988,11.43248],[33.25876,12.22111],[32.73921,12.22757],[32.73921,11.95203],[32.10079,11.95203],[32.39578,11.70208],[32.39358,11.18207],[32.46967,11.04662],[31.99177,10.65065],[31.77539,10.28939],[31.28504,9.75287],[30.84605,9.7498],[30.82893,9.71451],[30.53005,9.95992],[30.00389,10.28633],[29.94629,10.29245],[29.54,10.07949],[29.53844,9.75133],[29.06988,9.74826],[28.99983,9.67155],[27.90704,9.61323],[27.14427,9.62858],[26.70685,9.48735],[26.35815,9.57946],[26.21338,9.91545],[25.93241,10.17941],[25.93163,10.38159],[25.78141,10.42599],[25.0918,10.33718],[25.05688,10.06776],[24.97739,9.9081],[24.84653,9.80643],[24.49389,9.79962],[24.12744,9.73784],[24.09319,9.66572],[23.69155,9.67566],[23.62179,9.53823],[23.64981,9.44303],[23.64358,9.28637],[23.56263,9.19418],[23.4848,9.16959],[23.44744,8.99128],[23.59065,8.99743],[23.51905,8.71749],[24.25691,8.69288],[24.13238,8.36959],[24.35965,8.26177],[24.85156,8.16933],[24.98855,7.96588],[25.25319,7.8487],[25.29214,7.66675],[25.20649,7.61115],[25.20337,7.50312],[25.35281,7.42595],[25.37461,7.33024],[25.90076,7.09549],[26.38022,6.63493],[26.32729,6.36272],[26.58259,6.1987],[26.51721,6.09655],[27.22705,5.71254],[27.22705,5.62889],[27.28621,5.56382],[27.23017,5.37167],[27.26886,5.25876],[27.44012,5.07349],[27.56656,4.89375],[27.65462,4.89375],[27.76469,4.79284],[27.79551,4.59976],[28.20719,4.35614],[28.6651,4.42638],[28.8126,4.48784],[29.03054,4.48784],[29.22207,4.34297],[29.43341,4.50101],[29.49726,4.7007],[29.82087,4.56246],[29.79666,4.37809],[30.06964,4.13221],[30.1621,4.10586],[30.22374,3.93896],[30.27658,3.95653],[30.47691,3.83353],[30.55396,3.84451],[30.57378,3.74567],[30.56277,3.62703],[30.78512,3.67097],[30.80713,3.60506],[30.85997,3.5743],[30.85153,3.48867],[30.97601,3.693],[31.16666,3.79853],[31.29476,3.8015],[31.50478,3.67814],[31.50776,3.63652],[31.72075,3.74354],[31.81459,3.82083],[31.86821,3.78664],[31.96205,3.6499],[31.95907,3.57408],[32.05187,3.589],[32.08491,3.56287],[32.08866,3.53543],[32.19888,3.50867],[32.20782,3.6053],[32.41337,3.748],[32.72021,3.77327],[32.89746,3.81339],[33.02852,3.89296],[33.18356,3.77812],[33.51264,3.75068],[33.9873,4.23316],[34.47601,4.72162],[35.34151,5.02364],[35.30992,4.90402],[35.47843,4.91872],[35.42366,4.76969],[35.51424,4.61643],[35.9419,4.61933],[35.82118,4.77382],[35.81968,5.10757],[35.8576,5.33413],[35.50792,5.42431],[35.29938,5.34042],[35.31188,5.50106],[35.13058,5.62118],[35.12611,5.68937],[35.00546,5.89387],[34.96227,6.26415],[35.01738,6.46991],[34.87736,6.60161],[34.77459,6.5957],[34.65096,6.72589],[34.53776,6.74808],[34.53925,6.82794],[34.47669,6.91076],[34.35753,6.91963],[34.19369,7.04382],[34.19369,7.12807],[34.01495,7.25664],[34.03878,7.27437],[34.02984,7.36449],[33.87642,7.5491],[33.71407,7.65983],[33.44745,7.7543],[33.32531,7.71297],[33.24637,7.77939],[33.04944,7.78989],[33.0006,7.90333],[33.08401,8.05822],[33.18083,8.13047],[33.1853,8.29264],[33.19721,8.40317],[33.3119,8.45474],[33.54575,8.47094],[33.66938,8.44442],[33.71407,8.3678],[33.87195,8.41938],[33.89579,8.4842],[34.01346,8.50041],[34.14453,8.60204],[34.14304,9.04654],[34.10229,9.50238]]]]}},{type:"Feature",properties:{iso1A2:"ST",iso1A3:"STP",iso1N3:"678",wikidata:"Q1039",nameEn:"So Tom and Principe",groups:["017","202","002","UN"],callingCodes:["239"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.34149,1.91417],[6.6507,-.28606],[7.9035,1.92304],[4.34149,1.91417]]]]}},{type:"Feature",properties:{iso1A2:"SV",iso1A3:"SLV",iso1N3:"222",wikidata:"Q792",nameEn:"El Salvador",groups:["013","003","419","019","UN"],callingCodes:["503"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.34776,14.43013],[-89.39028,14.44561],[-89.57441,14.41637],[-89.58814,14.33165],[-89.50614,14.26084],[-89.52397,14.22628],[-89.61844,14.21937],[-89.70756,14.1537],[-89.75569,14.07073],[-89.73251,14.04133],[-89.76103,14.02923],[-89.81807,14.07073],[-89.88937,14.0396],[-90.10505,13.85104],[-90.11344,13.73679],[-90.55276,12.8866],[-88.11443,12.63306],[-87.7346,13.13228],[-87.55124,13.12523],[-87.69751,13.25228],[-87.73714,13.32715],[-87.80177,13.35689],[-87.84675,13.41078],[-87.83467,13.44655],[-87.77354,13.45767],[-87.73841,13.44169],[-87.72115,13.46083],[-87.71657,13.50577],[-87.78148,13.52906],[-87.73106,13.75443],[-87.68821,13.80829],[-87.7966,13.91353],[-88.00331,13.86948],[-88.07641,13.98447],[-88.23018,13.99915],[-88.25791,13.91108],[-88.48982,13.86458],[-88.49738,13.97224],[-88.70661,14.04317],[-88.73182,14.10919],[-88.815,14.11652],[-88.85785,14.17763],[-88.94608,14.20207],[-89.04187,14.33644],[-89.34776,14.43013]]]]}},{type:"Feature",properties:{iso1A2:"SX",iso1A3:"SXM",iso1N3:"534",wikidata:"Q26273",nameEn:"Sint Maarten",aliases:["NL-SX"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["1 721"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.33064,17.9615],[-63.1055,17.86651],[-62.93924,18.02904],[-63.02323,18.05757],[-63.04039,18.05619],[-63.0579,18.06614],[-63.07759,18.04943],[-63.09686,18.04608],[-63.11042,18.05339],[-63.13502,18.05445],[-63.33064,17.9615]]]]}},{type:"Feature",properties:{iso1A2:"SY",iso1A3:"SYR",iso1N3:"760",wikidata:"Q858",nameEn:"Syria",groups:["145","142","UN"],callingCodes:["963"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.23683,37.2863],[42.21548,37.28026],[42.20454,37.28715],[42.22381,37.30238],[42.22257,37.31395],[42.2112,37.32491],[42.19301,37.31323],[42.18225,37.28569],[42.00894,37.17209],[41.515,37.08084],[41.21937,37.07665],[40.90856,37.13147],[40.69136,37.0996],[39.81589,36.75538],[39.21538,36.66834],[39.03217,36.70911],[38.74042,36.70629],[38.55908,36.84429],[38.38859,36.90064],[38.21064,36.91842],[37.81974,36.76055],[37.68048,36.75065],[37.49103,36.66904],[37.47253,36.63243],[37.21988,36.6736],[37.16177,36.66069],[37.10894,36.6704],[37.08279,36.63495],[37.02088,36.66422],[37.01647,36.69512],[37.04619,36.71101],[37.04399,36.73483],[36.99886,36.74012],[36.99557,36.75997],[36.66727,36.82901],[36.61581,36.74629],[36.62681,36.71189],[36.57398,36.65186],[36.58829,36.58295],[36.54206,36.49539],[36.6081,36.33772],[36.65653,36.33861],[36.68672,36.23677],[36.6125,36.22592],[36.50463,36.2419],[36.4617,36.20461],[36.39206,36.22088],[36.37474,36.01163],[36.33956,35.98687],[36.30099,36.00985],[36.28338,36.00273],[36.29769,35.96086],[36.27678,35.94839],[36.25366,35.96264],[36.19973,35.95195],[36.17441,35.92076],[36.1623,35.80925],[36.14029,35.81015],[36.13919,35.83692],[36.11827,35.85923],[35.99829,35.88242],[36.01844,35.92403],[36.00514,35.94113],[35.98499,35.94107],[35.931,35.92109],[35.51152,36.10954],[35.48515,34.70851],[35.97386,34.63322],[35.98718,34.64977],[36.29165,34.62991],[36.32399,34.69334],[36.35135,34.68516],[36.35384,34.65447],[36.42941,34.62505],[36.46003,34.6378],[36.45299,34.59438],[36.41429,34.61175],[36.39846,34.55672],[36.3369,34.52629],[36.34745,34.5002],[36.4442,34.50165],[36.46179,34.46541],[36.55853,34.41609],[36.53039,34.3798],[36.56556,34.31881],[36.60778,34.31009],[36.58667,34.27667],[36.59195,34.2316],[36.62537,34.20251],[36.5128,34.09916],[36.50576,34.05982],[36.41078,34.05253],[36.28589,33.91981],[36.38263,33.86579],[36.3967,33.83365],[36.14517,33.85118],[36.06778,33.82927],[35.9341,33.6596],[36.05723,33.57904],[35.94465,33.52774],[35.94816,33.47886],[35.88668,33.43183],[35.82577,33.40479],[35.81324,33.36354],[35.77477,33.33609],[35.813,33.3172],[35.77513,33.27342],[35.81295,33.24841],[35.81647,33.2028],[35.83846,33.19397],[35.84285,33.16673],[35.81911,33.1336],[35.81911,33.11077],[35.84802,33.1031],[35.87188,32.98028],[35.89298,32.9456],[35.87012,32.91976],[35.84021,32.8725],[35.83758,32.82817],[35.78745,32.77938],[35.75983,32.74803],[35.88405,32.71321],[35.93307,32.71966],[35.96633,32.66237],[36.02239,32.65911],[36.08074,32.51463],[36.20379,32.52751],[36.20875,32.49529],[36.23948,32.50108],[36.40959,32.37908],[36.83946,32.31293],[38.79171,33.37328],[40.64314,34.31604],[40.97676,34.39788],[41.12388,34.65742],[41.2345,34.80049],[41.21654,35.1508],[41.26569,35.42708],[41.38184,35.62502],[41.37027,35.84095],[41.2564,36.06012],[41.28864,36.35368],[41.40058,36.52502],[41.81736,36.58782],[42.36697,37.0627],[42.35724,37.10998],[42.32313,37.17814],[42.34735,37.22548],[42.2824,37.2798],[42.26039,37.27017],[42.23683,37.2863]]]]}},{type:"Feature",properties:{iso1A2:"SZ",iso1A3:"SWZ",iso1N3:"748",wikidata:"Q1050",nameEn:"Eswatini",aliases:["Swaziland"],groups:["018","202","002","UN"],driveSide:"left",callingCodes:["268"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.86881,-25.99973],[31.4175,-25.71886],[31.31237,-25.7431],[31.13073,-25.91558],[30.95819,-26.26303],[30.78927,-26.48271],[30.81101,-26.84722],[30.88826,-26.79622],[30.97757,-26.92706],[30.96088,-27.0245],[31.15027,-27.20151],[31.49834,-27.31549],[31.97592,-27.31675],[31.97463,-27.11057],[32.00893,-26.8096],[32.09664,-26.80721],[32.13315,-26.84345],[32.13409,-26.5317],[32.07352,-26.40185],[32.10435,-26.15656],[32.08599,-26.00978],[32.00916,-25.999],[31.974,-25.95387],[31.86881,-25.99973]]]]}},{type:"Feature",properties:{iso1A2:"TA",iso1A3:"TAA",wikidata:"Q220982",nameEn:"Tristan da Cunha",aliases:["SH-TA"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290 8","44 20"]},geometry:{type:"MultiPolygon",coordinates:[[[[-13.38232,-34.07258],[-16.67337,-41.9188],[-5.88482,-41.4829],[-13.38232,-34.07258]]]]}},{type:"Feature",properties:{iso1A2:"TC",iso1A3:"TCA",iso1N3:"796",wikidata:"Q18221",nameEn:"Turks and Caicos Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 649"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.70065,25.7637],[-72.98446,20.4801],[-69.80718,21.35956],[-71.70065,25.7637]]]]}},{type:"Feature",properties:{iso1A2:"TD",iso1A3:"TCD",iso1N3:"148",wikidata:"Q657",nameEn:"Chad",groups:["017","202","002","UN"],callingCodes:["235"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.99539,19.49944],[15.99566,23.49639],[14.99751,23.00539],[15.19692,21.99339],[15.20213,21.49365],[15.28332,21.44557],[15.62515,20.95395],[15.57248,20.92138],[15.55382,20.86507],[15.56004,20.79488],[15.59841,20.74039],[15.6721,20.70069],[15.99632,20.35364],[15.75098,19.93002],[15.6032,18.77402],[15.50373,16.89649],[14.37425,15.72591],[13.86301,15.04043],[13.78991,14.87519],[13.809,14.72915],[13.67878,14.64013],[13.68573,14.55276],[13.48259,14.46704],[13.47559,14.40881],[13.6302,13.71094],[14.08251,13.0797],[14.46881,13.08259],[14.56101,12.91036],[14.55058,12.78256],[14.83314,12.62963],[14.90827,12.3269],[14.89019,12.16593],[14.96952,12.0925],[15.00146,12.1223],[15.0349,12.10698],[15.05786,12.0608],[15.04808,11.8731],[15.11579,11.79313],[15.06595,11.71126],[15.13149,11.5537],[15.0585,11.40481],[15.10021,11.04101],[15.04957,11.02347],[15.09127,10.87431],[15.06737,10.80921],[15.15532,10.62846],[15.14936,10.53915],[15.23724,10.47764],[15.30874,10.31063],[15.50535,10.1098],[15.68761,9.99344],[15.41408,9.92876],[15.24618,9.99246],[15.14043,9.99246],[15.05999,9.94845],[14.95722,9.97926],[14.80082,9.93818],[14.4673,10.00264],[14.20411,10.00055],[14.1317,9.82413],[14.01793,9.73169],[13.97544,9.6365],[14.37094,9.2954],[14.35707,9.19611],[14.83566,8.80557],[15.09484,8.65982],[15.20426,8.50892],[15.50743,7.79302],[15.59272,7.7696],[15.56964,7.58936],[15.49743,7.52179],[15.73118,7.52006],[15.79942,7.44149],[16.40703,7.68809],[16.41583,7.77971],[16.58315,7.88657],[16.59415,7.76444],[16.658,7.75353],[16.6668,7.67281],[16.8143,7.53971],[17.67288,7.98905],[17.93926,7.95853],[18.02731,8.01085],[18.6085,8.05009],[18.64153,8.08714],[18.62612,8.14163],[18.67455,8.22226],[18.79783,8.25929],[19.11044,8.68172],[18.86388,8.87971],[19.06421,9.00367],[20.36748,9.11019],[20.82979,9.44696],[21.26348,9.97642],[21.34934,9.95907],[21.52766,10.2105],[21.63553,10.217],[21.71479,10.29932],[21.72139,10.64136],[22.45889,11.00246],[22.87758,10.91915],[22.97249,11.21955],[22.93124,11.41645],[22.7997,11.40424],[22.54907,11.64372],[22.64092,12.07485],[22.48369,12.02766],[22.50548,12.16769],[22.38873,12.45514],[22.46345,12.61925],[22.22684,12.74682],[22.15679,12.66634],[21.98711,12.63292],[21.89371,12.68001],[21.81432,12.81362],[21.94819,13.05637],[22.02914,13.13976],[22.1599,13.19281],[22.29689,13.3731],[22.08674,13.77863],[22.22995,13.96754],[22.5553,14.11704],[22.55997,14.23024],[22.44944,14.24986],[22.38562,14.58907],[22.70474,14.69149],[22.66115,14.86308],[22.99584,15.22989],[22.99584,15.40105],[22.92579,15.47007],[22.93201,15.55107],[23.10792,15.71297],[23.38812,15.69649],[23.62785,15.7804],[23.99997,15.69575],[23.99539,19.49944]]]]}},{type:"Feature",properties:{iso1A2:"TF",iso1A3:"ATF",iso1N3:"260",wikidata:"Q129003",nameEn:"French Southern Territories",country:"FR",groups:["EU","UN"]},geometry:null},{type:"Feature",properties:{iso1A2:"TG",iso1A3:"TGO",iso1N3:"768",wikidata:"Q945",nameEn:"Togo",groups:["011","202","002","UN"],callingCodes:["228"]},geometry:{type:"MultiPolygon",coordinates:[[[[.50388,11.01011],[-.13493,11.14075],[-.14462,11.10811],[-.05733,11.08628],[-.0275,11.11202],[-.00514,11.10763],[.00342,11.08317],[.02395,11.06229],[.03355,10.9807],[-.0063,10.96417],[-.00908,10.91644],[-.02685,10.8783],[-.0228,10.81916],[-.07183,10.76794],[-.07327,10.71845],[-.09141,10.7147],[-.05945,10.63458],[.12886,10.53149],[.18846,10.4096],[.29453,10.41546],[.33028,10.30408],[.39584,10.31112],[.35293,10.09412],[.41371,10.06361],[.41252,10.02018],[.36366,10.03309],[.32075,9.72781],[.34816,9.71607],[.34816,9.66907],[.32313,9.6491],[.28261,9.69022],[.26712,9.66437],[.29334,9.59387],[.36008,9.6256],[.38153,9.58682],[.23851,9.57389],[.2409,9.52335],[.30406,9.521],[.31241,9.50337],[.2254,9.47869],[.25758,9.42696],[.33148,9.44812],[.36485,9.49749],[.49118,9.48339],[.56388,9.40697],[.45424,9.04581],[.52455,8.87746],[.37319,8.75262],[.47211,8.59945],[.64731,8.48866],[.73432,8.29529],[.63897,8.25873],[.5913,8.19622],[.61156,8.18324],[.6056,8.13959],[.58891,8.12779],[.62943,7.85751],[.58295,7.62368],[.51979,7.58706],[.52455,7.45354],[.57223,7.39326],[.62943,7.41099],[.65327,7.31643],[.59606,7.01252],[.52217,6.9723],[.52098,6.94391],[.56508,6.92971],[.52853,6.82921],[.57406,6.80348],[.58176,6.76049],[.6497,6.73682],[.63659,6.63857],[.74862,6.56517],[.71048,6.53083],[.89283,6.33779],[.99652,6.33779],[1.03108,6.24064],[1.05969,6.22998],[1.09187,6.17074],[1.19966,6.17069],[1.19771,6.11522],[1.27574,5.93551],[1.67336,6.02702],[1.62913,6.24075],[1.79826,6.28221],[1.76906,6.43189],[1.58105,6.68619],[1.61812,6.74843],[1.55877,6.99737],[1.64249,6.99562],[1.61838,9.0527],[1.5649,9.16941],[1.41746,9.3226],[1.33675,9.54765],[1.36624,9.5951],[1.35507,9.99525],[.77666,10.37665],[.80358,10.71459],[.8804,10.803],[.91245,10.99597],[.66104,10.99964],[.4958,10.93269],[.50521,10.98035],[.48852,10.98561],[.50388,11.01011]]]]}},{type:"Feature",properties:{iso1A2:"TH",iso1A3:"THA",iso1N3:"764",wikidata:"Q869",nameEn:"Thailand",groups:["035","142","UN"],driveSide:"left",callingCodes:["66"]},geometry:{type:"MultiPolygon",coordinates:[[[[100.08404,20.36626],[99.95721,20.46301],[99.91616,20.44986],[99.90499,20.4487],[99.89692,20.44789],[99.89301,20.44311],[99.89168,20.44548],[99.88451,20.44596],[99.88211,20.44488],[99.86383,20.44371],[99.81096,20.33687],[99.68255,20.32077],[99.46008,20.39673],[99.46077,20.36198],[99.5569,20.20676],[99.52943,20.14811],[99.416,20.08614],[99.20328,20.12877],[99.0735,20.10298],[98.98679,19.7419],[98.83661,19.80931],[98.56065,19.67807],[98.51182,19.71303],[98.24884,19.67876],[98.13829,19.78541],[98.03314,19.80941],[98.04364,19.65755],[97.84715,19.55782],[97.88423,19.5041],[97.78769,19.39429],[97.84186,19.29526],[97.78606,19.26769],[97.84024,19.22217],[97.83479,19.09972],[97.73797,19.04261],[97.73654,18.9812],[97.66487,18.9371],[97.73836,18.88478],[97.76752,18.58097],[97.5258,18.4939],[97.36444,18.57138],[97.34522,18.54596],[97.50383,18.26844],[97.56219,18.33885],[97.64116,18.29778],[97.60841,18.23846],[97.73723,17.97912],[97.66794,17.88005],[97.76407,17.71595],[97.91829,17.54504],[98.11185,17.36829],[98.10439,17.33847],[98.34566,17.04822],[98.39441,17.06266],[98.52624,16.89979],[98.49603,16.8446],[98.53833,16.81934],[98.46994,16.73613],[98.50253,16.7139],[98.49713,16.69022],[98.51043,16.70107],[98.51579,16.69433],[98.51472,16.68521],[98.51833,16.676],[98.51113,16.64503],[98.5695,16.62826],[98.57912,16.55983],[98.63817,16.47424],[98.68074,16.27068],[98.84485,16.42354],[98.92656,16.36425],[98.8376,16.11706],[98.69585,16.13353],[98.57019,16.04578],[98.59853,15.87197],[98.541,15.65406],[98.58598,15.46821],[98.56027,15.33471],[98.4866,15.39154],[98.39351,15.34177],[98.41906,15.27103],[98.40522,15.25268],[98.30446,15.30667],[98.22,15.21327],[98.18821,15.13125],[98.24874,14.83013],[98.56762,14.37701],[98.97356,14.04868],[99.16695,13.72621],[99.20617,13.20575],[99.12225,13.19847],[99.10646,13.05804],[99.18748,12.9898],[99.18905,12.84799],[99.29254,12.68921],[99.409,12.60603],[99.47519,12.1353],[99.56445,12.14805],[99.53424,12.02317],[99.64891,11.82699],[99.64108,11.78948],[99.5672,11.62732],[99.47598,11.62434],[99.39485,11.3925],[99.31573,11.32081],[99.32756,11.28545],[99.06938,10.94857],[99.02337,10.97217],[98.99701,10.92962],[99.0069,10.85485],[98.86819,10.78336],[98.78511,10.68351],[98.77275,10.62548],[98.81944,10.52761],[98.7391,10.31488],[98.55174,9.92804],[98.52291,9.92389],[98.47298,9.95782],[98.33094,9.91973],[98.12555,9.44056],[97.63455,9.60854],[97.19814,8.18901],[99.31854,5.99868],[99.50117,6.44501],[99.91873,6.50233],[100.0756,6.4045],[100.12,6.42105],[100.19511,6.72559],[100.29651,6.68439],[100.30828,6.66462],[100.31618,6.66781],[100.31884,6.66423],[100.32671,6.66526],[100.32607,6.65933],[100.31929,6.65413],[100.35413,6.54932],[100.41152,6.52299],[100.41791,6.5189],[100.42351,6.51762],[100.43027,6.52389],[100.66986,6.45086],[100.74361,6.50811],[100.74822,6.46231],[100.81045,6.45086],[100.85884,6.24929],[101.10313,6.25617],[101.12618,6.19431],[101.06165,6.14161],[101.12388,6.11411],[101.087,5.9193],[101.02708,5.91013],[100.98815,5.79464],[101.14062,5.61613],[101.25755,5.71065],[101.25524,5.78633],[101.58019,5.93534],[101.69773,5.75881],[101.75074,5.79091],[101.80144,5.74505],[101.89188,5.8386],[101.91776,5.84269],[101.92819,5.85511],[101.94712,5.98421],[101.9714,6.00575],[101.97114,6.01992],[101.99209,6.04075],[102.01835,6.05407],[102.09182,6.14161],[102.07732,6.193],[102.08127,6.22679],[102.09086,6.23546],[102.46318,7.22462],[102.47649,9.66162],[102.52395,11.25257],[102.91449,11.65512],[102.90973,11.75613],[102.83957,11.8519],[102.78427,11.98746],[102.77026,12.06815],[102.70176,12.1686],[102.73134,12.37091],[102.78116,12.40284],[102.7796,12.43781],[102.57567,12.65358],[102.51963,12.66117],[102.4994,12.71736],[102.53053,12.77506],[102.49335,12.92711],[102.48694,12.97537],[102.52275,12.99813],[102.46011,13.08057],[102.43422,13.09061],[102.36146,13.26006],[102.36001,13.31142],[102.34611,13.35618],[102.35692,13.38274],[102.35563,13.47307],[102.361,13.50551],[102.33828,13.55613],[102.36859,13.57488],[102.44601,13.5637],[102.5358,13.56933],[102.57573,13.60461],[102.62483,13.60883],[102.58635,13.6286],[102.5481,13.6589],[102.56848,13.69366],[102.72727,13.77806],[102.77864,13.93374],[102.91251,14.01531],[102.93275,14.19044],[103.16469,14.33075],[103.39353,14.35639],[103.53518,14.42575],[103.71109,14.4348],[103.70175,14.38052],[103.93836,14.3398],[104.27616,14.39861],[104.55014,14.36091],[104.69335,14.42726],[104.97667,14.38806],[105.02804,14.23722],[105.08408,14.20402],[105.14012,14.23873],[105.17748,14.34432],[105.20894,14.34967],[105.43783,14.43865],[105.53864,14.55731],[105.5121,14.80802],[105.61162,15.00037],[105.46661,15.13132],[105.58043,15.32724],[105.50662,15.32054],[105.4692,15.33709],[105.47635,15.3796],[105.58191,15.41031],[105.60446,15.53301],[105.61756,15.68792],[105.46573,15.74742],[105.42285,15.76971],[105.37959,15.84074],[105.34115,15.92737],[105.38508,15.987],[105.42001,16.00657],[105.06204,16.09792],[105.00262,16.25627],[104.88057,16.37311],[104.73349,16.565],[104.76099,16.69302],[104.7397,16.81005],[104.76442,16.84752],[104.7373,16.91125],[104.73712,17.01404],[104.80716,17.19025],[104.80061,17.39367],[104.69867,17.53038],[104.45404,17.66788],[104.35432,17.82871],[104.2757,17.86139],[104.21776,17.99335],[104.10927,18.10826],[104.06533,18.21656],[103.97725,18.33631],[103.93916,18.33914],[103.85642,18.28666],[103.82449,18.33979],[103.699,18.34125],[103.60957,18.40528],[103.47773,18.42841],[103.41044,18.4486],[103.30977,18.4341],[103.24779,18.37807],[103.23818,18.34875],[103.29757,18.30475],[103.17093,18.2618],[103.14994,18.23172],[103.1493,18.17799],[103.07343,18.12351],[103.07823,18.03833],[103.0566,18.00144],[103.01998,17.97095],[102.9912,17.9949],[102.95812,18.0054],[102.86323,17.97531],[102.81988,17.94233],[102.79044,17.93612],[102.75954,17.89561],[102.68538,17.86653],[102.67543,17.84529],[102.69946,17.81686],[102.68194,17.80151],[102.59485,17.83537],[102.5896,17.84889],[102.61432,17.92273],[102.60971,17.95411],[102.59234,17.96127],[102.45523,17.97106],[102.11359,18.21532],[101.88485,18.02474],[101.78087,18.07559],[101.72294,17.92867],[101.44667,17.7392],[101.15108,17.47586],[100.96541,17.57926],[101.02185,17.87637],[101.1793,18.0544],[101.19118,18.2125],[101.15108,18.25624],[101.18227,18.34367],[101.06047,18.43247],[101.27585,18.68875],[101.22832,18.73377],[101.25803,18.89545],[101.35606,19.04716],[101.261,19.12717],[101.24911,19.33334],[101.20604,19.35296],[101.21347,19.46223],[101.26991,19.48324],[101.26545,19.59242],[101.08928,19.59748],[100.90302,19.61901],[100.77231,19.48324],[100.64606,19.55884],[100.58219,19.49164],[100.49604,19.53504],[100.398,19.75047],[100.5094,19.87904],[100.58808,20.15791],[100.55218,20.17741],[100.51052,20.14928],[100.47567,20.19133],[100.4537,20.19971],[100.44992,20.23644],[100.41473,20.25625],[100.37439,20.35156],[100.33383,20.4028],[100.25769,20.3992],[100.22076,20.31598],[100.16668,20.2986],[100.1712,20.24324],[100.11785,20.24787],[100.09337,20.26293],[100.09999,20.31614],[100.08404,20.36626]]]]}},{type:"Feature",properties:{iso1A2:"TJ",iso1A3:"TJK",iso1N3:"762",wikidata:"Q863",nameEn:"Tajikistan",groups:["143","142","UN"],callingCodes:["992"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.45251,41.04438],[70.38028,41.02014],[70.36655,40.90296],[69.69434,40.62615],[69.59441,40.70181],[69.53021,40.77621],[69.38327,40.7918],[69.32834,40.70233],[69.3455,40.57988],[69.2643,40.57506],[69.21063,40.54469],[69.27066,40.49274],[69.28525,40.41894],[69.30774,40.36102],[69.33794,40.34819],[69.32833,40.29794],[69.30808,40.2821],[69.24817,40.30357],[69.25229,40.26362],[69.30104,40.24502],[69.30448,40.18774],[69.2074,40.21488],[69.15659,40.2162],[69.04544,40.22904],[68.85832,40.20885],[68.84357,40.18604],[68.79276,40.17555],[68.77902,40.20492],[68.5332,40.14826],[68.52771,40.11676],[68.62796,40.07789],[69.01523,40.15771],[69.01935,40.11466],[68.96579,40.06949],[68.84906,40.04952],[68.93695,39.91167],[68.88889,39.87163],[68.63071,39.85265],[68.61972,39.68905],[68.54166,39.53929],[68.12053,39.56317],[67.70992,39.66156],[67.62889,39.60234],[67.44899,39.57799],[67.46547,39.53564],[67.39681,39.52505],[67.46822,39.46146],[67.45998,39.315],[67.36522,39.31287],[67.33226,39.23739],[67.67833,39.14479],[67.68915,39.00775],[68.09704,39.02589],[68.19743,38.85985],[68.06948,38.82115],[68.12877,38.73677],[68.05598,38.71641],[68.0807,38.64136],[68.05873,38.56087],[68.11366,38.47169],[68.06274,38.39435],[68.13289,38.40822],[68.40343,38.19484],[68.27159,37.91477],[68.12635,37.93],[67.81566,37.43107],[67.8474,37.31594],[67.78329,37.1834],[67.7803,37.08978],[67.87917,37.0591],[68.02194,36.91923],[68.18542,37.02074],[68.27605,37.00977],[68.29253,37.10621],[68.41201,37.10402],[68.41888,37.13906],[68.61851,37.19815],[68.6798,37.27906],[68.81438,37.23862],[68.80889,37.32494],[68.91189,37.26704],[68.88168,37.33368],[68.96407,37.32603],[69.03274,37.25174],[69.25152,37.09426],[69.39529,37.16752],[69.45022,37.23315],[69.36645,37.40462],[69.44954,37.4869],[69.51888,37.5844],[69.80041,37.5746],[69.84435,37.60616],[69.93362,37.61378],[69.95971,37.5659],[70.15015,37.52519],[70.28243,37.66706],[70.27694,37.81258],[70.1863,37.84296],[70.17206,37.93276],[70.4898,38.12546],[70.54673,38.24541],[70.60407,38.28046],[70.61526,38.34774],[70.64966,38.34999],[70.69189,38.37031],[70.6761,38.39144],[70.67438,38.40597],[70.69807,38.41861],[70.72485,38.4131],[70.75455,38.4252],[70.77132,38.45548],[70.78581,38.45502],[70.78702,38.45031],[70.79766,38.44944],[70.80521,38.44447],[70.81697,38.44507],[70.82538,38.45394],[70.84376,38.44688],[70.88719,38.46826],[70.92728,38.43021],[70.98693,38.48862],[71.03545,38.44779],[71.0556,38.40176],[71.09542,38.42517],[71.10592,38.42077],[71.10957,38.40671],[71.1451,38.40106],[71.21291,38.32797],[71.33114,38.30339],[71.33869,38.27335],[71.37803,38.25641],[71.36444,38.15358],[71.29878,38.04429],[71.28922,38.01272],[71.27622,37.99946],[71.27278,37.96496],[71.24969,37.93031],[71.2809,37.91995],[71.296,37.93403],[71.32871,37.88564],[71.51565,37.95349],[71.58843,37.92425],[71.59255,37.79956],[71.55752,37.78677],[71.54324,37.77104],[71.53053,37.76534],[71.55234,37.73209],[71.54186,37.69691],[71.51972,37.61945],[71.5065,37.60912],[71.49693,37.53527],[71.50616,37.50733],[71.5256,37.47971],[71.49612,37.4279],[71.47685,37.40281],[71.4862,37.33405],[71.49821,37.31975],[71.50674,37.31502],[71.48536,37.26017],[71.4824,37.24921],[71.48339,37.23937],[71.47386,37.2269],[71.4555,37.21418],[71.4494,37.18137],[71.44127,37.11856],[71.43097,37.05855],[71.45578,37.03094],[71.46923,36.99925],[71.48481,36.93218],[71.51502,36.89128],[71.57195,36.74943],[71.67083,36.67346],[71.83229,36.68084],[72.31676,36.98115],[72.54095,37.00007],[72.66381,37.02014],[72.79693,37.22222],[73.06884,37.31729],[73.29633,37.46495],[73.77197,37.4417],[73.76647,37.33913],[73.61129,37.27469],[73.64974,37.23643],[73.82552,37.22659],[73.8564,37.26158],[74.20308,37.34208],[74.23339,37.41116],[74.41055,37.3948],[74.56161,37.37734],[74.68383,37.3948],[74.8294,37.3435],[74.88887,37.23275],[75.12328,37.31839],[75.09719,37.37297],[75.15899,37.41443],[75.06011,37.52779],[74.94338,37.55501],[74.8912,37.67576],[75.00935,37.77486],[74.92416,37.83428],[74.9063,38.03033],[74.82665,38.07359],[74.80331,38.19889],[74.69894,38.22155],[74.69619,38.42947],[74.51217,38.47034],[74.17022,38.65504],[73.97933,38.52945],[73.79806,38.61106],[73.80656,38.66449],[73.7033,38.84782],[73.7445,38.93867],[73.82964,38.91517],[73.81728,39.04007],[73.75823,39.023],[73.60638,39.24534],[73.54572,39.27567],[73.55396,39.3543],[73.5004,39.38402],[73.59241,39.40843],[73.59831,39.46425],[73.45096,39.46677],[73.31912,39.38615],[73.18454,39.35536],[72.85934,39.35116],[72.62027,39.39696],[72.33173,39.33093],[72.23834,39.17248],[72.17242,39.2661],[72.09689,39.26823],[72.04059,39.36704],[71.90601,39.27674],[71.79202,39.27355],[71.7522,39.32031],[71.80164,39.40631],[71.76816,39.45456],[71.62688,39.44056],[71.5517,39.45722],[71.55856,39.57588],[71.49814,39.61397],[71.08752,39.50704],[71.06418,39.41586],[70.7854,39.38933],[70.64087,39.58792],[70.44757,39.60128],[70.2869,39.53141],[70.11111,39.58223],[69.87491,39.53882],[69.68677,39.59281],[69.3594,39.52516],[69.26938,39.8127],[69.35649,40.01994],[69.43134,39.98431],[69.43557,39.92877],[69.53615,39.93991],[69.5057,40.03277],[69.53855,40.0887],[69.53794,40.11833],[69.55555,40.12296],[69.57615,40.10524],[69.64704,40.12165],[69.67001,40.10639],[70.01283,40.23288],[70.58297,40.00891],[70.57384,39.99394],[70.47557,39.93216],[70.55033,39.96619],[70.58912,39.95211],[70.65946,39.9878],[70.65827,40.0981],[70.7928,40.12797],[70.80495,40.16813],[70.9818,40.22392],[70.8607,40.217],[70.62342,40.17396],[70.56394,40.26421],[70.57149,40.3442],[70.37511,40.38605],[70.32626,40.45174],[70.49871,40.52503],[70.80009,40.72825],[70.45251,41.04438]]],[[[70.68112,40.90612],[70.6158,40.97661],[70.56077,41.00642],[70.54223,40.98787],[70.57501,40.98941],[70.6721,40.90555],[70.68112,40.90612]]],[[[70.74189,39.86319],[70.53651,39.89155],[70.52631,39.86989],[70.54998,39.85137],[70.59667,39.83542],[70.63105,39.77923],[70.74189,39.86319]]]]}},{type:"Feature",properties:{iso1A2:"TK",iso1A3:"TKL",iso1N3:"772",wikidata:"Q36823",nameEn:"Tokelau",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["690"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.251,-9.44289],[-174.18635,-7.80441],[-174.17993,-10.13616],[-168.251,-9.44289]]]]}},{type:"Feature",properties:{iso1A2:"TL",iso1A3:"TLS",iso1N3:"626",wikidata:"Q574",nameEn:"East Timor",aliases:["Timor-Leste","TP"],groups:["035","142","UN"],driveSide:"left",callingCodes:["670"]},geometry:{type:"MultiPolygon",coordinates:[[[[124.46701,-9.13002],[124.94011,-8.85617],[124.97742,-9.08128],[125.11764,-8.96359],[125.18632,-9.03142],[125.18907,-9.16434],[125.09434,-9.19669],[125.04044,-9.17093],[124.97892,-9.19281],[125.09025,-9.46406],[125.68138,-9.85176],[127.55165,-9.05052],[127.42116,-8.22471],[125.87691,-8.31789],[125.58506,-7.95311],[124.92337,-8.75859],[124.33472,-9.11416],[124.04628,-9.22671],[124.04286,-9.34243],[124.10539,-9.41206],[124.14517,-9.42324],[124.21247,-9.36904],[124.28115,-9.42189],[124.28115,-9.50453],[124.3535,-9.48493],[124.35258,-9.43002],[124.38554,-9.3582],[124.45971,-9.30263],[124.46701,-9.13002]]]]}},{type:"Feature",properties:{iso1A2:"TM",iso1A3:"TKM",iso1N3:"795",wikidata:"Q874",nameEn:"Turkmenistan",groups:["143","142","UN"],callingCodes:["993"]},geometry:{type:"MultiPolygon",coordinates:[[[[60.5078,41.21694],[60.06581,41.4363],[60.18117,41.60082],[60.06032,41.76287],[60.08504,41.80997],[60.33223,41.75058],[59.95046,41.97966],[60.0356,42.01028],[60.04659,42.08982],[59.96419,42.1428],[60.00539,42.212],[59.94633,42.27655],[59.4341,42.29738],[59.2955,42.37064],[59.17317,42.52248],[58.93422,42.5407],[58.6266,42.79314],[58.57991,42.64988],[58.27504,42.69632],[58.14321,42.62159],[58.29427,42.56497],[58.51674,42.30348],[58.40688,42.29535],[58.3492,42.43335],[57.99214,42.50021],[57.90975,42.4374],[57.92897,42.24047],[57.84932,42.18555],[57.6296,42.16519],[57.30275,42.14076],[57.03633,41.92043],[56.96218,41.80383],[57.03359,41.41777],[57.13796,41.36625],[57.03423,41.25435],[56.00314,41.32584],[55.45471,41.25609],[54.95182,41.92424],[54.20635,42.38477],[52.97575,42.1308],[52.47884,41.78034],[52.26048,41.69249],[51.7708,40.29239],[53.89734,37.3464],[54.24565,37.32047],[54.36211,37.34912],[54.58664,37.45809],[54.67247,37.43532],[54.77822,37.51597],[54.81804,37.61285],[54.77684,37.62264],[54.851,37.75739],[55.13412,37.94705],[55.44152,38.08564],[55.76561,38.12238],[55.97847,38.08024],[56.33278,38.08132],[56.32454,38.18502],[56.43303,38.26054],[56.62255,38.24005],[56.73928,38.27887],[57.03453,38.18717],[57.21169,38.28965],[57.37236,38.09321],[57.35042,37.98546],[57.79534,37.89299],[58.21399,37.77281],[58.22999,37.6856],[58.39959,37.63134],[58.47786,37.6433],[58.5479,37.70526],[58.6921,37.64548],[58.9338,37.67374],[59.22905,37.51161],[59.33507,37.53146],[59.39797,37.47892],[59.39385,37.34257],[59.55178,37.13594],[59.74678,37.12499],[60.00768,37.04102],[60.34767,36.63214],[61.14516,36.64644],[61.18187,36.55348],[61.1393,36.38782],[61.22719,36.12759],[61.12007,35.95992],[61.22444,35.92879],[61.26152,35.80749],[61.22719,35.67038],[61.27371,35.61482],[61.58742,35.43803],[61.77693,35.41341],[61.97743,35.4604],[62.05709,35.43803],[62.15871,35.33278],[62.29191,35.25964],[62.29878,35.13312],[62.48006,35.28796],[62.62288,35.22067],[62.74098,35.25432],[62.90853,35.37086],[63.0898,35.43131],[63.12276,35.53196],[63.10079,35.63024],[63.23262,35.67487],[63.10318,35.81782],[63.12276,35.86208],[63.29579,35.85985],[63.53475,35.90881],[63.56496,35.95106],[63.98519,36.03773],[64.05385,36.10433],[64.43288,36.24401],[64.57295,36.34362],[64.62514,36.44311],[64.61141,36.6351],[64.97945,37.21913],[65.51778,37.23881],[65.64263,37.34388],[65.64137,37.45061],[65.72274,37.55438],[66.30993,37.32409],[66.55743,37.35409],[66.52303,37.39827],[66.65761,37.45497],[66.52852,37.58568],[66.53676,37.80084],[66.67684,37.96776],[66.56697,38.0435],[66.41042,38.02403],[66.24013,38.16238],[65.83913,38.25733],[65.55873,38.29052],[64.32576,38.98691],[64.19086,38.95561],[63.70778,39.22349],[63.6913,39.27666],[62.43337,39.98528],[62.34273,40.43206],[62.11751,40.58242],[61.87856,41.12257],[61.4446,41.29407],[61.39732,41.19873],[61.33199,41.14946],[61.22212,41.14946],[61.03261,41.25691],[60.5078,41.21694]]]]}},{type:"Feature",properties:{iso1A2:"TN",iso1A3:"TUN",iso1N3:"788",wikidata:"Q948",nameEn:"Tunisia",groups:["015","002","UN"],callingCodes:["216"]},geometry:{type:"MultiPolygon",coordinates:[[[[11.2718,37.6713],[7.89009,38.19924],[8.59123,37.14286],[8.64044,36.9401],[8.62972,36.86499],[8.67706,36.8364],[8.57613,36.78062],[8.46537,36.7706],[8.47609,36.66607],[8.16167,36.48817],[8.18936,36.44939],[8.40731,36.42208],[8.2626,35.91733],[8.26472,35.73669],[8.35371,35.66373],[8.36086,35.47774],[8.30329,35.29884],[8.47318,35.23376],[8.3555,35.10007],[8.30727,34.95378],[8.25189,34.92009],[8.29655,34.72798],[8.20482,34.57575],[7.86264,34.3987],[7.81242,34.21841],[7.74207,34.16492],[7.66174,34.20167],[7.52851,34.06493],[7.54088,33.7726],[7.73687,33.42114],[7.83028,33.18851],[8.11433,33.10175],[8.1179,33.05086],[8.31895,32.83483],[8.35999,32.50101],[9.07483,32.07865],[9.55544,30.23971],[9.76848,30.34366],[9.88152,30.34074],[10.29516,30.90337],[10.12239,31.42098],[10.31364,31.72648],[10.48497,31.72956],[10.62788,31.96629],[10.7315,31.97235],[11.04234,32.2145],[11.53898,32.4138],[11.57828,32.48013],[11.46037,32.6307],[11.51549,33.09826],[11.55852,33.1409],[11.58941,33.36891],[11.2718,37.6713]]]]}},{type:"Feature",properties:{iso1A2:"TO",iso1A3:"TON",iso1N3:"776",wikidata:"Q678",nameEn:"Tonga",groups:["061","009","UN"],driveSide:"left",callingCodes:["676"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.74538,-22.89767],[-180,-22.90585],[-180,-24.21376],[-173.10761,-24.19665],[-173.13438,-14.94228],[-176.76826,-14.95183],[-176.74538,-22.89767]]]]}},{type:"Feature",properties:{iso1A2:"TR",iso1A3:"TUR",iso1N3:"792",wikidata:"Q43",nameEn:"Turkey",groups:["145","142","UN"],callingCodes:["90"]},geometry:{type:"MultiPolygon",coordinates:[[[[41.54366,41.52185],[40.89217,41.72528],[34.8305,42.4581],[28.32297,41.98371],[28.02971,41.98066],[27.91479,41.97902],[27.83492,41.99709],[27.81235,41.94803],[27.69949,41.97515],[27.55191,41.90928],[27.52379,41.93756],[27.45478,41.96591],[27.27411,42.10409],[27.22376,42.10152],[27.19251,42.06028],[27.08486,42.08735],[27.03277,42.0809],[26.95638,42.00741],[26.79143,41.97386],[26.62996,41.97644],[26.56051,41.92995],[26.57961,41.90024],[26.53968,41.82653],[26.36952,41.82265],[26.33589,41.76802],[26.32952,41.73637],[26.35957,41.71149],[26.47958,41.67037],[26.5209,41.62592],[26.59196,41.60491],[26.59742,41.48058],[26.61767,41.42281],[26.62997,41.34613],[26.5837,41.32131],[26.5209,41.33993],[26.39861,41.25053],[26.32259,41.24929],[26.31928,41.07386],[26.3606,41.02027],[26.33297,40.98388],[26.35894,40.94292],[26.32259,40.94042],[26.28623,40.93005],[26.29441,40.89119],[26.26169,40.9168],[26.20856,40.86048],[26.21351,40.83298],[26.15685,40.80709],[26.12854,40.77339],[26.12495,40.74283],[26.08638,40.73214],[26.0754,40.72772],[26.03489,40.73051],[25.94795,40.72797],[26.04292,40.3958],[25.61285,40.17161],[25.94257,39.39358],[26.43357,39.43096],[26.70773,39.0312],[26.61814,38.81372],[26.21136,38.65436],[26.32173,38.48731],[26.24183,38.44695],[26.21136,38.17558],[27.05537,37.9131],[27.16428,37.72343],[26.99377,37.69034],[26.95583,37.64989],[27.14757,37.32],[27.20312,36.94571],[27.45627,36.9008],[27.24613,36.71622],[27.46117,36.53789],[27.89482,36.69898],[27.95037,36.46155],[28.23708,36.56812],[29.30783,36.01033],[29.48192,36.18377],[29.61002,36.1731],[29.61805,36.14179],[29.69611,36.10365],[29.73302,35.92555],[32.82353,35.70297],[35.51152,36.10954],[35.931,35.92109],[35.98499,35.94107],[36.00514,35.94113],[36.01844,35.92403],[35.99829,35.88242],[36.11827,35.85923],[36.13919,35.83692],[36.14029,35.81015],[36.1623,35.80925],[36.17441,35.92076],[36.19973,35.95195],[36.25366,35.96264],[36.27678,35.94839],[36.29769,35.96086],[36.28338,36.00273],[36.30099,36.00985],[36.33956,35.98687],[36.37474,36.01163],[36.39206,36.22088],[36.4617,36.20461],[36.50463,36.2419],[36.6125,36.22592],[36.68672,36.23677],[36.65653,36.33861],[36.6081,36.33772],[36.54206,36.49539],[36.58829,36.58295],[36.57398,36.65186],[36.62681,36.71189],[36.61581,36.74629],[36.66727,36.82901],[36.99557,36.75997],[36.99886,36.74012],[37.04399,36.73483],[37.04619,36.71101],[37.01647,36.69512],[37.02088,36.66422],[37.08279,36.63495],[37.10894,36.6704],[37.16177,36.66069],[37.21988,36.6736],[37.47253,36.63243],[37.49103,36.66904],[37.68048,36.75065],[37.81974,36.76055],[38.21064,36.91842],[38.38859,36.90064],[38.55908,36.84429],[38.74042,36.70629],[39.03217,36.70911],[39.21538,36.66834],[39.81589,36.75538],[40.69136,37.0996],[40.90856,37.13147],[41.21937,37.07665],[41.515,37.08084],[42.00894,37.17209],[42.18225,37.28569],[42.19301,37.31323],[42.2112,37.32491],[42.22257,37.31395],[42.22381,37.30238],[42.20454,37.28715],[42.21548,37.28026],[42.23683,37.2863],[42.26039,37.27017],[42.2824,37.2798],[42.34735,37.22548],[42.32313,37.17814],[42.35724,37.10998],[42.56725,37.14878],[42.78887,37.38615],[42.93705,37.32015],[43.11403,37.37436],[43.30083,37.30629],[43.33508,37.33105],[43.50787,37.24436],[43.56702,37.25675],[43.63085,37.21957],[43.7009,37.23692],[43.8052,37.22825],[43.82699,37.19477],[43.84878,37.22205],[43.90949,37.22453],[44.02002,37.33229],[44.13521,37.32486],[44.2613,37.25055],[44.27998,37.16501],[44.22239,37.15756],[44.18503,37.09551],[44.25975,36.98119],[44.30645,36.97373],[44.35937,37.02843],[44.35315,37.04955],[44.38117,37.05825],[44.42631,37.05825],[44.63179,37.19229],[44.76698,37.16162],[44.78319,37.1431],[44.7868,37.16644],[44.75986,37.21549],[44.81021,37.2915],[44.58449,37.45018],[44.61401,37.60165],[44.56887,37.6429],[44.62096,37.71985],[44.55498,37.783],[44.45948,37.77065],[44.3883,37.85433],[44.22509,37.88859],[44.42476,38.25763],[44.50115,38.33939],[44.44386,38.38295],[44.38309,38.36117],[44.3119,38.37887],[44.3207,38.49799],[44.32058,38.62752],[44.28065,38.6465],[44.26155,38.71427],[44.30322,38.81581],[44.18863,38.93881],[44.20946,39.13975],[44.1043,39.19842],[44.03667,39.39223],[44.22452,39.4169],[44.29818,39.378],[44.37921,39.4131],[44.42832,39.4131],[44.41849,39.56659],[44.48111,39.61579],[44.47298,39.68788],[44.6137,39.78393],[44.65422,39.72163],[44.71806,39.71124],[44.81043,39.62677],[44.80977,39.65768],[44.75779,39.7148],[44.61845,39.8281],[44.46635,39.97733],[44.26973,40.04866],[44.1778,40.02845],[44.1057,40.03555],[43.92307,40.01787],[43.65688,40.11199],[43.65221,40.14889],[43.71136,40.16673],[43.59928,40.34019],[43.60862,40.43267],[43.54791,40.47413],[43.63664,40.54159],[43.7425,40.66805],[43.74872,40.7365],[43.67712,40.84846],[43.67712,40.93084],[43.58683,40.98961],[43.47319,41.02251],[43.44984,41.0988],[43.4717,41.12611],[43.44973,41.17666],[43.36118,41.2028],[43.23096,41.17536],[43.1945,41.25242],[43.13373,41.25503],[43.21707,41.30331],[43.02956,41.37891],[42.8785,41.50516],[42.84899,41.47265],[42.78995,41.50126],[42.84471,41.58912],[42.72794,41.59714],[42.59202,41.58183],[42.51772,41.43606],[42.26387,41.49346],[41.95134,41.52466],[41.81939,41.43621],[41.7124,41.47417],[41.7148,41.4932],[41.54366,41.52185]]]]}},{type:"Feature",properties:{iso1A2:"TT",iso1A3:"TTO",iso1N3:"780",wikidata:"Q754",nameEn:"Trinidad and Tobago",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 868"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.62505,11.18974],[-62.08693,10.04435],[-60.89962,9.81445],[-60.07172,11.77667],[-61.62505,11.18974]]]]}},{type:"Feature",properties:{iso1A2:"TV",iso1A3:"TUV",iso1N3:"798",wikidata:"Q672",nameEn:"Tuvalu",groups:["061","009","UN"],driveSide:"left",callingCodes:["688"]},geometry:{type:"MultiPolygon",coordinates:[[[[174,-5],[174,-11.5],[179.99999,-11.5],[179.99999,-5],[174,-5]]]]}},{type:"Feature",properties:{iso1A2:"TW",iso1A3:"TWN",iso1N3:"158",wikidata:"Q865",nameEn:"Taiwan",aliases:["RC"],groups:["030","142"],callingCodes:["886"]},geometry:{type:"MultiPolygon",coordinates:[[[[121.8109,21.77688],[122.26612,25.98197],[120.5128,26.536],[120.0693,26.3959],[119.78816,26.2348],[119.98511,25.37624],[119.42295,25.0886],[118.6333,24.46259],[118.42453,24.54644],[118.35291,24.51645],[118.28244,24.51231],[118.11703,24.39734],[120.69238,21.52331],[121.8109,21.77688]]]]}},{type:"Feature",properties:{iso1A2:"TZ",iso1A3:"TZA",iso1N3:"834",wikidata:"Q924",nameEn:"Tanzania",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["255"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.80408,-.99911],[30.76635,-.9852],[30.70631,-1.01175],[30.64166,-1.06601],[30.47194,-1.0555],[30.45116,-1.10641],[30.50889,-1.16412],[30.57123,-1.33264],[30.71974,-1.43244],[30.84079,-1.64652],[30.80802,-1.91477],[30.89303,-2.08223],[30.83915,-2.35795],[30.54501,-2.41404],[30.41789,-2.66266],[30.52747,-2.65841],[30.40662,-2.86151],[30.4987,-2.9573],[30.57926,-2.89791],[30.6675,-2.98987],[30.83823,-2.97837],[30.84165,-3.25152],[30.45915,-3.56532],[30.22042,-4.01738],[30.03323,-4.26631],[29.88172,-4.35743],[29.82885,-4.36153],[29.77289,-4.41733],[29.75109,-4.45836],[29.63827,-4.44681],[29.43673,-4.44845],[29.52552,-6.2731],[30.2567,-7.14121],[30.79243,-8.27382],[31.00796,-8.58615],[31.37533,-8.60769],[31.57147,-8.70619],[31.57147,-8.81388],[31.71158,-8.91386],[31.81587,-8.88618],[31.94663,-8.93846],[31.94196,-9.02303],[31.98866,-9.07069],[32.08206,-9.04609],[32.16146,-9.05993],[32.25486,-9.13371],[32.43543,-9.11988],[32.49147,-9.14754],[32.53661,-9.24281],[32.75611,-9.28583],[32.76233,-9.31963],[32.95389,-9.40138],[32.99397,-9.36712],[33.14925,-9.49322],[33.31581,-9.48554],[33.48052,-9.62442],[33.76677,-9.58516],[33.93298,-9.71647],[33.9638,-9.62206],[33.95829,-9.54066],[34.03865,-9.49398],[34.54499,-10.0678],[34.51911,-10.12279],[34.57581,-10.56271],[34.65946,-10.6828],[34.67047,-10.93796],[34.61161,-11.01611],[34.63305,-11.11731],[34.79375,-11.32245],[34.91153,-11.39799],[34.96296,-11.57354],[35.63599,-11.55927],[35.82767,-11.41081],[36.19094,-11.57593],[36.19094,-11.70008],[36.62068,-11.72884],[36.80309,-11.56836],[37.3936,-11.68949],[37.76614,-11.53352],[37.8388,-11.3123],[37.93618,-11.26228],[38.21598,-11.27289],[38.47258,-11.4199],[38.88996,-11.16978],[39.24395,-11.17433],[39.58249,-10.96043],[40.00295,-10.80255],[40.44265,-10.4618],[40.74206,-10.25691],[40.14328,-4.64201],[39.62121,-4.68136],[39.44306,-4.93877],[39.21631,-4.67835],[37.81321,-3.69179],[37.75036,-3.54243],[37.63099,-3.50723],[37.5903,-3.42735],[37.71745,-3.304],[37.67199,-3.06222],[34.0824,-1.02264],[34.03084,-1.05101],[34.02286,-1.00779],[33.93107,-.99298],[30.80408,-.99911]]]]}},{type:"Feature",properties:{iso1A2:"UA",iso1A3:"UKR",iso1N3:"804",wikidata:"Q212",nameEn:"Ukraine",groups:["151","150","UN"],callingCodes:["380"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.57318,46.10317],[33.6147,46.1356],[33.63854,46.14147],[33.6152,46.2261],[33.646,46.23028],[33.7405,46.1855],[33.7972,46.2048],[33.8523,46.1986],[33.91549,46.15938],[34.05272,46.10838],[34.07311,46.11769],[34.1293,46.1049],[34.181,46.068],[34.2511,46.0532],[34.3391,46.0611],[34.41221,46.00245],[34.4415,45.9599],[34.48729,45.94267],[34.52011,45.95097],[34.55889,45.99347],[34.60861,45.99347],[34.66679,45.97136],[34.75479,45.90705],[34.8015,45.9005],[34.79905,45.81009],[34.9601,45.7563],[35.04991,45.76827],[35.23066,45.79231],[37.62608,46.82615],[38.12112,46.86078],[38.3384,46.98085],[38.22955,47.12069],[38.23049,47.2324],[38.32112,47.2585],[38.33074,47.30508],[38.22225,47.30788],[38.28954,47.39255],[38.28679,47.53552],[38.35062,47.61631],[38.76379,47.69346],[38.79628,47.81109],[38.87979,47.87719],[39.73935,47.82876],[39.82213,47.96396],[39.77544,48.04206],[39.88256,48.04482],[39.83724,48.06501],[39.94847,48.22811],[40.00752,48.22445],[39.99241,48.31768],[39.97325,48.31399],[39.9693,48.29904],[39.95248,48.29972],[39.91465,48.26743],[39.90041,48.3049],[39.84273,48.30947],[39.84136,48.33321],[39.94847,48.35055],[39.88794,48.44226],[39.86196,48.46633],[39.84548,48.57821],[39.79764,48.58668],[39.67226,48.59368],[39.71765,48.68673],[39.73104,48.7325],[39.79466,48.83739],[39.97182,48.79398],[40.08168,48.87443],[40.03636,48.91957],[39.98967,48.86901],[39.78368,48.91596],[39.74874,48.98675],[39.72649,48.9754],[39.71353,48.98959],[39.6683,48.99454],[39.6836,49.05121],[39.93437,49.05709],[40.01988,49.1761],[40.22176,49.25683],[40.18331,49.34996],[40.14912,49.37681],[40.1141,49.38798],[40.03087,49.45452],[40.03636,49.52321],[40.16683,49.56865],[40.13249,49.61672],[39.84548,49.56064],[39.65047,49.61761],[39.59142,49.73758],[39.44496,49.76067],[39.27968,49.75976],[39.1808,49.88911],[38.9391,49.79524],[38.90477,49.86787],[38.73311,49.90238],[38.68677,50.00904],[38.65688,49.97176],[38.35408,50.00664],[38.32524,50.08866],[38.18517,50.08161],[38.21675,49.98104],[38.02999,49.90592],[38.02999,49.94482],[37.90776,50.04194],[37.79515,50.08425],[37.75807,50.07896],[37.61113,50.21976],[37.62879,50.24481],[37.62486,50.29966],[37.47243,50.36277],[37.48204,50.46079],[37.08468,50.34935],[36.91762,50.34963],[36.69377,50.26982],[36.64571,50.218],[36.56655,50.2413],[36.58371,50.28563],[36.47817,50.31457],[36.30101,50.29088],[36.20763,50.3943],[36.06893,50.45205],[35.8926,50.43829],[35.80388,50.41356],[35.73659,50.35489],[35.61711,50.35707],[35.58003,50.45117],[35.47463,50.49247],[35.39464,50.64751],[35.48116,50.66405],[35.47704,50.77274],[35.41367,50.80227],[35.39307,50.92145],[35.32598,50.94524],[35.40837,51.04119],[35.31774,51.08434],[35.20375,51.04723],[35.12685,51.16191],[35.14058,51.23162],[34.97304,51.2342],[34.82472,51.17483],[34.6874,51.18],[34.6613,51.25053],[34.38802,51.2746],[34.31661,51.23936],[34.23009,51.26429],[34.33446,51.363],[34.22048,51.4187],[34.30562,51.5205],[34.17599,51.63253],[34.07765,51.67065],[34.42922,51.72852],[34.41136,51.82793],[34.09413,52.00835],[34.11199,52.14087],[34.05239,52.20132],[33.78789,52.37204],[33.55718,52.30324],[33.48027,52.31499],[33.51323,52.35779],[33.18913,52.3754],[32.89937,52.2461],[32.85405,52.27888],[32.69475,52.25535],[32.54781,52.32423],[32.3528,52.32842],[32.38988,52.24946],[32.33083,52.23685],[32.34044,52.1434],[32.2777,52.10266],[32.23331,52.08085],[32.08813,52.03319],[31.92159,52.05144],[31.96141,52.08015],[31.85018,52.11305],[31.81722,52.09955],[31.7822,52.11406],[31.38326,52.12991],[31.25142,52.04131],[31.13332,52.1004],[30.95589,52.07775],[30.90897,52.00699],[30.76443,51.89739],[30.68804,51.82806],[30.51946,51.59649],[30.64992,51.35014],[30.56203,51.25655],[30.36153,51.33984],[30.34642,51.42555],[30.17888,51.51025],[29.77376,51.4461],[29.7408,51.53417],[29.54372,51.48372],[29.49773,51.39814],[29.42357,51.4187],[29.32881,51.37843],[29.25191,51.49828],[29.25603,51.57089],[29.20659,51.56918],[29.16402,51.64679],[29.1187,51.65872],[28.99098,51.56833],[28.95528,51.59222],[28.81795,51.55552],[28.76027,51.48802],[28.78224,51.45294],[28.75615,51.41442],[28.73143,51.46236],[28.69161,51.44695],[28.64429,51.5664],[28.47051,51.59734],[28.37592,51.54505],[28.23452,51.66988],[28.10658,51.57857],[27.95827,51.56065],[27.91844,51.61952],[27.85253,51.62293],[27.76052,51.47604],[27.67125,51.50854],[27.71932,51.60672],[27.55727,51.63486],[27.51058,51.5854],[27.47212,51.61184],[27.24828,51.60161],[27.26613,51.65957],[27.20948,51.66713],[27.20602,51.77291],[26.99422,51.76933],[26.9489,51.73788],[26.80043,51.75777],[26.69759,51.82284],[26.46962,51.80501],[26.39367,51.87315],[26.19084,51.86781],[26.00408,51.92967],[25.83217,51.92587],[25.80574,51.94556],[25.73673,51.91973],[25.46163,51.92205],[25.20228,51.97143],[24.98784,51.91273],[24.37123,51.88222],[24.29021,51.80841],[24.3163,51.75063],[24.13075,51.66979],[23.99907,51.58369],[23.8741,51.59734],[23.91118,51.63316],[23.7766,51.66809],[23.60906,51.62122],[23.6736,51.50255],[23.62751,51.50512],[23.69905,51.40871],[23.63858,51.32182],[23.80678,51.18405],[23.90376,51.07697],[23.92217,51.00836],[24.04576,50.90196],[24.14524,50.86128],[24.0952,50.83262],[23.99254,50.83847],[23.95925,50.79271],[24.0595,50.71625],[24.0996,50.60752],[24.07048,50.5071],[24.03668,50.44507],[23.99563,50.41289],[23.79445,50.40481],[23.71382,50.38248],[23.67635,50.33385],[23.28221,50.0957],[22.99329,49.84249],[22.83179,49.69875],[22.80261,49.69098],[22.78304,49.65543],[22.64534,49.53094],[22.69444,49.49378],[22.748,49.32759],[22.72009,49.20288],[22.86336,49.10513],[22.89122,49.00725],[22.56155,49.08865],[22.54338,49.01424],[22.48296,48.99172],[22.42934,48.92857],[22.34151,48.68893],[22.21379,48.6218],[22.16023,48.56548],[22.14689,48.4005],[22.2083,48.42534],[22.38133,48.23726],[22.49806,48.25189],[22.59007,48.15121],[22.58733,48.10813],[22.66835,48.09162],[22.73427,48.12005],[22.81804,48.11363],[22.87847,48.04665],[22.84276,47.98602],[22.89849,47.95851],[22.94301,47.96672],[22.92241,48.02002],[23.0158,47.99338],[23.08858,48.00716],[23.1133,48.08061],[23.15999,48.12188],[23.27397,48.08245],[23.33577,48.0237],[23.4979,47.96858],[23.52803,48.01818],[23.5653,48.00499],[23.63894,48.00293],[23.66262,47.98786],[23.75188,47.99705],[23.80904,47.98142],[23.8602,47.9329],[23.89352,47.94512],[23.94192,47.94868],[23.96337,47.96672],[23.98553,47.96076],[24.00801,47.968],[24.02999,47.95087],[24.06466,47.95317],[24.11281,47.91487],[24.22566,47.90231],[24.34926,47.9244],[24.43578,47.97131],[24.61994,47.95062],[24.70632,47.84428],[24.81893,47.82031],[24.88896,47.7234],[25.11144,47.75203],[25.23778,47.89403],[25.63878,47.94924],[25.77723,47.93919],[26.05901,47.9897],[26.17711,47.99246],[26.33504,48.18418],[26.55202,48.22445],[26.62823,48.25804],[26.6839,48.35828],[26.79239,48.29071],[26.82809,48.31629],[26.71274,48.40388],[26.85556,48.41095],[26.93384,48.36558],[27.03821,48.37653],[27.0231,48.42485],[27.08078,48.43214],[27.13434,48.37288],[27.27855,48.37534],[27.32159,48.4434],[27.37604,48.44398],[27.37741,48.41026],[27.44333,48.41209],[27.46942,48.454],[27.5889,48.49224],[27.59027,48.46311],[27.6658,48.44034],[27.74422,48.45926],[27.79225,48.44244],[27.81902,48.41874],[27.87533,48.4037],[27.88391,48.36699],[27.95883,48.32368],[28.04527,48.32661],[28.09873,48.3124],[28.07504,48.23494],[28.17666,48.25963],[28.19314,48.20749],[28.2856,48.23202],[28.32508,48.23384],[28.35519,48.24957],[28.36996,48.20543],[28.34912,48.1787],[28.30586,48.1597],[28.30609,48.14018],[28.34009,48.13147],[28.38712,48.17567],[28.43701,48.15832],[28.42454,48.12047],[28.48428,48.0737],[28.53921,48.17453],[28.69896,48.13106],[28.85232,48.12506],[28.8414,48.03392],[28.9306,47.96255],[29.1723,47.99013],[29.19839,47.89261],[29.27804,47.88893],[29.20663,47.80367],[29.27255,47.79953],[29.22242,47.73607],[29.22414,47.60012],[29.11743,47.55001],[29.18603,47.43387],[29.3261,47.44664],[29.39889,47.30179],[29.47854,47.30366],[29.48678,47.36043],[29.5733,47.36508],[29.59665,47.25521],[29.54996,47.24962],[29.57696,47.13581],[29.49732,47.12878],[29.53044,47.07851],[29.61038,47.09932],[29.62137,47.05069],[29.57056,46.94766],[29.72986,46.92234],[29.75458,46.8604],[29.87405,46.88199],[29.98814,46.82358],[29.94522,46.80055],[29.9743,46.75325],[29.94409,46.56002],[29.88916,46.54302],[30.02511,46.45132],[30.16794,46.40967],[30.09103,46.38694],[29.94114,46.40114],[29.88329,46.35851],[29.74496,46.45605],[29.66359,46.4215],[29.6763,46.36041],[29.5939,46.35472],[29.49914,46.45889],[29.35357,46.49505],[29.24886,46.37912],[29.23547,46.55435],[29.02409,46.49582],[29.01241,46.46177],[28.9306,46.45699],[29.004,46.31495],[28.98478,46.31803],[28.94953,46.25852],[29.06656,46.19716],[28.94643,46.09176],[29.00613,46.04962],[28.98004,46.00385],[28.74383,45.96664],[28.78503,45.83475],[28.69852,45.81753],[28.70401,45.78019],[28.52823,45.73803],[28.47879,45.66994],[28.51587,45.6613],[28.54196,45.58062],[28.49252,45.56716],[28.51449,45.49982],[28.43072,45.48538],[28.41836,45.51715],[28.30201,45.54744],[28.21139,45.46895],[28.28504,45.43907],[28.34554,45.32102],[28.5735,45.24759],[28.71358,45.22631],[28.78911,45.24179],[28.81383,45.3384],[28.94292,45.28045],[28.96077,45.33164],[29.24779,45.43388],[29.42632,45.44545],[29.59798,45.38857],[29.68175,45.26885],[29.65428,45.25629],[29.69272,45.19227],[30.04414,45.08461],[31.52705,45.47997],[33.54017,46.0123],[33.5909,46.0601],[33.57318,46.10317]]]]}},{type:"Feature",properties:{iso1A2:"UG",iso1A3:"UGA",iso1N3:"800",wikidata:"Q1036",nameEn:"Uganda",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["256"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.93107,-.99298],[33.9264,-.54188],[33.98449,-.13079],[33.90936,.10581],[34.10067,.36372],[34.08727,.44713],[34.11408,.48884],[34.13493,.58118],[34.20196,.62289],[34.27345,.63182],[34.31516,.75693],[34.40041,.80266],[34.43349,.85254],[34.52369,1.10692],[34.57427,1.09868],[34.58029,1.14712],[34.67562,1.21265],[34.80223,1.22754],[34.82606,1.26626],[34.82606,1.30944],[34.7918,1.36752],[34.87819,1.5596],[34.92734,1.56109],[34.9899,1.6668],[34.98692,1.97348],[34.90947,2.42447],[34.95267,2.47209],[34.77244,2.70272],[34.78137,2.76223],[34.73967,2.85447],[34.65774,2.8753],[34.60114,2.93034],[34.56242,3.11478],[34.45815,3.18319],[34.40006,3.37949],[34.41794,3.44342],[34.39112,3.48802],[34.44922,3.51627],[34.45815,3.67385],[34.15429,3.80464],[34.06046,4.15235],[33.9873,4.23316],[33.51264,3.75068],[33.18356,3.77812],[33.02852,3.89296],[32.89746,3.81339],[32.72021,3.77327],[32.41337,3.748],[32.20782,3.6053],[32.19888,3.50867],[32.08866,3.53543],[32.08491,3.56287],[32.05187,3.589],[31.95907,3.57408],[31.96205,3.6499],[31.86821,3.78664],[31.81459,3.82083],[31.72075,3.74354],[31.50776,3.63652],[31.50478,3.67814],[31.29476,3.8015],[31.16666,3.79853],[30.97601,3.693],[30.85153,3.48867],[30.94081,3.50847],[30.93486,3.40737],[30.84251,3.26908],[30.77101,3.04897],[30.8574,2.9508],[30.8857,2.83923],[30.75612,2.5863],[30.74271,2.43601],[30.83059,2.42559],[30.91102,2.33332],[30.96911,2.41071],[31.06593,2.35862],[31.07934,2.30207],[31.12104,2.27676],[31.1985,2.29462],[31.20148,2.2217],[31.28042,2.17853],[31.30127,2.11006],[30.48503,1.21675],[30.24671,1.14974],[30.22139,.99635],[30.1484,.89805],[29.98307,.84295],[29.95477,.64486],[29.97413,.52124],[29.87284,.39166],[29.81922,.16824],[29.77454,.16675],[29.7224,.07291],[29.72687,-.08051],[29.65091,-.46777],[29.67474,-.47969],[29.67176,-.55714],[29.62708,-.71055],[29.63006,-.8997],[29.58388,-.89821],[29.59061,-1.39016],[29.82657,-1.31187],[29.912,-1.48269],[30.16369,-1.34303],[30.35212,-1.06896],[30.47194,-1.0555],[30.64166,-1.06601],[30.70631,-1.01175],[30.76635,-.9852],[30.80408,-.99911],[33.93107,-.99298]]]]}},{type:"Feature",properties:{iso1A2:"UM",iso1A3:"UMI",iso1N3:"581",wikidata:"Q16645",nameEn:"United States Minor Outlying Islands",country:"US"},geometry:null},{type:"Feature",properties:{iso1A2:"UN",wikidata:"Q1065",nameEn:"United Nations",level:"unitedNations",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"US",iso1A3:"USA",iso1N3:"840",wikidata:"Q30",nameEn:"United States of America"},geometry:null},{type:"Feature",properties:{iso1A2:"UY",iso1A3:"URY",iso1N3:"858",wikidata:"Q77",nameEn:"Uruguay",groups:["005","419","019","UN"],callingCodes:["598"]},geometry:{type:"MultiPolygon",coordinates:[[[[-57.65132,-30.19229],[-57.61478,-30.25165],[-57.64859,-30.35095],[-57.89115,-30.49572],[-57.8024,-30.77193],[-57.89476,-30.95994],[-57.86729,-31.06352],[-57.9908,-31.34924],[-57.98127,-31.3872],[-58.07569,-31.44916],[-58.0023,-31.53084],[-58.00076,-31.65016],[-58.20252,-31.86966],[-58.10036,-32.25338],[-58.22362,-32.52416],[-58.1224,-32.98842],[-58.40475,-33.11777],[-58.44442,-33.84033],[-58.34425,-34.15035],[-57.83001,-34.69099],[-54.78916,-36.21945],[-52.83257,-34.01481],[-53.37138,-33.74313],[-53.39593,-33.75169],[-53.44031,-33.69344],[-53.52794,-33.68908],[-53.53459,-33.16843],[-53.1111,-32.71147],[-53.37671,-32.57005],[-53.39572,-32.58596],[-53.76024,-32.0751],[-54.15721,-31.87458],[-54.45458,-31.65285],[-55.50823,-30.9145],[-55.50841,-30.9027],[-55.51862,-30.89828],[-55.52712,-30.89997],[-55.53276,-30.90218],[-55.53431,-30.89714],[-55.54572,-30.89051],[-55.55218,-30.88193],[-55.55373,-30.8732],[-55.5634,-30.8686],[-55.58866,-30.84117],[-55.87388,-31.05053],[-56.4619,-30.38457],[-56.4795,-30.3899],[-56.49267,-30.39471],[-56.90236,-30.02578],[-57.22502,-30.26121],[-57.65132,-30.19229]]]]}},{type:"Feature",properties:{iso1A2:"UZ",iso1A3:"UZB",iso1N3:"860",wikidata:"Q265",nameEn:"Uzbekistan",groups:["143","142","UN"],callingCodes:["998"]},geometry:{type:"MultiPolygon",coordinates:[[[[65.85194,42.85481],[65.53277,43.31856],[65.18666,43.48835],[64.96464,43.74748],[64.53885,43.56941],[63.34656,43.64003],[62.01711,43.51008],[61.01475,44.41383],[58.59711,45.58671],[55.97842,44.99622],[55.97832,44.99622],[55.97822,44.99617],[55.97811,44.99617],[55.97801,44.99612],[55.97801,44.99607],[55.97791,44.99607],[55.9778,44.99607],[55.9777,44.99601],[55.9777,44.99596],[55.9776,44.99591],[55.97749,44.99591],[55.97739,44.99591],[55.97739,44.99586],[55.97729,44.99586],[55.97718,44.99581],[55.97708,44.99576],[55.97698,44.9957],[55.97698,44.99565],[55.97687,44.9956],[55.97677,44.9956],[55.97677,44.99555],[55.97677,44.9955],[55.97667,44.99545],[55.97656,44.99539],[55.97646,44.99534],[55.97646,44.99529],[55.97636,44.99524],[55.97636,44.99519],[55.97625,44.99514],[55.97615,44.99508],[55.97615,44.99503],[55.97615,44.99498],[55.97615,44.99493],[55.97615,44.99483],[55.97615,44.99477],[55.97605,44.99477],[55.97605,44.99467],[55.97605,44.99462],[55.97605,44.99457],[55.97605,44.99452],[55.97594,44.99446],[55.97584,44.99441],[55.97584,44.99436],[55.97584,44.99431],[55.97584,44.99426],[55.97584,44.99421],[55.97584,44.99415],[55.97584,44.99405],[55.97584,44.994],[55.97584,44.9939],[55.97584,44.99384],[55.97584,44.99374],[55.97584,44.99369],[55.97584,44.99359],[55.97584,44.99353],[55.97584,44.99348],[55.97584,44.99343],[55.97584,44.99338],[55.97584,44.99328],[55.97584,44.99322],[56.00314,41.32584],[57.03423,41.25435],[57.13796,41.36625],[57.03359,41.41777],[56.96218,41.80383],[57.03633,41.92043],[57.30275,42.14076],[57.6296,42.16519],[57.84932,42.18555],[57.92897,42.24047],[57.90975,42.4374],[57.99214,42.50021],[58.3492,42.43335],[58.40688,42.29535],[58.51674,42.30348],[58.29427,42.56497],[58.14321,42.62159],[58.27504,42.69632],[58.57991,42.64988],[58.6266,42.79314],[58.93422,42.5407],[59.17317,42.52248],[59.2955,42.37064],[59.4341,42.29738],[59.94633,42.27655],[60.00539,42.212],[59.96419,42.1428],[60.04659,42.08982],[60.0356,42.01028],[59.95046,41.97966],[60.33223,41.75058],[60.08504,41.80997],[60.06032,41.76287],[60.18117,41.60082],[60.06581,41.4363],[60.5078,41.21694],[61.03261,41.25691],[61.22212,41.14946],[61.33199,41.14946],[61.39732,41.19873],[61.4446,41.29407],[61.87856,41.12257],[62.11751,40.58242],[62.34273,40.43206],[62.43337,39.98528],[63.6913,39.27666],[63.70778,39.22349],[64.19086,38.95561],[64.32576,38.98691],[65.55873,38.29052],[65.83913,38.25733],[66.24013,38.16238],[66.41042,38.02403],[66.56697,38.0435],[66.67684,37.96776],[66.53676,37.80084],[66.52852,37.58568],[66.65761,37.45497],[66.52303,37.39827],[66.55743,37.35409],[66.64699,37.32958],[66.95598,37.40162],[67.08232,37.35469],[67.13039,37.27168],[67.2224,37.24545],[67.2581,37.17216],[67.51868,37.26102],[67.78329,37.1834],[67.8474,37.31594],[67.81566,37.43107],[68.12635,37.93],[68.27159,37.91477],[68.40343,38.19484],[68.13289,38.40822],[68.06274,38.39435],[68.11366,38.47169],[68.05873,38.56087],[68.0807,38.64136],[68.05598,38.71641],[68.12877,38.73677],[68.06948,38.82115],[68.19743,38.85985],[68.09704,39.02589],[67.68915,39.00775],[67.67833,39.14479],[67.33226,39.23739],[67.36522,39.31287],[67.45998,39.315],[67.46822,39.46146],[67.39681,39.52505],[67.46547,39.53564],[67.44899,39.57799],[67.62889,39.60234],[67.70992,39.66156],[68.12053,39.56317],[68.54166,39.53929],[68.61972,39.68905],[68.63071,39.85265],[68.88889,39.87163],[68.93695,39.91167],[68.84906,40.04952],[68.96579,40.06949],[69.01935,40.11466],[69.01523,40.15771],[68.62796,40.07789],[68.52771,40.11676],[68.5332,40.14826],[68.77902,40.20492],[68.79276,40.17555],[68.84357,40.18604],[68.85832,40.20885],[69.04544,40.22904],[69.15659,40.2162],[69.2074,40.21488],[69.30448,40.18774],[69.30104,40.24502],[69.25229,40.26362],[69.24817,40.30357],[69.30808,40.2821],[69.32833,40.29794],[69.33794,40.34819],[69.30774,40.36102],[69.28525,40.41894],[69.27066,40.49274],[69.21063,40.54469],[69.2643,40.57506],[69.3455,40.57988],[69.32834,40.70233],[69.38327,40.7918],[69.53021,40.77621],[69.59441,40.70181],[69.69434,40.62615],[70.36655,40.90296],[70.38028,41.02014],[70.45251,41.04438],[70.80009,40.72825],[70.49871,40.52503],[70.32626,40.45174],[70.37511,40.38605],[70.57149,40.3442],[70.56394,40.26421],[70.62342,40.17396],[70.8607,40.217],[70.9818,40.22392],[70.95789,40.28761],[71.05901,40.28765],[71.13042,40.34106],[71.36663,40.31593],[71.4246,40.28619],[71.51215,40.26943],[71.51549,40.22986],[71.61725,40.20615],[71.61931,40.26775],[71.68386,40.26984],[71.70569,40.20391],[71.69621,40.18492],[71.71719,40.17886],[71.73054,40.14818],[71.82646,40.21872],[71.85002,40.25647],[72.05464,40.27586],[71.96401,40.31907],[72.18648,40.49893],[72.24368,40.46091],[72.40346,40.4007],[72.44191,40.48222],[72.41513,40.50856],[72.38384,40.51535],[72.41714,40.55736],[72.34406,40.60144],[72.40517,40.61917],[72.47795,40.5532],[72.66713,40.5219],[72.66713,40.59076],[72.69579,40.59778],[72.73995,40.58409],[72.74768,40.58051],[72.74862,40.57131],[72.75982,40.57273],[72.74894,40.59592],[72.74866,40.60873],[72.80137,40.67856],[72.84754,40.67229],[72.85372,40.7116],[72.8722,40.71111],[72.93296,40.73089],[72.99133,40.76457],[73.0612,40.76678],[73.13412,40.79122],[73.13267,40.83512],[73.01869,40.84681],[72.94454,40.8094],[72.84291,40.85512],[72.68157,40.84942],[72.59136,40.86947],[72.55109,40.96046],[72.48742,40.97136],[72.45206,41.03018],[72.38511,41.02785],[72.36138,41.04384],[72.34757,41.06104],[72.34026,41.04539],[72.324,41.03381],[72.18339,40.99571],[72.17594,41.02377],[72.21061,41.05607],[72.1792,41.10621],[72.14864,41.13363],[72.17594,41.15522],[72.16433,41.16483],[72.10745,41.15483],[72.07249,41.11739],[71.85964,41.19081],[71.91457,41.2982],[71.83914,41.3546],[71.76625,41.4466],[71.71132,41.43012],[71.73054,41.54713],[71.65914,41.49599],[71.6787,41.42111],[71.57227,41.29175],[71.46688,41.31883],[71.43814,41.19644],[71.46148,41.13958],[71.40198,41.09436],[71.34877,41.16807],[71.27187,41.11015],[71.25813,41.18796],[71.11806,41.15359],[71.02193,41.19494],[70.9615,41.16393],[70.86263,41.23833],[70.77885,41.24813],[70.78572,41.36419],[70.67586,41.47953],[70.48909,41.40335],[70.17682,41.5455],[70.69777,41.92554],[71.28719,42.18033],[71.13263,42.28356],[70.94483,42.26238],[69.49545,41.545],[69.45751,41.56863],[69.39485,41.51518],[69.45081,41.46246],[69.37468,41.46555],[69.35554,41.47211],[69.29778,41.43673],[69.25059,41.46693],[69.23332,41.45847],[69.22671,41.46298],[69.20439,41.45391],[69.18528,41.45175],[69.17701,41.43769],[69.15137,41.43078],[69.05006,41.36183],[69.01308,41.22804],[68.7217,41.05025],[68.73945,40.96989],[68.65662,40.93861],[68.62221,41.03019],[68.49983,40.99669],[68.58444,40.91447],[68.63,40.59358],[68.49983,40.56437],[67.96736,40.83798],[68.1271,41.0324],[68.08273,41.08148],[67.98511,41.02794],[67.9644,41.14611],[66.69129,41.1311],[66.53302,41.87388],[66.00546,41.94455],[66.09482,42.93426],[65.85194,42.85481]],[[70.68112,40.90612],[70.6721,40.90555],[70.57501,40.98941],[70.54223,40.98787],[70.56077,41.00642],[70.6158,40.97661],[70.68112,40.90612]]],[[[71.21139,40.03369],[71.12218,40.03052],[71.06305,40.1771],[71.00236,40.18154],[71.01035,40.05481],[71.11037,40.01984],[71.11668,39.99291],[71.09063,39.99],[71.10501,39.95568],[71.04979,39.89808],[71.10531,39.91354],[71.16101,39.88423],[71.23067,39.93581],[71.1427,39.95026],[71.21139,40.03369]]],[[[71.86463,39.98598],[71.78838,40.01404],[71.71511,39.96348],[71.7504,39.93701],[71.84316,39.95582],[71.86463,39.98598]]]]}},{type:"Feature",properties:{iso1A2:"VA",iso1A3:"VAT",iso1N3:"336",wikidata:"Q237",nameEn:"Vatican City",aliases:["Holy See"],groups:["039","150"],callingCodes:["379","39 06"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45181,41.90056],[12.45446,41.90028],[12.45435,41.90143],[12.45626,41.90172],[12.45691,41.90125],[12.4577,41.90115],[12.45834,41.90174],[12.45826,41.90281],[12.45755,41.9033],[12.45762,41.9058],[12.45561,41.90629],[12.45543,41.90738],[12.45091,41.90625],[12.44984,41.90545],[12.44815,41.90326],[12.44582,41.90194],[12.44834,41.90095],[12.45181,41.90056]]]]}},{type:"Feature",properties:{iso1A2:"VC",iso1A3:"VCT",iso1N3:"670",wikidata:"Q757",nameEn:"St. Vincent and the Grenadines",aliases:["WV"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 784"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-59.94058,12.34011],[-61.69315,14.26451],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"VE",iso1A3:"VEN",iso1N3:"862",wikidata:"Q717",nameEn:"Venezuela",aliases:["YV"],groups:["005","419","019","UN"],callingCodes:["58"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.22331,13.01387],[-70.92579,11.96275],[-71.3275,11.85],[-71.9675,11.65536],[-72.24983,11.14138],[-72.4767,11.1117],[-72.88002,10.44309],[-72.98085,9.85253],[-73.36905,9.16636],[-73.02119,9.27584],[-72.94052,9.10663],[-72.77415,9.10165],[-72.65474,8.61428],[-72.4042,8.36513],[-72.36987,8.19976],[-72.35163,8.01163],[-72.39137,8.03534],[-72.47213,7.96106],[-72.48801,7.94329],[-72.48183,7.92909],[-72.47042,7.92306],[-72.45806,7.91141],[-72.46183,7.90682],[-72.44454,7.86031],[-72.46763,7.79518],[-72.47827,7.65604],[-72.45321,7.57232],[-72.47415,7.48928],[-72.43132,7.40034],[-72.19437,7.37034],[-72.04895,7.03837],[-71.82441,7.04314],[-71.44118,7.02116],[-71.42212,7.03854],[-71.37234,7.01588],[-71.03941,6.98163],[-70.7596,7.09799],[-70.10716,6.96516],[-69.41843,6.1072],[-67.60654,6.2891],[-67.4625,6.20625],[-67.43513,5.98835],[-67.58558,5.84537],[-67.63914,5.64963],[-67.59141,5.5369],[-67.83341,5.31104],[-67.85358,4.53249],[-67.62671,3.74303],[-67.50067,3.75812],[-67.30945,3.38393],[-67.85862,2.86727],[-67.85862,2.79173],[-67.65696,2.81691],[-67.21967,2.35778],[-66.85795,1.22998],[-66.28507,.74585],[-65.6727,1.01353],[-65.50158,.92086],[-65.57288,.62856],[-65.11657,1.12046],[-64.38932,1.5125],[-64.34654,1.35569],[-64.08274,1.64792],[-64.06135,1.94722],[-63.39827,2.16098],[-63.39114,2.4317],[-64.0257,2.48156],[-64.02908,2.79797],[-64.48379,3.7879],[-64.84028,4.24665],[-64.72977,4.28931],[-64.57648,4.12576],[-64.14512,4.12932],[-63.99183,3.90172],[-63.86082,3.94796],[-63.70218,3.91417],[-63.67099,4.01731],[-63.50611,3.83592],[-63.42233,3.89995],[-63.4464,3.9693],[-63.21111,3.96219],[-62.98296,3.59935],[-62.7655,3.73099],[-62.74411,4.03331],[-62.57656,4.04754],[-62.44822,4.18621],[-62.13094,4.08309],[-61.54629,4.2822],[-61.48569,4.43149],[-61.29675,4.44216],[-61.31457,4.54167],[-61.15703,4.49839],[-60.98303,4.54167],[-60.86539,4.70512],[-60.5802,4.94312],[-60.73204,5.20931],[-61.4041,5.95304],[-61.15058,6.19558],[-61.20762,6.58174],[-61.13632,6.70922],[-60.54873,6.8631],[-60.39419,6.94847],[-60.28074,7.1162],[-60.44116,7.20817],[-60.54098,7.14804],[-60.63367,7.25061],[-60.59802,7.33194],[-60.71923,7.55817],[-60.64793,7.56877],[-60.51959,7.83373],[-60.38056,7.8302],[-60.02407,8.04557],[-59.97059,8.20791],[-59.83156,8.23261],[-59.80661,8.28906],[-59.85562,8.35213],[-59.98508,8.53046],[-59.54058,8.6862],[-60.89962,9.81445],[-62.08693,10.04435],[-61.62505,11.18974],[-63.73917,11.92623],[-63.19938,16.44103],[-67.89186,12.4116],[-68.01417,11.77722],[-68.33524,11.78151],[-68.99639,11.79035],[-71.22331,13.01387]]]]}},{type:"Feature",properties:{iso1A2:"VG",iso1A3:"VGB",iso1N3:"092",wikidata:"Q25305",nameEn:"British Virgin Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 284"]},geometry:{type:"MultiPolygon",coordinates:[[[[-64.47127,17.55688],[-63.88746,19.15706],[-65.02435,18.73231],[-64.86027,18.39056],[-64.64673,18.36549],[-64.47127,17.55688]]]]}},{type:"Feature",properties:{iso1A2:"VI",iso1A3:"VIR",iso1N3:"850",wikidata:"Q11703",nameEn:"United States Virgin Islands",aliases:["US-VI"],country:"US",groups:["Q1352230","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 340"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.02435,18.73231],[-65.27974,17.56928],[-64.47127,17.55688],[-64.64673,18.36549],[-64.86027,18.39056],[-65.02435,18.73231]]]]}},{type:"Feature",properties:{iso1A2:"VN",iso1A3:"VNM",iso1N3:"704",wikidata:"Q881",nameEn:"Vietnam",groups:["035","142","UN"],callingCodes:["84"]},geometry:{type:"MultiPolygon",coordinates:[[[[108.10003,21.47338],[108.0569,21.53604],[108.02926,21.54997],[107.97932,21.54503],[107.97383,21.53961],[107.97074,21.54072],[107.96774,21.53601],[107.95232,21.5388],[107.92652,21.58906],[107.90006,21.5905],[107.86114,21.65128],[107.80355,21.66141],[107.66967,21.60787],[107.56537,21.61945],[107.54047,21.5934],[107.49065,21.59774],[107.49532,21.62958],[107.47197,21.6672],[107.41593,21.64839],[107.38636,21.59774],[107.35989,21.60063],[107.35834,21.6672],[107.29296,21.74674],[107.24625,21.7077],[107.20734,21.71493],[107.10771,21.79879],[107.02615,21.81981],[107.00964,21.85948],[107.06101,21.88982],[107.05634,21.92303],[106.99252,21.95191],[106.97228,21.92592],[106.92714,21.93459],[106.9178,21.97357],[106.81038,21.97934],[106.74345,22.00965],[106.72551,21.97923],[106.69276,21.96013],[106.68274,21.99811],[106.70142,22.02409],[106.6983,22.15102],[106.67495,22.1885],[106.69986,22.22309],[106.6516,22.33977],[106.55976,22.34841],[106.57221,22.37],[106.55665,22.46498],[106.58395,22.474],[106.61269,22.60301],[106.65316,22.5757],[106.71698,22.58432],[106.72321,22.63606],[106.76293,22.73491],[106.82404,22.7881],[106.83685,22.8098],[106.81271,22.8226],[106.78422,22.81532],[106.71128,22.85982],[106.71387,22.88296],[106.6734,22.89587],[106.6516,22.86862],[106.60179,22.92884],[106.55976,22.92311],[106.51306,22.94891],[106.49749,22.91164],[106.34961,22.86718],[106.27022,22.87722],[106.19705,22.98475],[106.00179,22.99049],[105.99568,22.94178],[105.90119,22.94168],[105.8726,22.92756],[105.72382,23.06641],[105.57594,23.075],[105.56037,23.16806],[105.49966,23.20669],[105.42805,23.30824],[105.40782,23.28107],[105.32376,23.39684],[105.22569,23.27249],[105.17276,23.28679],[105.11672,23.25247],[105.07002,23.26248],[104.98712,23.19176],[104.96532,23.20463],[104.9486,23.17235],[104.91435,23.18666],[104.87992,23.17141],[104.87382,23.12854],[104.79478,23.12934],[104.8334,23.01484],[104.86765,22.95178],[104.84942,22.93631],[104.77114,22.90017],[104.72755,22.81984],[104.65283,22.83419],[104.60457,22.81841],[104.58122,22.85571],[104.47225,22.75813],[104.35593,22.69353],[104.25683,22.76534],[104.27084,22.8457],[104.11384,22.80363],[104.03734,22.72945],[104.01088,22.51823],[103.99247,22.51958],[103.97384,22.50634],[103.96783,22.51173],[103.96352,22.50584],[103.95191,22.5134],[103.94513,22.52553],[103.93286,22.52703],[103.87904,22.56683],[103.64506,22.79979],[103.56255,22.69499],[103.57812,22.65764],[103.52675,22.59155],[103.43646,22.70648],[103.43179,22.75816],[103.32282,22.8127],[103.28079,22.68063],[103.18895,22.64471],[103.15782,22.59873],[103.17961,22.55705],[103.07843,22.50097],[103.0722,22.44775],[102.9321,22.48659],[102.8636,22.60735],[102.60675,22.73376],[102.57095,22.7036],[102.51802,22.77969],[102.46665,22.77108],[102.42618,22.69212],[102.38415,22.67919],[102.41061,22.64184],[102.25339,22.4607],[102.26428,22.41321],[102.16621,22.43336],[102.14099,22.40092],[102.18712,22.30403],[102.51734,22.02676],[102.49092,21.99002],[102.62301,21.91447],[102.67145,21.65894],[102.74189,21.66713],[102.82115,21.73667],[102.81894,21.83888],[102.85637,21.84501],[102.86077,21.71213],[102.97965,21.74076],[102.98846,21.58936],[102.86297,21.4255],[102.94223,21.46034],[102.88939,21.3107],[102.80794,21.25736],[102.89825,21.24707],[102.97745,21.05821],[103.03469,21.05821],[103.12055,20.89994],[103.21497,20.89832],[103.38032,20.79501],[103.45737,20.82382],[103.68633,20.66324],[103.73478,20.6669],[103.82282,20.8732],[103.98024,20.91531],[104.11121,20.96779],[104.27412,20.91433],[104.63957,20.6653],[104.38199,20.47155],[104.40621,20.3849],[104.47886,20.37459],[104.66158,20.47774],[104.72102,20.40554],[104.62195,20.36633],[104.61315,20.24452],[104.86852,20.14121],[104.91695,20.15567],[104.9874,20.09573],[104.8465,19.91783],[104.8355,19.80395],[104.68359,19.72729],[104.64837,19.62365],[104.53169,19.61743],[104.41281,19.70035],[104.23229,19.70242],[104.06498,19.66926],[104.05617,19.61743],[104.10832,19.51575],[104.06058,19.43484],[103.87125,19.31854],[104.5361,18.97747],[104.64617,18.85668],[105.12829,18.70453],[105.19654,18.64196],[105.1327,18.58355],[105.10408,18.43533],[105.15942,18.38691],[105.38366,18.15315],[105.46292,18.22008],[105.64784,17.96687],[105.60381,17.89356],[105.76612,17.67147],[105.85744,17.63221],[106.09019,17.36399],[106.18991,17.28227],[106.24444,17.24714],[106.29287,17.3018],[106.31929,17.20509],[106.43597,17.01362],[106.50862,16.9673],[106.55045,17.0031],[106.54824,16.92729],[106.51963,16.92097],[106.52183,16.87884],[106.55265,16.86831],[106.55485,16.68704],[106.59013,16.62259],[106.58267,16.6012],[106.61477,16.60713],[106.66052,16.56892],[106.65832,16.47816],[106.74418,16.41904],[106.84104,16.55415],[106.88727,16.52671],[106.88067,16.43594],[106.96638,16.34938],[106.97385,16.30204],[107.02597,16.31132],[107.09091,16.3092],[107.15035,16.26271],[107.14595,16.17816],[107.25822,16.13587],[107.33968,16.05549],[107.44975,16.08511],[107.46296,16.01106],[107.39471,15.88829],[107.34188,15.89464],[107.21419,15.83747],[107.21859,15.74638],[107.27143,15.71459],[107.27583,15.62769],[107.34408,15.62345],[107.3815,15.49832],[107.50699,15.48771],[107.53341,15.40496],[107.62367,15.42193],[107.60605,15.37524],[107.62587,15.2266],[107.58844,15.20111],[107.61926,15.13949],[107.61486,15.0566],[107.46516,15.00982],[107.48277,14.93751],[107.59285,14.87795],[107.51579,14.79282],[107.54361,14.69092],[107.55371,14.628],[107.52102,14.59034],[107.52569,14.54665],[107.48521,14.40346],[107.44941,14.41552],[107.39493,14.32655],[107.40427,14.24509],[107.33577,14.11832],[107.37158,14.07906],[107.35757,14.02319],[107.38247,13.99147],[107.44318,13.99751],[107.46498,13.91593],[107.45252,13.78897],[107.53503,13.73908],[107.61909,13.52577],[107.62843,13.3668],[107.49144,13.01215],[107.49611,12.88926],[107.55993,12.7982],[107.5755,12.52177],[107.55059,12.36824],[107.4463,12.29373],[107.42917,12.24657],[107.34511,12.33327],[107.15831,12.27547],[106.99953,12.08983],[106.92325,12.06548],[106.79405,12.0807],[106.70687,11.96956],[106.4111,11.97413],[106.4687,11.86751],[106.44068,11.86294],[106.44535,11.8279],[106.41577,11.76999],[106.45158,11.68616],[106.44691,11.66787],[106.37219,11.69836],[106.30525,11.67549],[106.26478,11.72122],[106.18539,11.75171],[106.13158,11.73283],[106.06708,11.77761],[106.02038,11.77457],[106.00792,11.7197],[105.95188,11.63738],[105.88962,11.67854],[105.8507,11.66635],[105.80867,11.60536],[105.81645,11.56876],[105.87328,11.55953],[105.88962,11.43605],[105.86782,11.28343],[106.10444,11.07879],[106.1527,11.10476],[106.1757,11.07301],[106.20095,10.97795],[106.14301,10.98176],[106.18539,10.79451],[106.06708,10.8098],[105.94535,10.9168],[105.93403,10.83853],[105.84603,10.85873],[105.86376,10.89839],[105.77751,11.03671],[105.50045,10.94586],[105.42884,10.96878],[105.34011,10.86179],[105.11449,10.96332],[105.08326,10.95656],[105.02722,10.89236],[105.09571,10.72722],[104.95094,10.64003],[104.87933,10.52833],[104.59018,10.53073],[104.49869,10.4057],[104.47963,10.43046],[104.43778,10.42386],[103.99198,10.48391],[102.47649,9.66162],[104.81582,8.03101],[109.55486,8.10026],[111.60491,13.57105],[108.00365,17.98159],[108.10003,21.47338]]]]}},{type:"Feature",properties:{iso1A2:"VU",iso1A3:"VUT",iso1N3:"548",wikidata:"Q686",nameEn:"Vanuatu",groups:["054","009","UN"],callingCodes:["678"]},geometry:{type:"MultiPolygon",coordinates:[[[[156.73836,-14.50464],[174.245,-23.1974],[172.71443,-12.01327],[156.73836,-14.50464]]]]}},{type:"Feature",properties:{iso1A2:"WF",iso1A3:"WLF",iso1N3:"876",wikidata:"Q35555",nameEn:"Wallis and Futuna",country:"FR",groups:["EU","Q1451600","061","009","UN"],callingCodes:["681"]},geometry:{type:"MultiPolygon",coordinates:[[[[-178.66551,-14.32452],[-176.76826,-14.95183],[-175.59809,-12.61507],[-178.66551,-14.32452]]]]}},{type:"Feature",properties:{iso1A2:"WS",iso1A3:"WSM",iso1N3:"882",wikidata:"Q683",nameEn:"Samoa",groups:["061","009","UN"],driveSide:"left",callingCodes:["685"]},geometry:{type:"MultiPolygon",coordinates:[[[[-173.74402,-14.26669],[-170.99605,-15.1275],[-171.39864,-10.21587],[-173.74402,-14.26669]]]]}},{type:"Feature",properties:{iso1A2:"XK",iso1A3:"XKX",wikidata:"Q1246",nameEn:"Kosovo",aliases:["KV"],groups:["039","150"],isoStatus:"usrAssn",callingCodes:["383"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.39045,42.74888],[21.44047,42.87276],[21.36941,42.87397],[21.32974,42.90424],[21.2719,42.8994],[21.23534,42.95523],[21.23877,43.00848],[21.2041,43.02277],[21.16734,42.99694],[21.14465,43.11089],[21.08952,43.13471],[21.05378,43.10707],[21.00749,43.13984],[20.96287,43.12416],[20.83727,43.17842],[20.88685,43.21697],[20.82145,43.26769],[20.73811,43.25068],[20.68688,43.21335],[20.59929,43.20492],[20.69515,43.09641],[20.64557,43.00826],[20.59929,43.01067],[20.48692,42.93208],[20.53484,42.8885],[20.43734,42.83157],[20.40594,42.84853],[20.35692,42.8335],[20.27869,42.81945],[20.2539,42.76245],[20.04898,42.77701],[20.02088,42.74789],[20.02915,42.71147],[20.0969,42.65559],[20.07761,42.55582],[20.17127,42.50469],[20.21797,42.41237],[20.24399,42.32168],[20.34479,42.32656],[20.3819,42.3029],[20.48857,42.25444],[20.56955,42.12097],[20.55633,42.08173],[20.59434,42.03879],[20.63069,41.94913],[20.57946,41.91593],[20.59524,41.8818],[20.68523,41.85318],[20.76786,41.91839],[20.75464,42.05229],[21.11491,42.20794],[21.16614,42.19815],[21.22728,42.08909],[21.31983,42.10993],[21.29913,42.13954],[21.30496,42.1418],[21.38428,42.24465],[21.43882,42.23609],[21.43882,42.2789],[21.50823,42.27156],[21.52145,42.24465],[21.58992,42.25915],[21.56772,42.30946],[21.5264,42.33634],[21.53467,42.36809],[21.57021,42.3647],[21.59029,42.38042],[21.62887,42.37664],[21.64209,42.41081],[21.62556,42.45106],[21.7035,42.51899],[21.70522,42.54176],[21.7327,42.55041],[21.75672,42.62695],[21.79413,42.65923],[21.75025,42.70125],[21.6626,42.67813],[21.58755,42.70418],[21.59154,42.72643],[21.47498,42.74695],[21.39045,42.74888]]]]}},{type:"Feature",properties:{iso1A2:"YE",iso1A3:"YEM",iso1N3:"887",wikidata:"Q805",nameEn:"Yemen",groups:["145","142","UN"],callingCodes:["967"]},geometry:{type:"MultiPolygon",coordinates:[[[[57.49095,8.14549],[52.81185,17.28568],[52.74267,17.29519],[52.78009,17.35124],[52.00311,19.00083],[49.04884,18.59899],[48.19996,18.20584],[47.58351,17.50366],[47.48245,17.10808],[47.00571,16.94765],[46.76494,17.29151],[46.31018,17.20464],[44.50126,17.47475],[43.70631,17.35762],[43.43005,17.56148],[43.29185,17.53224],[43.22533,17.38343],[43.32653,17.31179],[43.20156,17.25901],[43.17787,17.14717],[43.23967,17.03428],[43.18233,17.02673],[43.1813,16.98438],[43.19328,16.94703],[43.1398,16.90696],[43.18338,16.84852],[43.22012,16.83932],[43.22956,16.80613],[43.24801,16.80613],[43.26303,16.79479],[43.25857,16.75304],[43.21325,16.74416],[43.22066,16.65179],[43.15274,16.67248],[43.11601,16.53166],[42.97215,16.51093],[42.94351,16.49467],[42.94625,16.39721],[42.76801,16.40371],[42.15205,16.40211],[40.99158,15.81743],[43.29075,12.79154],[43.32909,12.59711],[43.90659,12.3823],[51.12877,12.56479],[57.49095,8.14549]]]]}},{type:"Feature",properties:{iso1A2:"YT",iso1A3:"MYT",iso1N3:"175",wikidata:"Q17063",nameEn:"Mayotte",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.28731,-13.97126],[45.54824,-13.22353],[45.4971,-11.75965],[43.28731,-13.97126]]]]}},{type:"Feature",properties:{iso1A2:"ZA",iso1A3:"ZAF",iso1N3:"710",wikidata:"Q258",nameEn:"South Africa",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["27"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.30611,-22.422],[31.16344,-22.32599],[31.08932,-22.34884],[30.86696,-22.28907],[30.6294,-22.32599],[30.48686,-22.31368],[30.38614,-22.34533],[30.28351,-22.35587],[30.2265,-22.2961],[30.13147,-22.30841],[29.92242,-22.19408],[29.76848,-22.14128],[29.64609,-22.12917],[29.37703,-22.19581],[29.21955,-22.17771],[29.18974,-22.18599],[29.15268,-22.21399],[29.10881,-22.21202],[29.0151,-22.22907],[28.91889,-22.44299],[28.63287,-22.55887],[28.34874,-22.5694],[28.04562,-22.8394],[28.04752,-22.90243],[27.93729,-22.96194],[27.93539,-23.04941],[27.74154,-23.2137],[27.6066,-23.21894],[27.52393,-23.37952],[27.33768,-23.40917],[26.99749,-23.65486],[26.84165,-24.24885],[26.51667,-24.47219],[26.46346,-24.60358],[26.39409,-24.63468],[25.8515,-24.75727],[25.84295,-24.78661],[25.88571,-24.87802],[25.72702,-25.25503],[25.69661,-25.29284],[25.6643,-25.4491],[25.58543,-25.6343],[25.33076,-25.76616],[25.12266,-25.75931],[25.01718,-25.72507],[24.8946,-25.80723],[24.67319,-25.81749],[24.44703,-25.73021],[24.36531,-25.773],[24.18287,-25.62916],[23.9244,-25.64286],[23.47588,-25.29971],[23.03497,-25.29971],[22.86012,-25.50572],[22.70808,-25.99186],[22.56365,-26.19668],[22.41921,-26.23078],[22.21206,-26.3773],[22.06192,-26.61882],[21.90703,-26.66808],[21.83291,-26.65959],[21.77114,-26.69015],[21.7854,-26.79199],[21.69322,-26.86152],[21.37869,-26.82083],[21.13353,-26.86661],[20.87031,-26.80047],[20.68596,-26.9039],[20.63275,-26.78181],[20.61754,-26.4692],[20.86081,-26.14892],[20.64795,-25.47827],[20.29826,-24.94869],[20.03678,-24.81004],[20.02809,-24.78725],[19.99817,-24.76768],[19.99882,-28.42622],[18.99885,-28.89165],[17.4579,-28.68718],[17.15405,-28.08573],[16.90446,-28.057],[16.59922,-28.53246],[16.46592,-28.57126],[16.45332,-28.63117],[12.51595,-32.27486],[38.88176,-48.03306],[34.51034,-26.91792],[32.35222,-26.86027],[32.29584,-26.852],[32.22302,-26.84136],[32.19409,-26.84032],[32.13315,-26.84345],[32.09664,-26.80721],[32.00893,-26.8096],[31.97463,-27.11057],[31.97592,-27.31675],[31.49834,-27.31549],[31.15027,-27.20151],[30.96088,-27.0245],[30.97757,-26.92706],[30.88826,-26.79622],[30.81101,-26.84722],[30.78927,-26.48271],[30.95819,-26.26303],[31.13073,-25.91558],[31.31237,-25.7431],[31.4175,-25.71886],[31.86881,-25.99973],[31.974,-25.95387],[31.92649,-25.84216],[32.00631,-25.65044],[31.97875,-25.46356],[32.01676,-25.38117],[32.03196,-25.10785],[31.9835,-24.29983],[31.90368,-24.18892],[31.87707,-23.95293],[31.77445,-23.90082],[31.70223,-23.72695],[31.67942,-23.60858],[31.56539,-23.47268],[31.55779,-23.176],[31.30611,-22.422]],[[29.33204,-29.45598],[29.28545,-29.58456],[29.12553,-29.76266],[29.16548,-29.91706],[28.9338,-30.05072],[28.80222,-30.10579],[28.68627,-30.12885],[28.399,-30.1592],[28.2319,-30.28476],[28.12073,-30.68072],[27.74814,-30.60635],[27.69467,-30.55862],[27.67819,-30.53437],[27.6521,-30.51707],[27.62137,-30.50509],[27.56781,-30.44562],[27.56901,-30.42504],[27.45452,-30.32239],[27.38108,-30.33456],[27.36649,-30.27246],[27.37293,-30.19401],[27.40778,-30.14577],[27.32555,-30.14785],[27.29603,-30.05473],[27.22719,-30.00718],[27.09489,-29.72796],[27.01016,-29.65439],[27.33464,-29.48161],[27.4358,-29.33465],[27.47254,-29.31968],[27.45125,-29.29708],[27.48679,-29.29349],[27.54258,-29.25575],[27.5158,-29.2261],[27.55974,-29.18954],[27.75458,-28.89839],[27.8907,-28.91612],[27.88933,-28.88156],[27.9392,-28.84864],[27.98675,-28.8787],[28.02503,-28.85991],[28.1317,-28.7293],[28.2348,-28.69471],[28.30518,-28.69531],[28.40612,-28.6215],[28.65091,-28.57025],[28.68043,-28.58744],[29.40524,-29.21246],[29.44883,-29.3772],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"ZM",iso1A3:"ZMB",iso1N3:"894",wikidata:"Q953",nameEn:"Zambia",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["260"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.95389,-9.40138],[32.76233,-9.31963],[32.75611,-9.28583],[32.53661,-9.24281],[32.49147,-9.14754],[32.43543,-9.11988],[32.25486,-9.13371],[32.16146,-9.05993],[32.08206,-9.04609],[31.98866,-9.07069],[31.94196,-9.02303],[31.94663,-8.93846],[31.81587,-8.88618],[31.71158,-8.91386],[31.57147,-8.81388],[31.57147,-8.70619],[31.37533,-8.60769],[31.00796,-8.58615],[30.79243,-8.27382],[28.88917,-8.4831],[28.9711,-8.66935],[28.38526,-9.23393],[28.36562,-9.30091],[28.52636,-9.35379],[28.51627,-9.44726],[28.56208,-9.49122],[28.68532,-9.78],[28.62795,-9.92942],[28.65032,-10.65133],[28.37241,-11.57848],[28.48357,-11.87532],[29.18592,-12.37921],[29.4992,-12.43843],[29.48404,-12.23604],[29.8139,-12.14898],[29.81551,-13.44683],[29.65078,-13.41844],[29.60531,-13.21685],[29.01918,-13.41353],[28.33199,-12.41375],[27.59932,-12.22123],[27.21025,-11.76157],[27.22541,-11.60323],[27.04351,-11.61312],[26.88687,-12.01868],[26.01777,-11.91488],[25.33058,-11.65767],[25.34069,-11.19707],[24.42612,-11.44975],[24.34528,-11.06816],[24.00027,-10.89356],[24.02603,-11.15368],[23.98804,-12.13149],[24.06672,-12.29058],[23.90937,-12.844],[24.03339,-12.99091],[21.97988,-13.00148],[22.00323,-16.18028],[22.17217,-16.50269],[23.20038,-17.47563],[23.47474,-17.62877],[24.23619,-17.47489],[24.32811,-17.49082],[24.38712,-17.46818],[24.5621,-17.52963],[24.70864,-17.49501],[25.00198,-17.58221],[25.26433,-17.79571],[25.51646,-17.86232],[25.6827,-17.81987],[25.85738,-17.91403],[25.85892,-17.97726],[26.08925,-17.98168],[26.0908,-17.93021],[26.21601,-17.88608],[26.55918,-17.99638],[26.68403,-18.07411],[26.74314,-18.0199],[26.89926,-17.98756],[27.14196,-17.81398],[27.30736,-17.60487],[27.61377,-17.34378],[27.62795,-17.24365],[27.83141,-16.96274],[28.73725,-16.5528],[28.76199,-16.51575],[28.81454,-16.48611],[28.8501,-16.04537],[28.9243,-15.93987],[29.01298,-15.93805],[29.21955,-15.76589],[29.4437,-15.68702],[29.8317,-15.6126],[30.35574,-15.6513],[30.41902,-15.62269],[30.22098,-14.99447],[33.24249,-14.00019],[33.16749,-13.93992],[33.07568,-13.98447],[33.02977,-14.05022],[32.99042,-13.95689],[32.88985,-13.82956],[32.79015,-13.80755],[32.76962,-13.77224],[32.84528,-13.71576],[32.7828,-13.64805],[32.68654,-13.64268],[32.66468,-13.60019],[32.68436,-13.55769],[32.73683,-13.57682],[32.84176,-13.52794],[32.86113,-13.47292],[33.0078,-13.19492],[32.98289,-13.12671],[33.02181,-12.88707],[32.96733,-12.88251],[32.94397,-12.76868],[33.05917,-12.59554],[33.18837,-12.61377],[33.28177,-12.54692],[33.37517,-12.54085],[33.54485,-12.35996],[33.47636,-12.32498],[33.3705,-12.34931],[33.25998,-12.14242],[33.33937,-11.91252],[33.32692,-11.59248],[33.24252,-11.59302],[33.23663,-11.40637],[33.29267,-11.43536],[33.29267,-11.3789],[33.39697,-11.15296],[33.25998,-10.88862],[33.28022,-10.84428],[33.47636,-10.78465],[33.70675,-10.56896],[33.54797,-10.36077],[33.53863,-10.20148],[33.31297,-10.05133],[33.37902,-9.9104],[33.36581,-9.81063],[33.31517,-9.82364],[33.2095,-9.61099],[33.12144,-9.58929],[33.10163,-9.66525],[33.05485,-9.61316],[33.00256,-9.63053],[33.00476,-9.5133],[32.95389,-9.40138]]]]}},{type:"Feature",properties:{iso1A2:"ZW",iso1A3:"ZWE",iso1N3:"716",wikidata:"Q954",nameEn:"Zimbabwe",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["263"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.41902,-15.62269],[30.35574,-15.6513],[29.8317,-15.6126],[29.4437,-15.68702],[29.21955,-15.76589],[29.01298,-15.93805],[28.9243,-15.93987],[28.8501,-16.04537],[28.81454,-16.48611],[28.76199,-16.51575],[28.73725,-16.5528],[27.83141,-16.96274],[27.62795,-17.24365],[27.61377,-17.34378],[27.30736,-17.60487],[27.14196,-17.81398],[26.89926,-17.98756],[26.74314,-18.0199],[26.68403,-18.07411],[26.55918,-17.99638],[26.21601,-17.88608],[26.0908,-17.93021],[26.08925,-17.98168],[25.85892,-17.97726],[25.85738,-17.91403],[25.6827,-17.81987],[25.51646,-17.86232],[25.26433,-17.79571],[25.23909,-17.90832],[25.31799,-18.07091],[25.39972,-18.12691],[25.53465,-18.39041],[25.68859,-18.56165],[25.79217,-18.6355],[25.82353,-18.82808],[25.94326,-18.90362],[25.99837,-19.02943],[25.96226,-19.08152],[26.17227,-19.53709],[26.72246,-19.92707],[27.21278,-20.08244],[27.29831,-20.28935],[27.28865,-20.49873],[27.69361,-20.48531],[27.72972,-20.51735],[27.69171,-21.08409],[27.91407,-21.31621],[28.01669,-21.57624],[28.29416,-21.59037],[28.49942,-21.66634],[28.58114,-21.63455],[29.07763,-21.81877],[29.04023,-21.85864],[29.02191,-21.90647],[29.02191,-21.95665],[29.04108,-22.00563],[29.08495,-22.04867],[29.14501,-22.07275],[29.1974,-22.07472],[29.24648,-22.05967],[29.3533,-22.18363],[29.37703,-22.19581],[29.64609,-22.12917],[29.76848,-22.14128],[29.92242,-22.19408],[30.13147,-22.30841],[30.2265,-22.2961],[30.28351,-22.35587],[30.38614,-22.34533],[30.48686,-22.31368],[30.6294,-22.32599],[30.86696,-22.28907],[31.08932,-22.34884],[31.16344,-22.32599],[31.30611,-22.422],[31.38336,-22.36919],[32.41234,-21.31246],[32.48236,-21.32873],[32.37115,-21.133],[32.51644,-20.91929],[32.48122,-20.63319],[32.55167,-20.56312],[32.66174,-20.56106],[32.85987,-20.27841],[32.85987,-20.16686],[32.93032,-20.03868],[33.01178,-20.02007],[33.06461,-19.77787],[32.95013,-19.67219],[32.84666,-19.68462],[32.84446,-19.48343],[32.78282,-19.47513],[32.77966,-19.36098],[32.85107,-19.29238],[32.87088,-19.09279],[32.84006,-19.0262],[32.72118,-19.02204],[32.69917,-18.94293],[32.73439,-18.92628],[32.70137,-18.84712],[32.82465,-18.77419],[32.9017,-18.7992],[32.95013,-18.69079],[32.88629,-18.58023],[32.88629,-18.51344],[33.02278,-18.4696],[33.03159,-18.35054],[32.94133,-17.99705],[33.0492,-17.60298],[32.98536,-17.55891],[32.96554,-17.48964],[33.0426,-17.3468],[33.00517,-17.30477],[32.96554,-17.11971],[32.84113,-16.92259],[32.91051,-16.89446],[32.97655,-16.70689],[32.78943,-16.70267],[32.69917,-16.66893],[32.71017,-16.59932],[32.42838,-16.4727],[32.28529,-16.43892],[32.02772,-16.43892],[31.91324,-16.41569],[31.90223,-16.34388],[31.67988,-16.19595],[31.42451,-16.15154],[31.30563,-16.01193],[31.13171,-15.98019],[30.97761,-16.05848],[30.91597,-15.99924],[30.42568,-15.9962],[30.41902,-15.62269]]]]}}]},hS=cS,ad={},Ji={},dS=/(?=(?!^(and|the|of|el|la|de)$))(\b(and|the|of|el|la|de)\b)|[-_ .,'()&[\]/]/gi;function cy(f){const g=f||"";return g.charAt(0)==="."?g.toUpperCase():g.replace(dS,"").toUpperCase()}var t4=["subterritory","territory","subcountryGroup","country","sharedLandform","intermediateRegion","subregion","region","subunion","union","unitedNations","world"];fS(hS);function fS(f){const g=["iso1A2","iso1A3","m49","wikidata","emojiFlag","ccTLD","nameEn"];let y=[];for(const q of f.features){const V=q.properties;V.id=V.iso1A2||V.m49||V.wikidata,A(q),w(q),o(q),P(q),S(q),G(q),F(q),q.geometry&&y.push(q)}for(const q of f.features)q.properties.groups=q.properties.groups.map(V=>Ji[V].properties.id),j(q);for(const q of f.features)z(q),C(q),O(q),U(q),N(q);for(const q of f.features)q.properties.groups.sort((V,H)=>t4.indexOf(Ji[V].properties.level)-t4.indexOf(Ji[H].properties.level)),q.properties.members&&q.properties.members.sort((V,H)=>{const X=t4.indexOf(Ji[V].properties.level)-t4.indexOf(Ji[H].properties.level);return X===0?f.features.indexOf(Ji[V])-f.features.indexOf(Ji[H]):X});ad=uS({type:"FeatureCollection",features:y});function S(q){const V=q.properties;V.groups||(V.groups=[]),q.geometry&&V.country&&V.groups.push(V.country),V.m49!=="001"&&V.groups.push("001")}function A(q){const V=q.properties;!V.m49&&V.iso1N3&&(V.m49=V.iso1N3)}function w(q){const V=q.properties;V.level!=="unitedNations"&&V.ccTLD!==null&&!V.ccTLD&&V.iso1A2&&(V.ccTLD="."+V.iso1A2.toLowerCase())}function o(q){const V=q.properties;!V.isoStatus&&V.iso1A2&&(V.isoStatus="official")}function P(q){const V=q.properties;V.level||(V.country?!V.iso1A2||V.isoStatus==="official"?V.level="territory":V.level="subterritory":V.level="country")}function N(q){const V=q.properties;if(q.geometry||!V.members)return;const H=t4.indexOf(V.level);let X=[];V.members.forEach((fe,ae)=>{const xe=Ji[fe].properties.groups.filter(ee=>ee!==q.properties.id&&H<t4.indexOf(Ji[ee].properties.level));ae===0?X=xe:X=X.filter(ee=>xe.indexOf(ee)!==-1)}),V.groups=V.groups.concat(X.filter(fe=>V.groups.indexOf(fe)===-1));for(const fe of X){const ae=Ji[fe];ae.properties.members.indexOf(V.id)===-1&&ae.properties.members.push(V.id)}}function z(q){const V=q.properties;if(q.geometry)V.roadSpeedUnit||(V.roadSpeedUnit="km/h");else if(V.members){const H=Array.from(new Set(V.members.map(X=>{const fe=Ji[X];if(fe.geometry)return fe.properties.roadSpeedUnit||"km/h"}).filter(Boolean)));H.length===1&&(V.roadSpeedUnit=H[0])}}function C(q){const V=q.properties;if(q.geometry)V.roadHeightUnit||(V.roadHeightUnit="m");else if(V.members){const H=Array.from(new Set(V.members.map(X=>{const fe=Ji[X];if(fe.geometry)return fe.properties.roadHeightUnit||"m"}).filter(Boolean)));H.length===1&&(V.roadHeightUnit=H[0])}}function O(q){const V=q.properties;if(q.geometry)V.driveSide||(V.driveSide="right");else if(V.members){const H=Array.from(new Set(V.members.map(X=>{const fe=Ji[X];if(fe.geometry)return fe.properties.driveSide||"right"}).filter(Boolean)));H.length===1&&(V.driveSide=H[0])}}function U(q){const V=q.properties;!q.geometry&&V.members&&(V.callingCodes=Array.from(new Set(V.members.reduce((H,X)=>{const fe=Ji[X];return fe.geometry&&fe.properties.callingCodes?H.concat(fe.properties.callingCodes):H},[]))))}function G(q){let V="";const H=q.properties.iso1A2;H&&H!=="FX"&&(V=ae(H));const fe={Q21:"gbeng",Q22:"gbsct",Q25:"gbwls"}[q.properties.wikidata];fe&&(V=he(fe)),V&&(q.properties.emojiFlag=V);function ae(xe){return xe.replace(/./g,ee=>String.fromCodePoint(ee.charCodeAt(0)+127397))}function he(xe){const ee=[127988];for(const Pe of[...xe])ee.push(Pe.codePointAt(0)+917504);return ee.push(917631),String.fromCodePoint.apply(null,ee)}}function j(q){for(const V of q.properties.groups){const H=Ji[V];H.properties.members||(H.properties.members=[]),H.properties.members.push(q.properties.id)}}function F(q){let V=[];for(const H of g){const X=q.properties[H];X&&V.push(X)}for(const H of q.properties.aliases||[])V.push(H);for(const H of V){const X=cy(H);Ji[X]=q}}}function pS(f){return Array.isArray(f)?f:f.coordinates?f.coordinates:f.geometry.coordinates}function hy(f){const g=pS(f),y=ad(g);return y?Ji[y.id]:null}function mS(f){const g=hy(f);if(!g)return null;const y=g.properties.country||g.properties.iso1A2;return Ji[y]||null}var gS={level:void 0,maxLevel:void 0,withProp:void 0};function yS(f,g){const y=g.level||"country",T=g.maxLevel||"world",S=g.withProp,A=t4.indexOf(y);if(A===-1)return null;const w=t4.indexOf(T);if(w===-1||w<A)return null;if(y==="country"){const N=mS(f);if(N&&(!S||N.properties[S]))return N}return xS(f).find(N=>{let z=t4.indexOf(N.properties.level);return(N.properties.level===y||z>A&&z<=w)&&(!S||N.properties[S])?N:!1})||null}function dy(f){let g;return typeof f=="number"?(g=f.toString(),g.length===1?g="00"+g:g.length===2&&(g="0"+g)):g=cy(f),Ji[g]||null}function _S(f){return ad.bbox(f).map(g=>Ji[g.id])}function vS(f){return typeof f=="object"?hy(f):dy(f)}function bS(f,g=gS){return typeof f=="object"?yS(f,g):dy(f)}function xS(f,g){let y;if(Array.isArray(f)&&f.length===4)y=_S(f);else{const S=vS(f);y=S?[S]:[]}if(!y.length)return[];let T;T=y.slice();for(const S of y){const A=S.properties;for(const w of A.groups){const o=Ji[w];T.indexOf(o)===-1&&T.push(o)}}return T}const od=f=>f.split(",").map(Number),fy=({filter:f,query:g})=>{const y=g.to?Vt.jsxs(Vt.Fragment,{children:["From ",Vt.jsx(Wu,{date:g.from})," to"," ",Vt.jsx(Wu,{date:g.to,hideSeconds:!0,hideSecondsText:["just now","right now"]})]}):`Last ${g.from.split(",").join(" ")}`,[T,S,A,w]=od(g.bbox),o=T+(A-T)/2,P=S+(w-S)/2,N=bS([o,P]),z=N?` in ${N.properties.nameEn} ${N.properties.emojiFlag}.`:" in an unknown region.",C=N7(f,{format:"natural_language",fields:ly});return Vt.jsxs("small",{children:[y,z," ",C==="1 is 1"?"":`${C}.`]})},wS=({value:f,onChange:g})=>{const y=od(f),T=je.useRef(null),S=je.useRef(null);function A(){const o=new wh.Map({container:T.current,style:Eh,hash:!1,attributionControl:!1});S.current=o,o.setMaxPitch(0),o.dragRotate.disable(),o.touchZoomRotate.disableRotation(),o.keyboard.disableRotation();const P=o.getCanvasContainer(),N={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[y[0],y[1]]},properties:{id:"topLeft"}},{type:"Feature",geometry:{type:"Point",coordinates:[y[2],y[3]]},properties:{id:"bottomRight"}}]};function z(){const[j,F]=N.features[0].geometry.coordinates,[q,V]=N.features[1].geometry.coordinates;return[+Math.min(j,q).toFixed(4),+Math.min(F,V).toFixed(4),+Math.max(j,q).toFixed(4),+Math.max(F,V).toFixed(4)]}function C(){const[j,F,q,V]=z();return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[j,F],[q,F],[q,V],[j,V],[j,F]]]},properties:{}}]}}let O;function U(j){if(!O)return;const F=j.lngLat;P.style.cursor="grabbing";const q=N.features.find(V=>V.properties.id===O?.properties.id);q&&(q.geometry.coordinates=[F.lng,F.lat],o.getSource("point").setData(N),o.getSource("polygon").setData(C()))}function G(){P.style.cursor="",o.off("mousemove",U),o.off("touchmove",U),g(z().join(","))}o.on("load",async()=>{o.addSource("point",{type:"geojson",data:N}),o.addLayer({id:"point",type:"circle",source:"point",paint:{"circle-radius":10,"circle-color":"#3887be"}}),o.addSource("polygon",{type:"geojson",data:C()}),o.addLayer({id:"polygon",type:"line",source:"polygon",layout:{},paint:{"line-color":"#3887be"}}),o.fitBounds([[y[0],y[1]],[y[2],y[3]]],{padding:50,duration:0}),o.on("mouseenter","point",()=>{o.setPaintProperty("point","circle-color","#3bb2d0"),P.style.cursor="move"}),o.on("mouseleave","point",()=>{o.setPaintProperty("point","circle-color","#3887be"),P.style.cursor=""}),o.on("mousedown","point",j=>{j.preventDefault(),P.style.cursor="grab";const[F]=o.queryRenderedFeatures(j.point);F?.properties.id&&(O=F),o.on("mousemove",U),o.once("mouseup",G)})})}const w=je.useEffectEvent(A);return je.useEffect(()=>w(),[]),Vt.jsx("div",{ref:T,style:{width:"200px",height:"200px"}})},Mh={bbox:"165.366211,-47.762509,179.384766,-33.545548",from:"2,days",to:""},py={combinator:"and",rules:[{field:"changeset._editor",operator:"notIn",value:"StreetComplete,StreetComplete_ee"}]},SS=({query:f,setQuery:g,filter:y,setFilter:T,onClose:S,matchCount:A,totalCount:w})=>Vt.jsxs("dialog",{ref:o=>o?.showModal(),className:rS.dialog,children:[Vt.jsx("h4",{children:"Date Range"}),Vt.jsxs("select",{value:+!!f.to,onChange:o=>{o.target.value==="0"?g(P=>({...P,to:"",from:"3,days"})):g(P=>({...P,to:_m(new Date),from:_m(uy(P.from))}))},children:[Vt.jsx("option",{value:0,children:"Relative"}),Vt.jsx("option",{value:1,children:"Absolute"})]}),f.to?Vt.jsxs(Vt.Fragment,{children:[Vt.jsxs("label",{children:[" From ",Vt.jsx("input",{type:"datetime-local",value:f.from,onChange:o=>g(P=>({...P,from:o.target.value}))})]}),Vt.jsxs("label",{children:[" to ",Vt.jsx("input",{type:"datetime-local",value:f.to,onChange:o=>g(P=>({...P,to:o.target.value}))})]})]}):Vt.jsxs("label",{children:[" Last ",Vt.jsx("input",{type:"number",value:f.from.split(",")[0],onChange:o=>g(P=>({...P,from:`${o.target.value},${P.from.split(",")[1]}`})),style:{width:60}}),Vt.jsx("select",{value:f.from.split(",")[1],onChange:o=>g(P=>({...P,from:`${P.from.split(",")[0]},${o.target.value}`})),children:["seconds","minutes","hours","days"].map(o=>Vt.jsx("option",{children:o},o))})]}),Vt.jsx("br",{}),Vt.jsx("br",{}),Vt.jsx("h4",{children:"Region"}),Vt.jsx("input",{type:"text",value:f.bbox,onChange:o=>g(P=>({...P,bbox:o.target.value})),style:{width:300}}),Vt.jsx(wS,{value:f.bbox,onChange:o=>g(P=>({...P,bbox:o}))}),Vt.jsx("br",{}),Vt.jsx("br",{}),Vt.jsx("h4",{children:"Filter"}),Vt.jsx(hx,{fields:ly,query:y,onQueryChange:T,parseNumbers:"strict-limited",addRuleToNewGroups:!0,showCombinatorsBetweenRules:!0,controlClassnames:{queryBuilder:"queryBuilder-branches"}}),Vt.jsxs("small",{children:["Matched ",A," out of the ",w," currently downloaded changesets."]}),Vt.jsx("br",{}),Vt.jsx("h4",{children:"Summary"}),Vt.jsx(fy,{query:f,filter:y}),Vt.jsx("br",{}),Vt.jsx("br",{}),Vt.jsx("button",{onClick:S,children:"Close"})]}),TS="_DiffPopup_1hju1_2",AS="_DiffTable_1hju1_12",ES="_added_1hju1_47",MS="_removed_1hju1_50",CS="_changedOld_1hju1_56",PS="_changedNew_1hju1_59",x5={DiffPopup:TS,DiffTable:AS,added:ES,removed:MS,changedOld:CS,changedNew:PS};function RS(f){try{return new URL(f).host.replace(/^www\./,"")}catch{return}}const Sm=({formatter:f,value:g})=>{if(!f)return g;const y=f.replaceAll("$1",g);return Vt.jsx("a",{href:y,title:`View on ${RS(f)}`,target:"_blank",rel:"noreferrer",children:g})},Hu=Vt.jsx("td",{children:""}),IS=({diff:f,onClose:g})=>{const{old:y,new:T}=f,S=je.useMemo(()=>[...new Set([...Object.keys(y?.tags||{}),...Object.keys(T?.tags||{})])].toSorted((w,o)=>w.localeCompare(o)),[y,T]);return Vt.jsxs("aside",{className:x5.DiffPopup,children:[Vt.jsx("button",{onClick:g,style:{marginBottom:8},children:"Close"}),Vt.jsxs("table",{className:x5.DiffTable,children:[Vt.jsx("thead",{children:Vt.jsxs("tr",{children:[Vt.jsx("th",{}),Vt.jsx("th",{children:"Before"}),Vt.jsx("th",{children:"After"})]})}),Vt.jsxs("tbody",{children:[Vt.jsxs("tr",{children:[Vt.jsx("td",{children:"version"}),Vt.jsx("td",{children:y?.version||""}),Vt.jsx("td",{children:T?.version||""})]}),Vt.jsxs("tr",{children:[Vt.jsx("td",{children:"timestamp"}),y?Vt.jsx("td",{children:Vt.jsx("abbr",{title:y?.timestamp||"",children:Vt.jsx(Wu,{date:y?.timestamp})})}):Hu,T?Vt.jsx("td",{children:Vt.jsx("abbr",{title:T?.timestamp||"",children:Vt.jsx(Wu,{date:T?.timestamp})})}):Hu]}),Vt.jsxs("tr",{children:[Vt.jsx("td",{children:"changeset"}),y?Vt.jsx("td",{children:Vt.jsx("a",{href:`https://osm.org/changeset/${y.changeset}`,target:"_blank",rel:"noreferrer",children:y.changeset})}):Hu,T?Vt.jsx("td",{children:Vt.jsx("a",{href:`https://osm.org/changeset/${T?.changeset}`,target:"_blank",rel:"noreferrer",children:T?.changeset})}):Hu]}),Vt.jsxs("tr",{children:[Vt.jsx("td",{children:"user"}),y?Vt.jsx("td",{children:Vt.jsx("a",{href:`https://osm.org/user/${y.user}`,target:"_blank",rel:"noreferrer",children:y.user})}):Hu,T?Vt.jsx("td",{children:Vt.jsx("a",{href:`https://osm.org/user/${T.user}`,target:"_blank",rel:"noreferrer",children:T.user})}):Hu]}),Vt.jsx("tr",{children:Vt.jsx("th",{colSpan:3,children:"Tags"})}),S.map(A=>{const w=y?.tags?.[A]||"",o=T?.tags?.[A]||"",P=w?o?w===o?"":x5.changedNew:x5.removed:x5.added,N=void 0;return Vt.jsxs("tr",{children:[Vt.jsx("td",{children:A}),Vt.jsx("td",{className:P===x5.changedNew?x5.changedOld:"",children:Vt.jsx(Sm,{value:w,formatter:N})}),Vt.jsx("td",{className:P,children:Vt.jsx(Sm,{value:o,formatter:N})})]},A)})]})]})]})},z7=f=>typeof f=="string"?f.toLowerCase():f;new RegExp(C7.source.replace(/^\^/,String.raw`^\s*`).replace(/\$$/,String.raw`\s*$`));const I6=f=>f===null||typeof f!="object"?!1:Object.getPrototypeOf(f)===Object.prototype,y7=f=>I6(f)&&Array.isArray(f.rules),NS=",",Xc=(f,g=NS)=>f.map(y=>`${y??""}`.replaceAll(g[0],`\\${g[0]}`)).join(g),Tm=(f,{parseNumbers:g,bigIntOnOverflow:y}={})=>{if(!g||typeof f=="bigint"||typeof f=="number")return f;if(g==="native")return Number.parseFloat(f);const T=qm(f,{allowTrailingInvalid:g==="enhanced",bigIntOnOverflow:y,romanNumerals:!1,round:!1});return typeof T=="bigint"||!Number.isNaN(T)?T:f},Ch=f=>I6(f)&&"name"in f&&typeof f.name=="string",Ph=f=>I6(f)&&"value"in f&&typeof f.value=="string";function Ku(f,g,y){return xa(T=>{const S={};let A=!1;if(typeof T=="string")return{...g,name:T,value:T,label:T};if(Ch(T)&&!Ph(T)?(S.value=T.name,A=!0):!Ch(T)&&Ph(T)&&(S.name=T.value,A=!0),A)return Object.assign({},g,T,S)})(f)}function DS(f,g,y){return Array.isArray(f)?xa(T=>{if(Rh(T))for(const S of T)for(const[A,w]of S.options.entries())S.options[A]=Ku(w,g);else for(const[S,A]of T.entries())T[S]=Ku(A,g)})(f):[]}const OS=f=>{const g=new Set,y=[];for(const T of f)g.has(T.value??T.name)||(g.add(T.value??T.name),y.push(T));return f.length===y.length?f:y},FS=f=>Array.isArray(f)&&f.length>0&&I6(f[0])&&"options"in f[0]&&Array.isArray(f[0].options),sd=f=>{let g=!1;if(Array.isArray(f))for(const y of f)if(Ch(y)||Ph(y))g=!0;else return!1;return g},Rh=(f,{allowEmpty:g=!1}={})=>{let y=!1;if(Array.isArray(f))for(const T of f)if(I6(T)&&"options"in T&&(sd(T.options)||g&&Array.isArray(T.options)&&T.options.length===0))y=!0;else return!1;return y},kS=f=>OS(FS(f)?f.flatMap(g=>g.options):f),zS=f=>{const{mode:g,threshold:y}=f.match??{};if(!g)return null;if(!y7(f.value))return!1;const T=z7(g),S=T==="atleast"&&y===1?"some":T==="atmost"&&y===0?"none":T;return(S==="atleast"||S==="atmost"||S==="exactly")&&(typeof y!="number"||y<0)?!1:{mode:S,threshold:y}},Am=(f,g,y)=>{const T=Ku(f),S=Ku(y);return T.value===S.value?!1:typeof T.comparator=="string"?T[T.comparator]===S[T.comparator]:T.comparator?.(S,g)??!1},BS=(f,g,y)=>{if(!f.comparator){const T=S=>(S.value??S.name)!==(f.value??f.name);return Rh(g)?g.map(S=>({...S,options:S.options.filter(A=>T(A))})):g.filter(S=>T(S))}return Rh(g)?g.map(T=>({...T,options:T.options.filter(S=>Am(f,y,S))})).filter(T=>T.options.length>0):g.filter(T=>Am(f,y,T))},Em=[{name:"value",value:"value",label:"value"}],LS={name:"name",value:"name",valueSources:null,label:"label"},US=(f,g,y)=>{const T=f?Ku(f):LS;let S=T.valueSources??!1;return typeof S=="function"&&(S=S(g)),!S&&y&&(S=y(T.value,g,{fieldData:T})),S?sd(S)?DS(S):S.map(A=>Em.find(w=>w.value===z7(A))??{name:A,value:A,label:A}):Em},jS=f=>kS(f?Array.isArray(f)?f:Object.keys(f).map(g=>({...f[g],name:g})).sort((g,y)=>g.label.localeCompare(y.label)):[]);function GS(f){const{fieldsFlat:g,fieldName:y,operator:T,subordinateFieldName:S,getValueSources:A}=f,w=N=>{const z=US(P,T,A);return sd(z)&&z.some(C=>C.value===N||C.name===N)};if(g.length===0)return!0;let o=!1;const P=Ku(g.find(N=>N.name===y));return P&&(o=!(!S&&T!=="notNull"&&T!=="null"&&!w("value")),o&&S&&(w("field")&&y!==S&&BS(P,g,T).some(N=>N.name===S)||(o=!1))),o}const g6=globalThis.crypto;let _7=()=>"00-0-4-2-000".replaceAll(/[^-]/g,f=>((Math.random()+Math.trunc(f))*65536>>Number.parseInt(f)).toString(16).padStart(4,"0"));if(g6){if(typeof g6.randomUUID=="function")_7=()=>g6.randomUUID();else if(typeof g6.getRandomValues=="function"){const f="89ab",g=new Uint32Array(32);_7=()=>{g6.getRandomValues(g);let y=(g[0]%16).toString(16);for(let T=1;T<32;T++)T===12?y=`${y}4`:T===16?y=`${y}${f[g[17]%4]}`:y=`${y}${(g[T]%16).toString(16)}`,(T===7||T===11||T===15||T===19)&&(y=`${y}-`);return y}}}const VS=(f,{idGenerator:g=_7}={})=>xa(f,y=>{y.id||(y.id=g()),zS(y)&&(y.value=ld(y.value,{idGenerator:g}))}),ld=(f,{idGenerator:g=_7}={})=>xa(f,y=>{y.id||(y.id=g()),y.rules=y.rules.map(T=>typeof T=="string"?T:y7(T)?ld(T,{idGenerator:g}):VS(T,{idGenerator:g}))});var y6={},Mm;function qS(){if(Mm)return y6;Mm=1,Object.defineProperty(y6,"__esModule",{value:!0}),y6.JisonParser=void 0;var f=(function(){function g(y,T){y===void 0&&(y={}),this.yy=y,this.lexer=T}return g.prototype.trace=function(y){},g.prototype.parseError=function(y,T){if(T.recoverable)this.trace(y);else{var S=new Error(y);throw S.hash=T,S}},g.prototype.parse=function(y,T){T===void 0&&(T=typeof this.yy=="function"&&typeof this.yy.constructor=="function"?new this.yy(this,this.lexer):Object.create(this.yy));var S=this,A=[0],w=[null],o=[],P=this.table,N="",z=0,C=0,O=0,U=2,G=1,j=o.slice.call(arguments,1),F=Object.create(this.lexer),q={yy:T};F.setInput(y,q.yy),q.yy.lexer=F,q.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var V=F.yylloc;o.push(V);var H=F.options&&F.options.ranges;typeof q.yy.parseError=="function"&&(this.parseError=q.yy.parseError);function X(Ct){A.length=A.length-2*Ct,w.length=w.length-Ct,o.length=o.length-Ct}for(var fe=function(){var Ct;return Ct=F.lex()||G,typeof Ct!="number"&&(Ct=S.symbols_[Ct]||Ct),Ct},ae,he,xe,ee,Pe,we={},Fe,et,Ke,_t;;){if(xe=A[A.length-1],this.defaultActions[xe]?ee=this.defaultActions[xe]:((ae===null||typeof ae>"u")&&(ae=fe()),ee=P[xe]&&P[xe][ae]),typeof ee>"u"||!ee.length||!ee[0]){var Ne=null,Te="";if(O)he!==G&&(Ne=Ze(xe));else{Ne=Ze(xe),_t=[];for(var lt in P[xe])Fe=Number(lt),this.terminals_[Fe]&&Fe>U&&_t.push("'"+this.terminals_[Fe]+"'");F.showPosition?Te="Parse error on line "+(z+1)+`:
`+F.showPosition()+`
Expecting `+_t.join(", ")+", got '"+(this.terminals_[ae]||ae)+"'":Te="Parse error on line "+(z+1)+": Unexpected "+(ae==G?"end of input":"'"+(this.terminals_[ae]||ae)+"'"),this.parseError(Te,{text:F.match,token:this.terminals_[ae]||ae,line:F.yylineno,loc:F.yylloc,expected:_t,recoverable:Ne!==null})}if(O==3){if(ae===G||he===G)throw new Error(Te||"Parsing halted while starting to recover from another error.");C=F.yyleng,N=F.yytext,z=F.yylineno,V=F.yylloc,ae=fe()}if(Ne===null)throw new Error(Te||"Parsing halted. No suitable error recovery rule available.");X(Ne||0),he=ae==U?null:ae,ae=U,xe=A[A.length-1],ee=P[xe]&&P[xe][U],O=3}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+ae);switch(ee[0]){case 1:A.push(ae),w.push(F.yytext),o.push(F.yylloc),A.push(ee[1]),ae=null,he?(ae=he,he=null):(C=F.yyleng,N=F.yytext,z=F.yylineno,V=F.yylloc,O>0&&O--);break;case 2:if(et=this.productions_[ee[1]][1],we.$=w[w.length-et],we._$={first_line:o[o.length-(et||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(et||1)].first_column,last_column:o[o.length-1].last_column},H&&(we._$.range=[o[o.length-(et||1)].range[0],o[o.length-1].range[1]]),Pe=this.performAction.apply(we,[N,C,z,q.yy,ee[1],w,o].concat(j)),typeof Pe<"u")return Pe;et&&(A=A.slice(0,-1*et*2),w=w.slice(0,-1*et),o=o.slice(0,-1*et)),A.push(this.productions_[ee[1]][0]),w.push(we.$),o.push(we._$),Ke=P[A[A.length-2]][A[A.length-1]],A.push(Ke);break;case 3:return!0}}return!0;function Ze(Ct){for(var Ie=A.length-1,rt=0;;){if(U.toString()in P[Ct])return rt;if(Ct===0||Ie<2)return null;Ie-=2,Ct=A[Ie],++rt}}},g.expandParseTable=function(y,T,S){var A=y.length;for(S=S||{};A--;S[y[A]]=T);return S},g})();return y6.JisonParser=f,y6}var Cm=qS(),_6={},Pm;function $S(){if(Pm)return _6;Pm=1,Object.defineProperty(_6,"__esModule",{value:!0}),_6.JisonLexer=void 0;var f=(function(){function g(y){y===void 0&&(y={}),this.yy=y,this.EOF=1,this.options={},this.yyleng=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0}}return g.prototype.parseError=function(y,T){if(this.yy.parser)this.yy.parser.parseError(y,T);else throw new Error(y)},g.prototype.setInput=function(y,T){return this.yy=T||this.yy||{},this._input=y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},g.prototype.input=function(){if(this._input.length===0)return this.done=!0,""+this.EOF;var y=this._input[0];this.yytext+=y,this.yyleng++,this.offset++,this.match+=y,this.matched+=y;var T=y.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),y},g.prototype.unput=function(y){var T=y.length,S=y.split(/(?:\r\n?|\n)/g);this._input=y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var A=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var w=this.yylloc.range,o={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===A.length?this.yylloc.first_column:0)+A[A.length-S.length].length-S[0].length:this.yylloc.first_column-T};return this.yylloc=o,this.options.ranges&&(this.yylloc.range=[w[0],w[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},g.prototype.more=function(){return this._more=!0,this},g.prototype.reject=function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},g.prototype.less=function(y){this.unput(this.match.slice(y))},g.prototype.pastInput=function(){var y=this.matched.substr(0,this.matched.length-this.match.length);return(y.length>20?"...":"")+y.substr(-20).replace(/\n/g,"")},g.prototype.upcomingInput=function(){var y=this.match;return y.length<20&&(y+=this._input.substr(0,20-y.length)),(y.substr(0,20)+(y.length>20?"...":"")).replace(/\n/g,"")},g.prototype.showPosition=function(){var y=this.pastInput(),T=new Array(y.length+1).join("-");return y+this.upcomingInput()+`
`+T+"^"},g.prototype.test_match=function(y,T){var S,A,w;if(this.options.backtrack_lexer&&(w={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(w.yylloc.range=this.yylloc.range.slice(0))),A=y[0].match(/(?:\r\n?|\n).*/g),A&&(this.yylineno+=A.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+y[0].length},this.yytext+=y[0],this.match+=y[0],this.matches=y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(y[0].length),this.matched+=y[0],S=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var o in w)this[o]=w[o];return!1}return!1},g.prototype.next=function(){if(this.done)return this.EOF;this._input||(this.done=!0);var y,T=null,S,A;this._more||(this.yytext="",this.match="");for(var w=this._currentRules(),o=0;o<w.length;o++)if(S=this._input.match(this.rules[w[o]]),S&&(!T||S[0].length>T[0].length)){if(T=S,A=o,this.options.backtrack_lexer){if(y=this.test_match(S,w[o]),y!==!1)return y;if(this._backtrack){T=null;continue}else return!1}else if(!this.options.flex)break}return T?(y=this.test_match(T,w[A]),y!==!1?y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},g.prototype.lex=function(){var y=this.next();return y||this.lex()},g.prototype.begin=function(y){this.conditionStack.push(y)},g.prototype.popState=function(){var y=this.conditionStack.length-1;return y>0?this.conditionStack.pop():this.conditionStack[0]},g.prototype._currentRules=function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},g.prototype.topState=function(y){return y=this.conditionStack.length-1-Math.abs(y||0),y>=0?this.conditionStack[y]:"INITIAL"},g.prototype.pushState=function(y){this.begin(y)},g.prototype.stateStackSize=function(){return this.conditionStack.length},g})();return _6.JisonLexer=f,_6}var QS=$S(),HS=class extends Cm.JisonParser{$;symbols_={error:2,main:3,selectClause:4,semicolonOpt:5,EOF:6,unionClause:7,";":8,unionClauseNotParenthesized:9,unionClauseParenthesized:10,order_by_opt:11,limit_opt:12,selectClauseParenthesized:13,UNION:14,distinctOpt:15,"(":16,")":17,SELECT:18,highPriorityOpt:19,maxStateMentTimeOpt:20,straightJoinOpt:21,sqlSmallResultOpt:22,sqlBigResultOpt:23,sqlBufferResultOpt:24,sqlCacheOpt:25,sqlCalcFoundRowsOpt:26,selectExprList:27,selectDataSetOpt:28,ALL:29,DISTINCT:30,DISTINCTROW:31,HIGH_PRIORITY:32,MAX_STATEMENT_TIME:33,"=":34,NUMERIC:35,STRAIGHT_JOIN:36,SQL_SMALL_RESULT:37,SQL_BIG_RESULT:38,SQL_BUFFER_RESULT:39,SQL_CACHE:40,SQL_NO_CACHE:41,SQL_CALC_FOUND_ROWS:42,",":43,selectExpr:44,"*":45,selectExprStar:46,expr:47,selectExprAliasOpt:48,identifier:49,DOT:50,AS:51,IDENTIFIER:52,STRING:53,string:54,number:55,EXPONENT_NUMERIC:56,HEX_NUMERIC:57,boolean:58,TRUE:59,FALSE:60,null:61,NULL:62,literal:63,place_holder:64,function_call:65,function_call_param_list:66,function_call_param:67,identifier_list:68,case_expr_opt:69,when_then_list:70,WHEN:71,THEN:72,case_when_else:73,ELSE:74,case_when:75,CASE:76,END:77,simple_expr_prefix:78,"+":79,simple_expr:80,"-":81,"~":82,"!":83,BINARY:84,expr_list:85,ROW:86,EXISTS:87,"{":88,"}":89,"||":90,WILDCARD:91,bit_expr:92,"|":93,"&":94,"<<":95,">>":96,"/":97,DIV:98,MOD:99,"%":100,"^":101,not_opt:102,NOT:103,escape_opt:104,ESCAPE:105,predicate:106,IN:107,BETWEEN:108,AND:109,SOUNDS:110,LIKE:111,REGEXP:112,comparison_operator:113,">=":114,">":115,"<=":116,"<":117,"<>":118,"!=":119,sub_query_data_set_opt:120,ANY:121,boolean_primary:122,IS:123,boolean_extra:124,UNKNOWN:125,OR:126,XOR:127,where_opt:128,WHERE:129,group_by_opt:130,group_by:131,roll_up_opt:132,WITH:133,ROLLUP:134,GROUP_BY:135,group_by_order_by_item_list:136,order_by:137,ORDER_BY:138,group_by_order_by_item:139,sort_opt:140,ASC:141,DESC:142,having_opt:143,HAVING:144,limit:145,LIMIT:146,OFFSET:147,procedure_opt:148,procedure:149,PROCEDURE:150,for_update_lock_in_share_mode_opt:151,FOR:152,UPDATE:153,LOCK:154,SHARE:155,MODE:156,FROM:157,table_references:158,partitionOpt:159,escaped_table_reference:160,table_reference:161,OJ:162,join_inner_cross:163,INNER:164,CROSS:165,left_right:166,LEFT:167,RIGHT:168,out_opt:169,OUTER:170,left_right_out_opt:171,join_table:172,JOIN:173,table_factor:174,join_condition:175,on_join_condition:176,NATURAL:177,join_condition_opt:178,ON:179,USING:180,partition_names:181,PARTITION:182,aliasOpt:183,index_or_key:184,INDEX:185,KEY:186,for_opt:187,identifier_list_opt:188,index_hint_list_opt:189,index_hint_list:190,index_hint:191,USE:192,IGNORE:193,FORCE:194,PLACE_HOLDER:195,$accept:0,$end:1};terminals_={2:"error",6:"EOF",8:";",14:"UNION",16:"(",17:")",18:"SELECT",29:"ALL",30:"DISTINCT",31:"DISTINCTROW",32:"HIGH_PRIORITY",33:"MAX_STATEMENT_TIME",34:"=",35:"NUMERIC",36:"STRAIGHT_JOIN",37:"SQL_SMALL_RESULT",38:"SQL_BIG_RESULT",39:"SQL_BUFFER_RESULT",40:"SQL_CACHE",41:"SQL_NO_CACHE",42:"SQL_CALC_FOUND_ROWS",43:",",45:"*",50:"DOT",51:"AS",52:"IDENTIFIER",53:"STRING",56:"EXPONENT_NUMERIC",57:"HEX_NUMERIC",59:"TRUE",60:"FALSE",62:"NULL",71:"WHEN",72:"THEN",74:"ELSE",76:"CASE",77:"END",79:"+",81:"-",82:"~",83:"!",84:"BINARY",86:"ROW",87:"EXISTS",88:"{",89:"}",90:"||",91:"WILDCARD",93:"|",94:"&",95:"<<",96:">>",97:"/",98:"DIV",99:"MOD",100:"%",101:"^",103:"NOT",105:"ESCAPE",107:"IN",108:"BETWEEN",109:"AND",110:"SOUNDS",111:"LIKE",112:"REGEXP",114:">=",115:">",116:"<=",117:"<",118:"<>",119:"!=",121:"ANY",123:"IS",125:"UNKNOWN",126:"OR",127:"XOR",129:"WHERE",133:"WITH",134:"ROLLUP",135:"GROUP_BY",138:"ORDER_BY",141:"ASC",142:"DESC",144:"HAVING",146:"LIMIT",147:"OFFSET",150:"PROCEDURE",152:"FOR",153:"UPDATE",154:"LOCK",155:"SHARE",156:"MODE",157:"FROM",162:"OJ",164:"INNER",165:"CROSS",167:"LEFT",168:"RIGHT",170:"OUTER",173:"JOIN",177:"NATURAL",179:"ON",180:"USING",182:"PARTITION",185:"INDEX",186:"KEY",192:"USE",193:"IGNORE",194:"FORCE",195:"PLACE_HOLDER"};productions_=[0,[3,3],[3,3],[5,1],[5,0],[7,1],[7,3],[10,4],[10,4],[13,3],[9,4],[9,4],[4,12],[15,1],[15,1],[15,1],[15,0],[19,1],[19,0],[20,3],[20,0],[21,1],[21,0],[22,1],[22,0],[23,1],[23,0],[24,1],[24,0],[25,0],[25,1],[25,1],[26,1],[26,0],[27,3],[27,1],[44,1],[44,1],[44,2],[46,3],[48,0],[48,2],[48,1],[48,2],[48,1],[54,1],[55,1],[55,1],[55,1],[58,1],[58,1],[61,1],[63,1],[63,1],[63,1],[63,1],[63,1],[65,4],[66,3],[66,1],[67,0],[67,1],[67,1],[67,2],[67,1],[49,1],[49,3],[68,1],[68,3],[69,0],[69,1],[70,4],[70,5],[73,0],[73,2],[75,5],[78,2],[78,2],[78,2],[78,2],[78,2],[80,1],[80,1],[80,1],[80,1],[80,3],[80,4],[80,3],[80,4],[80,4],[80,1],[80,3],[80,3],[80,5],[92,1],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[102,0],[102,1],[104,0],[104,2],[106,1],[106,6],[106,6],[106,6],[106,4],[106,5],[106,4],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[120,1],[120,1],[122,1],[122,4],[122,3],[122,6],[124,1],[124,1],[47,1],[47,4],[47,2],[47,3],[47,3],[47,3],[85,1],[85,3],[128,0],[128,2],[130,0],[130,1],[132,0],[132,2],[131,3],[11,0],[11,1],[137,3],[136,1],[136,3],[139,2],[140,0],[140,1],[140,1],[143,0],[143,2],[145,2],[145,4],[145,4],[12,0],[12,1],[148,0],[148,1],[149,2],[151,0],[151,2],[151,4],[28,0],[28,10],[158,1],[158,3],[160,1],[160,4],[163,0],[163,1],[163,1],[166,1],[166,1],[169,0],[169,1],[171,0],[171,2],[172,4],[172,5],[172,4],[172,6],[172,5],[178,0],[178,1],[176,2],[175,1],[175,4],[161,1],[161,1],[181,1],[181,3],[159,0],[159,4],[183,0],[183,2],[183,1],[184,1],[184,1],[187,0],[187,2],[187,2],[187,2],[188,0],[188,1],[189,0],[189,1],[190,1],[190,3],[191,6],[191,6],[191,6],[174,4],[174,4],[174,3],[64,1]];table;defaultActions={11:[2,3],22:[2,1],24:[2,2],142:[2,125],143:[2,126],267:[2,177],268:[2,178],282:[2,182],302:[2,184],344:[2,207],345:[2,208],346:[2,209]};constructor(f={},g=new ZS(f)){super(f,g);const y=[1,8],T=[1,4],S=[2,4],A=[1,11],w=[1,10],o=[2,16],P=[1,14],N=[1,15],z=[1,16],C=[6,8],O=[2,148],U=[1,19],G=[1,20],j=[16,33,35,36,37,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],F=[16,18,32,33,35,36,37,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],q=[2,162],V=[1,29],H=[6,8,14,17,146,150,152,154],X=[1,42],fe=[1,61],ae=[1,53],he=[1,60],xe=[1,62],ee=[1,63],Pe=[1,64],we=[1,65],Fe=[1,66],et=[1,59],Ke=[1,54],_t=[1,55],Ne=[1,56],Te=[1,57],lt=[1,58],Ze=[1,43],Ct=[1,44],Ie=[1,45],rt=[1,47],dt=[1,34],$e=[1,67],ft=[16,35,36,37,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],mt=[6,8,14,17,150,152,154],me=[2,145],ue=[1,76],ut=[1,77],qe=[6,8,14,17,43,133,138,144,146,150,152,154],Et=[1,80],At=[1,79],Gt=[1,81],Jt=[6,8,14,17,36,43,51,52,53,71,72,74,77,89,109,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Kt=[6,8,14,17,34,36,43,51,52,53,71,72,74,77,89,109,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],cr=[1,102],tr=[1,100],ur=[1,101],Hr=[1,96],be=[1,97],te=[1,98],ie=[1,99],ke=[1,103],it=[1,104],It=[1,105],Re=[1,106],le=[1,107],de=[1,108],ge=[2,107],Ue=[6,8,14,17,34,36,43,45,51,52,53,71,72,74,77,79,81,89,93,94,95,96,97,98,99,100,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],De=[6,8,14,17,34,36,43,45,51,52,53,71,72,74,77,79,81,89,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ht=[2,82],ot=[1,110],Ye=[1,109],st=[1,117],Me=[2,65],Oe=[1,119],Ot=[16,35,37,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],$t=[16,29,35,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,121,195],Qt=[1,162],Xt=[1,164],hr=[17,43],ct=[6,8,14,16,17,34,35,36,43,45,50,51,52,53,56,57,59,60,62,71,72,74,76,77,79,81,82,83,84,86,87,88,89,90,91,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182,192,193,194,195],gr=[2,60],tn=[1,174],vr=[1,172],Mr=[6,8,138,146],Kr=[16,35,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],Ur=[6,8,14,17,138,144,146,150,152,154],zr=[6,8,14,17,36,43,51,52,53,71,72,74,77,89,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Zr=[6,8,14,17,34,36,43,51,52,53,71,72,74,77,89,93,94,95,96,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Pr=[6,8,14,17,34,36,43,51,52,53,71,72,74,77,79,81,89,93,94,95,96,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ua=[16,35,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],Fi=[16,35,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],Ft=[6,8,14,17,43,157],Nn=[16,35,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],Fn=[71,74,77],wi=[16,35,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],Yr=[1,239],Lt=[6,8,14,17],dr=[1,257],wr=[1,253],Si=[2,199],za=[1,261],oi=[1,262],yr=[6,8,14,17,43,129,135,138,144,146,150,152,154,182],ca=[1,264],lr=[1,267],Ir=[1,268],Br=[1,269],Nr=[1,270],_r=[2,176],kn=[1,266],Ar=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182],kr=[6,8,14,17,135,138,144,146,150,152,154],Ti=[1,282],ha=[2,181],gs=[170,173],ro=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],wa=[2,201],Gs=[1,287],Sa=[1,299],da=[1,307],Jr=[1,308],fl=[1,309],r2=[6,8,14,17,138,146,150,152,154],Vo=[1,319],b1=[1,325],ys=[1,326],pl=[2,206],Pi=[1,337],Vs=[16,152],qs=[6,8,14,17,152,154],qo=[1,353],tt=Cm.JisonParser.expandParseTable;this.table=[{3:1,4:2,7:3,9:5,10:6,13:7,16:y,18:T},{1:[3]},{5:9,6:S,8:A,14:w},{5:12,6:S,8:A},tt([16,32,33,35,36,37,38,39,40,41,42,45,52,53,56,57,59,60,62,76,79,81,82,83,84,86,87,88,91,103,195],o,{15:13,29:P,30:N,31:z}),tt(C,[2,5]),tt([6,8,146],O,{11:17,137:18,138:U}),{14:G},{4:21,18:T},{6:[1,22]},{15:23,18:o,29:P,30:N,31:z},{6:[2,3]},{6:[1,24]},tt(j,[2,18],{19:25,32:[1,26]}),tt(F,[2,13]),tt(F,[2,14]),tt(F,[2,15]),tt(C,q,{12:27,145:28,146:V}),tt(H,[2,149]),{16:X,35:fe,47:32,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,136:30,139:31,195:$e},{15:68,16:o,29:P,30:N,31:z},{17:[1,69]},{1:[2,1]},{4:70,9:71,18:T},{1:[2,2]},tt(ft,[2,20],{20:72,33:[1,73]}),tt(j,[2,17]),tt(C,[2,6]),tt(mt,[2,163]),{35:[1,74]},tt(H,me,{132:75,43:ue,133:ut}),tt(qe,[2,151]),tt(qe,[2,154],{140:78,109:Et,126:At,127:Gt,141:[1,82],142:[1,83]}),tt(Jt,[2,133],{113:85,34:[1,86],114:[1,87],115:[1,88],116:[1,89],117:[1,90],118:[1,91],119:[1,92],123:[1,84]}),{16:X,35:fe,47:93,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(Kt,[2,127]),tt(Kt,[2,111],{102:94,45:cr,79:tr,81:ur,93:Hr,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re,101:le,103:de,107:ge,108:ge,111:ge,112:ge,110:[1,95]}),tt(Ue,[2,94]),tt(De,[2,81]),tt(De,ht,{50:ot,90:Ye}),tt(De,[2,83]),tt(De,[2,84]),{4:112,16:X,18:T,35:fe,47:113,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,85:111,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:[1,114]},{16:[1,115]},{49:116,52:st},tt(De,[2,90]),{90:[1,118]},tt(De,[2,52]),tt(De,[2,53]),tt(De,[2,54]),tt(De,[2,55]),tt(De,[2,56]),tt([6,8,14,17,34,36,43,45,50,51,52,53,71,72,74,77,79,81,89,90,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Me,{16:Oe}),{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:120,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:121,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:122,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:123,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:124,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,47:126,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,69:125,71:[2,69],75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(De,[2,45]),tt(De,[2,46]),tt(De,[2,47]),tt(De,[2,48]),tt(De,[2,49]),tt(De,[2,50]),tt(De,[2,51]),tt(De,[2,222]),{10:128,13:127,16:y},tt([6,8,14,138,146],[2,9]),tt(C,[2,10],{14:w}),tt(C,[2,11]),tt(Ot,[2,22],{21:129,36:[1,130]}),{34:[1,131]},tt(mt,[2,159],{43:[1,132],147:[1,133]}),tt(H,[2,150]),{16:X,35:fe,47:32,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,139:134,195:$e},{134:[1,135]},tt(qe,[2,153]),{16:X,35:fe,47:136,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:X,35:fe,47:137,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:X,35:fe,47:138,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(qe,[2,155]),tt(qe,[2,156]),tt([59,60,62,125],ge,{102:139,103:de}),{16:X,29:[1,142],35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,106:140,120:141,121:[1,143],195:$e},tt($t,[2,118]),tt($t,[2,119]),tt($t,[2,120]),tt($t,[2,121]),tt($t,[2,122]),tt($t,[2,123]),tt($t,[2,124]),tt(Jt,[2,135]),{107:[1,144],108:[1,145],111:[1,146],112:[1,147]},{111:[1,148]},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:149,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:150,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:151,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:152,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:153,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:154,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:155,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:156,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:157,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:158,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:159,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:160,195:$e},tt([59,60,62,107,108,111,112,125],[2,108]),{91:[1,161]},{52:Qt},{17:[1,163],43:Xt},{17:[1,165]},tt(hr,[2,139],{109:Et,126:At,127:Gt}),{16:X,35:fe,47:113,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,85:166,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{4:167,18:T},{16:X,35:fe,47:168,49:39,50:ot,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(ct,Me),{49:169,52:st},tt(hr,gr,{122:33,106:35,92:36,80:37,63:38,65:40,78:41,75:46,54:48,55:49,58:50,61:51,64:52,66:170,67:171,46:173,47:175,49:176,16:X,30:tn,35:fe,45:vr,52:ae,53:he,56:xe,57:ee,59:Pe,60:we,62:Fe,76:et,79:Ke,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,103:dt,195:$e}),tt(De,[2,76]),tt(De,[2,77]),tt(De,[2,78]),tt(De,[2,79]),tt(De,[2,80]),{70:177,71:[1,178]},{71:[2,70],109:Et,126:At,127:Gt},tt(Mr,[2,7],{14:G}),tt(Mr,[2,8]),tt(Kr,[2,24],{22:179,37:[1,180]}),tt(Ot,[2,21]),{35:[1,181]},{35:[1,182]},{35:[1,183]},tt(qe,[2,152]),tt(Ur,[2,146]),tt(zr,[2,136],{109:Et}),tt(Jt,[2,137]),tt(zr,[2,138],{109:Et}),{58:186,59:Pe,60:we,62:[1,185],124:184,125:[1,187]},tt(Kt,[2,129]),{16:[1,188]},{16:[2,125]},{16:[2,126]},{16:[1,189]},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:190,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:191,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:192,195:$e},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:193,195:$e},tt([6,8,14,17,34,36,43,51,52,53,71,72,74,77,89,93,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,95],{45:cr,79:tr,81:ur,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re,101:le}),tt([6,8,14,17,34,36,43,51,52,53,71,72,74,77,89,93,94,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,96],{45:cr,79:tr,81:ur,95:te,96:ie,97:ke,98:it,99:It,100:Re}),tt(Zr,[2,97],{45:cr,79:tr,81:ur,97:ke,98:it,99:It,100:Re}),tt(Zr,[2,98],{45:cr,79:tr,81:ur,97:ke,98:it,99:It,100:Re}),tt(Pr,[2,99],{45:cr,97:ke,98:it,99:It,100:Re}),tt(Pr,[2,100],{45:cr,97:ke,98:it,99:It,100:Re}),tt(Ue,[2,101]),tt(Ue,[2,102]),tt(Ue,[2,103]),tt(Ue,[2,104]),tt(Ue,[2,105]),tt([6,8,14,17,34,36,43,51,52,53,71,72,74,77,89,93,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,106],{45:cr,79:tr,81:ur,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re}),tt(De,[2,91]),tt(ct,[2,66]),tt(De,[2,85]),{16:X,35:fe,47:194,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(De,[2,87]),{17:[1,195],43:Xt},{17:[1,196]},{89:[1,197],109:Et,126:At,127:Gt},tt(De,[2,92],{50:ot,90:[1,198]}),{17:[1,199],43:[1,200]},tt(hr,[2,59]),tt(hr,[2,61]),tt(hr,[2,62]),{16:X,35:fe,47:201,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(hr,[2,64],{109:Et,126:At,127:Gt}),tt([6,8,14,17,34,43,45,51,52,53,79,81,93,94,95,96,97,98,99,100,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,157],ht,{50:[1,202],90:Ye}),{71:[1,204],73:203,74:[1,205],77:[2,73]},{16:X,35:fe,47:206,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(ua,[2,26],{23:207,38:[1,208]}),tt(Kr,[2,23]),tt(ft,[2,19]),tt(mt,[2,160]),tt(mt,[2,161]),tt(Jt,[2,134]),tt(Kt,[2,128]),tt(Jt,[2,131]),tt(Jt,[2,132]),{4:209,18:T},{4:210,16:X,18:T,35:fe,47:113,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,85:211,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{45:cr,79:tr,81:ur,93:Hr,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re,101:le,109:[1,212]},tt(Kt,[2,109],{104:213,105:[1,214]}),tt(Kt,[2,117],{45:cr,79:tr,81:ur,93:Hr,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re,101:le}),tt(Kt,[2,115],{45:cr,79:tr,81:ur,93:Hr,94:be,95:te,96:ie,97:ke,98:it,99:It,100:Re,101:le}),tt(hr,[2,140],{109:Et,126:At,127:Gt}),tt(De,[2,86]),tt(De,[2,88]),tt(De,[2,89]),{91:[1,215]},tt(De,[2,57]),tt(hr,gr,{122:33,106:35,92:36,80:37,63:38,65:40,78:41,75:46,54:48,55:49,58:50,61:51,64:52,46:173,47:175,49:176,67:216,16:X,30:tn,35:fe,45:vr,52:ae,53:he,56:xe,57:ee,59:Pe,60:we,62:Fe,76:et,79:Ke,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,103:dt,195:$e}),tt(hr,[2,63],{109:Et,126:At,127:Gt}),{45:[1,217],52:Qt},{77:[1,218]},{16:X,35:fe,47:219,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:X,35:fe,47:220,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{72:[1,221],109:Et,126:At,127:Gt},tt(Fi,[2,28],{24:222,39:[1,223]}),tt(ua,[2,25]),{17:[1,224]},{17:[1,225]},{17:[1,226],43:Xt},{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,106:227,195:$e},tt(Kt,[2,116]),{16:X,35:fe,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:228,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,195:$e},tt(De,[2,93]),tt(hr,[2,58]),tt(Ft,[2,39]),tt(De,[2,75]),{72:[1,229],109:Et,126:At,127:Gt},{77:[2,74],109:Et,126:At,127:Gt},{16:X,35:fe,47:230,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(Nn,[2,29],{25:231,40:[1,232],41:[1,233]}),tt(Fi,[2,27]),tt(Kt,[2,130]),tt(Kt,[2,112]),tt(Kt,[2,113]),tt(Kt,[2,114]),tt(Kt,[2,110]),{16:X,35:fe,47:234,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(Fn,[2,71],{109:Et,126:At,127:Gt}),tt(wi,[2,33],{26:235,42:[1,236]}),tt(Nn,[2,30]),tt(Nn,[2,31]),tt(Fn,[2,72],{109:Et,126:At,127:Gt}),{16:X,27:237,35:fe,44:238,45:Yr,46:240,47:241,49:176,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(wi,[2,32]),tt(Lt,[2,170],{28:242,43:[1,243],157:[1,244]}),tt(Ft,[2,35]),tt(Ft,[2,36]),tt(Ft,[2,37]),tt(Ft,[2,40],{48:245,51:[1,246],52:[1,247],53:[1,248],109:Et,126:At,127:Gt}),tt(Lt,[2,12]),{16:X,35:fe,44:249,45:Yr,46:240,47:241,49:176,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:dr,49:256,52:st,88:wr,158:250,160:251,161:252,172:255,174:254},tt(Ft,[2,38]),{52:[1,258],53:[1,259]},tt(Ft,[2,42]),tt(Ft,[2,44]),tt(Ft,[2,34]),tt([6,8,14,17,129,135,138,144,146,150,152,154],Si,{159:260,43:za,182:oi}),tt(yr,[2,172]),tt(yr,[2,174],{163:263,166:265,36:ca,164:lr,165:Ir,167:Br,168:Nr,173:_r,177:kn}),{162:[1,271]},tt(Ar,[2,195]),tt(Ar,[2,196]),tt([6,8,14,17,36,43,51,52,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,192,193,194],Si,{159:272,50:ot,182:oi}),{4:273,16:dr,18:T,49:256,52:st,88:wr,158:274,160:251,161:252,172:255,174:254},tt(Ft,[2,41]),tt(Ft,[2,43]),tt(kr,[2,141],{128:275,129:[1,276]}),{16:dr,49:256,52:st,88:wr,160:277,161:252,172:255,174:254},{16:[1,278]},{173:[1,279]},{16:dr,49:256,52:st,174:280},{169:281,170:Ti,173:ha},{166:284,167:Br,168:Nr,171:283,173:[2,183]},{173:[2,177]},{173:[2,178]},tt(gs,[2,179]),tt(gs,[2,180]),{16:dr,49:256,52:st,161:285,172:255,174:254},tt(ro,wa,{183:286,49:288,51:Gs,52:st}),{17:[1,289]},{17:[1,290],43:za},tt(Ur,[2,143],{130:291,131:292,135:[1,293]}),{16:X,35:fe,47:294,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(yr,[2,173]),{49:296,52:st,181:295},{16:dr,49:256,52:st,174:297},{176:298,179:Sa},{173:[1,300]},{173:[2,182]},{173:[1,301]},{169:302,170:Ti,173:ha},{36:ca,89:[1,303],163:263,164:lr,165:Ir,166:265,167:Br,168:Nr,173:_r,177:kn},tt(Ar,[2,212],{189:304,190:305,191:306,192:da,193:Jr,194:fl}),{49:310,52:st},tt(ro,[2,203],{50:ot}),tt(Ar,wa,{49:288,183:311,51:Gs,52:st}),tt(Ar,[2,221]),tt(r2,[2,157],{143:312,144:[1,313]}),tt(Ur,[2,144]),{16:X,35:fe,47:32,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,136:314,139:31,195:$e},tt(kr,[2,142],{109:Et,126:At,127:Gt}),{17:[1,315],43:[1,316]},tt(hr,[2,197],{50:ot}),tt([6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,182],[2,185],{175:317,176:318,179:Sa,180:Vo}),tt(Ar,[2,187]),{16:X,35:fe,47:320,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},{16:dr,49:256,52:st,161:321,172:255,174:254},{16:dr,49:256,52:st,174:322},{173:[2,184]},tt(yr,[2,175]),tt(Ar,[2,219]),tt(Ar,[2,213]),tt(Ar,[2,214]),{184:324,185:b1,186:ys},{184:327,185:b1,186:ys},{184:328,185:b1,186:ys},tt(ro,[2,202],{50:ot}),tt(Ar,[2,220]),tt(H,O,{137:18,11:329,138:U}),{16:X,35:fe,47:330,49:39,52:ae,53:he,54:48,55:49,56:xe,57:ee,58:50,59:Pe,60:we,61:51,62:Fe,63:38,64:52,65:40,75:46,76:et,78:41,79:Ke,80:37,81:_t,82:Ne,83:Te,84:lt,86:Ze,87:Ct,88:Ie,91:rt,92:36,103:dt,106:35,122:33,195:$e},tt(Ur,me,{132:331,43:ue,133:ut}),tt([6,8,14,17,36,43,51,52,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],[2,200]),{49:332,52:st},tt(Ar,[2,186]),tt(Ar,[2,193]),{16:[1,333]},tt(Ar,[2,192],{109:Et,126:At,127:Gt}),{36:ca,163:263,164:lr,165:Ir,166:265,167:Br,168:Nr,173:_r,175:334,176:318,177:kn,179:Sa,180:Vo},tt(Ar,[2,189]),{191:335,192:da,193:Jr,194:fl},{16:pl,152:Pi,187:336},tt(Vs,[2,204]),tt(Vs,[2,205]),{16:pl,152:Pi,187:338},{16:pl,152:Pi,187:339},tt(mt,q,{145:28,12:340,146:V}),tt(r2,[2,158],{109:Et,126:At,127:Gt}),tt(Ur,[2,147]),tt(hr,[2,198],{50:ot}),{49:342,52:st,68:341},tt(Ar,[2,188]),tt(Ar,[2,215]),{16:[1,343]},{135:[1,346],138:[1,345],173:[1,344]},{16:[1,347]},{16:[1,348]},tt(qs,[2,164],{148:349,149:350,150:[1,351]}),{17:[1,352],43:qo},tt(hr,[2,67],{50:ot}),{17:[2,210],49:342,52:st,68:355,188:354},{16:[2,207]},{16:[2,208]},{16:[2,209]},{49:342,52:st,68:356},{49:342,52:st,68:357},tt(Lt,[2,167],{151:358,152:[1,359],154:[1,360]}),tt(qs,[2,165]),{52:[1,362],65:361},tt(Ar,[2,194]),{49:363,52:st},{17:[1,364]},{17:[2,211],43:qo},{17:[1,365],43:qo},{17:[1,366],43:qo},tt(Lt,[2,171]),{153:[1,367]},{107:[1,368]},tt(qs,[2,166]),{16:Oe},tt(hr,[2,68],{50:ot}),tt(Ar,[2,216]),tt(Ar,[2,217]),tt(Ar,[2,218]),tt(Lt,[2,168]),{155:[1,369]},{156:[1,370]},tt(Lt,[2,169])]}performAction(f,g,y,T,S,A,w){var o=A.length-1;switch(S){case 1:case 2:return{nodeType:"Main",value:A[o-2],hasSemicolon:A[o-1]};case 3:case 146:this.$=!0;break;case 4:this.$=!1;break;case 5:case 13:case 14:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 30:case 31:case 32:case 37:case 52:case 53:case 54:case 55:case 56:case 61:case 62:case 64:case 70:case 74:case 81:case 82:case 83:case 84:case 90:case 94:case 108:case 110:case 111:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 131:case 133:case 142:case 144:case 149:case 155:case 156:case 158:case 163:case 165:case 166:case 177:case 178:case 179:case 180:case 182:case 191:case 193:case 195:case 196:case 204:case 205:case 211:case 213:this.$=A[o];break;case 6:this.$=A[o-2],this.$.orderBy=A[o-1],this.$.limit=A[o];break;case 7:case 8:this.$={type:"Union",left:A[o-3],distinctOpt:A[o-1],right:A[o]};break;case 9:this.$={type:"SelectParenthesized",value:A[o-1]};break;case 10:case 11:this.$={type:"Union",left:A[o-3],distinctOpt:A[o-1],right:A[o]};break;case 12:this.$={type:"Select",distinctOpt:A[o-10],highPriorityOpt:A[o-9],maxStateMentTimeOpt:A[o-8],straightJoinOpt:A[o-7],sqlSmallResultOpt:A[o-6],sqlBigResultOpt:A[o-5],sqlBufferResultOpt:A[o-4],sqlCacheOpt:A[o-3],sqlCalcFoundRowsOpt:A[o-2],selectItems:A[o-1],from:A[o].from,partition:A[o].partition,where:A[o].where,groupBy:A[o].groupBy,having:A[o].having,orderBy:A[o].orderBy,limit:A[o].limit,procedure:A[o].procedure,updateLockMode:A[o].updateLockMode};break;case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 29:case 33:case 60:case 69:case 73:case 107:case 109:case 141:case 143:case 145:case 148:case 154:case 157:case 162:case 164:case 167:case 176:case 181:case 190:case 199:case 206:case 210:case 212:this.$=null;break;case 34:A[o-2].value.push(A[o]);break;case 35:this.$={type:"SelectExpr",value:[A[o]]};break;case 36:case 65:this.$={type:"Identifier",value:A[o]};break;case 38:this.$=A[o-1],this.$.alias=A[o].alias,this.$.hasAs=A[o].hasAs;break;case 39:case 66:this.$=A[o-2],A[o-2].value+="."+A[o];break;case 40:case 201:this.$={alias:null,hasAs:null};break;case 41:case 43:this.$={alias:A[o],hasAs:!0};break;case 42:case 44:this.$={alias:A[o],hasAs:!1};break;case 45:this.$={type:"String",value:A[o]};break;case 46:case 47:case 48:this.$={type:"Number",value:A[o]};break;case 49:this.$={type:"Boolean",value:"TRUE"};break;case 50:this.$={type:"Boolean",value:"FALSE"};break;case 51:this.$={type:"Null",value:"null"};break;case 57:this.$={type:"FunctionCall",name:A[o-3],params:A[o-1]};break;case 58:A[o-2].push(A[o]),this.$=A[o-2];break;case 59:this.$=[A[o]];break;case 63:this.$={type:"FunctionCallParam",distinctOpt:A[o-1],value:A[o]};break;case 67:this.$={type:"IdentifierList",value:[A[o]]};break;case 68:case 173:this.$=A[o-2],A[o-2].value.push(A[o]);break;case 71:this.$={type:"WhenThenList",value:[{when:A[o-2],then:A[o]}]};break;case 72:this.$=A[o-4],this.$.value.push({when:A[o-2],then:A[o]});break;case 75:this.$={type:"CaseWhen",caseExprOpt:A[o-3],whenThenList:A[o-2],else:A[o-1]};break;case 76:case 77:case 78:case 79:case 80:this.$={type:"Prefix",prefix:A[o-1],value:A[o]};break;case 85:this.$={type:"SimpleExprParentheses",value:A[o-1]};break;case 86:this.$={type:"SimpleExprParentheses",value:A[o-2],hasRow:!0};break;case 87:this.$={type:"SubQuery",value:A[o-1]};break;case 88:this.$={type:"SubQuery",value:A[o-1],hasExists:!0};break;case 89:this.$={type:"IdentifierExpr",identifier:A[o-2],value:A[o-1]};break;case 91:this.$={type:"StartsWithExpr",value:A[o-2]};break;case 92:this.$={type:"EndsWithExpr",value:A[o]};break;case 93:this.$={type:"ContainsExpr",value:A[o-2]};break;case 95:this.$={type:"BitExpression",operator:"|",left:A[o-2],right:A[o]};break;case 96:this.$={type:"BitExpression",operator:"&",left:A[o-2],right:A[o]};break;case 97:this.$={type:"BitExpression",operator:"<<",left:A[o-2],right:A[o]};break;case 98:this.$={type:"BitExpression",operator:">>",left:A[o-2],right:A[o]};break;case 99:this.$={type:"BitExpression",operator:"+",left:A[o-2],right:A[o]};break;case 100:this.$={type:"BitExpression",operator:"-",left:A[o-2],right:A[o]};break;case 101:this.$={type:"BitExpression",operator:"*",left:A[o-2],right:A[o]};break;case 102:this.$={type:"BitExpression",operator:"/",left:A[o-2],right:A[o]};break;case 103:this.$={type:"BitExpression",operator:"DIV",left:A[o-2],right:A[o]};break;case 104:this.$={type:"BitExpression",operator:"MOD",left:A[o-2],right:A[o]};break;case 105:this.$={type:"BitExpression",operator:"%",left:A[o-2],right:A[o]};break;case 106:this.$={type:"BitExpression",operator:"^",left:A[o-2],right:A[o]};break;case 112:this.$={type:"InSubQueryPredicate",hasNot:A[o-4],left:A[o-5],right:A[o-1]};break;case 113:this.$={type:"InExpressionListPredicate",hasNot:A[o-4],left:A[o-5],right:A[o-1]};break;case 114:this.$={type:"BetweenPredicate",hasNot:A[o-4],left:A[o-5],right:{left:A[o-2],right:A[o]}};break;case 115:this.$={type:"SoundsLikePredicate",hasNot:!1,left:A[o-3],right:A[o]};break;case 116:this.$={type:"LikePredicate",hasNot:A[o-3],left:A[o-4],right:A[o-1],escape:A[o]};break;case 117:this.$={type:"RegexpPredicate",hasNot:A[o-2],left:A[o-3],right:A[o]};break;case 128:this.$={type:"IsNullBooleanPrimary",hasNot:A[o-1],value:A[o-3]};break;case 129:this.$={type:"ComparisonBooleanPrimary",left:A[o-2],operator:A[o-1],right:A[o]};break;case 130:this.$={type:"ComparisonSubQueryBooleanPrimary",operator:A[o-4],subQueryOpt:A[o-3],left:A[o-5],right:A[o-1]};break;case 132:this.$={type:"BooleanExtra",value:A[o]};break;case 134:this.$={type:"IsExpression",hasNot:A[o-1],left:A[o-3],right:A[o]};break;case 135:this.$={type:"NotExpression",value:A[o]};break;case 136:this.$={type:"OrExpression",operator:A[o-1],left:A[o-2],right:A[o]};break;case 137:this.$={type:"AndExpression",operator:A[o-1],left:A[o-2],right:A[o]};break;case 138:this.$={type:"XorExpression",operator:A[o-1],left:A[o-2],right:A[o]};break;case 139:this.$={type:"ExpressionList",value:[A[o]]};break;case 140:case 215:this.$=A[o-2],this.$.value.push(A[o]);break;case 147:this.$={type:"GroupBy",value:A[o-1],rollUp:A[o]};break;case 150:this.$={type:"OrderBy",value:A[o-1],rollUp:A[o]};break;case 151:case 197:this.$=[A[o]];break;case 152:this.$=A[o-2],A[o-2].push(A[o]);break;case 153:this.$={type:"GroupByOrderByItem",value:A[o-1],sortOpt:A[o]};break;case 159:this.$={type:"Limit",value:[A[o]]};break;case 160:this.$={type:"Limit",value:[A[o-2],A[o]]};break;case 161:this.$={type:"Limit",value:[A[o],A[o-2]],offsetMode:!0};break;case 168:this.$=A[o-1]+" "+A[o];break;case 169:this.$=A[o-3]+" "+A[o-2]+" "+A[o-1]+" "+A[o];break;case 170:this.$={};break;case 171:this.$={from:A[o-8],partition:A[o-7],where:A[o-6],groupBy:A[o-5],having:A[o-4],orderBy:A[o-3],limit:A[o-2],procedure:A[o-1],updateLockMode:A[o]};break;case 172:this.$={type:"TableReferences",value:[A[o]]};break;case 174:this.$={type:"TableReference",value:A[o]};break;case 175:this.$={type:"TableReference",hasOj:!0,value:A[o-1]};break;case 183:this.$={leftRight:null,outOpt:null};break;case 184:this.$={leftRight:A[o-1],outOpt:A[o]};break;case 185:this.$={type:"InnerCrossJoinTable",innerCrossOpt:A[o-2],left:A[o-3],right:A[o],condition:null};break;case 186:this.$={type:"InnerCrossJoinTable",innerCrossOpt:A[o-3],left:A[o-4],right:A[o-1],condition:A[o]};break;case 187:this.$={type:"StraightJoinTable",left:A[o-3],right:A[o-1],condition:A[o]};break;case 188:this.$={type:"LeftRightJoinTable",leftRight:A[o-4],outOpt:A[o-3],left:A[o-5],right:A[o-1],condition:A[o]};break;case 189:this.$={type:"NaturalJoinTable",leftRight:A[o-2].leftRight,outOpt:A[o-2].outOpt,left:A[o-4],right:A[o]};break;case 192:this.$={type:"OnJoinCondition",value:A[o]};break;case 194:this.$={type:"UsingJoinCondition",value:A[o-1]};break;case 198:this.$=A[o-2],A[o-2].push(A[o]);break;case 200:this.$={type:"Partitions",value:A[o-1]};break;case 202:this.$={hasAs:!0,alias:A[o]};break;case 203:this.$={hasAs:!1,alias:A[o]};break;case 207:case 208:case 209:this.$={type:"ForOptIndexHint",value:A[o]};break;case 214:this.$={type:"IndexHintList",value:[A[o]]};break;case 216:this.$={type:"UseIndexHint",value:A[o-1],forOpt:A[o-3],indexOrKey:A[o-4]};break;case 217:this.$={type:"IgnoreIndexHint",value:A[o-1],forOpt:A[o-3],indexOrKey:A[o-4]};break;case 218:this.$={type:"ForceIndexHint",value:A[o-1],forOpt:A[o-3],indexOrKey:A[o-4]};break;case 219:this.$={type:"TableFactor",value:A[o-3],partition:A[o-2],alias:A[o-1].alias,hasAs:A[o-1].hasAs,indexHintOpt:A[o]};break;case 220:this.$={type:"TableFactor",value:{type:"SubQuery",value:A[o-2]},alias:A[o].alias,hasAs:A[o].hasAs};break;case 221:this.$=A[o-1],this.$.hasParentheses=!0;break;case 222:this.$={type:"PlaceHolder",value:A[o],param:A[o].slice(2,-1)};break}}},ZS=class extends QS.JisonLexer{options={"case-insensitive":!0,moduleName:"SQL"};constructor(f={}){super(f)}rules=[/^(?:[/][*](?:.|\n)*?[*][/])/i,/^(?:[-][-]\s.*\n)/i,/^(?:[#]\s.*\n)/i,/^(?:\s+)/i,/^(?:[$][{].*?[}])/i,/^(?:(?:[`][^`]+[`])+)/i,/^(?:(?:["][^"]+["])+)/i,/^(?:[\[](?:[^\]]|\]\])+[\]])/i,/^(?:SELECT\b)/i,/^(?:ALL\b)/i,/^(?:ANY\b)/i,/^(?:DISTINCT\b)/i,/^(?:DISTINCTROW\b)/i,/^(?:HIGH_PRIORITY\b)/i,/^(?:MAX_STATEMENT_TIME\b)/i,/^(?:STRAIGHT_JOIN\b)/i,/^(?:SQL_SMALL_RESULT\b)/i,/^(?:SQL_BIG_RESULT\b)/i,/^(?:SQL_BUFFER_RESULT\b)/i,/^(?:SQL_CACHE\b)/i,/^(?:SQL_NO_CACHE\b)/i,/^(?:SQL_CALC_FOUND_ROWS\b)/i,/^(?:AS\b)/i,/^(?:TRUE\b)/i,/^(?:FALSE\b)/i,/^(?:NULL\b)/i,/^(?:COLLATE\b)/i,/^(?:BINARY\b)/i,/^(?:ROW\b)/i,/^(?:EXISTS\b)/i,/^(?:CASE\b)/i,/^(?:WHEN\b)/i,/^(?:THEN\b)/i,/^(?:ELSE\b)/i,/^(?:END\b)/i,/^(?:DIV\b)/i,/^(?:MOD\b)/i,/^(?:NOT\b)/i,/^(?:BETWEEN\b)/i,/^(?:IN\b)/i,/^(?:SOUNDS\b)/i,/^(?:LIKE\b)/i,/^(?:ESCAPE\b)/i,/^(?:REGEXP\b)/i,/^(?:IS\b)/i,/^(?:UNKNOWN\b)/i,/^(?:AND\b)/i,/^(?:OR\b)/i,/^(?:XOR\b)/i,/^(?:FROM\b)/i,/^(?:PARTITION\b)/i,/^(?:USE\b)/i,/^(?:INDEX\b)/i,/^(?:KEY\b)/i,/^(?:FOR\b)/i,/^(?:JOIN\b)/i,/^(?:ORDER\s+BY\b)/i,/^(?:GROUP\s+BY\b)/i,/^(?:IGNORE\b)/i,/^(?:FORCE\b)/i,/^(?:INNER\b)/i,/^(?:CROSS\b)/i,/^(?:ON\b)/i,/^(?:USING\b)/i,/^(?:LEFT\b)/i,/^(?:RIGHT\b)/i,/^(?:OUTER\b)/i,/^(?:NATURAL\b)/i,/^(?:WHERE\b)/i,/^(?:ASC\b)/i,/^(?:DESC\b)/i,/^(?:WITH\b)/i,/^(?:ROLLUP\b)/i,/^(?:HAVING\b)/i,/^(?:OFFSET\b)/i,/^(?:PROCEDURE\b)/i,/^(?:UPDATE\b)/i,/^(?:LOCK\b)/i,/^(?:SHARE\b)/i,/^(?:MODE\b)/i,/^(?:OJ\b)/i,/^(?:LIMIT\b)/i,/^(?:UNION\b)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:\|\|)/i,/^(?:\|)/i,/^(?:&)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\^)/i,/^(?:>>)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:<<)/i,/^(?:<=>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:;)/i,/^(?:[']%+['])/i,/^(?:(?:['][^']*['])+)/i,/^(?:[0][x][0-9a-fA-F]+)/i,/^(?:[-]?[0-9]+(?:\.[0-9]+)?)/i,/^(?:[-]?[0-9]+(?:\.[0-9]+)?[eE][-+]?[0-9]+(?:\.[0-9]+)?)/i,/^(?:[a-zA-Z_@#\uff3f\u4e00-\u9fa5][a-zA-Z0-9_$@#\uff3f\u4e00-\u9fa5]*)/i,/^(?:\.)/i,/^(?:[`](?:(?=\\?)\x02.)*?\x01)/i,/^(?:$)/i,/^(?:.)/i];conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119],inclusive:!0}};performAction(f,g,y,T){switch(y){case 0:break;case 1:break;case 2:break;case 3:break;case 4:return 195;case 5:return 52;case 6:return 52;case 7:return 52;case 8:return 18;case 9:return 29;case 10:return 121;case 11:return 30;case 12:return 31;case 13:return 32;case 14:return 33;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 51;case 23:return 59;case 24:return 60;case 25:return 62;case 26:return"COLLATE";case 27:return 84;case 28:return 86;case 29:return 87;case 30:return 76;case 31:return 71;case 32:return 72;case 33:return 74;case 34:return 77;case 35:return 98;case 36:return 99;case 37:return 103;case 38:return 108;case 39:return 107;case 40:return 110;case 41:return 111;case 42:return 105;case 43:return 112;case 44:return 123;case 45:return 125;case 46:return 109;case 47:return 126;case 48:return 127;case 49:return 157;case 50:return 182;case 51:return 192;case 52:return 185;case 53:return 186;case 54:return 152;case 55:return 173;case 56:return 138;case 57:return 135;case 58:return 193;case 59:return 194;case 60:return 164;case 61:return 165;case 62:return 179;case 63:return 180;case 64:return 167;case 65:return 168;case 66:return 170;case 67:return 177;case 68:return 129;case 69:return 141;case 70:return 142;case 71:return 133;case 72:return 134;case 73:return 144;case 74:return 147;case 75:return 150;case 76:return 153;case 77:return 154;case 78:return 155;case 79:return 156;case 80:return 162;case 81:return 146;case 82:return 14;case 83:return 43;case 84:return 34;case 85:return 16;case 86:return 17;case 87:return 82;case 88:return 119;case 89:return 83;case 90:return 90;case 91:return 93;case 92:return 94;case 93:return 79;case 94:return 81;case 95:return 45;case 96:return 97;case 97:return 100;case 98:return 101;case 99:return 96;case 100:return 114;case 101:return 115;case 102:return 95;case 103:return"<=>";case 104:return 116;case 105:return 118;case 106:return 117;case 107:return 88;case 108:return 89;case 109:return 8;case 110:return 91;case 111:return 53;case 112:return 57;case 113:return 35;case 114:return 56;case 115:return 52;case 116:return 50;case 117:return 52;case 118:return 6;case 119:return"INVALID"}}};const XS=f=>f?.type==="String"||f?.type==="Number"||f?.type==="Boolean",my=f=>f?.type==="Prefix"&&(f.prefix==="+"||f.prefix==="-")&&f.value.type==="Number",Yc=f=>XS(f)||my(f),Ki=f=>f?.type==="Identifier",Rm=f=>{switch(typeof f){case"number":return`${f}`;case"boolean":return f?"TRUE":"FALSE";default:return`'${f}'`}},So=f=>{const g=typeof f=="string"?f:f.value;return g.startsWith("`")&&g.endsWith("`")?g.replaceAll(/(^`|`$)/g,"").replaceAll("``","`"):g.startsWith('"')&&g.endsWith('"')?g.replaceAll(/(^"|"$)/g,"").replaceAll('""','"'):g.startsWith("[")&&g.endsWith("]")?g.replaceAll(/(^\[|]$)/g,"").replaceAll("]]","]"):g},YS=f=>z7(f.replace("&&","and").replace("||","or")),Im=(f,g)=>{if(g){if(f==="<")return">";if(f==="<=")return">=";if(f===">")return"<";if(f===">=")return"<="}return f==="<>"?"!=":f},Wc=(f,{bigIntOnOverflow:g}={})=>{if(f.type==="String"){const y=f.value;return y.startsWith("'")&&y.endsWith("'")||y.startsWith('"')&&y.endsWith('"')?y.slice(1,-1).replaceAll(/''/gm,"'"):y}else{if(f.type==="Boolean")return z7(f.value)==="true";if(my(f))return Tm(`${f.prefix}${f.value.value}`,{parseNumbers:!0,bigIntOnOverflow:g})}return Tm(f.value,{parseNumbers:!0,bigIntOnOverflow:g})},ud=f=>{const g=YS(f.operator);return f.left.type==="AndExpression"||f.left.type==="OrExpression"||f.left.type==="XorExpression"?[...ud(f.left),g,f.right]:[f.left,g,f.right]},WS=f=>{const g=ud(f);let y=0;const T={expressions:[]};let S={combinator:"xor",expressions:[]},A={combinator:"and",expressions:[]};for(let o=0;o<g.length-2;o+=2){let P=0;if(g[o+1]==="and"?P=2-y:g[o+1]==="xor"?P=1-y:g[o+1]==="or"&&(P=0-y),P>0)for(let N=0;N<P;N++)y+=1,y===1?(S={combinator:"xor",expressions:[]},P===1&&(S.expressions.push(g[o]),(o>=g.length-3||g[o+3]==="xor")&&S.expressions.push(g[o+2]))):y===2&&(A={combinator:"and",expressions:[]},A.expressions.push(g[o],g[o+2]));else if(P<0)for(let N=0;N>P;N--)y-=1,y===1?(S.expressions.push(A),P===-1&&S.expressions.push(g[o+2])):y===0&&(T.expressions.push(S),o>=g.length-3&&T.expressions.push(g[o+2]));else switch(y){case 0:(o===0||o>3&&g[o-3]!=="or")&&T.expressions.push(g[o]),(o>=g.length-3||g[o+3]==="or")&&T.expressions.push(g[o+2]);break;case 1:S.expressions.push(g[o+2]);break;case 2:A.expressions.push(g[o+2]);break}}if(y===2&&(S.expressions.push(A),y-=1),y===1&&(T.expressions.push(S),y-=1),T.expressions.length===1&&"combinator"in T.expressions[0])return T.expressions[0].expressions.length===1&&"combinator"in T.expressions[0].expressions[0]?T.expressions[0].expressions[0]:T.expressions[0];const w={combinator:"or",expressions:[]};for(const o of T.expressions)"combinator"in o&&"combinator"in o.expressions[0]&&o.expressions.length===1?w.expressions.push(o.expressions[0]):w.expressions.push(o);return w};function KS(f,g={}){const{params:y,paramPrefix:T,independentCombinators:S,fields:A,getValueSources:w,bigIntOnOverflow:o}=g;let P=/^\s*select\b/i.test(f)?f:/^\s*where\b/i.test(f)?`SELECT * FROM t ${f}`:`SELECT * FROM t WHERE ${f}`,N=!1;const z=jS(A);if(N=!!S,y)if(Array.isArray(y)){let j=0;P=P.replaceAll("?",()=>{const F=Rm(y[j]);return j++,F})}else{const j=Object.keys(y),F=T??":";for(const q of j)P=P.replaceAll(new RegExp(`\\${F}${q}\\b`,"ig"),Rm(y[q]))}const C=(j,F,q)=>GS({fieldName:j,fieldsFlat:z,operator:F,subordinateFieldName:q,getValueSources:w}),O=j=>{switch(j.type){case"NotExpression":{const F=O(j.value.type==="SimpleExprParentheses"?j.value.value.value[0]:j.value);if(F)return y7(F)?{...F,not:!0}:{rules:[F],not:!0,...!N&&{combinator:"and"}};break}case"SimpleExprParentheses":{const F=j.value.value[0];if(F.type==="AndExpression"||F.type==="OrExpression"||F.type==="XorExpression")return O(F);const q=O(F);return q?{rules:[q],...N?{}:{combinator:"and"}}:null}case"AndExpression":case"OrExpression":case"XorExpression":{if(N){const H=ud(j).map(X=>typeof X=="string"?X:O(X));return H.includes(null)?null:{rules:H}}const F=WS(j),{combinator:q}=F,V=F.expressions.map(H=>"combinator"in H?{combinator:H.combinator,rules:H.expressions.map(X=>"combinator"in X?{combinator:X.combinator,rules:X.expressions.map(fe=>O(fe)).filter(Boolean)}:O(X)).filter(Boolean)}:O(H)).filter(Boolean);if(V.length>0)return{combinator:q,rules:V};break}case"IsNullBooleanPrimary":if(Ki(j.value)){const F=So(j.value),q=j.hasNot?"notNull":"null";if(C(F,q))return{field:F,operator:q,value:null}}break;case"ComparisonBooleanPrimary":if(Ki(j.left)&&!Ki(j.right)||!Ki(j.left)&&Ki(j.right)){const F=Ki(j.left)?j.left.value:j.right.value,q=[j.left,j.right].find(V=>!Ki(V));if(Yc(q)){const V=So(F),H=Im(j.operator,Ki(j.right));if(C(V,H))return{field:V,operator:H,value:Wc(q,{bigIntOnOverflow:o})}}}else if(Ki(j.left)&&Ki(j.right)){const F=So(j.left),q=So(j.right),V=Im(j.operator);if(C(F,V,q))return{field:F,operator:V,value:q,valueSource:"field"}}break;case"InExpressionListPredicate":if(Ki(j.left)){const F=So(j.left),q=j.right.value.filter(X=>Yc(X)).map(X=>Wc(X,{bigIntOnOverflow:o})),V=j.hasNot?"notIn":"in",H=j.right.value.filter(X=>Ki(X)).filter(X=>C(F,V,X.value)).map(X=>So(X));if(q.length>0){const X=g?.listsAsArrays?q:Xc(q,", ");return{field:So(j.left),operator:V,value:X}}else if(H.length>0){const X=g?.listsAsArrays?H:Xc(H,", ");return{field:So(j.left),operator:V,value:X,valueSource:"field"}}}break;case"BetweenPredicate":if(Ki(j.left)&&Yc(j.right.left)&&Yc(j.right.right)){const F=[j.right.left,j.right.right].map(H=>Wc(H,{bigIntOnOverflow:o})),q=g?.listsAsArrays?F:Xc(F,", "),V=j.hasNot?"notBetween":"between";return{field:So(j.left),operator:V,value:q}}else if(Ki(j.left)&&Ki(j.right.left)&&Ki(j.right.right)){const F=So(j.left),q=[j.right.left,j.right.right].map(H=>So(H)),V=j.hasNot?"notBetween":"between";if(q.every(H=>C(F,V,H)))return{field:F,operator:V,value:g?.listsAsArrays?q:Xc(q,", "),valueSource:"field"}}break;case"LikePredicate":if(Ki(j.left)&&j.right.type==="String"){const F=Wc(j.right),q=F.replaceAll(/(^%)|(%$)/g,"");let V="=";F.endsWith("%")&&F.startsWith("%")||F==="%"?V=j.hasNot?"doesNotContain":"contains":F.endsWith("%")?V=j.hasNot?"doesNotBeginWith":"beginsWith":F.startsWith("%")?V=j.hasNot?"doesNotEndWith":"endsWith":j.hasNot&&V==="="&&(V="!=");const H=So(j.left);if(C(H,V))return{field:H,operator:V,value:q}}else if(Ki(j.left)&&(j.right.type==="StartsWithExpr"||j.right.type==="EndsWithExpr"||j.right.type==="ContainsExpr")){let F="",q="=";switch(Ki(j.right.value)&&(F=So(j.right.value)),j.right.type){case"EndsWithExpr":q=j.hasNot?"doesNotEndWith":"endsWith";break;case"StartsWithExpr":q=j.hasNot?"doesNotBeginWith":"beginsWith";break;case"ContainsExpr":q=j.hasNot?"doesNotContain":"contains";break}const V=So(j.left);if(q!=="="&&C(V,q,F))return{field:V,operator:q,value:F,valueSource:"field"}}else if(Ki(j.left)&&Ki(j.right)){const F=So(j.left),q=So(j.right),V="=";if(C(F,V,q))return{field:F,operator:V,value:q,valueSource:"field"}}break}return null},U=g.generateIDs?ld:j=>j,{where:G}=new HS().parse(P).value;if(G){const j=O(G);if(j)return y7(j)?U(j):U({rules:[j],...N?{}:{combinator:"and"}})}return U({rules:[],...N?{}:{combinator:"and"}})}const gy={"%3D":"","%27":"`","%28":"(","%29":")","%2C":",","%21":"!"};function JS(f){let g=f;for(const[y,T]of Object.entries(gy))g=g.replaceAll(y,T);return g}function eT(f){let g=f;for(const[y,T]of Object.entries(gy))g=g.replaceAll(T,y);return g}const tT={filter:N7(py),...Mh};function rT(){const f=Object.fromEntries(new URLSearchParams(eT(window.location.search.slice(1))).entries()),g=Mh;let y=py;try{for(const[T,S]of Object.entries(f))T==="filter"?y=KS(S):T in Mh&&(g[T]=S)}catch(T){console.error("parseQs",T)}return{query:g,filter:y}}function nT(f,g){const y={...f,filter:N7(g,"sql")};for(const[T,S]of Object.entries(y))(!S||JSON.stringify(tT[T])===JSON.stringify(S))&&delete y[T];return JS(new URLSearchParams(y).toString())}const Nm=rT(),iT=()=>{const[f,g]=je.useState(Nm.query),[y,T]=je.useState(Nm.filter),[S,A]=je.useState(),[w,o]=je.useState(),[P,N]=je.useState(!1),[z,C]=je.useState(),[O,U]=je.useState(0),[G,j]=je.useState(),F=vx(z),q=N7(y,"jsonlogic"),V=z?.filter(fe=>qy.apply(q,eS(fe,F)));je.useEffect(()=>{window.history.replaceState("","",`?${nT(f,y)}`)},[y,f]);const H=async fe=>{U(1),C([]);const ae=Fg(f.to?new Date(f.from):uy(f.from),f.to?new Date(f.to):new Date,{bbox:od(f.bbox),only:"closed"},fe);for await(const he of ae)C((xe=[])=>gx("id",[...xe,...he])),U(xe=>xe+1);U(0)},X=je.useEffectEvent(H);return je.useEffect(()=>{const fe=new AbortController;return X(fe).catch(ae=>ae instanceof DOMException&&ae.name==="AbortError"?void 0:j(ae)),()=>fe.abort()},[]),G?Vt.jsxs(Vt.Fragment,{children:["Error: ",`${G}`]}):Vt.jsxs("div",{style:{display:"flex"},children:[P&&Vt.jsx(SS,{filter:y,setFilter:T,query:f,setQuery:g,onClose:()=>N(!1),matchCount:V?.length??0,totalCount:z?.length??0}),!!w&&Vt.jsx(IS,{diff:w,onClose:()=>o(void 0)}),Vt.jsxs("div",{style:{display:"flex",width:"34%",flexDirection:"column",height:"100vh"},children:[Vt.jsxs("header",{children:[Vt.jsx("span",{children:Vt.jsx(fy,{query:f,filter:y})}),Vt.jsxs("div",{style:{display:"flex",gap:2,flexDirection:"column"},children:[Vt.jsx("button",{onClick:()=>N(!0),children:"Edit"}),Vt.jsx("button",{onClick:()=>H(new AbortController),children:"Reload"})]})]}),Vt.jsxs("header",{children:["Showing ",V?.length??0," of ",z?.length??0,".",!!O&&Vt.jsxs(Vt.Fragment,{children:[" Loading page ",O,""]})]}),V&&Vt.jsx("ul",{style:{borderRight:"1px solid #ccc",overflowY:"auto"},children:V.map(fe=>Vt.jsx(Bg,{changeset:fe,user:F[fe.uid],isSeletced:S===fe,setSelected:ae=>{A(ae),o(void 0)}},fe.id))})]}),Vt.jsx("div",{style:{width:"66%",height:"100vh"},children:S?Vt.jsx(Kw,{changeset:S,onSelect:o},S.id):Vt.jsx("div",{style:{margin:64,textAlign:"center",color:"#666"},children:"Select a changeset to get started"})})]})};jy.createRoot(document.querySelector("main")).render(Vt.jsx(je.StrictMode,{children:Vt.jsx(iT,{})}));
